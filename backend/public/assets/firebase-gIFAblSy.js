import{j as a,k as t,l as e,m as s,n as r,r as n,p as o,q as i,t as p}from"./firebase-yGMRtZtw.js";const d={apiKey:"AIzaSyAKWKmHVfwKHuH_Huf4C2XcMAxk3pkkuz8",authDomain:"studioagents-app.firebaseapp.com",projectId:"studioagents-app",storageBucket:"studioagents-app.firebasestorage.app",messagingSenderId:"460525904786",appId:"1:460525904786:web:6c59dbc6837ead2ed9d74b",measurementId:"G-37J2MVHXS7"};let u,c,$,f;try{u=a(d),c=t(u),$=e(u),f=s(u),r($).catch(a=>{"failed-precondition"===a.code||a.code})}catch(b){}async function l(a,t,e="assets",s=null){if(!f||!t)throw new Error("Storage not initialized or user not authenticated");const r=a.name?.split(".").pop()||"bin",p=`users/${t}/${e}/${s||`${Date.now()}_${Math.random().toString(36).substr(2,9)}.${r}`}`,d=n(f,p),u=await o(d,a);return{url:await i(u.ref),path:p}}async function m(a,t,e="assets",s="application/octet-stream"){if(!f||!t)throw new Error("Storage not initialized or user not authenticated");const r=s.split("/")[1]||"bin",o=`users/${t}/${e}/${`${Date.now()}_${Math.random().toString(36).substr(2,9)}.${r}`}`,d=n(f,o),u=a.startsWith("data:")?a:`data:${s};base64,${a}`,c=await p(d,u,"data_url");return{url:await i(c.ref),path:o}}export{c as a,m as b,$ as d,l as u};
