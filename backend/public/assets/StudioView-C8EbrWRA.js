const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StudioOrchestratorV2-i78SEHZc.js","assets/react-vendor-C7KA3Q_s.js","assets/vendor-BjQYSgJ0.js","assets/index-BMcLlBpk.js","assets/icons-CJsLr4ZE.js","assets/firebase-D04mx9xa.js","assets/index-CmkNKDa6.css","assets/QuickWorkflow-CoRsP1F6.js","assets/ProjectHub-_g0n0mdZ.js","assets/NewsHub-BONTiYZT.js","assets/StudioDashboard-CRzdtZin.js","assets/StudioDashboard-DvrG8y-y.css","assets/StudioBilling-eniECFSC.js","assets/StudioSettings-BbOAflTV.js","assets/WhitepapersPage-DUmdPhWw.js","assets/LegalResourcesPage-Duo_Uxe_.js"])))=>i.map(i=>d[i]);
import{d as e,a as t,B as r,A as s,t as i,b as a,_ as o}from"./index-BMcLlBpk.js";import{r as n,z as l,j as d,F as c}from"./react-vendor-C7KA3Q_s.js";import{c as p,o as x,d as g,e as u,f as m,G as h,s as y,h as b,j as v,k as f,l as j}from"./firebase-D04mx9xa.js";import{S as w,X as k,x as S,y as C,g as z,F as N,z as I,B as T,G as R,J as A,K as U,N as B,O as P,Q as D,C as $,M as E,W,Y as L,I as O,D as M,_,$ as H,a0 as F,V,a1 as G,a2 as q,a3 as Y,a4 as J,P as Q,a5 as K,Z as X,e as Z,a6 as ee,u as te,h as re,d as se,a7 as ie,a8 as ae,a9 as oe,aa as ne,ab as le,ac as de,q as ce,ad as pe,ae as xe,af as ge,R as ue,i as me,ag as he,w as ye,k as be,U as ve,ah as fe,s as je,ai as we,aj as ke,ak as Se,al as Ce,am as ze,an as Ne,ao as Ie,ap as Te,a as Re,A as Ae,j as Ue,aq as Be,ar as Pe,as as De,at as $e,au as Ee,av as We,T as Le,aw as Oe,t as Me}from"./icons-CJsLr4ZE.js";import"./vendor-BjQYSgJ0.js";let _e=!1;const He="pitch";function Fe(){_e=!0,localStorage.setItem("demoMode","true")}function Ve(){return _e?(_e=!1,localStorage.removeItem("demoMode")):Fe(),_e}function Ge(){return _e}new URLSearchParams(window.location.search).get("demo")===He&&(_e=!0,localStorage.setItem("demoMode","true")),"true"===localStorage.getItem("demoMode")&&(_e=!0);const qe={ghostwriter:"**Verse 1:**\nI came up from the basement, now I'm touching ceilings\nEvery scar on my heart, turned into healing\nThey said I wouldn't make it, look at me now\nStack my paper to the sky, take a bow\n\n**Hook:**\nStarted from the bottom, now we at the top\nDreams in my pocket, never gonna stop\nEvery door they closed, I kicked it down\nKing of my city, wear that crown\n\n**Verse 2:**\nMidnight sessions, pouring out my soul\nEvery word I write is making me whole\nThey tried to dim my light, but I shine brighter\nEvery struggle made me a fighter\n\n---\n*Generated in Demo Mode - Connect API for personalized lyrics*","release-strategist":"## Release Strategy Analysis\n\n**Commercial Viability: 8.5/10**\nYour track has strong commercial potential with its melodic hook and contemporary production.\n\n**Key Strengths:**\n- Catchy melodic structure that supports playlist placement\n- Production quality meets industry standards\n- Target demographic alignment: 18-34 urban/suburban\n\n**Recommended Release Strategy:**\n1. **Pre-save Campaign** (2 weeks before) - Build anticipation with teaser content\n2. **Playlist Pitching** - Target RapCaviar, Most Necessary, and genre-specific playlists\n3. **Content Rollout** - 3 TikTok clips, 2 Instagram Reels, 1 YouTube Short\n\n**Optimal Release Day:** Friday (maximizes first-week streaming)\n\n---\n*Generated in Demo Mode - Connect API for real analysis*","sample-hunter":'## Sample Recommendations\n\nBased on your vibe, here are hidden gems from the crates:\n\n**1. "Distant Dreams" - The Soul Searchers (1974)**\n- BPM: 92 | Key: Am\n- Flip potential: That string section at 1:45 is untouched\n- Clearance: Medium difficulty (independent label)\n\n**2. "Morning Light" - Sunrise Orchestra (1978)**\n- BPM: 88 | Key: Dm  \n- Flip potential: Piano loop at intro, drum break at 2:30\n- Clearance: Easy (public domain in most territories)\n\n**3. "Urban Poetry" - City Jazz Ensemble (1982)**\n- BPM: 95 | Key: Gm\n- Flip potential: Bass line throughout, horn stabs at chorus\n- Clearance: Contact rights holder directly\n\n---\n*Generated in Demo Mode - Connect API for real sample discovery*',"visual-director":'## Music Video Treatment\n\n**Concept: "Rise & Reign"**\n\n**Visual Theme:** Contrast between struggle and success, using split-screen storytelling\n\n**Key Scenes:**\n1. **Opening (0:00-0:15):** Artist in dimly lit room, writing lyrics by candlelight\n2. **Verse 1 (0:15-0:45):** Flashback montage - humble beginnings, rejection letters burning\n3. **Hook (0:45-1:15):** Transition to sold-out venue, crowd going crazy\n4. **Verse 2 (1:15-1:45):** Behind-the-scenes studio footage, team celebration\n5. **Outro (1:45-2:00):** Artist on rooftop at sunrise, city below\n\n**Color Palette:** Deep blues and blacks for past, gold and white for present\n\n**Estimated Budget:** $15,000 - $25,000\n\n---\n*Generated in Demo Mode - Connect API for full creative treatment*',"brand-architect":"## Brand Identity Blueprint\n\n**Artist Archetype:** The Visionary Pioneer\n\n**Core Brand Pillars:**\n1. **Authenticity** - Raw, unfiltered storytelling\n2. **Innovation** - Pushing sonic boundaries\n3. **Community** - Elevating the culture\n\n**Visual Identity:**\n- Primary Colors: Deep purple (#6B21A8), Gold (#F59E0B)\n- Typography: Bold sans-serif for headlines, clean serif for body\n- Logo Concept: Abstract crown merging with sound wave\n\n**Voice & Tone:**\n- Confident but not arrogant\n- Inspirational without being preachy\n- Street-smart with intellectual depth\n\n**Content Themes:**\n- Studio sessions & process\n- Community spotlights\n- Personal growth journey\n\n---\n*Generated in Demo Mode - Connect API for full brand strategy*","tour-architect":'## Tour Routing Proposal\n\n**Tour Name:** "The Ascension Tour"\n\n**Phase 1: Regional Circuit (8 dates)**\n- Week 1: Atlanta â†’ Charlotte â†’ Raleigh\n- Week 2: DC â†’ Philly â†’ NYC\n- Week 3: Boston â†’ Brooklyn\n\n**Venue Recommendations:**\n- 500-800 cap rooms for intimate energy\n- Focus on venues with strong local press relationships\n- Priority: Rooms with quality sound systems\n\n**Budget Estimate:**\n- Venue costs: $2,500/night avg\n- Travel: $1,200/week\n- Crew (2 people): $3,000/week\n- Merch investment: $5,000 upfront\n\n**Projected Revenue:**\n- Ticket sales (70% capacity): $28,000\n- Merch: $8,000\n- Net profit potential: $12,000-$15,000\n\n---\n*Generated in Demo Mode - Connect API for real tour planning*',default:"## AI Response\n\nThank you for your input! Here's a thoughtful response based on your request:\n\n**Key Insights:**\n- Your concept shows strong creative potential\n- There are several strategic angles to explore\n- The market conditions favor this type of content\n\n**Recommendations:**\n1. Focus on authenticity and unique voice\n2. Build consistent content around your core message  \n3. Engage your community early and often\n4. Measure results and iterate quickly\n\n**Next Steps:**\n- Refine your core concept\n- Test with a small audience\n- Scale what works\n\n---\n*Generated in Demo Mode - Connect API for personalized AI assistance*"};const Ye={container:{position:"fixed",bottom:"20px",right:"20px",padding:"12px 20px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"#000",borderRadius:"8px",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",zIndex:9999,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",cursor:"pointer"},icon:"ðŸŽ­",text:"Demo Mode Active"},Je=ve,Qe=O,Ke=n.lazy(()=>o(()=>import("./StudioOrchestratorV2-i78SEHZc.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),Xe=n.lazy(()=>o(()=>import("./QuickWorkflow-CoRsP1F6.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),Ze=n.lazy(()=>o(()=>import("./ProjectHub-_g0n0mdZ.js"),__vite__mapDeps([8,1,2,4]))),et=n.lazy(()=>o(()=>import("./NewsHub-BONTiYZT.js"),__vite__mapDeps([9,1,2,4]))),tt=n.lazy(()=>o(()=>import("./StudioDashboard-CRzdtZin.js"),__vite__mapDeps([10,1,2,4,11]))),rt=n.lazy(()=>o(()=>import("./StudioBilling-eniECFSC.js"),__vite__mapDeps([12,1,2,4,11]))),st=n.lazy(()=>o(()=>import("./StudioSettings-BbOAflTV.js"),__vite__mapDeps([13,1,2,4,11]))),it=n.lazy(()=>o(()=>import("./WhitepapersPage-DUmdPhWw.js"),__vite__mapDeps([14,1,2,4]))),at=n.lazy(()=>o(()=>import("./LegalResourcesPage-Duo_Uxe_.js"),__vite__mapDeps([15,1,2,4]))),ot=()=>d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",color:"var(--text-secondary)"},children:[d.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid rgba(168,85,247,0.2)",borderTopColor:"#a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}),"Loading..."]}),nt=["jari57@gmail.com","info@studioagentsai.com"],lt=e=>{try{a?.login&&a.login(e)}catch(t){}},dt=e=>{try{a?.signUp&&a.signUp(e)}catch(t){}},ct=[{id:"welcome",title:"Welcome to The Studio",content:"16 AI agents ready to help you write, produce, and grow your music career.",detail:"Pick an agent to start. That's it."}];function pt({onBack:o,startWizard:_e,startOrchestrator:pt,startTour:xt,initialPlan:gt,initialTab:ut}){const mt=()=>{const e=window.location.hash;return e.startsWith("#/studio/")?e.split("/")[2]:"agents"},[ht,yt]=n.useState(mt()),bt=n.useRef(null),vt=n.useRef(null),ft=n.useRef(null),jt=n.useRef(null);n.useEffect(()=>{const e=()=>{const e=mt();e!==ht&&yt(e)};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[ht]);const wt=e=>{e!==ht&&(yt(e),window.location.hash=`#/studio/${e}`,i(`/studio/${e}`,`Studio - ${e.charAt(0).toUpperCase()+e.slice(1)}`))},kt=((e,t,r)=>{const s=n.useRef(null),i=n.useRef(null),a=n.useRef(null),o=n.useRef(null);return{onTouchStart:e=>{s.current=e.targetTouches[0].clientX,i.current=e.targetTouches[0].clientY,a.current=null,o.current=null},onTouchMove:e=>{a.current=e.targetTouches[0].clientX,o.current=e.targetTouches[0].clientY},onTouchEnd:()=>{if(!s.current||!a.current)return;const n=s.current-a.current,l=i.current-o.current;if(Math.abs(n)>Math.abs(l)&&Math.abs(n)>50){const s=e.indexOf(t);n>0?s<e.length-1&&r(e[s+1]):s>0&&r(e[s-1])}}}})(["agents","mystudio","activity","news","resources","marketing"],ht,wt),[St,Ct]=n.useState(()=>localStorage.getItem("studio_theme")||"dark"),[zt,Nt]=n.useState(null),[It,Tt]=n.useState(null),[Rt,At]=n.useState(null),[Ut,Bt]=n.useState(()=>!!localStorage.getItem("studio_user_id")),[Pt,Dt]=n.useState(!0),[$t,Et]=n.useState(null),[Wt,Lt]=n.useState(!1),[Ot,Mt]=n.useState(!1),[_t,Ht]=n.useState(!1),[Ft,Vt]=n.useState(!1),[Gt,qt]=n.useState(""),[Yt,Jt]=n.useState(!1),[Qt,Kt]=n.useState(!1),[Xt,Zt]=n.useState(null),[er,tr]=n.useState("card"),[rr,sr]=n.useState(!1),[ir,ar]=n.useState([{id:1,title:"Welcome to Studio Agents",message:"Start creating your first track!",time:"Just now",read:!1},{id:2,title:"Pro Tip",message:"Try the Ghostwriter agent for lyrics.",time:"2m ago",read:!1}]),or=(e,t)=>{try{return localStorage.setItem(e,t),!0}catch(r){if("QuotaExceededError"===r.name)try{if("studio_agents_projects"===e){const r=JSON.parse(t);if(Array.isArray(r)&&r.length>20){const t=r.slice(0,20);return localStorage.setItem(e,JSON.stringify(t)),l.warning("Storage full - keeping 20 most recent projects"),!0}}return localStorage.removeItem("studio_theme"),localStorage.removeItem("studio_onboarding_v3"),localStorage.setItem(e,t),!0}catch(s){return l.error("Storage full - please clear browser data"),!1}return!1}},[nr,lr]=n.useState(!1),[dr,cr]=n.useState(!1),[pr,xr]=n.useState(!1),[gr,ur]=n.useState(!1),[mr,hr]=n.useState(!1),[yr,br]=n.useState(""),[vr,fr]=n.useState(null),[jr,wr]=n.useState({gender:"male",region:"US",language:"English",style:"rapper",rapStyle:"aggressive",voiceName:"rapper-male-1"}),kr=[{command:"open [agent]",description:"Launch an agent",example:'"Open Ghostwriter"',category:"Navigation"},{command:"go to [section]",description:"Navigate to dashboard, hub, news, agents",example:'"Go to hub"',category:"Navigation"},{command:"generate",description:"Start generation with current prompt",example:'"Generate"',category:"Actions"},{command:"clear",description:"Clear the prompt",example:'"Clear prompt"',category:"Actions"},{command:"read back",description:"Read the prompt aloud",example:'"Read back"',category:"Actions"},{command:"switch theme",description:"Toggle dark/light mode",example:'"Switch theme"',category:"Settings"},{command:"stop",description:"Stop listening",example:'"Stop listening"',category:"Voice"}],[Sr,Cr]=n.useState(!1),[zr,Nr]=n.useState(null),[Ir,Tr]=n.useState(()=>{try{const e=localStorage.getItem("studio_agents_projects");if(e){return JSON.parse(e).sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r})}return[]}catch(e){return[]}}),[Rr,Ar]=n.useState(!1),[Ur,Br]=n.useState(null),[Pr,Dr]=n.useState(null),[$r,Er]=n.useState(""),[Wr,Lr]=n.useState("lyrics"),[Or,Mr]=n.useState(!1),[_r,Hr]=n.useState({}),[Fr,Vr]=n.useState(!1),[Gr,qr]=n.useState(Ge()),[Yr,Jr]=n.useState(()=>{try{const e=localStorage.getItem("studio_user_profile");return e?JSON.parse(e):{stageName:"",genre:"Hip Hop / Rap",targetDemographic:"Gen Z",language:"English",bio:"",credits:500,memberSince:(new Date).getFullYear(),plan:"Free",location:"Los Angeles, CA",website:""}}catch(e){return{stageName:"",genre:"Hip Hop / Rap",bio:"",credits:500,memberSince:(new Date).getFullYear(),plan:"Free",location:"Los Angeles, CA",website:""}}}),[Qr,Kr]=n.useState("login"),[Xr,Zr]=n.useState(""),[es,ts]=n.useState(""),[rs,ss]=n.useState(!1),[is,as]=n.useState(3),os=async e=>{if(!Ut||!Rt)return l.error("Please log in first"),void Mt(!0);const t={Creator:"creator","Studio Pro":"studio","Lifetime Access":"lifetime"}[e.name]||"creator";try{l.loading("Redirecting to checkout...");const e=await fetch(`${r}/api/stripe/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tier:t,userId:Rt.uid,userEmail:Rt.email,successUrl:window.location.origin+"?payment=success",cancelUrl:window.location.origin+"?payment=cancelled"})}),s=await e.json();l.dismiss(),s.url?window.location.href=s.url:s.error?l.error(s.error):l.error("Could not create checkout session")}catch(s){l.dismiss(),l.error("Payment system unavailable. Please try again later.")}},ns=e=>{Nr(e),Ut?os(e):Mt(!0)},ls=n.useCallback(e=>{Tr(t=>{const r="function"==typeof e?e(t):e;try{const e=r.slice(0,50);or("studio_agents_projects",JSON.stringify(e))}catch(s){}return r})},[]),[ds,cs]=n.useState(()=>localStorage.getItem("studio_user_plan")||"Free"),[ps,xs]=n.useState(()=>{const e=localStorage.getItem("studio_free_generations");return e?parseInt(e,10):0}),[gs,us]=n.useState("gemini-2.0-flash"),ms=e=>{if(dr&&(!e||"string"!=typeof e))return window.speechSynthesis.cancel(),void cr(!1);const t="string"==typeof e?e:bt.current?.value||document.querySelector(".studio-textarea")?.value;if(!t)return;window.speechSynthesis.cancel();const r=e=>{const r=new SpeechSynthesisUtterance(t);let s=null;const i="English"===jr.language?"en":"Spanish"===jr.language?"es":"French"===jr.language?"fr":"German"===jr.language?"de":"Japanese"===jr.language?"ja":"en",a=e.filter(e=>e.lang.startsWith(i));"UK"===jr.region?s=a.find(e=>e.name.includes("UK")||e.name.includes("British")):"AU"===jr.region?s=a.find(e=>e.name.includes("Australia")):"IN"===jr.region&&(s=a.find(e=>e.name.includes("India"))),s||(s="female"===jr.gender?a.find(e=>e.name.toLowerCase().includes("female")||e.name.toLowerCase().includes("samantha")||e.name.toLowerCase().includes("victoria")):a.find(e=>e.name.toLowerCase().includes("male")||e.name.toLowerCase().includes("alex")||e.name.toLowerCase().includes("daniel"))),s&&(r.voice=s),r.lang=i,r.rate=.9,r.pitch="female"===jr.gender?1.1:.9,r.onstart=()=>cr(!0),r.onend=()=>cr(!1),r.onerror=e=>{cr(!1)},window.speechSynthesis.speak(r)};let s=window.speechSynthesis.getVoices();s.length>0?r(s):window.speechSynthesis.onvoiceschanged=()=>{s=window.speechSynthesis.getVoices(),r(s),window.speechSynthesis.onvoiceschanged=null}},hs=async()=>{if(!zt)return void l.error("Please select an agent first.");const e=bt.current||document.querySelector(".studio-textarea");if(!e||!e.value)return void l.error("Please enter a prompt first.");if((s=e.value)&&s.toLowerCase().trim()===He&&(Fe(),1))return qr(!0),e.value="",void l.success('ðŸŽ­ Demo mode activated! Type "pitch" again to generate a demo response.',{duration:5e3,icon:"ðŸŽ¬"});var s;if(Ge()){Vr(!0);const t=l.loading(`${zt.name} is working... (Demo Mode)`);try{const r=await async function(e="default",t=""){const r=500+1500*Math.random();await new Promise(e=>setTimeout(e,r));const s=e.toLowerCase().replace(/\s+/g,"-");return(qe[s]||qe.default)+(t?`\n\n> Your input: "${t.slice(0,100)}${t.length>100?"...":""}"`:"")}(zt.id,e.value);Hr(e=>({...e,[zt.id]:{output:r,timestamp:Date.now(),isDemo:!0}})),wt("result"),l.success("Demo response generated!",{id:t})}catch(o){l.error("Demo error: "+o.message,{id:t})}finally{Vr(!1)}return}if(!(()=>{if(Wt)return!0;const e=ds.toLowerCase();return"monthly"===e||"pro"===e||"lifetime access"===e||!!(Ut&&is>0)||ps<3})())return void(Ut?(l.error("Out of credits! Please upgrade your plan."),wt("mystudio")):(l.error("You've used your 3 free generations! Sign in to continue."),Mt(!0)));if(Ut&&is<=0&&"free"===ds.toLowerCase())return l.error("Out of credits! Please upgrade your plan."),void wt("mystudio");Vr(!0);const i=l.loading(`${zt.name} is working...`);try{let s=e.value;if("English"!==jr.language){const e=await fetch(`${r}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:s,targetLanguage:"English",sourceLanguage:jr.language})}),t=await e.json();t.translatedText&&(s=t.translatedText)}let d="/api/generate",c={prompt:s,systemInstruction:`You are ${zt?.name||"AI Assistant"}, a professional AI agent in a high-end music studio. \n          Category: ${zt?.category||"General"}. \n          Capabilities: ${(zt?.capabilities||[]).join(", ")}.\n          ${zt?.explanation||""}`,model:gs};const p=zt?.id||"",x="album"===p,g="video-creator"===p,u="beat"===p||"sample"===p,m="podcast"===p||"voiceover"===p||"vocal-arch"===p;x?(d="/api/generate-image",c={prompt:s,model:gs}):g?(d="/api/generate-video",c={prompt:s,model:gs},It&&(It.isUpload||(c.audioUrl=It.audioUrl))):u?(d="/api/generate-audio",c={prompt:s,bpm:90,genre:"beat"===p?"hip-hop":"sample",mood:"creative",durationSeconds:15}):m&&(d="/api/generate-speech",c={prompt:s,voice:jr.voiceName||"Kore",style:"natural"},It&&(c.backingTrackUrl=It.audioUrl,c.bpm=It.bpm));const h={"Content-Type":"application/json"};if(Ut&&t?.currentUser)try{const e=await t.currentUser.getIdToken();h.Authorization=`Bearer ${e}`}catch(o){}const y=await fetch(`${r}${d}`,{method:"POST",headers:h,body:JSON.stringify(c)});let b=await y.json();if((x||g)&&(b.error||!y.ok)){const e={prompt:x?`Describe in vivid detail what album artwork would look like for: "${s}". Include colors, imagery, composition, mood, and style.`:`Describe in vivid detail what a music video would look like for: "${s}". Include scenes, camera movements, visual effects, and mood.`,systemInstruction:`You are a creative director providing detailed visual descriptions for ${x?"album artwork":"music videos"}.`},t=await fetch(`${r}/api/generate`,{method:"POST",headers:h,body:JSON.stringify(e)});b=await t.json(),b._isFallback=!0,b._fallbackType=x?"image":"video"}if((u||m)&&(b.error||!y.ok)&&!b.audioUrl&&!b.description&&!b.output){const e={prompt:`Describe in vivid detail what a ${"beat"===p?"beat/instrumental":"audio sample"} would sound like for: "${s}". Include instruments, rhythm, tempo, mood, and production style.`,systemInstruction:"You are a music producer providing detailed audio descriptions."},t=await fetch(`${r}/api/generate`,{method:"POST",headers:h,body:JSON.stringify(e)});b=await t.json(),b._isFallback=!0,b._fallbackType="audio"}let v={id:String(Date.now()),title:`${zt?.name||"AI"} Result`,type:zt?.category||"text",agent:zt?.name||"Unknown Agent",date:"Just now",color:zt?.colorClass||"",snippet:s};if(b._isFallback&&b.output)v.snippet=b.output,v.isFallback=!0,v.fallbackNote="image"===b._fallbackType?"ðŸŽ¨ Visual concept (image generation coming soon)":"ðŸŽ¬ Video concept (video generation coming soon)";else if("album"===p&&(b.predictions||b.images||b.output))if(b.output&&"string"==typeof b.output&&b.output.startsWith("http"))v.imageUrl=b.output,v.snippet=`ðŸŽ¨ Generated artwork for: "${s}"`,v.type="image";else{const e=b.predictions?.[0]?.bytesBase64Encoded||b.images?.[0],t=b.mimeType||"image/png";e&&(v.imageUrl=e.startsWith("data:")?e:`data:${t};base64,${e}`,v.snippet=`ðŸŽ¨ Generated artwork for: "${s}"`,v.type="image")}else if("video-creator"===p&&(b.predictions||b.video||b.output&&("video"===b.type||"image"===b.type))){if("image"===b.type&&b.output){const e=b.output,t=b.mimeType||"image/png";v.imageUrl=e.startsWith("data:")?e:`data:${t};base64,${e}`,v.snippet=`ðŸŽ¨ Generated visual concept for: "${s}" (Video unavailable)`,v.type="image"}else if(b.output&&"string"==typeof b.output)b.output.startsWith("data:")||b.output.startsWith("http")?v.videoUrl=b.output:v.videoUrl=`data:video/mp4;base64,${b.output}`,v.type="video",v.snippet=`ðŸŽ¬ Generated video for: "${s}"`;else{const e=b.predictions?.[0]||b.video;e&&(e.bytesBase64Encoded?(v.videoUrl=`data:video/mp4;base64,${e.bytesBase64Encoded}`,v.type="video"):e.videoUri&&(v.videoUrl=e.videoUri,v.type="video"),v.snippet=`ðŸŽ¬ Generated video for: "${s}"`)}It&&(v.audioUrl=It.audioUrl,v.audioTitle=It.title,v.snippet=`ðŸŽ¬ Music Video for: "${It.title}"`,Tt(null))}else if((u||m)&&(b.audioUrl||b.audio||"synthesis"===b.type||b.description||b.message)){if(b.audioUrl){if(b.audioUrl.startsWith("http")||b.audioUrl.startsWith("data:")?v.audioUrl=b.audioUrl:v.audioUrl=`data:${b.mimeType||"audio/wav"};base64,${b.audioUrl}`,v.mimeType=b.mimeType||"audio/wav",b.isRealGeneration?(v.snippet=`ðŸŽµ AI Generated Beat: "${s}"`,l.success("Beat generated with MusicGen AI!")):b.isSample?(v.snippet="ðŸŽµ Sample Beat (Preview)",v.billingMessage=b.message,l.info(b.message||"Using sample - configure Replicate for custom beats",{duration:5e3,icon:"âš ï¸"})):v.snippet=`ðŸŽµ Generated audio for: "${s}"`,v.type="audio",v.isRealGeneration=b.isRealGeneration,v.isSample=b.isSample,v.bpm=b.bpm,v.genre=b.genre,"beat"===p)try{const e=await fetch(`${r}/api/generate-image`,{method:"POST",headers:h,body:JSON.stringify({prompt:`Album cover art for a ${b.genre||"hip-hop"} beat. ${s}. High quality, abstract, vibrant.`,aspectRatio:"1:1"})}),t=await e.json();(t.imageUrl||t.images?.[0])&&(v.imageUrl=t.imageUrl||t.images[0])}catch(n){}}else if(b.audio){const e=b.mimeType||"audio/wav";v.audioUrl=`data:${e};base64,${b.audio}`,v.mimeType=e,v.snippet=`ðŸŽµ Generated audio for: "${s}"`,v.type="audio"}else"synthesis"===b.type&&b.params?(v.synthesisParams=b.params,v.snippet=b.description||`Beat synthesis parameters for: "${s}"`,v.bpm=b.bpm,v.genre=b.genre,v.type="synthesis"):(v.snippet=b.description||b.message||b.output||`Audio concept for: "${s}"`,v.type="text");m&&It&&(v.backingTrackUrl=It.audioUrl,v.backingTrackTitle=It.title,v.snippet=`ðŸŽ¤ Vocals synced to: "${It.title}"`,v.type="vocal",Tt(null))}else if(b.output){let e=b.output;if("English"!==jr.language){const t=await fetch(`${r}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,targetLanguage:jr.language,sourceLanguage:"English"})}),s=await t.json();s.translatedText&&(e=s.translatedText)}v.snippet=e}else if(b.description||b.message)v.snippet=b.description||b.message,v.type="text";else{if(b.error)throw new Error(b.error);if(!(Object.keys(b).length>0))throw new Error(`Unknown response format from AI. Keys: ${Object.keys(b).join(", ")}`);v.snippet=JSON.stringify(b,null,2),v.type="text"}Dr(v),Er(s),Lr("lyrics"),Hr(e=>({...e,[zt.id]:v})),l.success("Generation complete! Review your result.",{id:i}),a.contentGenerated(zt.id,v.type||"text")}catch(d){l.error(d.message||"Generation failed",{id:i}),a.errorOccurred("generation_failed",d.message)}finally{Vr(!1)}};n.useEffect(()=>{ft.current=ms,vt.current=ns,gt&&vt.current&&vt.current(gt)},[gt]);const ys=e=>{ft.current&&ft.current(e)},bs=async(e,s)=>{Date.now();if(!e||!s||!s.id)return!1;try{const o={};for(const[e,t]of Object.entries(s))if(void 0!==t&&"function"!=typeof t)try{o[e]=JSON.parse(JSON.stringify(t))}catch(i){}let n=null;if(t?.currentUser)try{n=await t.currentUser.getIdToken(!0)}catch(a){}if(!t?.currentUser||t.currentUser.uid!==e)return!1;const l=await fetch(`${r}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:JSON.stringify({userId:e,project:{...o,id:String(s.id),updatedAt:(new Date).toISOString(),syncedAt:(new Date).toISOString()}})});if(!t?.currentUser||t.currentUser.uid!==e)return!1;if(!l.ok){const e=await l.json().catch(()=>({}));throw new Error(e.error||`HTTP ${l.status}`)}await l.json();return!0}catch(o){return l.error(`Save failed: ${o.message||"Network error"}`),!1}},vs=async(e,t)=>{if(e&&Array.isArray(t)&&0!==t.length){Ar(!0);try{let s=0;for(const i of t)if(i&&i.id)try{await bs(e,i)&&s++}catch(r){}s>0?Br(new Date):t.length>0&&l.error("Failed to sync projects - check your connection")}catch(s){l.error("Failed to sync projects")}finally{Ar(!1)}}};n.useEffect(()=>{if(Rt?.uid&&0!==Ir.length)return jt.current&&clearTimeout(jt.current),jt.current=setTimeout(()=>{vs(Rt.uid,Ir)},3e3),()=>{jt.current&&clearTimeout(jt.current)}},[Ir,Rt?.uid]);const[fs,js]=n.useState(!1),[ws,ks]=n.useState(!1),[Ss,Cs]=n.useState({audio:null,vocal:null,visual:null,audioVolume:.8,vocalVolume:1,bpm:120,timeSignature:"4/4",key:"C Major",frameRate:30,aspectRatio:"16:9",sampleRate:48e3,bitDepth:24,syncLocked:!0,generateRealAssets:!1,renderCount:0,maxRenders:3,lastRenderTime:null,renderHistory:[]}),[zs,Ns]=n.useState([]),[Is,Ts]=n.useState(-1),[Rs,As]=n.useState(!1),Us=e=>{let t;t="function"==typeof e?e(Ss):e;const r=zs.slice(0,Is+1);r.push(t),Ns(r),Ts(r.length-1),Cs(t)},[Bs,Ps]=n.useState(new Set),[Ds,$s]=n.useState(!1),[Es,Ws]=n.useState(null),[Ls,Os]=n.useState(""),[Ms,_s]=n.useState(!0),[Hs,Fs]=n.useState(null),[Vs,Gs]=n.useState("idle"),qs=n.useRef(null),Ys=n.useRef(new Set);n.useEffect(()=>{localStorage.setItem("studio_free_generations",ps.toString())},[ps]);const Js=()=>{const e=ds.toLowerCase();return"pro"===e||"lifetime access"===e?s:"monthly"===e?s.filter(e=>"free"===e.tier||"monthly"===e.tier):s.filter(e=>"free"===e.tier)},Qs=()=>{if(Wt)return[];const e=ds.toLowerCase();return"pro"===e||"lifetime access"===e?[]:"monthly"===e?s.filter(e=>"pro"===e.tier):s.filter(e=>"free"!==e.tier)};n.useEffect(()=>{localStorage.setItem("studio_user_plan",ds)},[ds]);const[Ks,Xs]=n.useState(null),[Zs,ei]=n.useState(!1),[ti,ri]=n.useState(null),[si,ii]=n.useState(!1),[ai,oi]=n.useState(null),[ni,li]=n.useState(!1);n.useEffect(()=>{ni&&ai&&(wt("project_canvas"),li(!1))},[ni,ai]);const[di,ci]=n.useState(!1),[pi,xi]=n.useState(0),[gi,ui]=n.useState(null),[mi,hi]=n.useState(null),[yi,bi]=n.useState(null),[vi,fi]=n.useState(!1),[ji,wi]=n.useState({}),[ki,Si]=n.useState(null),[Ci,zi]=n.useState(!1),[Ni,Ii]=n.useState(null),Ti=ki||{},Ri=Array.isArray(Ti.assets)?Ti.assets:[],Ai="number"!=typeof Ti.currentIndex||isNaN(Ti.currentIndex)?0:Ti.currentIndex,Ui=n.useRef(null),Bi=n.useRef(null),Pi=n.useRef(!1),[Di,$i]=n.useState(null),[Ei,Wi]=n.useState("streaming"),[Li,Oi]=n.useState(!1),[Mi,_i]=n.useState(null),[Hi,Fi]=n.useState(""),Vi=[{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",provider:"Google",description:"Fastest responses, great for quick tasks",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜†"},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash-Lite",provider:"Google",description:"Ultra-fast, cost-effective",tier:"free",speed:"âš¡âš¡âš¡âš¡",quality:"â˜…â˜…â˜†â˜†"},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",provider:"Google",description:"Best quality for complex prompts",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",provider:"Google",description:"Balanced speed and quality",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜†"},{id:"gemini-1.5-flash-8b",name:"Gemini 1.5 Flash-8B",provider:"Google",description:"Lightweight, efficient",tier:"free",speed:"âš¡âš¡âš¡âš¡",quality:"â˜…â˜…â˜†â˜†"},{id:"gemini-2.5-pro-preview",name:"Gemini 2.5 Pro (Preview)",provider:"Google",description:"Latest capabilities, experimental",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"gemini-2.5-flash-preview",name:"Gemini 2.5 Flash (Preview)",provider:"Google",description:"Next-gen speed + quality",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"claude-3-5-sonnet",name:"Claude 3.5 Sonnet",provider:"Anthropic",description:"Excellent for creative writing",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"claude-3-5-haiku",name:"Claude 3.5 Haiku",provider:"Anthropic",description:"Fast and capable",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gpt-4o",name:"GPT-4o",provider:"OpenAI",description:"Multimodal powerhouse",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"OpenAI",description:"Affordable GPT-4 class",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",provider:"OpenAI",description:"High capability, larger context",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"llama-3.3-70b",name:"Llama 3.3 70B",provider:"Meta",description:"Open-source powerhouse",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"llama-3.2-90b-vision",name:"Llama 3.2 90B Vision",provider:"Meta",description:"Multimodal open model",tier:"pro",speed:"âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"mistral-large",name:"Mistral Large",provider:"Mistral",description:"European excellence",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"codestral",name:"Codestral",provider:"Mistral",description:"Optimized for code generation",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"deepseek-v3",name:"DeepSeek V3",provider:"DeepSeek",description:"Cost-effective reasoning",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"qwen-2.5-72b",name:"Qwen 2.5 72B",provider:"Alibaba",description:"Multilingual excellence",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"}];n.useEffect(()=>{localStorage.getItem("studio_onboarding_v3")||_e||ci(!0)},[_e]);const Gi=n.useCallback(()=>{try{localStorage.setItem("studio_onboarding_v3","true"),ci(!1),wt("agents"),ys("Welcome to your studio. Pick an agent to start creating."),l.success("Welcome to Studio Agents!")}catch(e){}},[ys]),qi=n.useCallback(()=>{try{localStorage.setItem("studio_onboarding_v3","true"),ci(!1),wt("agents")}catch(e){}},[]),[Yi,Ji]=n.useState(!1),[Qi,Ki]=n.useState(!1),[Xi,Zi]=n.useState(1);n.useEffect(()=>{pt&&js(!0)},[pt]),n.useEffect(()=>{ut&&["agents","mystudio","activity","news","resources","marketing"].includes(ut)&&wt(ut)},[ut]);const[ea,ta]=n.useState({status:"healthy",message:"All Systems Operational"});n.useEffect(()=>{const e=async()=>{try{const e=await fetch(`${r}/health`);if(!e.ok)throw new Error("Backend unreachable");const t=await e.json();ta({status:"healthy",message:"All Systems Operational",details:t})}catch(e){ta({status:"maintenance",message:"System Under Maintenance",details:e.message})}};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[]),n.useEffect(()=>{if("project_canvas"===ht&&!zt&&ai){const e=Array.isArray(ai.assets)?ai.assets.filter(Boolean):[];!Ni&&e.length>0&&e[0]&&Ii(e[0])}},[ht,zt,ai,Ni]);const[ra,sa]=n.useState({name:"",category:"",description:"",language:"English",style:"Modern Hip-Hop",model:"Gemini 2.0 Flash",selectedAgents:[],socialHandle:"",socialBio:"",socialPlatform:"instagram"}),ia=[{id:"pro",label:"Pro Studio",icon:me,desc:"Full production suite",color:"var(--color-purple)"},{id:"vybing",label:"Vybing",icon:E,desc:"Quick beat ideas",color:"var(--color-cyan)"},{id:"mixtapes",label:"Mixtapes",icon:M,desc:"Curated playlists",color:"var(--color-orange)"},{id:"video",label:"Video",icon:V,desc:"Visual content",color:"var(--color-pink)"},{id:"scores",label:"Scores",icon:_,desc:"Cinematic composition",color:"var(--color-emerald)"},{id:"moves",label:"Moves",icon:ge,desc:"Dance & Choreo",color:"var(--color-yellow)"},{id:"music_videos",label:"Music Videos",icon:he,desc:"Full production clips",color:"var(--color-red)"},{id:"social",label:"Social Brand",icon:L,desc:"Grow your audience",color:"var(--color-blue)"}],aa=n.useCallback(e=>{Gs(e),qs.current&&clearTimeout(qs.current),"saved"!==e&&"error"!==e||(qs.current=setTimeout(()=>{Gs("idle")},3e3))},[]);n.useCallback((e,t)=>async(...r)=>{if(!Ys.current.has(e)){Ys.current.add(e);try{return await t(...r)}finally{Ys.current.delete(e)}}},[]);const oa=n.useCallback((e="light")=>{if("vibrate"in navigator)switch(e){case"light":default:navigator.vibrate(10);break;case"medium":navigator.vibrate(25);break;case"heavy":navigator.vibrate([30,10,30]);break;case"success":navigator.vibrate([10,50,20]);break;case"error":navigator.vibrate([50,30,50,30,50])}},[]),na=n.useCallback((t,r)=>{const s=`save-asset-${r?.id||Date.now()}`;Ys.current.has(s)||(Ys.current.add(s),oa("light"),aa("saving"),Tr(i=>{const a=i.map(e=>{if(e.id===t){const t=e.assets||[];return t.some(e=>e.id===r.id||e.content===r.content&&e.type===r.type&&e.agent===r.agent)?(Ys.current.delete(s),aa("idle"),e):{...e,assets:[...t,r],progress:Math.min(100,(e.progress||0)+10),updatedAt:(new Date).toISOString()}}return e});try{const e=a.slice(0,50);or("studio_agents_projects",JSON.stringify(e))}catch(n){}const o=a.find(e=>e.id===t);return o&&Rt&&e?bs(Rt.uid,o).then(()=>{aa("saved"),oa("success")}).catch(e=>{aa("error"),oa("error")}).finally(()=>{Ys.current.delete(s)}):(aa("saved"),oa("success"),Ys.current.delete(s)),a}),l.success("Asset saved to project"))},[Rt,e,bs,aa,oa]),la=(t,r)=>{if(("number"==typeof is?is:0)<2)return l.error("Not enough credits. You need 2 credits to create a project."),void Kt(!0);const s={id:String(Date.now()),name:t,category:"pro",description:`Created from ${r.agentName||r.agent||"AI Agent"}`,agents:[r.agent],workflow:"custom",date:(new Date).toLocaleDateString(),status:"Active",progress:10,assets:[r],context:{}};as(e=>e-2),l.success("Project created! -2 credits",{icon:"âœ¨"}),Tr(e=>[s,...e]),oi(s),Rt&&e&&bs(Rt.uid,s).catch(e=>{})};n.useEffect(()=>{if(t){p(t).then(e=>{e&&(l.success("Welcome back!"),Mt(!1),ss(!1),lt("google"))}).catch(e=>{ss(!1),"auth/popup-closed-by-user"!==e.code&&l.error(e.message||"Sign-in failed")});const s=x(t,async s=>{if(s){At(s),localStorage.setItem("studio_user_id",s.uid),Dt(!1),Bt(!0);try{const e=await s.getIdToken();Et(e)}catch(a){}const n=sessionStorage.getItem("studio_pending_plan");if(n)try{const e=JSON.parse(n);sessionStorage.removeItem("studio_pending_plan"),setTimeout(()=>{os(e)},100)}catch(o){}const d=!!(i=s.email)&&nt.includes(i.toLowerCase());if(Lt(d),d&&(cs("Lifetime Access"),as(999999),l.success("Welcome, Administrator!",{icon:"ðŸ”"})),e&&!d)try{const i=u(e,"users",s.uid),n=await m(i);if(n.exists()){const e=n.data(),t=e.credits||0;if(as(t),Jr(e=>({...e,credits:t})),"active"===e.subscriptionStatus&&e.tier){const t={creator:"monthly",studio:"pro",lifetime:"lifetime"}[e.tier]||e.tier;cs(t),localStorage.setItem("studio_user_plan",t)}else if(e.plan)cs(e.plan),localStorage.setItem("studio_user_plan",e.plan);else if("active"===e.subscription?.status){const t=e.subscription.plan||"monthly";cs(t),localStorage.setItem("studio_user_plan",t)}}const d=await(async e=>{if(Date.now(),!e)return[];try{let s=null;if(t?.currentUser)try{s=await t.currentUser.getIdToken(!0)}catch(a){}if(!t?.currentUser||t.currentUser.uid!==e)return[];const i=await fetch(`${r}/api/projects?userId=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}}});if(!t?.currentUser||t.currentUser.uid!==e)return[];if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`HTTP ${i.status}`)}return((await i.json()).projects||[]).map(e=>({...e,id:e.id||String(Date.now()),createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString()}))}catch(o){return[]}})(s.uid);if(!t.currentUser||t.currentUser.uid!==s.uid)return;d.length>0?(Tr(e=>{const t=((e,t)=>{const r=new Map,s=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[];for(const a of i)a&&a.id&&r.set(a.id,a);for(const a of s)if(a&&a.id)if(r.has(a.id)){const e=r.get(a.id);new Date(a.updatedAt||a.createdAt||0).getTime()>new Date(e.updatedAt||e.createdAt||0).getTime()&&r.set(a.id,a)}else r.set(a.id,a);return Array.from(r.values()).sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r})})(e,d);return t}),l.success(`Synced ${d.length} projects from cloud`)):Ir.length>0&&vs(s.uid,Ir)}catch(o){}}else At(null),Et(null),as(3),Dt(!1),localStorage.removeItem("studio_user_id"),Bt(!1);var i});return()=>s()}Dt(!1)},[]),n.useEffect(()=>{const e=()=>{Mt(!0)};return window.addEventListener("openAuthModal",e),()=>window.removeEventListener("openAuthModal",e)},[]);const da=async()=>{if(t){ss(!0),l.loading("Redirecting to Google...");try{const e=new h;zr&&sessionStorage.setItem("studio_pending_plan",JSON.stringify(zr)),await y(t,e)}catch(e){ss(!1),"auth/unauthorized-domain"===e.code?l.error(`Domain not authorized. Add ${window.location.hostname} in Firebase Console.`):l.error(e.message)}}else l.error("Authentication service unavailable")},[ca,pa]=n.useState(1),[xa,ga]=n.useState(!1),[ua,ma]=n.useState(!0),[ha,ya]=n.useState([]),[ba,va]=n.useState(()=>localStorage.getItem("musicHubSection")||"all"),[fa,ja]=n.useState(1),[wa,ka]=n.useState(!1),[Sa,Ca]=n.useState(!0),[za,Na]=n.useState([]);n.useEffect(()=>{localStorage.setItem("studio_user_profile",JSON.stringify(Yr))},[Yr]);const[Ia,Ta]=n.useState(()=>{try{const e=localStorage.getItem("studio_agents_socials");return e?JSON.parse(e):{instagram:!1,tiktok:!1,twitter:!1,spotify:!1}}catch(e){return{instagram:!1,tiktok:!1,twitter:!1,spotify:!1}}}),[Ra,Aa]=n.useState(()=>localStorage.getItem("studio_agents_twitter_user")),[Ua,Ba]=n.useState(()=>localStorage.getItem("studio_agents_meta_name")),[Pa,Da]=n.useState(()=>{try{const e=localStorage.getItem("studio_agents_storage");return e?JSON.parse(e):{googleDrive:!1,dropbox:!1,oneDrive:!1,localDevice:!0}}catch(e){return{googleDrive:!1,dropbox:!1,oneDrive:!1,localDevice:!0}}}),[$a,Ea]=n.useState(()=>{try{const e=localStorage.getItem("studio_agents_payments");return e?JSON.parse(e):[{id:"pm_1",type:"Visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:"pm_2",type:"Mastercard",last4:"8888",expiry:"09/25",isDefault:!1}]}catch(e){return[{id:"pm_1",type:"Visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:"pm_2",type:"Mastercard",last4:"8888",expiry:"09/25",isDefault:!1}]}}),[Wa,La]=n.useState(()=>{try{const e=localStorage.getItem("studio_agents_banks");return e?JSON.parse(e):[{id:"ba_1",bankName:"Chase Bank",last4:"1234",type:"Checking"}]}catch(e){return[{id:"ba_1",bankName:"Chase Bank",last4:"1234",type:"Checking"}]}});n.useEffect(()=>{localStorage.setItem("studio_agents_payments",JSON.stringify($a)),localStorage.setItem("studio_agents_banks",JSON.stringify(Wa))},[$a,Wa]),n.useEffect(()=>{localStorage.setItem("studio_agents_socials",JSON.stringify(Ia)),localStorage.setItem("studio_agents_storage",JSON.stringify(Pa)),Ra&&localStorage.setItem("studio_agents_twitter_user",Ra),Ua&&localStorage.setItem("studio_agents_meta_name",Ua)},[Ia,Ra,Ua,Pa]),n.useEffect(()=>{const e=new URLSearchParams(window.location.search);if("true"===e.get("twitter_connected")){const t=e.get("twitter_username");Ta(e=>({...e,twitter:!0})),Aa(t);const r=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,r),l.success(`Connected to X/Twitter as @${t}!`)}if("true"===e.get("meta_connected")){const t=e.get("meta_name");Ta(e=>({...e,instagram:!0,facebook:!0})),Ba(t);const r=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,r),l.success(`Connected to Meta as ${t}!`)}},[]);const Oa=n.useRef(null),[Ma,_a]=n.useState(null);n.useEffect(()=>{if(Ma&&zt&&"agents"===ht){const e=(t=3)=>{const r=bt.current||document.querySelector(".studio-textarea");r?(r.value=Ma,r.focus(),_a(null)):t>0?setTimeout(()=>e(t-1),50):_a(null)};setTimeout(()=>e(),100)}},[Ma,zt,ht]);const Ha=()=>{if(nr)return Oa.current&&Oa.current.stop(),lr(!1),void br("");const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return void l.error("Speech recognition not supported. Try Chrome or Safari.");const t=new e;t.lang="English"===jr.language?"en-US":"Spanish"===jr.language?"es-ES":"French"===jr.language?"fr-FR":"German"===jr.language?"de-DE":"Japanese"===jr.language?"ja-JP":"en-US",t.continuous=!0,t.interimResults=!0,t.onstart=()=>{lr(!0),l.success("ðŸŽ¤ Listening... Say a command or dictate your prompt",{duration:2e3})},t.onend=()=>{lr(!1),br("")},t.onerror=e=>{lr(!1),br(""),"aborted"!==e.error&&l.error(`Voice error: ${e.error}`)},t.onresult=e=>{let t="",r="";for(let s=e.resultIndex;s<e.results.length;s++){const i=e.results[s][0].transcript;e.results[s].isFinal?r+=i:t=i}if(t&&br(t),!r)return;const i=r.toLowerCase().trim();if(br(""),fr({text:r,time:(new Date).toLocaleTimeString()}),i.includes("stop listening")||i.includes("stop voice")||"stop"===i||"cancel"===i)return Oa.current&&Oa.current.stop(),lr(!1),void ms("Voice control stopped.");if(i.includes("open")||i.includes("launch")){const e=i.replace("open","").replace("launch","").trim(),t=s.find(t=>t.name.toLowerCase().includes(e));if(t)return Nt(t),wt("agents"),l.success(`ðŸš€ Launching ${t.name}`),void ms(`Launching ${t.name}.`)}if(i.includes("go to")||i.includes("show me")||i.includes("navigate")){let e=!1;if(i.includes("dashboard")||i.includes("studio")||i.includes("home")?(wt("mystudio"),l.success("ðŸ“Š Dashboard"),ms("Navigating to your dashboard."),e=!0):i.includes("hub")||i.includes("projects")?(wt("hub"),l.success("ðŸ“ Project Hub"),ms("Opening the Project Hub."),e=!0):i.includes("news")?(wt("news"),l.success("ðŸ“° Industry Pulse"),ms("Checking the latest industry pulse."),e=!0):i.includes("help")||i.includes("support")?(wt("support"),l.success("ðŸ’¡ Help Center"),ms("How can I help you today?"),e=!0):(i.includes("agents")||i.includes("tools"))&&(wt("agents"),l.success("ðŸ¤– Agents"),ms("Viewing all available agents."),e=!0),e)return}if(i.includes("switch theme")||i.includes("toggle theme")||i.includes("light mode")||i.includes("dark mode")){const e="dark"===St?"light":"dark";return Ct(e),localStorage.setItem("studio_theme",e),l.success(`ðŸŽ¨ ${"dark"===e?"Dark":"Light"} mode`),void ms(`Switching to ${e} mode.`)}if("generate"===i||i.includes("start generation")||i.includes("create now")||i.includes("make it")){const e=bt.current||document.querySelector(".studio-textarea");return void(e&&e.value.trim()?(hs(),l.success("âš¡ Generating..."),ms("Starting generation.")):(l.error("Please enter a prompt first"),ms("Please enter a prompt first.")))}if(i.includes("clear prompt")||i.includes("clear text")||i.includes("start over")||"clear"===i){const e=bt.current||document.querySelector(".studio-textarea");return void(e&&(e.value="",e.dispatchEvent(new Event("input",{bubbles:!0})),l.success("ðŸ—‘ï¸ Prompt cleared"),ms("Prompt cleared.")))}if(i.includes("read back")||i.includes("read prompt")||i.includes("what did i write")||i.includes("read it")){const e=bt.current||document.querySelector(".studio-textarea");return void(e&&e.value.trim()?ms(e.value):ms("The prompt is empty."))}if(i.includes("show commands")||i.includes("voice commands")||i.includes("what can i say")||i.includes("help commands"))return hr(!0),void ms("Here are the available voice commands.");if(i.includes("add payment")||i.includes("billing")||i.includes("manage card"))return wt("mystudio"),Jt(!0),void ms("Opening payment management.");const a=bt.current||document.querySelector(".studio-textarea");if(a){const e=(a.value+" "+r).trim();a.value=e,a.dispatchEvent(new Event("input",{bubbles:!0})),l.success(`âœï¸ Added: "${r.substring(0,30)}${r.length>30?"...":""}"`,{duration:1500})}},Oa.current=t,t.start()};n.useEffect(()=>{if(zt&&si){if(!(window.SpeechRecognition||window.webkitSpeechRecognition))return void ii(!1);const e=setTimeout(()=>{Ha(),ii(!1)},500);return()=>clearTimeout(e)}},[zt,si]);const[Fa,Va]=n.useState(!1),Ga=async(e,s="Ghostwriter")=>{if(!e||0===e.trim().length)return void l.error("No text content to vocalize");Va(!0);const i=l.loading("Creating AI vocal...");try{const o={"Content-Type":"application/json"};if(Ut&&t?.currentUser)try{const e=await t.currentUser.getIdToken();o.Authorization=`Bearer ${e}`}catch(a){}const n=e.substring(0,1500),d=await fetch(`${r}/api/generate-speech`,{method:"POST",headers:o,body:JSON.stringify({prompt:n,voice:jr.voiceName||"rapper-male-1",style:jr.style||"rapper",rapStyle:jr.rapStyle||"aggressive",genre:jr.genre||"hip-hop"})}),c=await d.json();if(c.audioUrl){if(Pr){const e={...Pr,audioUrl:c.audioUrl,mimeType:c.mimeType||"audio/wav",type:"vocal",vocalSnippet:"ðŸŽ¤ AI Vocal created from lyrics",updatedAt:(new Date).toISOString()};return Dr(e),zt?.id&&Hr(t=>({...t,[zt.id]:e})),l.success("AI vocal added to your creation!",{id:i}),e}{const e={id:String(Date.now()),title:`AI Vocal - ${s}`,agent:s,type:"vocal",audioUrl:c.audioUrl,mimeType:c.mimeType||"audio/wav",snippet:`ðŸŽ¤ AI Vocal: "${n.substring(0,50)}..."`,createdAt:(new Date).toISOString()};return Dr(e),l.success("AI vocal created!",{id:i}),e}}throw c.error?new Error(c.error):new Error("No audio URL returned")}catch(o){return l.error(o.message||"Failed to create AI vocal",{id:i}),null}finally{Va(!1)}},qa=e=>{e.preventDefault();const t=new FormData(e.target);if("card"===er){const e=t.get("cardNumber"),r=t.get("expiry");if(e.length<12)return void l.error("Please enter a valid card number");const s={id:Xt?Xt.item.id:`pm_${Date.now()}`,type:"Visa",last4:e.slice(-4),expiry:r,isDefault:!!Xt&&Xt.item.isDefault};Xt?(Ea(e=>e.map(e=>e.id===s.id?s:e)),ms("Card updated successfully.")):(Ea(e=>[...e,s]),ms(`Successfully added your card ending in ${s.last4}.`))}else{const e=t.get("bankName"),r=t.get("accountNumber"),s={id:Xt?Xt.item.id:`ba_${Date.now()}`,bankName:e,last4:r.slice(-4),type:"Checking"};Xt?(La(e=>e.map(e=>e.id===s.id?s:e)),ms("Bank account updated successfully.")):(La(e=>[...e,s]),ms(`Successfully linked your ${s.bankName} account.`))}Jt(!1),Zt(null)},Ya=async()=>{const e=bt.current||document.querySelector(".studio-textarea");if(e&&e.value&&"English"!==jr.language)try{const t=await fetch(`${r}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.value,targetLanguage:"English",sourceLanguage:jr.language})}),s=await t.json();s.translatedText&&(e.value=s.translatedText,l.success("Prompt translated to English!"))}catch(t){}},Ja=n.useCallback(async(e="hub")=>{if(!Pr)return;if(Or)return;Mr(!0);const s=l.loading("Syncing to cloud...",{icon:"â˜ï¸"}),i=new Promise((e,t)=>setTimeout(()=>t(new Error("Save timed out after 3 minutes")),18e4));try{const o={...Pr,agent:Pr.agent||zt?.name||"Unknown Agent",savedAt:(new Date).toISOString()};if(Tr(e=>Array.isArray(e)?[o,...e]:[o]),ai){const e=Array.isArray(ai.assets)?ai.assets:[],t={...ai,assets:[o,...e]};oi(t),Tr(e=>{const r=Array.isArray(e)?e:[];return[o,...r.map(e=>e?.id===t.id?t:e)]})}else _i(o);if(Ut){const e=localStorage.getItem("studio_user_id");if(e){const n={"Content-Type":"application/json"};if(t?.currentUser)try{const e=await t.currentUser.getIdToken();n.Authorization=`Bearer ${e}`}catch(a){}const d=[];d.push(fetch(`${r}/api/projects`,{method:"POST",headers:n,body:JSON.stringify({userId:e,project:o})}).then(e=>{if(!e.ok)throw new Error(`Project save failed: ${e.status}`);return e.json()})),d.push(fetch(`${r}/api/user/generations`,{method:"POST",headers:n,body:JSON.stringify({type:o.type||"text",agent:o.agent,prompt:$r||o.snippet,output:o.content||o.snippet,metadata:{projectId:o.id,imageUrl:o.imageUrl,audioUrl:o.audioUrl,videoUrl:o.videoUrl}})}).then(e=>(e.ok,e.json().catch(()=>({}))))),await Promise.race([Promise.all(d),i]),as(e=>Math.max(0,e-1)),l.success("âœ… Saved & synced to cloud!",{id:s})}else l.success("Saved locally!",{id:s})}else xs(e=>e+1),l.success("Saved to your Hub!",{id:s});Dr(null),Er(""),Lr("lyrics"),wt(e),"hub"===e&&Nt(null)}catch(o){o.message.includes("timed out")?l.error("Save timed out. Your work is saved locally.",{id:s}):l.error(`Save failed: ${o.message}`,{id:s}),Dr(null),Er("")}finally{Mr(!1)}},[Pr,Or,zt,ai,Ut,t,is]),Qa=()=>{Dr(null),Er(""),l("Discarded. Try again!",{icon:"ðŸ”„"})},Ka=async(e=1,t=null)=>{if(xa||!ua&&1!==e)return;const s=t||ba||"all";t&&(va(t),localStorage.setItem("musicHubSection",t)),ga(!0);try{const t=await fetch(`${r}/api/music-hub?section=${s}&page=${e}&per_page=20`),i=await t.json();i.items&&i.items.length>0?(ya(t=>1===e?i.items:[...t,...i.items]),pa(e),i.items.length<20||20*e>=200?ma(!1):ma(!0)):(1===e&&ya([]),ma(!1))}catch(i){}finally{ga(!1)}},Xa=async(e=1,t="")=>{if(wa||!Sa&&1!==e)return{success:!1};ka(!0);try{const s=new URLSearchParams({page:e.toString(),per_page:"20"});t&&s.set("q",t);const i=await fetch(`${r}/api/news?${s}`),a=await i.json();return a.articles&&a.articles.length>0?(Na(t=>1===e?a.articles:[...t,...a.articles]),ja(e),a.articles.length<20?Ca(!1):Ca(!0),{success:!0,count:a.articles.length}):(1===e&&Na([]),Ca(!1),{success:!0,count:0})}catch(s){return{success:!1,error:s}}finally{ka(!1)}},[Za,eo]=n.useState(null);n.useEffect(()=>{Za&&clearTimeout(Za);const e=setTimeout(async()=>{if("news"===ht&&Gt.trim()){const e=l.loading(`Searching: "${Gt.trim()}"...`);Ca(!0);const t=await Xa(1,Gt.trim());t?.success?t.count>0?l.success(`Found ${t.count} results`,{id:e}):l(`No results for "${Gt.trim()}"`,{id:e,icon:"ðŸ”"}):l.error("Search failed",{id:e})}else"news"!==ht||Gt.trim()||0!==za.length||Xa(1)},500);return eo(e),()=>clearTimeout(e)},[Gt]),n.useEffect(()=>{"activity"===ht&&0===ha.length&&Ka(1),"news"===ht&&0===za.length&&Xa(1)},[ht]),n.useEffect(()=>{zt&&_s(!0)},[zt]),n.useEffect(()=>{const e=localStorage.getItem("studio_user_id"),s=localStorage.getItem("studio_agents_projects");let i=[];if(s)try{const e=JSON.parse(s);Array.isArray(e)&&(i=e)}catch(a){}if(Ut&&e){(async()=>{try{const a={"Content-Type":"application/json"};if(t?.currentUser)try{const e=await t.currentUser.getIdToken();a.Authorization=`Bearer ${e}`}catch(s){}const o=await fetch(`${r}/api/projects?userId=${e}`,{headers:a});if(!o.ok)return void Tr(i);const n=await o.json();if(n.projects){const e=[...n.projects,...i],t=Array.from(new Map(e.map(e=>[e.id,e])).values());t.sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r}),Tr(t)}else Tr(i)}catch(a){Tr(i)}})()}else Tr(i)},[Ut]);const to=n.useRef(null);n.useEffect(()=>{if(Ir&&0!==Ir.length)return to.current&&clearTimeout(to.current),to.current=setTimeout(()=>{try{const e=Ir.slice(0,50);or("studio_agents_projects",JSON.stringify(e))}catch(e){l.error("Failed to save locally - storage full")}},500),()=>{to.current&&clearTimeout(to.current)}},[Ir]);const ro=e=>{if(!e)return;const t=e.videoUrl||e.audioUrl||e.imageUrl;if(!t)return void l(`${"Download"} coming soon!`,{icon:"ðŸš§"});const r=document.createElement("a");r.href=t,r.setAttribute("download",`${e.title.replace(/\s+/g,"_")}_studio_agents`),r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},so=async e=>{const t=encodeURIComponent(window.location.href);if("twitter"!==e)"instagram"!==e&&"facebook"!==e?l(`${e.charAt(0).toUpperCase()+e.slice(1)} coming soon!`,{icon:"ðŸš§"}):window.location.href=`${r}/api/meta/auth?returnUrl=${t}`;else try{const e=await fetch(`${r}/api/twitter/status`);if(e.ok){(await e.json()).configured?window.location.href=`${r}/api/twitter/auth?returnUrl=${t}`:l.error("Twitter not configured on server")}else window.location.href=`${r}/api/twitter/auth?returnUrl=${t}`}catch(s){l.error("Could not connect to backend server")}},io=async(e,s)=>{if(s?.stopPropagation(),!window.confirm("Are you sure you want to delete this project?"))return;const i=(Ir||[]).find(t=>t.id===e),a=i?.name||"Unknown";if(Tr(t=>{const r=(t||[]).filter(t=>t.id!==e);try{const e=r.slice(0,50);or("studio_agents_projects",JSON.stringify(e))}catch(s){}return r}),Ut&&Rt)try{let s=null;if(t?.currentUser)try{s=await t.currentUser.getIdToken(!0)}catch(o){}const i=await fetch(`${r}/api/projects/${encodeURIComponent(String(e))}?userId=${encodeURIComponent(Rt.uid)}&projectName=${encodeURIComponent(a)}`,{method:"DELETE",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}}});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`HTTP ${i.status}`)}l.success("Project deleted")}catch(n){l.error("Cloud delete failed, removed locally")}else l.success("Project deleted")},ao=n.useMemo(()=>"news"!==ht?[]:za.filter(e=>e.title.toLowerCase().includes(Gt.toLowerCase())||e.source.toLowerCase().includes(Gt.toLowerCase())||e.content.toLowerCase().includes(Gt.toLowerCase())),[ht,za,Gt]),oo=()=>{Xa(1)};n.useEffect(()=>{localStorage.setItem("studio_theme",St)},[St]);return Pt&&!Ut?d.jsx("div",{className:`studio-container ${St}-theme`,style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-primary)"},children:d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(168, 85, 247, 0.2)",borderTopColor:"#a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),d.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Studio..."})]})}):Ut||Pt?d.jsxs("div",{className:`studio-container ${St}-theme`,...kt,children:[Gr&&d.jsxs("div",{onClick:()=>{Ve(),qr(!1),l.success("Demo mode disabled - using real API")},style:Ye.container,title:"Click to disable demo mode",children:[d.jsx("span",{children:Ye.icon}),d.jsx("span",{children:Ye.text})]}),d.jsx(c,{position:"top-center",toastOptions:{duration:4e3,style:{background:"light"===St?"#ffffff":"#1a1a2e",color:"light"===St?"#0f172a":"#fff",border:"light"===St?"1px solid rgba(15, 23, 42, 0.1)":"1px solid rgba(139, 92, 246, 0.3)",boxShadow:"light"===St?"0 4px 20px rgba(0,0,0,0.1)":"none"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),d.jsxs("aside",{className:"studio-nav",children:[d.jsxs("div",{className:"studio-nav-logo",onClick:()=>o?.(),children:[d.jsx("div",{className:"logo-box studio-logo",children:d.jsx(w,{size:20,color:"white"})}),d.jsxs("div",{className:"logo-text",children:[d.jsx("span",{className:"studio-name",children:"STUDIO AGENTS"}),d.jsx("span",{className:"studio-sub",children:"AI ECOSYSTEM"}),d.jsx("span",{className:"studio-domain",children:"studioagentsai.com"})]})]}),d.jsxs("nav",{className:"studio-nav-links",children:[d.jsxs("button",{className:"nav-link "+("mystudio"===ht?"active":""),onClick:()=>{wt("mystudio"),Nt(null)},children:[d.jsx(C,{size:20}),d.jsx("span",{children:"My Studio"})]}),d.jsxs("button",{className:"nav-link "+("agents"===ht?"active":""),onClick:()=>{wt("agents"),Nt(null)},children:[d.jsx(z,{size:20}),d.jsx("span",{children:"Agents Team"})]}),d.jsxs("button",{className:"nav-link "+("hub"===ht?"active":""),onClick:()=>{wt("hub"),Nt(null)},children:[d.jsx(N,{size:20}),d.jsx("span",{children:"Project Hub"})]}),d.jsxs("button",{className:"nav-link "+("activity"===ht?"active":""),onClick:()=>{wt("activity"),Nt(null)},children:[d.jsx(I,{size:20}),d.jsx("span",{children:"Music Hub"})]}),d.jsxs("button",{className:"nav-link "+("resources"===ht?"active":""),onClick:()=>{wt("resources"),Nt(null)},children:[d.jsx(T,{size:20}),d.jsx("span",{children:"Resources"})]}),d.jsxs("button",{className:"nav-link "+("news"===ht?"active":""),onClick:()=>{wt("news"),Nt(null)},children:[d.jsx(R,{size:20}),d.jsx("span",{children:"Industry Pulse"})]}),d.jsxs("button",{className:"nav-link "+("support"===ht?"active":""),onClick:()=>{wt("support"),Nt(null)},children:[d.jsx(A,{size:20}),d.jsx("span",{children:"Support"})]})]}),d.jsx("div",{className:"studio-nav-footer",children:d.jsxs("div",{className:"user-profile-mini haptic-press",onClick:()=>{wt("profile"),Nt(null)},style:{cursor:"pointer"},children:[d.jsx("div",{className:"user-avatar",children:Rt?.photoURL?d.jsx("img",{src:Rt.photoURL,alt:"User",style:{width:"100%",height:"100%",borderRadius:"50%"}}):d.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:Rt?.displayName?.charAt(0)||"U"})}),d.jsxs("div",{className:"user-info",children:[d.jsx("p",{className:"user-name",children:Ut?Rt?.displayName||"Pro Creator":"Guest Creator"}),d.jsx("p",{className:"user-status",children:Ut?"Pro Plan":"Free Account"}),Ut?d.jsx("button",{className:"sign-out-link",style:{fontSize:"0.7rem",color:"var(--color-red)",background:"none",border:"none",padding:0,cursor:"pointer",marginTop:"4px",textAlign:"left"},onClick:e=>{e.stopPropagation(),t&&g(t)},children:"Sign Out"}):d.jsx("button",{className:"sign-in-link",style:{fontSize:"0.7rem",color:"var(--color-purple)",background:"none",border:"none",padding:0,cursor:"pointer",marginTop:"4px",textAlign:"left"},onClick:e=>{e.stopPropagation(),Mt(!0)},children:"Sign In"})]})]})})]}),d.jsxs("main",{className:"studio-main",onScroll:e=>{const{scrollTop:t,scrollHeight:r,clientHeight:s}=e.target;r-t<=s+150&&("activity"===ht&&!xa&&ua?Ka(ca+1):"news"===ht&&!wa&&Sa&&Xa(fa+1))},children:[d.jsxs("header",{className:"studio-header",children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[d.jsx("h2",{className:"studio-title",children:zt?zt.name:"mystudio"===ht?"Dashboard":ht.charAt(0).toUpperCase()+ht.slice(1)}),"idle"!==Vs&&d.jsxs("div",{className:"save-status-indicator animate-fadeIn",style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",background:"saving"===Vs?"rgba(168, 85, 247, 0.15)":"saved"===Vs?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",color:"saving"===Vs?"var(--color-purple)":"saved"===Vs?"var(--color-green)":"var(--color-red)",transition:"all 0.3s ease"},children:["saving"===Vs&&d.jsx(U,{size:12,className:"spin"}),"saved"===Vs&&d.jsx(B,{size:12}),"error"===Vs&&d.jsx(P,{size:12}),d.jsx("span",{children:"saving"===Vs?"Saving...":"saved"===Vs?"Saved":"Save failed"})]})]}),d.jsxs("div",{className:"studio-header-actions",children:[d.jsx("button",{className:"action-button secondary haptic-press",onClick:()=>o?.(),title:"Back to Landing Page",children:d.jsx(C,{size:20})}),d.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>wt("profile"),title:"User Profile",children:[d.jsx(S,{size:20}),d.jsx("span",{className:"desktop-only",children:"Profile"})]}),d.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>{xi(0),ci(!0)},title:"Welcome Tour",children:[d.jsx(w,{size:20}),d.jsx("span",{className:"desktop-only",children:"Tour"})]}),d.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>{wt("support"),Nt(null)},title:"Help Center",children:[d.jsx(A,{size:20}),d.jsx("span",{className:"desktop-only",children:"Help"})]}),d.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>sr(!rr),style:{position:"relative"},children:[d.jsx(D,{size:20}),ir.some(e=>!e.read)&&d.jsx("span",{style:{position:"absolute",top:"-2px",right:"-2px",width:"8px",height:"8px",background:"var(--color-red)",borderRadius:"50%",border:"1px solid var(--card-bg)"}})]}),Ut?d.jsx("div",{className:"user-avatar-header",style:{width:"32px",height:"32px",borderRadius:"50%",overflow:"hidden",marginLeft:"0.5rem",border:"1px solid var(--border-color)"},children:Rt?.photoURL?d.jsx("img",{src:Rt.photoURL,alt:"User",style:{width:"100%",height:"100%"}}):d.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:Rt?.displayName?.charAt(0)||"U"})}):d.jsx("button",{className:"cta-button-sm haptic-press",onClick:()=>Mt(!0),style:{marginLeft:"0.5rem",padding:"0.4rem 0.8rem",fontSize:"0.8rem"},children:"Sign In"}),rr&&d.jsxs("div",{className:"notification-dropdown animate-fadeInUp",children:[d.jsxs("div",{className:"notif-header",children:[d.jsx("h3",{children:"Notifications"}),d.jsx("button",{onClick:()=>ar(e=>e.map(e=>({...e,read:!0}))),children:"Mark all read"})]}),d.jsx("div",{className:"notif-list",children:0===ir.length?d.jsx("div",{className:"notif-empty",children:"No new notifications"}):ir.map(e=>d.jsxs("div",{className:"notif-item "+(e.read?"read":"unread"),children:[d.jsxs("div",{className:"notif-item-header",children:[d.jsx("span",{className:"notif-title",children:e.title}),d.jsx("span",{className:"notif-time",children:e.time})]}),d.jsx("p",{className:"notif-message",children:e.message})]},e.id))})]}),Ut?d.jsx("div",{className:"user-projects-dropdown",children:d.jsxs("button",{className:"action-button primary haptic-press",onClick:()=>Ji(!0),children:["New Project (",Ir?.length||0,")"]})}):d.jsx("button",{className:"action-button primary haptic-press",onClick:()=>Mt(!0),children:"New Project"})]})]}),d.jsx("div",{className:"studio-content",children:(()=>{if("project_canvas"===ht&&!zt)return ai?d.jsxs("div",{className:"project-canvas-view animate-fadeIn",children:[d.jsxs("div",{className:"canvas-header",children:[d.jsx("button",{onClick:()=>wt("hub"),className:"btn-icon-circle back-btn",children:d.jsx(Ce,{size:20})}),d.jsxs("div",{children:[d.jsx("h1",{className:"project-title",children:ai.name}),d.jsxs("div",{className:"project-meta",children:[d.jsx("span",{className:"badge",children:ai.category}),d.jsxs("span",{className:"date",children:["Created ",ai.date]})]})]}),d.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[d.jsxs("button",{className:"btn-pill",style:{background:"rgba(168, 85, 247, 0.15)",color:"var(--color-purple)"},onClick:()=>js(!0),children:[d.jsx(w,{size:16})," Add Assets"]}),d.jsxs("button",{className:"btn-pill primary",onClick:()=>wt("agents"),children:[d.jsx(X,{size:16})," Browse Agents"]})]})]}),d.jsxs("div",{className:"studio-monitor-panel",style:{background:"rgba(20, 20, 25, 0.6)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:"24px",overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[d.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.02)"},children:[d.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px",fontSize:"1rem",color:"var(--color-cyan)"},children:[d.jsx(ge,{size:18})," Studio Monitor"]}),Ni?d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[d.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:Ni.title}),d.jsx("span",{className:"badge "+("Audio"===Ni.type?"bg-purple":"Video"===Ni.type?"bg-cyan":"bg-pink"),style:{fontSize:"0.7rem",padding:"2px 8px"},children:Ni.type})]}):d.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"No asset selected"})]}),d.jsx("div",{style:{minHeight:"360px",display:"flex",alignItems:"center",justifyContent:"center",background:"#000",position:"relative"},children:Ni?d.jsxs(d.Fragment,{children:["Video"===Ni.type&&Ni.videoUrl&&d.jsx("video",{src:Ni.videoUrl,controls:!0,style:{width:"100%",maxHeight:"500px",objectFit:"contain"},onError:e=>{e.target.style.display="none",e.target.parentElement?.querySelector(".media-error-fallback")?.style?.setProperty("display","flex")}}),"Image"===Ni.type&&Ni.imageUrl&&d.jsx("img",{src:Ni.imageUrl,alt:Ni.title||"Asset",style:{width:"100%",maxHeight:"500px",objectFit:"contain"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"%3E%3Crect fill="%231a1a2e" width="200" height="200"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}),"Audio"===Ni.type&&Ni.audioUrl&&d.jsxs("div",{style:{width:"100%",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",gap:"24px"},children:[d.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 40px rgba(168, 85, 247, 0.3)"},children:d.jsx(E,{size:48,color:"white"})}),d.jsx("audio",{ref:Bi,src:Ni.audioUrl,controls:!0,style:{width:"100%",maxWidth:"600px"},onError:()=>{l.error("Audio file could not be loaded")},onPlay:()=>{},onPause:e=>{},onEnded:()=>{},onLoadedData:()=>{}},Ni.id||Ni.audioUrl)]}),("Text"===Ni.type||"Lyrics"===Ni.type||"Script"===Ni.type||!Ni.videoUrl&&!Ni.audioUrl&&!Ni.imageUrl&&Ni.content)&&d.jsxs("div",{style:{width:"100%",height:"100%",minHeight:"360px",padding:"32px",display:"flex",flexDirection:"column",background:"linear-gradient(180deg, rgba(6, 182, 212, 0.05) 0%, rgba(168, 85, 247, 0.05) 100%)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, var(--color-cyan), var(--color-purple))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 20px rgba(6, 182, 212, 0.3)"},children:d.jsx(se,{size:24,color:"white"})}),d.jsxs("div",{children:[d.jsx("h4",{style:{margin:0,color:"white",fontSize:"1.1rem"},children:Ni.title}),d.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[Ni.agent," â€¢ ",Ni.date]})]}),d.jsx("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:d.jsx("button",{onClick:()=>{navigator.clipboard.writeText(Ni.content||"")},className:"btn-icon-circle glass",title:"Copy to clipboard",style:{background:"rgba(255,255,255,0.1)"},children:d.jsx(Copy,{size:16})})})]}),d.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px",background:"rgba(0,0,0,0.3)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:d.jsx("pre",{style:{margin:0,fontFamily:"'SF Mono', 'Fira Code', monospace",fontSize:"0.95rem",lineHeight:"1.8",color:"rgba(255,255,255,0.9)",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:Ni.content||Ni.snippet||"No text content available"})})]}),d.jsxs("div",{style:{position:"absolute",top:"16px",right:"16px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[d.jsx("button",{onClick:()=>{try{const e=Ni.audioUrl||Ni.videoUrl||Ni.imageUrl;if(!e){if(Ni.content||Ni.snippet){const e=new Blob([Ni.content||Ni.snippet],{type:"text/plain"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`${Ni.title||"asset"}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),l.success("Text file downloaded")}else l.error("No downloadable content available");return}const t=document.createElement("a");t.href=e,t.download=Ni.title||"download",document.body.appendChild(t),t.click(),document.body.removeChild(t),l.success("Download started")}catch(e){l.error("Download failed")}},className:"btn-icon-circle glass",title:"Download",children:d.jsx(W,{size:18})}),d.jsx("button",{onClick:()=>{try{const e=ai?.assets||[];Si({type:(Ni.type||"text").toLowerCase(),url:Ni.audioUrl||Ni.videoUrl||Ni.imageUrl||null,title:Ni.title||"Untitled",asset:Ni,assets:e,currentIndex:Math.max(0,e.findIndex(e=>e.id===Ni.id))})}catch(e){l.error("Could not open preview")}},className:"btn-icon-circle glass",title:"Fullscreen",children:d.jsx(ke,{size:18})})]})]}):d.jsxs("div",{style:{textAlign:"center",color:"var(--text-secondary)",opacity:.5},children:[d.jsx(ge,{size:48,style:{marginBottom:"16px"}}),d.jsx("p",{children:"Select an asset to preview"})]})})]}),d.jsxs("div",{className:"canvas-grid",children:[d.jsxs("div",{className:"canvas-column",children:[d.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[d.jsx(ve,{size:18,className:"text-purple"})," The Team"]}),d.jsxs("div",{className:"team-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[ai.agents&&ai.agents.length>0?ai.agents.filter(Boolean).map((e,t)=>{const r="object"==typeof e&&e?.id?e:s.find(t=>t.id===e||t.name===e)||s[0]||null;return r?d.jsxs("div",{className:"agent-card-mini haptic-press",onClick:()=>Nt(r),style:{padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"1px solid transparent",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:e=>e.currentTarget.style.borderColor="transparent",children:[d.jsx("div",{className:"agent-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:r.color,display:"flex",alignItems:"center",justifyContent:"center"},children:r.icon?d.jsx(r.icon,{size:20,color:"white"}):d.jsx(S,{size:20,color:"white"})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:"600"},children:r.name}),d.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:r.role})]})]},r.id||t):null}):d.jsx("div",{className:"text-muted text-sm",children:"No agents selected"}),d.jsx("button",{className:"btn-dashed",style:{width:"100%",padding:"12px",border:"1px dashed var(--text-secondary)",borderRadius:"12px",color:"var(--text-secondary)",background:"transparent",cursor:"pointer"},onClick:()=>ei(!0),children:"+ Add Agent"})]}),d.jsxs("div",{className:"orchestration-panel",style:{marginTop:"24px",padding:"16px",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[d.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",fontSize:"1rem",color:"var(--color-purple)"},children:[d.jsx(X,{size:16})," Studio Orchestrator"]}),d.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"12px"},children:"Generate lyrics, beats, visuals & more with one click."}),d.jsxs("button",{className:"btn-pill primary",style:{width:"100%",justifyContent:"center"},onClick:()=>{js(!0),ms("Opening Studio Orchestrator.")},children:[d.jsx(w,{size:16})," Open Orchestrator"]})]})]}),d.jsxs("div",{className:"canvas-column",children:[d.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[d.jsx(T,{size:18,className:"text-cyan"})," Narrative & Vision"]}),d.jsx("div",{className:"narrative-editor",children:d.jsx("textarea",{value:ai?.description||"",onChange:e=>{if(!ai)return;const t={...ai,description:e.target.value,updatedAt:(new Date).toISOString()};oi(t),ls(e=>Array.isArray(e)?e.map(e=>e?.id===t.id?t:e):[])},className:"narrative-textarea",placeholder:"Describe your project vision here..."})})]}),d.jsxs("div",{className:"canvas-column",children:[d.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[d.jsx(L,{size:18,className:"text-pink"})," Marketing"]}),ai.socialHandle&&d.jsxs("div",{className:"marketing-card",style:{background:"rgba(6, 182, 212, 0.1)",borderRadius:"12px",padding:"16px",marginBottom:"16px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:[d.jsxs("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--color-cyan)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsx("span",{children:"Active Campaign"}),d.jsx("span",{style:{fontSize:"0.7rem",background:"var(--color-cyan)",color:"black",padding:"2px 6px",borderRadius:"4px"},children:"LIVE"})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[d.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--color-bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--color-cyan)"},children:d.jsx(L,{size:20,className:"text-cyan"})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:"600"},children:ai.socialHandle}),d.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textTransform:"capitalize"},children:[ai.socialPlatform," â€¢ ",ai.category]})]})]}),ai.socialBio&&d.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",fontStyle:"italic",padding:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},children:['"',ai.socialBio,'"']})]}),d.jsxs("div",{className:"marketing-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:[d.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--text-secondary)"},children:"Social Status"}),d.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[d.jsxs("div",{className:"social-pill "+(Ia.twitter?"active":""),style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.8rem",background:Ia.twitter?"rgba(29, 161, 242, 0.2)":"rgba(255,255,255,0.1)",color:Ia.twitter?"#1DA1F2":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[d.jsx(ze,{size:14})," ",Ia.twitter?"Connected":"Link X"]}),d.jsxs("div",{className:"social-pill "+(Ia.instagram?"active":""),style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.8rem",background:Ia.instagram?"rgba(225, 48, 108, 0.2)":"rgba(255,255,255,0.1)",color:Ia.instagram?"#E1306C":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[d.jsx(Ne,{size:14})," ",Ia.instagram?"Connected":"Link IG"]})]})]}),d.jsxs("div",{className:"marketing-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"16px"},children:[d.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--text-secondary)"},children:"Quick Actions"}),d.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[d.jsx("button",{className:"btn-text",style:{fontSize:"0.8rem",color:"var(--color-purple)",background:"none",border:"none",cursor:"pointer",padding:0},onClick:()=>{js(!0)},children:"+ Generate Assets"}),d.jsxs("label",{className:"btn-text",style:{fontSize:"0.8rem",color:"var(--color-cyan)",background:"none",border:"none",cursor:"pointer",padding:0,display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx("input",{type:"file",accept:"audio/*,image/*,video/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t),r=t.type.startsWith("audio")?"Audio":t.type.startsWith("video")?"Video":"Image",s={id:String(Date.now()),title:t.name,type:r,agent:"User Upload",date:"Just now",color:"agent-cyan",snippet:`Uploaded ${r} file`,audioUrl:t.type.startsWith("audio")?e:null,videoUrl:t.type.startsWith("video")?e:null,imageUrl:t.type.startsWith("image")?e:null},i={...ai,assets:[s,...ai.assets||[]]};oi(i),Tr(Ir.map(e=>e.id===i.id?i:e))}}}),"+ Upload File"]})]})]})]})]}),d.jsxs("div",{className:"project-generations-section",style:{marginTop:"32px",paddingBottom:"40px",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"24px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[d.jsxs("h3",{style:{fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx(Layers,{size:20,className:"text-purple"}),"Project Generations",d.jsx("span",{style:{fontSize:"0.8rem",background:"rgba(255,255,255,0.1)",padding:"2px 8px",borderRadius:"12px",color:"var(--text-secondary)"},children:ai.assets?.length||0})]}),d.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[d.jsxs("button",{className:"btn-pill",style:{fontSize:"0.85rem",padding:"8px 16px"},onClick:()=>js(!0),children:[d.jsx(w,{size:14})," Generate New"]}),d.jsxs("button",{className:"btn-pill",style:{fontSize:"0.85rem",padding:"8px 16px",background:"rgba(6, 182, 212, 0.15)",color:"var(--color-cyan)"},onClick:()=>wt("agents"),children:[d.jsx(Je,{size:14})," Use Agent"]})]})]}),ai.assets&&ai.assets.length>0?d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px"},children:ai.assets.filter(Boolean).map((e,t)=>d.jsxs("div",{className:"asset-card-canvas",style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",padding:"16px",border:"1px solid rgba(255,255,255,0.08)",transition:"all 0.2s ease",display:"flex",flexDirection:"column",gap:"12px",position:"relative",height:"100%"},onMouseEnter:e=>{e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.background="rgba(255,255,255,0.05)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.08)",e.currentTarget.style.background="rgba(255,255,255,0.03)",e.currentTarget.style.transform="translateY(0)"},children:[d.jsxs("div",{onClick:()=>{try{if(Pi.current)return;if(Pi.current=!0,!e?.audioUrl&&!e?.imageUrl&&!e?.videoUrl){const t=Array.isArray(ai?.assets)?ai.assets:[],r=t.findIndex(t=>t?.id===e?.id);return Si({type:(e.type||"text").toLowerCase(),url:null,content:e.content||e.snippet||e.output||null,title:e.title||"Untitled",asset:e,assets:t,currentIndex:r>=0?r:0}),void setTimeout(()=>{Pi.current=!1},300)}const t=(Array.isArray(ai?.assets)?ai.assets:[]).filter(e=>e?.audioUrl||e?.imageUrl||e?.videoUrl),r=t.findIndex(t=>t?.id===e?.id),s={type:e.audioUrl?"audio":e.videoUrl?"video":"image",url:e.audioUrl||e.videoUrl||e.imageUrl,title:e.title||"Untitled",asset:e,assets:t,currentIndex:r>=0?r:0};Si(s),setTimeout(()=>{Pi.current=!1},300)}catch(t){Pi.current=!1}},style:{width:"100%",aspectRatio:"16/9",background:"rgba(0,0,0,0.3)",borderRadius:"12px",overflow:"hidden",cursor:"pointer",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",border:Ni?.id&&e?.id&&Ni.id===e.id?"2px solid var(--color-cyan)":"none"},children:[e.imageUrl?d.jsx("img",{src:e.imageUrl,alt:e.title||"Asset image",style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="150" viewBox="0 0 200 150"%3E%3Crect fill="%231a1a2e" width="200" height="150"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-size="12" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}):e.videoUrl?d.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[d.jsx("video",{src:e.videoUrl,style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,preload:"metadata",onLoadedData:e=>{0===e.target.currentTime&&(e.target.currentTime=1)},onError:e=>{e.target.style.display="none"}}),d.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"44px",height:"44px",borderRadius:"50%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:d.jsx(Q,{size:22,style:{color:"white",marginLeft:"3px"}})})]}):e.audioUrl?d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px"},children:[d.jsx(E,{size:32,style:{color:"var(--color-purple)"}}),d.jsx("div",{style:{width:"60%",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px"},children:d.jsx("div",{style:{width:"40%",height:"100%",background:"var(--color-purple)",borderRadius:"2px"}})}),d.jsx("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Click to play"})]}):d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",height:"100%",padding:"12px"},children:[d.jsx(se,{size:28,style:{color:"var(--color-cyan)",flexShrink:0}}),(e.content||e.snippet)&&d.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textAlign:"center",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.4",maxWidth:"90%"},children:[(e.content||e.snippet).substring(0,80),"..."]}),d.jsx("span",{style:{fontSize:"0.65rem",color:"var(--color-cyan)",marginTop:"4px"},children:"Click to view"})]}),d.jsxs("div",{style:{position:"absolute",top:"8px",left:"8px",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"4px 8px",borderRadius:"6px",fontSize:"0.65rem",color:"white",display:"flex",alignItems:"center",gap:"4px"},children:["Video"===e.type&&d.jsx(V,{size:10}),"Audio"===e.type&&d.jsx(E,{size:10}),"Image"===e.type&&d.jsx(O,{size:10}),("Text"===e.type||"Lyrics"===e.type||"Script"===e.type)&&d.jsx(se,{size:10}),e.type]})]}),d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"white",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx(S,{size:10})," ",e.agent]}),d.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.date})]})]}),d.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"auto",paddingTop:"12px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[(e.audioUrl||e.videoUrl)&&d.jsx("button",{onClick:t=>{t.stopPropagation();const r=(Array.isArray(ai?.assets)?ai.assets:[]).filter(e=>e?.audioUrl||e?.imageUrl||e?.videoUrl),s=r.findIndex(t=>t?.id===e?.id);Si({type:e.audioUrl?"audio":"video",url:e.audioUrl||e.videoUrl,title:e.title||"Untitled",asset:e,assets:r,currentIndex:s>=0?s:0})},className:"btn-icon-sm",title:e.audioUrl?"Play Audio":"Play Video",style:{flex:1,background:e.audioUrl?"rgba(168, 85, 247, 0.15)":"rgba(34, 211, 238, 0.15)",color:e.audioUrl?"var(--color-purple)":"var(--color-cyan)"},children:e.audioUrl?d.jsx(ae,{size:14}):d.jsx(Q,{size:14})}),d.jsx("button",{onClick:t=>{t.stopPropagation(),Ii(e)},className:"btn-icon-sm",title:"View in Monitor",style:{flex:1,background:"rgba(255,255,255,0.05)"},children:d.jsx(ge,{size:14})}),d.jsx("button",{onClick:t=>{t.stopPropagation();const r=(Array.isArray(ai?.assets)?ai.assets:[]).filter(e=>e?.audioUrl||e?.imageUrl||e?.videoUrl),s=r.findIndex(t=>t?.id===e?.id);Si({type:e.audioUrl?"audio":e.videoUrl?"video":"image",url:e.audioUrl||e.videoUrl||e.imageUrl,title:e.title||"Untitled",asset:e,assets:r,currentIndex:s>=0?s:0})},className:"btn-icon-sm",title:"Fullscreen",style:{flex:1,background:"rgba(255,255,255,0.05)"},children:d.jsx(ke,{size:14})}),d.jsx("button",{onClick:r=>{r.stopPropagation();try{if(confirm(`Delete "${e.title||"this asset"}"?`)){const r=(Array.isArray(ai?.assets)?ai.assets:[]).filter((e,r)=>r!==t),s={...ai,assets:r,updatedAt:(new Date).toISOString()};oi(s),ls(Ir.map(e=>e.id===s.id?s:e)),Ni?.id===e.id&&Ii(r[0]||null),l.success("Asset deleted")}}catch(s){l.error("Could not delete asset")}},className:"btn-icon-sm",title:"Delete",style:{flex:1,background:"rgba(239, 68, 68, 0.1)",color:"var(--color-red)"},children:d.jsx(oe,{size:14})})]})]},t))}):d.jsxs("div",{style:{padding:"60px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"2px dashed rgba(255,255,255,0.05)"},children:[d.jsx(Layers,{size:48,style:{opacity:.2,marginBottom:"16px"}}),d.jsx("h3",{style:{color:"var(--text-secondary)",marginBottom:"8px"},children:"No generations yet"}),d.jsx("p",{style:{color:"var(--text-secondary)",opacity:.7,maxWidth:"400px",margin:"0 auto 24px auto"},children:"Start by opening the Studio Orchestrator or uploading your own files."}),d.jsxs("button",{className:"btn-pill primary",onClick:()=>js(!0),children:[d.jsx(w,{size:16})," Start Creating"]})]})]})]}):d.jsx("div",{className:"p-8 text-center animate-fadeIn",children:d.jsx("div",{style:{opacity:.6},children:"Loading project..."})});if("mystudio"===ht)return d.jsx(n.Suspense,{fallback:d.jsx("div",{className:"loading-spinner",children:d.jsx(U,{className:"animate-spin"})}),children:d.jsx(tt,{user:Rt,projects:Ir,credits:Yr?.credits||0,onNavigate:wt,onCreateProject:()=>Ji(!0),onOpenProject:e=>{oi(e),wt("hub")}})});if("billing"===ht)return d.jsx(n.Suspense,{fallback:d.jsx("div",{className:"loading-spinner",children:d.jsx(U,{className:"animate-spin"})}),children:d.jsx(rt,{credits:Yr?.credits||0,plan:Yr?.plan||"Free",onSubscribe:ns})});if("settings"===ht)return d.jsx(n.Suspense,{fallback:d.jsx("div",{className:"loading-spinner",children:d.jsx(U,{className:"animate-spin"})}),children:d.jsx(st,{userProfile:Yr,setUserProfile:Jr,onLogout:()=>{t.signOut(),window.location.reload()}})});if(zt&&"agents"!==ht){const e=zt.icon;return d.jsxs("div",{className:"agent-active-view animate-fadeInUp",style:{position:"relative",paddingBottom:"80px"},children:[Ms&&zt.onboarding&&d.jsxs("div",{className:"agent-nudge-overlay animate-fadeInDown",children:[d.jsxs("div",{className:"nudge-header",children:[d.jsxs("h4",{children:[d.jsx(w,{size:16})," Quick Start Guide"]}),d.jsx("button",{className:"nudge-close",onClick:()=>_s(!1),children:d.jsx(k,{size:16})})]}),d.jsx("div",{className:"nudge-steps",children:zt.onboarding.map((e,t)=>d.jsxs("div",{className:"nudge-step",children:[d.jsx("span",{className:"step-num",children:t+1}),d.jsx("p",{children:e})]},t))}),d.jsx("div",{className:"nudge-footer",children:d.jsx("button",{className:"nudge-cta",onClick:()=>_s(!1),children:"Got it, let's go!"})})]}),d.jsxs("button",{className:"back-to-grid",onClick:()=>Nt(null),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"none",border:"none",color:"#9ca3af",cursor:"pointer",marginBottom:"2rem"},children:[d.jsx(Ce,{size:20}),d.jsx("span",{children:"project_canvas"===ht?"Back to Project":"Back to Agents"})]}),d.jsxs("div",{className:"agent-detail-layout",children:[d.jsxs("div",{className:"agent-main-panel",children:[d.jsxs("div",{className:"agent-hero-card",children:[d.jsx("div",{className:`agent-icon-large ${zt.colorClass}`,children:d.jsx(e,{size:40})}),d.jsxs("div",{className:"agent-hero-info",children:[d.jsx("span",{className:"agent-badge",children:zt.category}),d.jsx("h2",{children:zt.name}),d.jsx("p",{children:zt.description||zt.desc})]})]}),d.jsxs("div",{className:"agent-utility-box",children:[d.jsxs("div",{className:"utility-controls",children:[d.jsxs("div",{className:"control-group",children:[d.jsx("label",{children:"Genre / Style"}),d.jsxs("select",{className:"studio-select",children:[d.jsx("option",{children:"Hip Hop / Rap"}),d.jsx("option",{children:"Pop / Modern"}),d.jsx("option",{children:"R&B / Soul"}),d.jsx("option",{children:"Electronic / Dance"}),d.jsx("option",{children:"Rock / Alternative"}),d.jsx("option",{children:"Lo-Fi / Chill"})]})]}),d.jsxs("div",{className:"control-group",children:[d.jsx("label",{children:"Intensity / Mood"}),d.jsx("input",{type:"range",className:"studio-slider",min:"1",max:"10",defaultValue:"5"})]})]}),d.jsxs("div",{className:"prompt-area",children:[d.jsxs("div",{className:"prompt-header",children:[d.jsx("label",{children:"Creative Prompt"}),d.jsxs("div",{className:"voice-controls",children:["English"!==jr.language&&d.jsx("button",{className:"btn-pill glass translate-btn",onClick:Ya,title:"Translate to English",children:d.jsx(Ie,{size:16})}),d.jsx("button",{className:"btn-pill "+(nr?"primary":"glass"),onClick:Ha,title:"Voice to Text",children:d.jsx(F,{size:16})}),d.jsx("button",{className:"btn-pill "+(dr?"primary":"glass"),onClick:ms,title:"Text to Voice",children:d.jsx(ae,{size:16})}),d.jsxs("div",{className:"voice-settings-container",children:[d.jsx("button",{className:"btn-pill "+(gr?"primary":"glass"),onClick:()=>{ur(!gr),xr(!1)},title:"How to use Voice Controls",children:d.jsx(A,{size:16})}),gr&&d.jsxs("div",{className:"voice-settings-dropdown animate-fadeInUp",style:{width:"280px",right:"40px"},children:[d.jsxs("div",{className:"settings-group",children:[d.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(F,{size:14,className:"text-purple"})," Voice to Text"]}),d.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Click the microphone to dictate your prompt. Speak clearly. Click again to stop."})]}),d.jsxs("div",{className:"settings-group",children:[d.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(ae,{size:14,className:"text-cyan"})," Text to Voice"]}),d.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Click the speaker to hear the AI read the current text. Useful for reviewing lyrics."})]}),d.jsxs("div",{className:"settings-group",children:[d.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(be,{size:14})," Settings"]}),d.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Customize the AI voice gender, accent (US/UK/AU), and language."})]})]})]}),d.jsxs("div",{className:"voice-settings-container",children:[d.jsx("button",{className:"btn-pill "+(pr?"primary":"glass"),onClick:()=>{xr(!pr),ur(!1)},title:"Voice Settings",children:d.jsx(be,{size:16})}),pr&&d.jsxs("div",{className:"voice-settings-dropdown animate-fadeInUp",children:[d.jsxs("div",{className:"settings-group",children:[d.jsx("label",{children:"ðŸŽ¤ AI Voice Type (Real Vocals, Not TTS)"}),d.jsxs("select",{value:jr.style||"rapper",onChange:e=>wr({...jr,style:e.target.value}),className:"settings-select",children:[d.jsxs("optgroup",{label:"ðŸ”¥ AI Rappers (Suno/Bark)",children:[d.jsx("option",{value:"rapper",children:"ðŸŽ¤ Male Rapper"}),d.jsx("option",{value:"rapper-female",children:"ðŸ’œ Female Rapper"})]}),d.jsxs("optgroup",{label:"ðŸŽµ AI Singers",children:[d.jsx("option",{value:"singer",children:"ðŸŽ¤ Male Singer (R&B/Soul)"}),d.jsx("option",{value:"singer-female",children:"ðŸ’« Female Singer (Pop/R&B)"})]}),d.jsxs("optgroup",{label:"ðŸ—£ï¸ Speech/Narration",children:[d.jsx("option",{value:"narrator",children:"ðŸ“¢ Narrator (Deep Voice)"}),d.jsx("option",{value:"spoken",children:"ðŸ’¬ Spoken Word"})]})]})]}),("rapper"===jr.style||"rapper-female"===jr.style)&&d.jsxs("div",{className:"settings-group",children:[d.jsx("label",{children:"ðŸŽ¯ Rap Flow & Delivery"}),d.jsxs("select",{value:jr.rapStyle||"aggressive",onChange:e=>wr({...jr,rapStyle:e.target.value}),className:"settings-select",children:[d.jsx("option",{value:"aggressive",children:"ðŸ’¥ Aggressive (Hard-hitting)"}),d.jsx("option",{value:"melodic",children:"ðŸŽµ Melodic (Singing flow)"}),d.jsx("option",{value:"trap",children:"ðŸ”¥ Trap (Triplets + Ad-libs)"}),d.jsx("option",{value:"drill",children:"ðŸ‡¬ðŸ‡§ Drill (UK style)"}),d.jsx("option",{value:"boom-bap",children:"ðŸ“» Boom-Bap (Classic hip-hop)"}),d.jsx("option",{value:"fast",children:"âš¡ Fast Flow (Technical)"}),d.jsx("option",{value:"chill",children:"ðŸ˜Ž Chill (Laid-back)"}),d.jsx("option",{value:"hype",children:"ðŸ”Š Hype (High energy)"})]})]}),("singer"===jr.style||"singer-female"===jr.style)&&d.jsxs("div",{className:"settings-group",children:[d.jsx("label",{children:"ðŸŽ¶ Music Genre"}),d.jsxs("select",{value:jr.genre||"r&b",onChange:e=>wr({...jr,genre:e.target.value}),className:"settings-select",children:[d.jsx("option",{value:"r&b",children:"ðŸ’œ R&B / Soul"}),d.jsx("option",{value:"pop",children:"ðŸŒŸ Pop"}),d.jsx("option",{value:"hip-hop",children:"ðŸ”¥ Hip-Hop"}),d.jsx("option",{value:"soul",children:"ðŸŽ· Soul / Gospel"})]})]}),d.jsx("p",{className:"settings-info",style:{marginTop:"8px",opacity:.8},children:["rapper","rapper-female","singer","singer-female"].includes(jr.style)?d.jsxs(d.Fragment,{children:["ðŸš€ ",d.jsx("strong",{children:"AI Vocals Mode"})," â€” Real rapper/singer voices via Suno AI & Bark (30-60s generation time).",("rapper"===jr.style||"rapper-female"===jr.style)&&` Flow: ${jr.rapStyle||"aggressive"}`,("singer"===jr.style||"singer-female"===jr.style)&&` Genre: ${jr.genre||"r&b"}`]}):d.jsxs(d.Fragment,{children:["âš¡ ",d.jsx("strong",{children:"Instant TTS Mode"})," â€” Browser voices for quick preview. Switch to rapper/singer for real AI vocals."]})})]})]})]})]}),d.jsx("div",{className:"model-picker-card",style:{marginBottom:"12px",padding:"12px",background:"var(--color-bg-secondary)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.06)"},children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2))",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(te,{size:18,style:{color:"var(--color-purple)"}})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"2px"},children:"AI Model"}),d.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"white"},children:Vi.find(e=>e.id===gs)?.name||"Gemini Flash"})]})]}),d.jsxs("select",{value:gs,onChange:e=>us(e.target.value),style:{padding:"8px 32px 8px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"0.75rem",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",backgroundSize:"14px"},children:[Vi.filter(e=>"Google"===e.provider).map(e=>d.jsx("option",{value:e.id,children:e.name},e.id)),Vi.filter(e=>"Anthropic"===e.provider).map(e=>d.jsx("option",{value:e.id,children:e.name},e.id)),Vi.filter(e=>"OpenAI"===e.provider).map(e=>d.jsx("option",{value:e.id,children:e.name},e.id))]})]})}),("beat"===zt?.id||"video-creator"===zt?.id||"video-scorer"===zt?.id)&&d.jsxs("div",{className:"reference-upload-card",style:{marginBottom:"12px",padding:"12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"12px",border:"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(6, 182, 212, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:"video-creator"===zt?.id?d.jsx(E,{size:16,color:"var(--color-cyan)"}):d.jsx(Te,{size:16,color:"var(--color-cyan)"})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"video-creator"===zt?.id?"Attach Song (for Sync)":"Reference Track"}),d.jsx("div",{style:{fontSize:"0.85rem",color:"white",fontWeight:"500"},children:It?It.title:"Upload Audio..."})]})]}),d.jsxs("div",{style:{display:"flex",gap:"8px"},children:[It&&d.jsx("button",{onClick:()=>Tt(null),style:{padding:"6px",background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer"},children:d.jsx(k,{size:16})}),d.jsxs("label",{style:{padding:"6px 12px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"6px",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",color:"white"},children:[d.jsx("input",{type:"file",accept:"audio/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t);Tt({title:t.name,audioUrl:e,type:"audio",isUpload:!0}),l.success(`Attached "${t.name}"`)}}}),"Select File"]})]})]}),d.jsx("textarea",{ref:bt,placeholder:`Describe what you want ${zt.name} to create...`,className:"studio-textarea"}),d.jsxs("div",{className:"generation-actions",children:[d.jsxs("button",{className:"cta-button-secondary",onClick:hs,disabled:Fr,title:"Generate a preview",children:[d.jsx(Q,{size:16}),"Preview"]}),d.jsx("button",{className:"cta-button-premium "+(Fr?"loading":""),style:{flex:1},onClick:hs,disabled:Fr,children:Fr?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"spinner-mini"}),d.jsx("span",{children:"Processing..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(X,{size:18}),d.jsxs("span",{children:["Generate ",zt.name]})]})}),d.jsxs("button",{className:"cta-button-secondary",onClick:()=>Cr(!0),title:"Save to Cloud Storage",children:[d.jsx(B,{size:18}),d.jsx("span",{children:"Save to Cloud"})]})]}),(()=>{const e=zt?.id?_r[zt.id]:null;return e?d.jsxs("div",{className:"agent-preview-mini animate-fadeIn",style:{marginTop:"16px",padding:"12px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[d.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",fontWeight:"600"},children:"Last Generated"}),d.jsx("div",{style:{display:"flex",gap:"8px"},children:d.jsxs("button",{onClick:()=>Dr(e),style:{background:"none",border:"none",color:"var(--color-cyan)",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx(ke,{size:12})," View Full"]})})]}),"image"===e.type&&e.imageUrl?d.jsx("img",{src:e.imageUrl,alt:"Preview",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"4px",cursor:"pointer"},onClick:()=>Dr(e)}):"video"===e.type&&e.videoUrl?d.jsxs("div",{style:{position:"relative"},children:[d.jsx("video",{src:e.videoUrl,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"4px",cursor:"pointer"},onClick:()=>Dr(e)}),e.audioUrl&&d.jsxs("div",{style:{position:"absolute",bottom:"4px",right:"4px",background:"rgba(0,0,0,0.6)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.65rem",color:"var(--color-cyan)",display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx(E,{size:10})," Synced"]})]}):"audio"!==e.type&&"vocal"!==e.type||!e.audioUrl?d.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-primary)",padding:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"4px",maxHeight:"80px",overflow:"hidden"},children:e.snippet}):d.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"4px",padding:"8px",display:"flex",gap:"12px",alignItems:"center"},children:[e.imageUrl&&d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"6px",background:`url(${e.imageUrl}) center/cover`,flexShrink:0}}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[e.backingTrackUrl?d.jsxs(d.Fragment,{children:[d.jsx("div",{style:{fontSize:"0.65rem",color:"var(--color-pink)",marginBottom:"2px",fontWeight:"bold"},children:"Synced Vocals"}),d.jsx("audio",{controls:!0,src:e.audioUrl,style:{width:"100%",height:"32px",marginBottom:"4px"},onPlay:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&(t.currentTime=e.target.currentTime,t.play())},onPause:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&t.pause()},onTimeUpdate:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&Math.abs(t.currentTime-e.target.currentTime)>.5&&(t.currentTime=e.target.currentTime)}}),d.jsx("audio",{className:"preview-backing-audio",src:e.backingTrackUrl,style:{display:"none"}})]}):d.jsx("audio",{controls:!0,src:e.audioUrl,style:{width:"100%",height:"32px",marginBottom:"4px"}}),d.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.snippet})]})]}),d.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[d.jsxs("button",{className:"btn-pill primary",style:{flex:1,fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{ai?(na(ai.id,e),l.success(`Saved to ${ai.name}`)):la(`New ${zt?.name||"AI"} Project`,e)},children:[d.jsx(Z,{size:14})," Save to Project"]}),e.snippet&&!e.audioUrl&&d.jsxs("button",{className:"btn-pill secondary",style:{fontSize:"0.75rem"},disabled:Fa,onClick:()=>{const t=e.snippet||e.content||"";["rapper","rapper-female","singer","singer-female"].includes(jr.style)?Ga(t,zt?.name||"AI"):window.speechSynthesis.speaking?window.speechSynthesis.cancel():ms(t)},title:["rapper","rapper-female","singer","singer-female"].includes(jr.style)?`Read aloud using AI ${jr.style} voice (takes 30-60 seconds)`:"Read text aloud using browser TTS",children:[d.jsx(ae,{size:14})," ",Fa?"Creating...":"Read Aloud"]})]})]}):null})(),d.jsxs("p",{className:"studio-disclaimer",children:[d.jsx(Re,{size:12}),"AI-generated content may require manual review for platform compliance."]})]})]}),d.jsxs("div",{className:"agent-history-section",style:{marginTop:"24px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[d.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:"1.1rem",color:"white"},children:[d.jsx(N,{size:18,style:{color:"var(--color-purple)"}}),zt.name," Inventory",d.jsxs("span",{style:{fontSize:"0.7rem",padding:"3px 8px",background:"rgba(139, 92, 246, 0.2)",borderRadius:"10px",color:"var(--color-purple)",fontWeight:"600"},children:[(Ir||[]).filter(e=>e.agent===zt.name).length," items"]})]}),d.jsxs("button",{onClick:()=>wt("mystudio"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",color:"var(--text-secondary)",fontSize:"0.8rem",cursor:"pointer"},children:["View All",d.jsx(Ae,{size:14})]})]}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxHeight:"400px",overflowY:"auto",paddingRight:"8px"},children:(()=>{const e=Ir.flatMap(e=>e.assets||[]).filter(e=>e.agent===zt.name||e.agentId===zt.id).sort((e,t)=>new Date(t.date||0)-new Date(e.date||0));return e.length>0?e.map((e,t)=>d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 16px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"14px",border:"1px solid rgba(255, 255, 255, 0.08)",transition:"all 0.2s ease",cursor:"pointer"},onClick:()=>Dr(e),onMouseOver:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.1)",e.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.03)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.08)"},children:[d.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"10px",background:e.imageUrl?`url(${e.imageUrl}) center/cover`:e.audioUrl?"linear-gradient(135deg, var(--color-cyan), var(--color-green))":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,position:"relative",overflow:"hidden"},children:[!e.imageUrl&&!e.audioUrl&&d.jsx(se,{size:20,style:{color:"white"}}),e.audioUrl&&!e.imageUrl&&d.jsx(ae,{size:20,style:{color:"white"}}),e.imageUrl&&e.audioUrl&&d.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"rgba(0,0,0,0.6)",padding:"2px",borderTopLeftRadius:"6px"},children:d.jsx(E,{size:12,color:"white"})})]}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"white",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled Creation"}),d.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e.snippet?.substring(0,60)||"No prompt saved","..."]}),d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"6px"},children:d.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx(re,{size:10}),e.date||"Recent"]})})]}),d.jsx("div",{style:{display:"flex",gap:"6px",flexShrink:0},children:d.jsx("button",{onClick:t=>{t.stopPropagation(),Dr(e)},title:"View",style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:d.jsx(ee,{size:14})})})]},t)):d.jsxs("div",{style:{padding:"32px",textAlign:"center",color:"var(--text-secondary)",background:"rgba(255,255,255,0.02)",borderRadius:"12px"},children:[d.jsx(w,{size:24,style:{opacity:.3,marginBottom:"8px"}}),d.jsx("p",{children:"No creations yet. Start generating!"})]})})()}),zt&&(Ir||[]).filter(e=>e.agent===zt.name).length>0&&d.jsxs("div",{style:{marginTop:"16px",padding:"14px 16px",background:"rgba(139, 92, 246, 0.08)",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.15)"},children:[d.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:d.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"white",display:"flex",alignItems:"center",gap:"6px"},children:[d.jsx(re,{size:14,style:{color:"var(--color-purple)"}}),"Recent Prompts"]})}),d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:(Ir||[]).filter(e=>e.agent===zt?.name&&e.snippet).slice(0,5).map((e,t)=>d.jsxs("button",{onClick:()=>{const t=bt.current||document.querySelector(".studio-textarea");t&&(t.value=e.snippet,t.dispatchEvent(new Event("input",{bubbles:!0})),l.success("Prompt loaded!"))},style:{padding:"6px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"0.7rem",cursor:"pointer",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.2)",e.currentTarget.style.borderColor="rgba(139, 92, 246, 0.4)",e.currentTarget.style.color="white"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)",e.currentTarget.style.color="var(--text-secondary)"},title:e.snippet,children:[e.snippet?.substring(0,25),"..."]},t))})]})]})]}),d.jsxs("div",{className:"agent-side-panel",children:[zt.hasSocials&&d.jsxs("div",{className:"side-info-card social-connect-card",children:[d.jsx("h3",{children:"Connect Socials"}),d.jsxs("div",{className:"social-connect-grid",children:[d.jsxs("button",{className:"social-connect-btn "+(Ia.instagram?"connected":""),onClick:()=>so("instagram"),children:[d.jsx(R,{size:16}),d.jsx("span",{children:Ia.instagram?Ua?`Insta: ${Ua}`:"Instagram Linked":"Link Instagram"})]}),d.jsxs("button",{className:"social-connect-btn "+(Ia.facebook?"connected":""),onClick:()=>so("facebook"),children:[d.jsx(X,{size:16}),d.jsx("span",{children:Ia.facebook?Ua?`FB: ${Ua}`:"Facebook Linked":"Link Facebook"})]}),d.jsxs("button",{className:"social-connect-btn "+(Ia.tiktok?"connected":""),onClick:()=>so("tiktok"),children:[d.jsx(X,{size:16}),d.jsx("span",{children:Ia.tiktok?"TikTok Linked":"Link TikTok"})]}),d.jsxs("button",{className:"social-connect-btn "+(Ia.twitter?"connected":""),onClick:()=>so("twitter"),children:[d.jsx(I,{size:16}),d.jsx("span",{children:Ia.twitter?Ra?`@${Ra}`:"X/Twitter Linked":"Link X/Twitter"})]}),("collab"===zt?.id||"release"===zt?.id)&&d.jsxs("button",{className:"social-connect-btn "+(Ia.spotify?"connected":""),onClick:()=>so("spotify"),children:[d.jsx(E,{size:16}),d.jsx("span",{children:Ia.spotify?"Spotify Linked":"Link Spotify"})]})]}),d.jsx("p",{className:"help-text mini",children:"One-click secure OAuth connection."})]}),d.jsxs("div",{className:"side-info-card",children:[d.jsx("h3",{children:"Capabilities"}),d.jsx("ul",{className:"capability-list",children:(zt?.capabilities||[]).map((e,t)=>d.jsxs("li",{children:[d.jsx(w,{size:14})," ",e]},t))})]}),d.jsxs("div",{className:"side-info-card",children:[d.jsx("h3",{children:"How to Use"}),d.jsx("p",{className:"help-text",children:zt?.howToUse||"Enter your prompt and generate content."})]}),d.jsxs("div",{className:"side-info-card agent-intelligence-card",children:[d.jsxs("div",{className:"card-header-with-icon",children:[d.jsx(A,{size:18,className:"text-purple"}),d.jsx("h3",{children:"Agent Intelligence"})]}),d.jsxs("div",{className:"intelligence-content",children:[d.jsxs("div",{className:"intel-section",children:[d.jsx("h4",{children:'The "How"'}),d.jsx("p",{className:"help-text small",children:zt?.explanation||""})]}),d.jsxs("div",{className:"intel-section",children:[d.jsx("h4",{children:"Pro Tips"}),d.jsx("p",{className:"help-text small",children:zt?.helpTips||""})]})]})]}),d.jsxs("div",{className:"side-info-card",children:[d.jsx("h3",{children:"Examples"}),d.jsx("div",{className:"example-chips",children:(zt?.examples||[]).map((e,t)=>d.jsxs("div",{className:"example-chip",onClick:()=>{const t=bt.current||document.querySelector(".studio-textarea");t&&(t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})),t.focus(),t.style.borderColor="var(--color-purple)",setTimeout(()=>t.style.borderColor="",300))},style:{cursor:"pointer"},children:['"',e,'"']},t))})]})]})]})]})}switch(ht){case"agents":{const e=Js(),t=Qs(),r=[...e,...t],i=()=>{if(!zt)return null;const e=zt.icon;return d.jsxs("div",{className:"agent-workspace-content",children:[Ms&&zt.onboarding&&d.jsxs("div",{className:"agent-nudge-overlay animate-fadeInDown",style:{marginBottom:"24px"},children:[d.jsxs("div",{className:"nudge-header",children:[d.jsxs("h4",{children:[d.jsx(w,{size:16})," Quick Start Guide"]}),d.jsx("button",{className:"nudge-close",onClick:()=>_s(!1),children:d.jsx(k,{size:16})})]}),d.jsx("div",{className:"nudge-steps",children:zt.onboarding.map((e,t)=>d.jsxs("div",{className:"nudge-step",children:[d.jsx("span",{className:"step-num",children:t+1}),d.jsx("p",{children:e})]},t))}),d.jsx("div",{className:"nudge-footer",children:d.jsx("button",{className:"nudge-cta",onClick:()=>_s(!1),children:"Got it, let's go!"})})]}),d.jsxs("div",{className:"agent-detail-layout",style:{gridTemplateColumns:"1fr 300px"},children:[d.jsxs("div",{className:"agent-main-panel",children:[d.jsxs("div",{className:"agent-hero-card",children:[d.jsx("div",{className:`agent-icon-large ${zt.colorClass}`,children:d.jsx(e,{size:40})}),d.jsxs("div",{className:"agent-hero-info",children:[d.jsx("span",{className:"agent-badge",children:zt.category}),d.jsx("h2",{children:zt.name}),d.jsx("p",{children:zt.description||zt.desc})]})]}),d.jsxs("div",{className:"agent-utility-box",children:[d.jsxs("div",{className:"utility-controls",children:[d.jsxs("div",{className:"control-group",children:[d.jsx("label",{children:"Genre / Style"}),d.jsxs("select",{className:"studio-select",children:[d.jsx("option",{children:"Hip Hop / Rap"}),d.jsx("option",{children:"Pop / Modern"}),d.jsx("option",{children:"R&B / Soul"}),d.jsx("option",{children:"Electronic / Dance"}),d.jsx("option",{children:"Rock / Alternative"}),d.jsx("option",{children:"Lo-Fi / Chill"})]})]}),d.jsxs("div",{className:"control-group",children:[d.jsx("label",{children:"Intensity / Mood"}),d.jsx("input",{type:"range",className:"studio-slider",min:"1",max:"10",defaultValue:"5"})]})]}),d.jsxs("div",{className:"prompt-area",children:[d.jsxs("div",{className:"prompt-header",children:[d.jsx("label",{children:"Creative Prompt"}),d.jsxs("div",{className:"voice-controls",children:[d.jsx("button",{className:"btn-pill "+(nr?"primary":"glass"),onClick:Ha,title:"Voice to Text",children:d.jsx(F,{size:16})}),d.jsx("button",{className:"btn-pill "+(dr?"primary":"glass"),onClick:ms,title:"Text to Voice",children:d.jsx(ae,{size:16})}),d.jsx("button",{className:"btn-pill "+(pr?"primary":"glass"),onClick:()=>xr(!pr),title:"Voice Settings",children:d.jsx(be,{size:16})})]})]}),d.jsx("textarea",{ref:bt,placeholder:`Describe what you want ${zt.name} to create...`,className:"studio-textarea"}),d.jsxs("div",{className:"generation-actions",style:{display:"flex",gap:"12px",marginTop:"16px"},children:[d.jsxs("button",{className:"btn-pill glass",onClick:()=>ri(zt),children:[d.jsx(X,{size:16}),"Quick Generate"]}),d.jsx("button",{className:"btn-pill primary "+(Fr?"loading":""),style:{flex:1},onClick:hs,disabled:Fr,children:Fr?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"spinner-mini"}),d.jsx("span",{children:"Processing..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(X,{size:18}),d.jsx("span",{children:"Generate"})]})})]})]})]}),d.jsxs("div",{className:"side-info-card",style:{marginTop:"16px"},children:[d.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(re,{size:16,className:"text-purple"}),"Recent Creations"]}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:(()=>{const e=(Ir||[]).filter(e=>e.agent===zt.name).slice(0,3);return e.length>0?e.map((e,t)=>d.jsxs("div",{onClick:()=>Dr(e),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s ease"},children:[d.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:e.imageUrl?`url(${e.imageUrl}) center/cover`:"rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:!e.imageUrl&&d.jsx(se,{size:14,style:{opacity:.5}})}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled"}),d.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:e.date||"Recent"})]}),d.jsx(ee,{size:14,style:{opacity:.5}})]},e.id||t)):d.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"No creations yet. Start generating!"})})()})]})]}),d.jsxs("div",{className:"agent-side-panel",children:[d.jsxs("div",{className:"side-info-card",children:[d.jsx("h3",{children:"Capabilities"}),d.jsx("ul",{className:"capability-list",children:(zt?.capabilities||[]).map((e,t)=>d.jsxs("li",{children:[d.jsx(w,{size:14})," ",e]},t))})]}),d.jsxs("div",{className:"side-info-card",children:[d.jsx("h3",{children:"How to Use"}),d.jsx("p",{className:"help-text",children:zt?.howToUse||"Enter your prompt and generate content."})]}),d.jsxs("div",{className:"side-info-card",children:[d.jsx("h3",{children:"Examples"}),d.jsx("div",{className:"example-chips",children:(zt?.examples||[]).slice(0,3).map((e,t)=>d.jsxs("div",{className:"example-chip",onClick:()=>{const t=bt.current;t&&(t.value=e,t.focus())},children:['"',e.length>50?e.substring(0,50)+"...":e,'"']},t))})]})]})]})]})};return d.jsxs("div",{className:"agents-split-layout",children:[d.jsxs("div",{className:"agents-sidebar",children:[d.jsxs("div",{className:"agents-sidebar-header",children:[d.jsxs("h3",{children:[d.jsx(w,{size:18,className:"text-purple"})," Agents"]}),d.jsxs("p",{children:[e.length," available"]})]}),d.jsxs("div",{className:"agents-sidebar-list",children:[d.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",borderRadius:"8px",borderLeft:"3px solid rgba(34, 197, 94, 0.6)"},children:d.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#22c55e",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[d.jsx(w,{size:12})," Free Tier",d.jsxs("span",{style:{marginLeft:"auto",background:"rgba(34, 197, 94, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[s.filter(e=>"free"===e.tier).length," agents"]})]})}),s.filter(e=>"free"===e.tier).map(t=>{const r=t.icon,s=zt?.id===t.id,i=!e.find(e=>e.id===t.id);return d.jsx("button",{className:`agent-sidebar-item ${t.colorClass} ${s?"active":""} ${i?"locked":""}`,"data-name":t.name,onClick:()=>{i?Ut?wt("mystudio"):Mt(!0):(Nt(t),a.agentUsed(t.id))},children:d.jsx("div",{className:`agent-sidebar-icon ${t.colorClass}`,children:d.jsx(r,{size:18})})},t.id)}),d.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(139, 92, 246, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",marginTop:"12px",borderRadius:"8px",borderLeft:"3px solid rgba(139, 92, 246, 0.6)"},children:d.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#a855f7",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[d.jsx(X,{size:12})," Monthly â€” $4.99/mo",d.jsxs("span",{style:{marginLeft:"auto",background:"rgba(139, 92, 246, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[s.filter(e=>"monthly"===e.tier).length," agents"]})]})}),s.filter(e=>"monthly"===e.tier).map(t=>{const r=t.icon,s=zt?.id===t.id,i=!e.find(e=>e.id===t.id);return d.jsx("button",{className:`agent-sidebar-item ${t.colorClass} ${s?"active":""} ${i?"locked":""}`,"data-name":t.name,onClick:()=>{i?Ut?wt("mystudio"):Mt(!0):(Nt(t),a.agentUsed(t.id))},children:d.jsx("div",{className:`agent-sidebar-icon ${t.colorClass}`,style:i?{background:"rgba(255,255,255,0.05)"}:{},children:d.jsx(r,{size:18,style:i?{opacity:.5}:{}})})},t.id)}),d.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(234, 179, 8, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",marginTop:"12px",borderRadius:"8px",borderLeft:"3px solid rgba(234, 179, 8, 0.6)"},children:d.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#eab308",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[d.jsx(Me,{size:12})," Pro â€” $9.99/mo",d.jsxs("span",{style:{marginLeft:"auto",background:"rgba(234, 179, 8, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[s.filter(e=>"pro"===e.tier).length," agents"]})]})}),s.filter(e=>"pro"===e.tier).map(t=>{const r=t.icon,s=zt?.id===t.id,i=!e.find(e=>e.id===t.id);return d.jsx("button",{className:`agent-sidebar-item ${t.colorClass} ${s?"active":""} ${i?"locked":""}`,"data-name":t.name,onClick:()=>{i?Ut?wt("mystudio"):Mt(!0):(Nt(t),a.agentUsed(t.id))},children:d.jsx("div",{className:`agent-sidebar-icon ${t.colorClass}`,style:i?{background:"rgba(255,255,255,0.05)"}:{},children:d.jsx(r,{size:18,style:i?{opacity:.5}:{}})})},t.id)})]})]}),d.jsx("div",{className:"agents-main-panel",children:zt?i():d.jsxs("div",{className:"agents-cards-view",style:{padding:"16px",overflowY:"auto"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[d.jsxs("div",{children:[d.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"800",marginBottom:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx(w,{size:24,className:"text-purple"}),"AI Agents Studio"]}),d.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[r.length," specialized agents â€¢ Click any card to start creating"]})]}),d.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d.jsxs("button",{onClick:()=>Ht(!0),className:"btn-pill glass haptic-press",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",color:"#06b6d4"},children:[d.jsx(se,{size:16}),"Whitepapers"]}),d.jsxs("button",{onClick:()=>Vt(!0),className:"btn-pill glass haptic-press",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",color:"#a855f7"},children:[d.jsx(Re,{size:16}),"Legal & Business"]})]})]}),!Ut&&d.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",maxWidth:"400px"},children:[d.jsx(X,{size:20,className:"text-purple"}),d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:[Wt?999999:Math.max(0,3-ps)," free generations left"]}),d.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Sign in to unlock more"})]}),d.jsx("button",{className:"btn-pill primary",onClick:()=>Mt(!0),style:{padding:"8px 16px",fontSize:"0.8rem"},children:"Sign In"})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[d.jsx(w,{size:16,style:{color:"#22c55e"}}),d.jsx("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Free Tier"}),d.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",s.filter(e=>"free"===e.tier).length," agents included"]})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:s.filter(e=>"free"===e.tier).map(t=>{const r=t.icon,s=!e.find(e=>e.id===t.id);return d.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?Ut?wt("mystudio"):Mt(!0):(Nt(t),a.agentUsed(t.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(34, 197, 94, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&d.jsx(ce,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),d.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(34, 197, 94, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:d.jsx(r,{size:20,style:{color:"#22c55e"}})}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[d.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",margin:0},children:t.name}),t.isBeta&&d.jsx("span",{style:{padding:"2px 6px",background:"rgba(251, 191, 36, 0.2)",color:"#fbbf24",borderRadius:"4px",fontSize:"0.55rem",fontWeight:"700",textTransform:"uppercase"},children:"BETA"})]}),d.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:t.category}),d.jsx("span",{style:{padding:"2px 6px",background:"rgba(34, 197, 94, 0.15)",color:"#22c55e",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"FREE"})]},t.id)})}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(251, 191, 36, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[d.jsx(X,{size:16,style:{color:"#fbbf24"}}),d.jsx("span",{style:{fontWeight:"700",color:"#fbbf24",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Monthly â€” $4.99/mo"}),d.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",s.filter(e=>"monthly"===e.tier).length," agents"]})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:s.filter(e=>"monthly"===e.tier).map(t=>{const r=t.icon,s=!e.find(e=>e.id===t.id);return d.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?Ut?wt("mystudio"):Mt(!0):(Nt(t),a.agentUsed(t.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(251, 191, 36, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(251, 191, 36, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&d.jsx(ce,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),d.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:d.jsx(r,{size:20,style:{color:"#fbbf24"}})}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[d.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",margin:0},children:t.name}),t.isBeta&&d.jsx("span",{style:{padding:"2px 6px",background:"rgba(251, 191, 36, 0.2)",color:"#fbbf24",borderRadius:"4px",fontSize:"0.55rem",fontWeight:"700",textTransform:"uppercase"},children:"BETA"})]}),d.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:t.category}),d.jsx("span",{style:{padding:"2px 6px",background:"rgba(251, 191, 36, 0.15)",color:"#fbbf24",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"MONTHLY"})]},t.id)})}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(168, 85, 247, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[d.jsx(Me,{size:16,style:{color:"#a855f7"}}),d.jsx("span",{style:{fontWeight:"700",color:"#a855f7",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Pro â€” $9.99/mo"}),d.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",s.filter(e=>"pro"===e.tier).length," agents"]})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:s.filter(e=>"pro"===e.tier).map(t=>{const r=t.icon,s=!e.find(e=>e.id===t.id);return d.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?Ut?wt("mystudio"):Mt(!0):(Nt(t),a.agentUsed(t.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(168, 85, 247, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&d.jsx(ce,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),d.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(168, 85, 247, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:d.jsx(r,{size:20,style:{color:"#a855f7"}})}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"4px"},children:[d.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",margin:0},children:t.name}),t.isBeta&&d.jsx("span",{style:{padding:"2px 6px",background:"rgba(251, 191, 36, 0.2)",color:"#fbbf24",borderRadius:"4px",fontSize:"0.55rem",fontWeight:"700",textTransform:"uppercase"},children:"BETA"}),t.comingSoon&&d.jsx("span",{style:{padding:"2px 6px",background:"rgba(100, 116, 139, 0.2)",color:"#94a3b8",borderRadius:"4px",fontSize:"0.55rem",fontWeight:"700",textTransform:"uppercase"},children:"SOON"})]}),d.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:t.category}),d.jsx("span",{style:{padding:"2px 6px",background:"rgba(168, 85, 247, 0.15)",color:"#a855f7",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"PRO"})]},t.id)})})]})]})})]})}case"hub":return d.jsx(n.Suspense,{fallback:d.jsx(ot,{}),children:d.jsx(Ze,{projects:Ir,setProjects:Tr,onSelectProject:e=>{Ii(null),oi(e),li(!0)},onCreateProject:e=>{if(("number"==typeof is?is:0)<2)return l.error("Not enough credits. You need 2 credits to save."),void Kt(!0);as(e=>e-2),Tr(t=>[e,...t]),Ut&&Rt&&bs(Rt.uid,e).then(e=>{}).catch(e=>{}),Ii(null),oi(e),li(!0),l.success(`Saved "${e.name}" with ${e.assets?.length||0} assets!`)},onDeleteProject:io,setActiveTab:wt,setSelectedAgent:Nt,setQuickWorkflowAgent:ri})});case"project_canvas":return ai?d.jsxs("div",{className:"project-canvas animate-fadeIn",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[d.jsxs("div",{className:"canvas-header",style:{marginBottom:"32px"},children:[d.jsxs("button",{onClick:()=>wt("hub"),className:"back-btn",style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",marginBottom:"16px",fontSize:"0.9rem"},children:[d.jsx(Ce,{size:18})," Back to Hub"]}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"20px"},children:[d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[d.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",margin:0},children:ai.name}),d.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",background:"rgba(139, 92, 246, 0.1)",color:"var(--color-purple)",fontSize:"0.75rem",fontWeight:"600",border:"1px solid rgba(139, 92, 246, 0.2)"},children:ai.category?.toUpperCase()||"PROJECT"})]}),d.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"600px",margin:0},children:ai.description||"No description provided."})]}),d.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d.jsxs("button",{className:"btn-secondary",onClick:()=>ei(!0),style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(Je,{size:18})," Add Agents"]}),d.jsxs("button",{className:"btn-primary",onClick:()=>{ai.agents&&ai.agents.length>0?Nt(ai.agents[0]):ei(!0)},style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(X,{size:18})," Open Studio"]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"24px",marginTop:"24px",padding:"16px",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(re,{size:16,className:"text-cyan"}),d.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Created: ",d.jsx("span",{style:{color:"white"},children:ai.date})]})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(z,{size:16,className:"text-purple"}),d.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Assets: ",d.jsx("span",{style:{color:"white"},children:ai.assets?.length||0})]})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(Je,{size:16,className:"text-green"}),d.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Team: ",d.jsxs("span",{style:{color:"white"},children:[ai.agents?.length||0," Agents"]})]})]})]})]}),d.jsxs("div",{className:"canvas-content",children:[d.jsxs("div",{style:{marginBottom:"40px"},children:[d.jsxs("h3",{style:{fontSize:"1.2rem",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(Je,{size:20,className:"text-purple"})," Active Agents"]}),ai.agents&&ai.agents.length>0?d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"16px"},children:[ai.agents.map(e=>{const t=e.icon||w;return d.jsxs("div",{onClick:()=>Nt(e),style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",padding:"16px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"12px"},onMouseOver:e=>{e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.transform="translateY(-2px)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(0)"},children:[d.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(139, 92, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(t,{size:20,className:"text-purple"})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:"600"},children:e.name}),d.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:e.category})]}),d.jsx(Ae,{size:16,style:{marginLeft:"auto",opacity:.5}})]},e.id)}),d.jsxs("button",{onClick:()=>ei(!0),style:{background:"transparent",border:"1px dashed var(--border-color)",borderRadius:"12px",padding:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",color:"var(--text-secondary)",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.borderColor="var(--color-cyan)",e.currentTarget.style.color="var(--color-cyan)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.color="var(--text-secondary)"},children:[d.jsx(pe,{size:20}),d.jsx("span",{children:"Add Agent"})]})]}):d.jsxs("div",{style:{padding:"32px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px dashed var(--border-color)"},children:[d.jsx(Je,{size:32,style:{opacity:.3,marginBottom:"12px"}}),d.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:"No agents assigned to this project yet."}),d.jsx("button",{className:"btn-secondary",onClick:()=>ei(!0),children:"Assign Agents"})]})]}),d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[d.jsxs("h3",{style:{fontSize:"1.2rem",margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(z,{size:20,className:"text-cyan"})," Project Generations"]}),d.jsxs("div",{style:{display:"flex",gap:"8px"},children:[d.jsx("button",{className:"btn-icon-sm",title:"Grid View",children:d.jsx(z,{size:16})}),d.jsx("button",{className:"btn-icon-sm",title:"List View",children:d.jsx(Oe,{size:16})})]})]}),ai.assets&&ai.assets.length>0?d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:ai.assets.map((e,t)=>d.jsxs("div",{className:"asset-card",style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s ease"},children:[d.jsxs("div",{style:{height:"160px",background:e.imageUrl?`url(${e.imageUrl}) center/cover`:"linear-gradient(135deg, #1e1e2e, #2d2d44)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>Dr(e),children:[!e.imageUrl&&("audio"===e.type?d.jsx(E,{size:48,style:{opacity:.2}}):"video"===e.type?d.jsx(V,{size:48,style:{opacity:.2}}):d.jsx(se,{size:48,style:{opacity:.2}})),d.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",fontSize:"0.7rem",fontWeight:"600",color:"white",textTransform:"uppercase"},children:e.type||"Text"}),("audio"===e.type||"video"===e.type)&&d.jsx("div",{className:"play-overlay",style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:d.jsx(Q,{size:24,fill:"white",color:"white"})})]}),d.jsxs("div",{style:{padding:"16px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[d.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-purple)",fontWeight:"600"},children:e.agent||"AI Generated"}),d.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.date||"Just now"})]}),d.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled Asset"}),d.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)",height:"40px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.snippet||e.description||"No description available."}),d.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[d.jsxs("button",{className:"btn-secondary-sm",style:{flex:1},onClick:()=>Dr(e),children:[d.jsx(ee,{size:14})," View"]}),d.jsxs("button",{className:"btn-secondary-sm",style:{flex:1},onClick:()=>{e.snippet&&(navigator.clipboard.writeText(e.snippet),l.success("Copied to clipboard"))},children:[d.jsx(Copy,{size:14})," Copy"]})]})]})]},t))}):d.jsxs("div",{style:{padding:"48px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px dashed var(--border-color)"},children:[d.jsx(z,{size:48,style:{opacity:.2,marginBottom:"16px"}}),d.jsx("h3",{style:{marginBottom:"8px"},children:"No generations yet"}),d.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Launch an agent to start creating content for this project."}),d.jsx("button",{className:"btn-primary",onClick:()=>{ai.agents&&ai.agents.length>0?Nt(ai.agents[0]):ei(!0)},children:"Start Creating"})]})]})]})]}):d.jsx("div",{className:"p-8 text-center animate-fadeIn",children:d.jsx("div",{style:{opacity:.6},children:"Loading project..."})});case"resources":{const e=[{id:"agents",icon:w,label:"AI Agents",desc:"Your creative team",color:"var(--color-purple)"},{id:"mystudio",icon:N,label:"My Studio",desc:"Projects & assets",color:"var(--color-cyan)"},{id:"activity",icon:E,label:"Music Hub",desc:"Reddit, YouTube & Releases",color:"var(--color-pink)"},{id:"news",icon:R,label:"Industry Pulse",desc:"Latest music & tech news",color:"var(--color-emerald)"},{id:"support",icon:A,label:"Help & Support",desc:"FAQ & contact us",color:"var(--color-orange)"},{id:"marketing",icon:Ue,label:"About Us",desc:"Our mission & vision",color:"var(--color-yellow)"},{id:"hub",icon:Z,label:"Project Hub",desc:"Manage all projects",color:"var(--color-blue)"},{id:"profile",icon:S,label:"My Profile",desc:"Account settings",color:"var(--color-purple)"}];return d.jsxs("div",{className:"resources-view animate-fadeInUp",children:[d.jsxs("div",{className:"resources-header",children:[d.jsx("h1",{children:"Creator Resources"}),d.jsx("p",{children:"Quick access to all studio features and tools."})]}),d.jsx("div",{className:"resources-cards-grid",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:e.map(e=>{const t=e.icon;return d.jsxs("div",{onClick:()=>wt(e.id),role:"button",tabIndex:0,className:"haptic-press",style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"28px 20px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"16px",minHeight:"180px"},onMouseEnter:t=>{t.currentTarget.style.borderColor=e.color,t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow=`0 8px 24px ${e.color}20`},onMouseLeave:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[d.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"18px",background:`${e.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(t,{size:34,style:{color:e.color}})}),d.jsxs("div",{children:[d.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:e.label}),d.jsx("p",{style:{margin:"6px 0 0",fontSize:"0.75rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:e.desc})]})]},e.id)})})]})}case"marketing":return d.jsxs("div",{className:"marketing-view animate-fadeInUp",style:{paddingBottom:"80px"},children:[d.jsxs("div",{className:"marketing-hero",style:{textAlign:"center",padding:"60px 20px",background:"linear-gradient(180deg, rgba(124, 58, 237, 0.1) 0%, rgba(0,0,0,0) 100%)",marginBottom:"40px"},children:[d.jsxs("div",{className:"hero-badge",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(124, 58, 237, 0.2)",borderRadius:"20px",color:"#a78bfa",fontSize:"0.85rem",marginBottom:"20px",border:"1px solid rgba(124, 58, 237, 0.3)"},children:[d.jsx(w,{size:14}),d.jsx("span",{children:"The Future of Music Creation"})]}),d.jsxs("h1",{style:{fontSize:"3rem",fontWeight:"800",marginBottom:"16px",lineHeight:"1.1"},children:["The Studio ",d.jsx("span",{className:"text-gradient-purple",children:"Agents"})]}),d.jsx("p",{style:{fontSize:"1.2rem",color:"var(--text-secondary)",maxWidth:"600px",margin:"0 auto"},children:"An AI-powered record label in your pocket. 16 specialized agents working 24/7 to build your career."})]}),d.jsxs("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:[d.jsxs("div",{className:"section-header",style:{marginBottom:"30px"},children:[d.jsx("h2",{style:{fontSize:"2rem",marginBottom:"10px"},children:"The Story"}),d.jsx("div",{style:{width:"60px",height:"4px",background:"var(--color-purple)",borderRadius:"2px"}})]}),d.jsxs("div",{className:"story-card",style:{background:"var(--color-bg-secondary)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)",position:"relative",overflow:"hidden"},children:[d.jsxs("div",{style:{position:"relative",zIndex:2},children:[d.jsx("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"var(--text-primary)",marginBottom:"20px"},children:"For decades, the music industry has been a walled garden. Only the top 1% of artists had access to world-class producers, marketing teams, and A&R strategy."}),d.jsxs("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"var(--text-primary)"},children:[d.jsx("strong",{children:"The Studio changes that."})," We've distilled the expertise of industry veterans into 16 specialized AI agents. Whether you need a lyricist at 3 AM, a marketing strategy for your release, or a visual identity for your brand, The Studio is always open."]})]}),d.jsx("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"200px",height:"200px",background:"radial-gradient(circle, rgba(124, 58, 237, 0.15) 0%, rgba(0,0,0,0) 70%)",borderRadius:"50%"}})]})]}),d.jsx("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:d.jsxs("div",{className:"grid-2-col",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[d.jsxs("div",{className:"vision-card",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[d.jsx("div",{className:"icon-box",style:{width:"50px",height:"50px",background:"rgba(59, 130, 246, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:d.jsx(Le,{size:24,className:"text-cyan"})}),d.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"12px"},children:"Our Vision"}),d.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"To democratize the entire music supply chain. We believe every artist deserves a team that cares as much about their music as they do."})]}),d.jsxs("div",{className:"vision-card",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[d.jsx("div",{className:"icon-box",style:{width:"50px",height:"50px",background:"rgba(236, 72, 153, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:d.jsx(ve,{size:24,className:"text-pink"})}),d.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"12px"},children:"For Creators"}),d.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"Built for the bedroom producers, the songwriters, and the independent artists who are ready to take their career to the next level."})]})]})}),d.jsx("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:d.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px"},children:[d.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-purple)",marginBottom:"5px"},children:"16"}),d.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Specialized Agents"})]}),d.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-cyan)",marginBottom:"5px"},children:"24/7"}),d.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Availability"})]}),d.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-green)",marginBottom:"5px"},children:"âˆž"}),d.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Creative Potential"})]}),d.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-orange)",marginBottom:"5px"},children:"100%"}),d.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Royalty Free"})]})]})}),d.jsx("div",{className:"marketing-cta",style:{padding:"0 20px 40px",textAlign:"center"},children:d.jsxs("button",{className:"cta-button-primary haptic-press",style:{width:"100%",padding:"16px",fontSize:"1.1rem"},onClick:()=>Ji(!0),children:["Create New Project ",d.jsx(Ae,{size:20,style:{marginLeft:"8px"}})]})})]});case"activity":return d.jsxs("div",{className:"music-hub-view animate-fadeInUp",style:{paddingBottom:"100px"},children:[d.jsxs("div",{className:"orchestrator-header",style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(6, 182, 212, 0.15) 50%, rgba(236, 72, 153, 0.15) 100%)",borderRadius:"24px",padding:"32px",marginBottom:"24px",border:"1px solid rgba(255,255,255,0.1)",position:"relative",overflow:"hidden"},children:[d.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 50%, rgba(168, 85, 247, 0.2) 0%, transparent 50%)",pointerEvents:"none"}}),d.jsxs("div",{style:{position:"relative",zIndex:1},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px"},children:[d.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(168, 85, 247, 0.4)"},children:d.jsx(E,{size:28,color:"white"})}),d.jsxs("div",{children:[d.jsx("h1",{style:{margin:0,fontSize:"2rem",fontWeight:"700",background:"linear-gradient(90deg, white, rgba(255,255,255,0.8))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Music Hub"}),d.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.95rem"},children:"Reddit â€¢ YouTube â€¢ New Releases â€” All things music in one place"})]})]}),d.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"20px",flexWrap:"wrap"},children:[{id:"all",label:"All",icon:X},{id:"reddit",label:"Reddit",icon:I},{id:"youtube",label:"YouTube",icon:$},{id:"releases",label:"New Releases",icon:We}].map(e=>d.jsxs("button",{onClick:()=>{va?.(e.id)||localStorage.setItem("musicHubSection",e.id),Ka(1,e.id)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"12px",border:"none",background:(ba||localStorage.getItem("musicHubSection")||"all")===e.id?"linear-gradient(135deg, var(--color-purple), var(--color-cyan))":"rgba(255,255,255,0.08)",color:"white",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:[d.jsx(e.icon,{size:16}),e.label]},e.id))})]})]}),d.jsx("div",{className:"music-hub-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"20px"},children:ha.map((e,t)=>d.jsxs("div",{className:"music-hub-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.08)",overflow:"hidden",transition:"all 0.3s ease",cursor:"pointer"},onClick:()=>window.open(e.url,"_blank"),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.boxShadow="0 12px 40px rgba(168, 85, 247, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.borderColor="rgba(255,255,255,0.08)",e.currentTarget.style.boxShadow="none"},children:[e.imageUrl&&d.jsxs("div",{style:{position:"relative",aspectRatio:"16/9",overflow:"hidden"},children:[d.jsx("img",{src:e.imageUrl,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"},loading:"lazy"}),e.isVideo&&d.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"56px",height:"56px",borderRadius:"50%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:d.jsx($,{size:28,color:"white"})}),d.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",padding:"6px 12px",borderRadius:"8px",background:"youtube"===e.type?"rgba(255, 0, 0, 0.9)":"reddit"===e.type?"rgba(255, 69, 0, 0.9)":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",color:"white",fontSize:"0.7rem",fontWeight:"700",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"6px"},children:["youtube"===e.type&&d.jsx($,{size:12}),"reddit"===e.type&&d.jsx(I,{size:12}),"release"===e.type&&d.jsx(We,{size:12}),e.source]})]}),d.jsxs("div",{style:{padding:"16px"},children:[d.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"6px",background:`var(--${e.color?.replace("agent-","color-")||"color-purple"})`,opacity:.8,fontSize:"0.7rem",fontWeight:"600",marginBottom:"10px",textTransform:"uppercase"},children:e.category}),d.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1rem",fontWeight:"600",color:"white",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),d.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.snippet||e.author}),d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[void 0!==e.likes&&d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[d.jsx(X,{size:14,style:{color:"var(--color-purple)"}}),e.likes>1e3?`${(e.likes/1e3).toFixed(1)}k`:e.likes]}),void 0!==e.comments&&d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[d.jsx(I,{size:14}),e.comments]})]}),d.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.time})]})]})]},`${e.id}-${t}`))}),ha.filter(e=>!e.imageUrl).length>0&&d.jsxs("div",{style:{marginTop:"32px"},children:[d.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-secondary)",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Upcoming & Recent Releases"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:ha.filter(e=>!e.imageUrl&&"release"===e.type).slice(0,10).map((e,t)=>d.jsxs("div",{onClick:()=>window.open(e.url,"_blank"),style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.06)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255,255,255,0.06)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.03)",children:[d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:0===e.daysUntil?"linear-gradient(135deg, var(--color-emerald), var(--color-cyan))":e.daysUntil>0?"linear-gradient(135deg, var(--color-purple), var(--color-pink))":"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:d.jsx(We,{size:22,color:"white"})}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx("div",{style:{fontWeight:"600",color:"white",marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),d.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:e.snippet})]}),d.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",background:0===e.daysUntil?"var(--color-emerald)":e.daysUntil>0?"rgba(168, 85, 247, 0.2)":"rgba(255,255,255,0.1)",color:0===e.daysUntil?"black":"white",fontSize:"0.75rem",fontWeight:"700",whiteSpace:"nowrap"},children:e.time})]},`release-${e.id}-${t}`))})]}),xa&&d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"40px",color:"var(--text-secondary)"},children:[d.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),d.jsx("span",{children:"Loading music content..."})]}),!xa&&0===ha.length&&d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 24px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[d.jsx(E,{size:48,style:{color:"var(--color-purple)",marginBottom:"16px",opacity:.6}}),d.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1.2rem",color:"var(--text-primary)"},children:"No Music Content Available"}),d.jsx("p",{style:{margin:"0 0 20px 0",color:"var(--text-secondary)",maxWidth:"400px"},children:"Unable to load music content from Reddit, YouTube, or new releases. Make sure the backend server is running."}),d.jsxs("button",{onClick:()=>Ka(1),style:{padding:"12px 24px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",color:"white",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(RefreshCw,{size:16})," Try Again"]})]}),!xa&&ua&&ha.length>0&&d.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:"32px"},children:d.jsx("button",{onClick:()=>Ka(ca+1),style:{padding:"14px 32px",borderRadius:"12px",border:"1px solid var(--color-purple)",background:"transparent",color:"var(--color-purple)",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="var(--color-purple)",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="var(--color-purple)"},children:"Load More"})}),!ua&&ha.length>0&&d.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:d.jsx("p",{children:"ðŸŽµ You've explored all the latest music content. Check back soon!"})})]});case"news":return d.jsx(n.Suspense,{fallback:d.jsx(ot,{}),children:d.jsx(et,{newsItems:ao,newsSearch:Gt,setNewsSearch:qt,isLoadingNews:wa,onRefresh:oo,hasMoreNews:Sa,onLoadMore:()=>Xa(fa+1)})});case"profile":return d.jsxs("div",{className:"studio-profile-view animate-fadeInUp",style:{padding:"24px",maxWidth:"800px",margin:"0 auto"},children:[d.jsxs("div",{className:"profile-header",style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"32px"},children:[d.jsxs("div",{className:"profile-avatar-large",style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",border:"2px solid var(--color-purple)",position:"relative"},children:[Rt?.photoURL?d.jsx("img",{src:Rt.photoURL,alt:"User",style:{width:"100%",height:"100%"}}):d.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:Rt?.displayName?.charAt(0)||"U"}),d.jsx("button",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.6)",border:"none",color:"white",fontSize:"0.7rem",padding:"4px",cursor:"pointer"},children:"Edit"})]}),d.jsxs("div",{children:[d.jsx("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:Yr.stageName||Rt?.displayName||"Guest Creator"}),d.jsx("p",{style:{color:"var(--text-secondary)"},children:Rt?.email||"No email linked"}),d.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[d.jsxs("span",{className:"badge",style:{background:"var(--color-purple)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:[Yr.plan," Plan"]}),d.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.1)",color:"var(--text-secondary)",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:["Member since ",Yr.memberSince]}),d.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.1)",color:"var(--color-cyan)",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:[Yr.credits," Credits"]})]})]})]}),d.jsxs("div",{className:"profile-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[d.jsxs("div",{className:"stat-card",style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center"},children:[d.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-purple)",marginBottom:"4px"},children:(Ir||[]).length}),d.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Projects"})]}),d.jsxs("div",{className:"stat-card",style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center"},children:[d.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-cyan)",marginBottom:"4px"},children:new Set((Ir||[]).map(e=>e.agent)).size}),d.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Agents Used"})]}),d.jsxs("div",{className:"stat-card haptic-press",onClick:()=>Kt(!0),style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer"},children:[d.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-orange)",marginBottom:"4px"},children:Yr.credits}),d.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Credits Left"})]})]}),d.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[d.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(S,{size:20})," Creator Profile"]}),d.jsxs("div",{className:"form-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Stage Name"}),d.jsx("input",{type:"text",value:Yr.stageName,onChange:e=>Jr({...Yr,stageName:e.target.value}),placeholder:Rt?.displayName||"Enter stage name",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Primary Genre"}),d.jsxs("select",{value:Yr.genre,onChange:e=>Jr({...Yr,genre:e.target.value}),className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"},children:[d.jsx("option",{children:"Hip Hop / Rap"}),d.jsx("option",{children:"R&B"}),d.jsx("option",{children:"Pop"}),d.jsx("option",{children:"Electronic"}),d.jsx("option",{children:"Rock"}),d.jsx("option",{children:"Afrobeats"}),d.jsx("option",{children:"Latin"})]})]}),d.jsxs("div",{className:"form-group",style:{gridColumn:"span 2"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Creator Bio"}),d.jsx("textarea",{rows:"4",value:Yr.bio,onChange:e=>Jr({...Yr,bio:e.target.value}),placeholder:"Tell your story...",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px",resize:"vertical"}})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Location"}),d.jsx("input",{type:"text",value:Yr.location,onChange:e=>Jr({...Yr,location:e.target.value}),placeholder:"City, Country",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Website"}),d.jsx("input",{type:"text",value:Yr.website,onChange:e=>Jr({...Yr,website:e.target.value}),placeholder:"https://",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]})]})]}),d.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[d.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(L,{size:20})," Social Connections"]}),d.jsx("div",{className:"social-connect-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{id:"instagram",label:"Instagram",icon:Ne,color:"#E1306C"},{id:"twitter",label:"X / Twitter",icon:ze,color:"#1DA1F2"},{id:"spotify",label:"Spotify for Artists",icon:E,color:"#1DB954"},{id:"tiktok",label:"TikTok",icon:V,color:"#00f2ea"}].map(e=>d.jsxs("div",{className:"social-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[d.jsx(e.icon,{size:20,color:e.color}),d.jsx("span",{children:e.label})]}),d.jsx("button",{className:"btn-sm",onClick:()=>Ta(t=>{const r={...t,[e.id]:!t[e.id]};return localStorage.setItem("studio_agents_socials",JSON.stringify(r)),r}),style:{background:Ia[e.id]?"rgba(16, 185, 129, 0.2)":"transparent",border:"1px solid "+(Ia[e.id]?"#10b981":"var(--border-color)"),color:Ia[e.id]?"#10b981":"white",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",minWidth:"100px"},children:Ia[e.id]?"Connected":"Connect"})]},e.id))})]}),d.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[d.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(be,{size:20})," Preferences"]}),d.jsx("div",{className:"preferences-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:d.jsxs("div",{className:"preference-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["dark"===St?d.jsx(Pe,{size:20}):d.jsx(De,{size:20}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:"600"},children:"Appearance"}),d.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"dark"===St?"Dark Mode":"Light Mode"})]})]}),d.jsxs("button",{className:"btn-sm",onClick:()=>Ct("dark"===St?"light":"dark"),style:{background:"transparent",border:"1px solid var(--border-color)",color:"var(--text-primary)",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",minWidth:"100px"},children:["Switch to ","dark"===St?"Light":"Dark"]})]})})]}),d.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[d.jsx("button",{className:"cta-button-secondary",onClick:()=>wt("mystudio"),children:"Cancel"}),d.jsx("button",{className:"cta-button-premium",onClick:()=>{localStorage.setItem("studio_user_profile",JSON.stringify(Yr)),l.success("Profile saved!"),wt("mystudio")},children:"Save Changes"})]})]});case"support":{const e=[{icon:T,title:"Getting Started",desc:"Learn the basics of the Studio Agents workflow.",details:'To get started, select an agent from the "Agents" tab. Each agent specializes in a different part of the music creation process. For example, Ghostwriter can help you write lyrics, while Beat Lab can generate drum patterns. Once you\'ve selected an agent, enter a prompt describing what you want to create. You can then save your creation as a new project, which will appear in your Project Hub for later recall.'},{icon:X,title:"Agent Mastery",desc:"Deep dives into each agent's unique capabilities.",details:'Mastering our agents requires understanding their specific strengths. Ghostwriter responds best to emotional cues and genre-specific keywords. Album Artist can interpret complex visual metaphors. Trend Hunter scans real-time social data to give you a competitive edge. Experiment with different "Intensity" settings to see how the AI\'s creativity shifts from subtle to experimental.'},{icon:$,title:"Video Tutorials",desc:"Watch step-by-step guides on making hits.",details:'Our video library includes tutorials on: "Writing Your First Hit with Ghostwriter", "Advanced Beat Making with Beat Lab", and "Strategic Rollouts with Release Manager". Each video is under 5 minutes and designed to get you creating immediately. Pro members get access to exclusive masterclasses from industry-leading producers who use Studio Agents in their daily workflow.'},{icon:I,title:"Community Tips",desc:"See how other creators are using the studio.",details:'Join our Discord community and check out the "Activity Wall" to share prompts, collaborate with other creators, and get feedback on your AI-assisted tracks. Many users have found success by combining outputs from multiple agentsâ€”for example, using Ghostwriter for lyrics and then feeding those lyrics into a vocal synth. The possibilities are endless when you collaborate with the community.'}],t=[{keywords:["download","save","export","phone","photos"],issue:"Cannot download or save to device",solution:'Ensure you have granted storage permissions to your browser. On mobile, long-press the image or use the "Save to Files" option in the share menu. If using cloud storage, verify your Google Drive or OneDrive connection is active.'},{keywords:["audio","sound","hear","play","silent"],issue:"No sound during playback",solution:"Check if your device is on silent mode. Ensure the volume slider in the Media Player is turned up. Some browsers block auto-play audio; try clicking the play button manually."},{keywords:["slow","stuck","loading","generate","wait"],issue:"Generation is taking too long",solution:"High-quality models like Imagen 3 and Veo can take up to 30 seconds. Check your internet connection. If the progress bar is stuck, try refreshing the page; your project will be saved in the Project Hub."},{keywords:["login","account","pro","subscription","access"],issue:"Cannot access Pro agents",solution:"Pro agents require an active Studio Pro subscription. Ensure you are logged in with the correct account. If you just subscribed, try logging out and back in to refresh your status."},{keywords:["voice","mic","microphone","speak","listen","gender","male","female","accent","translate","language"],issue:"Voice controls and translation settings",solution:"Use the Mic icon for Voice-to-Text and the Speaker icon for Text-to-Voice. Click the Settings (gear) icon to change voice gender (Male/Female), region (US/UK/AU/IN), or to enable automatic translation to your preferred language."},{keywords:["privacy","data","security","safe","private"],issue:"Is my data and music private?",solution:"Yes. We use end-to-end encryption for your prompts and creations. We do not share your personal studio data with third parties or use it to train public models without your permission."},{keywords:["copyright","rights","own","legal","truth"],issue:"Do I own the AI-generated music?",solution:"You own the rights to the output you generate. However, for full copyright protection, we recommend adding human elements (vocals, live instruments) to make the work uniquely yours."},{keywords:["quality","professional","pro","industry","standard"],issue:"How to get professional quality results?",solution:"Use high-quality reference tracks, layer AI stems with live recordings, and always perform a final manual mix. Our Mastering Lab agent can help with the final industry-standard polish."},{keywords:["multi","agent","chain","workflow","project","pro"],issue:"How to use multiple agents in one project?",solution:'Pro users can "chain" agents by taking the output of one (e.g., Ghostwriter lyrics) and feeding it into another (e.g., Vocal Architect). Check "The Come Up" section for detailed Multi-Agent Workflow guides.'}],r=[{keywords:["billing","payment","card","subscription","plan","wallet","money","cost","price"],label:"Billing & Wallet",action:()=>{wt("billing")}},{keywords:["settings","config","preferences","dark mode","theme","language","voice"],label:"App Settings",action:()=>{wt("settings")}},{keywords:["profile","account","user","avatar","login","logout","email"],label:"User Profile",action:()=>{wt("settings")}},{keywords:["news","feed","updates","industry","trends","pulse"],label:"Industry Pulse",action:()=>wt("news")},{keywords:["hub","projects","files","saved","library","creations"],label:"Project Hub",action:()=>wt("hub")},{keywords:["activity","wall","community","social","share","feed","music","hub","reddit","youtube","releases"],label:"Music Hub",action:()=>wt("activity")},{keywords:["agents","tools","create","make","generate"],label:"Agent Studio",action:()=>wt("agents")}],i=Ls.length>1?[...r.filter(e=>e.keywords.some(e=>e.includes(Ls.toLowerCase()))||e.label.toLowerCase().includes(Ls.toLowerCase())).map(e=>({type:"Action",title:`Go to ${e.label}`,description:"Navigate to this section",icon:Ae,action:e.action})),...t.filter(e=>e.keywords.some(e=>Ls.toLowerCase().includes(e))||e.issue.toLowerCase().includes(Ls.toLowerCase())).map(e=>({type:"Troubleshooting",title:e.issue,description:e.solution,icon:Re})),...e.filter(e=>e.title.toLowerCase().includes(Ls.toLowerCase())||e.desc.toLowerCase().includes(Ls.toLowerCase())||e.details.toLowerCase().includes(Ls.toLowerCase())).map(e=>({type:"Guide",title:e.title,description:e.desc,icon:T})),...s.filter(e=>e.name.toLowerCase().includes(Ls.toLowerCase())||e.description.toLowerCase().includes(Ls.toLowerCase())||e.category.toLowerCase().includes(Ls.toLowerCase())).map(e=>({type:"Agent",title:e.name,description:e.description,icon:X,action:()=>{wt("agents"),Nt(e)}})),...[{q:"How do I export my creations?",a:"You can export any creation from the Project Hub using the download icon."},{q:"Can I use the lyrics commercially?",a:"Yes, all content generated by Studio Agents is royalty-free for Pro users."},{q:"How do I change the agent's genre?",a:"Use the Genre dropdown in the agent's detail view to shift styles."}].filter(e=>e.q.toLowerCase().includes(Ls.toLowerCase())||e.a.toLowerCase().includes(Ls.toLowerCase())).map(e=>({type:"FAQ",title:e.q,description:e.a,icon:A}))]:[];return d.jsxs("div",{className:"help-center-view animate-fadeInUp",children:[d.jsxs("div",{className:"help-hero",children:[d.jsx("h1",{children:"Support Center"}),d.jsx("p",{className:"text-muted",style:{marginTop:"8px"},children:"Guides, troubleshooting, and expert assistance."}),d.jsxs("div",{className:"search-box large",style:{marginTop:"24px"},children:[d.jsx($e,{size:20}),d.jsx("input",{type:"text",placeholder:"Search for agents, guides, or troubleshooting...",value:Ls,onChange:e=>Os(e.target.value)})]})]}),i.length>0?d.jsxs("div",{className:"smart-suggestions animate-fadeIn",children:[d.jsxs("div",{className:"suggestions-header",children:[d.jsx(w,{size:18,className:"text-purple"}),d.jsx("h3",{children:"Search Results"})]}),d.jsx("div",{className:"suggestions-list",children:i.map((e,t)=>{const r=e.icon;return d.jsxs("div",{className:"suggestion-item",onClick:e.action?e.action:void 0,style:{cursor:e.action?"pointer":"default"},children:[d.jsx("div",{className:"suggestion-icon",children:d.jsx(r,{size:20})}),d.jsxs("div",{className:"suggestion-content",children:[d.jsx("div",{className:"suggestion-type",children:e.type}),d.jsx("h4",{children:e.title}),d.jsx("p",{children:e.description})]}),e.action&&d.jsx(Ae,{size:16,className:"suggestion-arrow"})]},t)})})]}):Ls.length>1?d.jsxs("div",{className:"empty-search-state animate-fadeIn",style:{textAlign:"center",padding:"4rem 2rem",color:"var(--text-secondary)"},children:[d.jsx($e,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),d.jsx("h3",{children:"No results found"}),d.jsx("p",{children:'Try searching for "Billing", "Ghostwriter", or "Export".'})]}):null,d.jsx("div",{className:"help-grid-main",children:e.map((e,t)=>{const r=e.icon,s=Es===t;return d.jsxs("div",{className:"help-card-item "+(s?"expanded":""),children:[d.jsx("div",{className:"help-card-icon",children:d.jsx(r,{size:24})}),d.jsx("h3",{children:e.title}),d.jsx("p",{children:e.desc}),s&&d.jsx("div",{className:"help-card-details animate-fadeIn",children:d.jsx("p",{children:e.details})}),d.jsxs("button",{className:"help-card-link",onClick:()=>Ws(s?null:t),children:[s?"Show Less":"Read More",s?d.jsx(Ee,{size:16}):d.jsx(Ae,{size:16})]})]},t)})}),d.jsxs("div",{className:"faq-section",children:[d.jsx("h2",{children:"Frequently Asked Questions"}),d.jsx("div",{className:"faq-list",children:[{q:"How do I export my creations?",a:"You can export any creation from the Project Hub using the download icon."},{q:"Can I use the lyrics commercially?",a:"Yes, all content generated by Studio Agents is royalty-free for Pro users."},{q:"How do I change the agent's genre?",a:"Use the Genre dropdown in the agent's detail view to shift styles."}].map((e,t)=>d.jsxs("div",{className:"faq-item",children:[d.jsx("h4",{children:e.q}),d.jsx("p",{children:e.a})]},t))})]}),d.jsxs("div",{className:"contact-support-section",style:{marginTop:"40px",padding:"32px",background:"var(--card-bg)",borderRadius:"24px",border:"1px solid var(--border-color)",textAlign:"center"},children:[d.jsx("div",{className:"icon-box",style:{width:"64px",height:"64px",margin:"0 auto 16px",background:"rgba(168, 85, 247, 0.1)",color:"var(--color-purple)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(I,{size:32})}),d.jsx("h2",{children:"Still need help?"}),d.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"500px",margin:"12px auto 24px"},children:"Our support team is available 24/7 to assist with technical issues, billing inquiries, or creative blocks."}),d.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[d.jsx("button",{className:"cta-button-premium",onClick:()=>window.open("mailto:support@studioagents.com?subject=Support Request","_blank"),children:"Email Support"}),d.jsx("button",{className:"cta-button-secondary",onClick:()=>window.open("https://discord.gg/studioagents","_blank"),children:"Join Discord Community"})]})]})]})}case"more":{const e=[{id:"activity",icon:E,label:"Music Hub",desc:"Reddit, YouTube & Releases",color:"var(--color-purple)"},{id:"news",icon:R,label:"Industry Pulse",desc:"Latest music & tech news",color:"var(--color-cyan)"},{id:"resources",icon:T,label:"Resources",desc:"Guides & tutorials",color:"var(--color-orange)"},{id:"support",icon:A,label:"Help & Support",desc:"FAQ & contact us",color:"var(--color-pink)"},{id:"marketing",icon:Ue,label:"About Us",desc:"Our mission & vision",color:"var(--color-emerald)"},{id:"profile",icon:S,label:"My Profile",desc:"Account settings",color:"var(--color-yellow)"}];return d.jsxs("div",{className:"more-menu-view animate-fadeInUp",style:{padding:"20px"},children:[d.jsx("h2",{style:{marginBottom:"24px",fontSize:"1.5rem"},children:"More Options"}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"32px"},children:e.map(e=>{const t=e.icon;return d.jsxs("div",{onClick:()=>wt(e.id),role:"button",tabIndex:0,style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"20px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",gap:"12px"},onKeyDown:t=>"Enter"===t.key&&wt(e.id),children:[d.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:`${e.color}20`,display:"flex",alignItems:"center",justifyContent:"center",color:e.color},children:d.jsx(t,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{style:{fontSize:"1rem",marginBottom:"4px"},children:e.label}),d.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:e.desc})]})]},e.id)})}),d.jsxs("div",{style:{background:"var(--card-bg)",borderRadius:"16px",padding:"20px",border:"1px solid var(--border-color)"},children:[d.jsx("h3",{style:{marginBottom:"16px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Quick Actions"}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[d.jsxs("button",{onClick:()=>Ji(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"12px",color:"var(--color-purple)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[d.jsx(pe,{size:20}),"Create New Project"]}),Ut?d.jsxs("button",{onClick:()=>{t&&g(t)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",color:"var(--color-red)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[d.jsx(Be,{size:20}),"Sign Out"]}):d.jsxs("button",{onClick:()=>Mt(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"12px",color:"var(--color-cyan)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[d.jsx(S,{size:20}),"Sign In / Create Account"]})]})]}),d.jsxs("div",{style:{marginTop:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card-bg)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["dark"===St?d.jsx(Pe,{size:20}):d.jsx(De,{size:20}),d.jsx("span",{children:"Dark Mode"})]}),d.jsx("button",{onClick:()=>Ct("dark"===St?"light":"dark"),style:{width:"50px",height:"28px",borderRadius:"14px",background:"dark"===St?"var(--color-purple)":"var(--border-color)",border:"none",cursor:"pointer",position:"relative",transition:"background 0.2s"},children:d.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"50%",background:"white",position:"absolute",top:"3px",left:"dark"===St?"25px":"3px",transition:"left 0.2s"}})})]})]})}default:return null}})()}),Hs&&d.jsx("div",{className:"media-player-overlay animate-fadeIn",onClick:()=>Fs(null),onTouchEnd:()=>Fs(null),children:d.jsxs("div",{className:"media-player-container animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:[d.jsx("button",{className:"player-close",onClick:()=>Fs(null),onTouchEnd:e=>{e.preventDefault(),Fs(null)},children:d.jsx(k,{size:24})}),d.jsxs("div",{className:"player-content",children:[d.jsxs("div",{className:"player-header",children:[d.jsx("div",{className:`player-icon-box ${Hs.color||"agent-purple"}`,children:Hs.videoUrl?d.jsx($,{size:32}):(Hs.imageUrl,d.jsx(E,{size:32}))}),d.jsxs("div",{className:"player-info",children:[d.jsx("h2",{children:Hs.title}),d.jsxs("p",{children:[Hs.agent," â€¢ ",Hs.user||"Your Creation"]})]})]}),d.jsx("div",{className:"player-visualizer",style:{position:"relative"},children:Hs.videoUrl&&(Hs.videoUrl.includes("youtube.com")||Hs.videoUrl.includes("youtu.be"))?d.jsx("iframe",{width:"100%",height:"100%",src:Hs.videoUrl.replace("watch?v=","embed/"),title:Hs.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"player-video",style:{border:"none"}}):d.jsxs(d.Fragment,{children:[Hs.videoUrl?d.jsx("video",{src:Hs.videoUrl,controls:!Hs.audioUrl,autoPlay:!0,muted:!!Hs.audioUrl,className:"player-video"}):Hs.imageUrl?d.jsx("img",{src:Hs.imageUrl,alt:Hs.title,className:"player-video",loading:"lazy",style:{objectFit:"contain",background:"#000"}}):d.jsx("div",{className:"audio-visualizer-placeholder",children:d.jsx("div",{className:"visualizer-bars",children:[...Array(20)].map((e,t)=>d.jsx("div",{className:"v-bar",style:{animationDelay:.1*t+"s"}},t))})}),Hs.audioUrl&&d.jsx("div",{style:{position:"absolute",bottom:"20px",left:"0",right:"0",padding:"0 20px",zIndex:10},children:d.jsx("audio",{src:Hs.audioUrl,controls:!0,autoPlay:!0,className:"player-audio",style:{width:"100%",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",borderRadius:"30px"}})})]})}),d.jsx("div",{className:"player-footer",children:d.jsxs("div",{className:"player-actions",children:[d.jsxs("button",{className:"player-btn primary",onClick:()=>ro(Hs),children:[d.jsx(W,{size:18}),d.jsx("span",{children:"Download to Device"})]}),d.jsxs("button",{className:"player-btn secondary",onClick:()=>(e=>{if(!e)return;const t={...e,id:String(Date.now()),user:Ut?"Pro Creator":"Guest Creator",time:"Just now",likes:0,remixes:0,snippet:e.snippet||`Just created this amazing ${e.type||e.agent} output in the Studio!`};ya([t,...ha]),l.success("Shared to Activity Wall!"),wt("activity"),Fs(null)})(Hs),children:[d.jsx(L,{size:18}),d.jsx("span",{children:"Share to Feed"})]})]})})]})]})}),ws&&d.jsxs("div",{className:"studio-session-overlay animate-fadeIn",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",zIndex:2e3,display:"flex",flexDirection:"column"},children:[d.jsxs("div",{style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[d.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(z,{size:24,color:"white"})}),d.jsxs("div",{children:[d.jsx("h2",{style:{margin:0,fontSize:"1.2rem"},children:"Studio Session"}),d.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Multi-Agent Orchestration"})]}),d.jsx("button",{onClick:()=>l("1. Select Beat (Track 1)\n2. Select Vocals (Track 2)\n3. Add a Visual\n4. Press Play to preview\n5. Click Render Master to save",{duration:6e3,icon:"ðŸŽ›ï¸"}),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:"8px"},children:d.jsx(A,{size:14,color:"var(--text-secondary)"})})]}),d.jsx("button",{onClick:()=>{ks(!1),As(!1)},style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:d.jsx(k,{size:24})})]}),d.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"20px",gap:"20px",overflowY:"auto"},children:[d.jsxs("div",{style:{flex:2,background:"#000",borderRadius:"16px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px"},children:[Ss.visual?Ss.visual.videoUrl?d.jsx("video",{src:Ss.visual.videoUrl,style:{width:"100%",height:"100%",objectFit:"contain"},muted:!0,loop:!0,ref:e=>{e&&(Rs?e.play().catch(e=>{}):e.pause())}}):d.jsx("img",{src:Ss.visual.imageUrl,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain"}}):d.jsxs("div",{style:{color:"var(--text-secondary)",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[d.jsx(O,{size:48}),d.jsx("span",{children:"No Visual Selected"})]}),Ss.audio&&d.jsx("audio",{src:Ss.audio.audioUrl,ref:e=>{e&&(e.volume=Ss.audioVolume||.8,Rs?e.play().catch(e=>{}):e.pause())},loop:!0}),Ss.vocal&&d.jsx("audio",{src:Ss.vocal.audioUrl,ref:e=>{e&&(e.volume=Ss.vocalVolume||1,Rs?e.play().catch(e=>{}):e.pause())},loop:!0})]}),d.jsxs("div",{style:{flex:1,background:"rgba(255,255,255,0.05)",borderRadius:"16px",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"12px 16px"},children:[d.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[d.jsxs("div",{onClick:()=>Us(e=>({...e,generateRealAssets:!e.generateRealAssets})),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",background:Ss.generateRealAssets?"linear-gradient(135deg, var(--color-purple), var(--color-pink))":"rgba(255,255,255,0.1)",padding:"6px 12px",borderRadius:"20px",transition:"all 0.3s ease"},children:[d.jsx("div",{style:{width:"32px",height:"18px",borderRadius:"9px",background:Ss.generateRealAssets?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",position:"relative",transition:"all 0.3s ease"},children:d.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:Ss.generateRealAssets?"16px":"2px",transition:"left 0.3s ease"}})}),d.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600},children:Ss.generateRealAssets?"âš¡ Real Assets":"ðŸ“ Text Mode"})]}),d.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[d.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"BPM"}),d.jsx("input",{type:"number",value:Ss.bpm||120,onChange:e=>Us(t=>({...t,bpm:parseInt(e.target.value)||120})),style:{width:"50px",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"var(--color-cyan)",fontSize:"0.85rem",fontWeight:600,textAlign:"center"}})]}),d.jsxs("select",{value:Ss.frameRate||30,onChange:e=>Us(t=>({...t,frameRate:parseInt(e.target.value)})),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"0.8rem",cursor:"pointer"},children:[d.jsx("option",{value:"24",children:"24fps"}),d.jsx("option",{value:"30",children:"30fps"}),d.jsx("option",{value:"60",children:"60fps"})]}),d.jsxs("select",{value:Ss.aspectRatio||"16:9",onChange:e=>Us(t=>({...t,aspectRatio:e.target.value})),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"0.8rem",cursor:"pointer"},children:[d.jsx("option",{value:"16:9",children:"16:9"}),d.jsx("option",{value:"9:16",children:"9:16"}),d.jsx("option",{value:"1:1",children:"1:1"})]})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("div",{style:{display:"flex",gap:"4px"},children:[1,2,3].map(e=>d.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:e<=(Ss.renderCount||0)?"var(--color-purple)":"rgba(255,255,255,0.2)"}},e))}),d.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[3-(Ss.renderCount||0)," renders left"]})]})]}),Ss.generateRealAssets&&d.jsxs("div",{style:{padding:"10px 16px",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(236, 72, 153, 0.2))",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.3)",fontSize:"0.85rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{children:[d.jsx("strong",{children:"âš¡ Real Asset Mode"})," â€” AI will generate actual audio, images & video"]}),d.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Uses Imagen 4.0 â€¢ Veo 3.0 â€¢ MusicGen"})]}),d.jsxs("div",{style:{padding:"12px",background:"rgba(168, 85, 247, 0.1)",borderRadius:"8px",borderLeft:"4px solid var(--color-purple)",fontSize:"0.9rem",display:"flex",gap:"12px",alignItems:"center"},children:[d.jsx(w,{size:18,className:"text-purple"}),d.jsxs("div",{children:[d.jsx("strong",{children:"Agent Insight:"}),"Beat Architect"===Ss.audio?.agent?" This beat has a strong transient profile. Keep vocals dry to cut through.":"Ghostwriter"===Ss.vocal?.agent?" These lyrics are dense. Ensure the beat leaves room for the flow.":" Combine assets from different agents to create a unique sound."]})]}),d.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:Ss.audio?"1px solid var(--color-cyan)":"1px solid rgba(255,255,255,0.1)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:Ss.audio?"12px":0},children:[d.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:d.jsx(M,{size:24,className:"text-cyan"})}),d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[d.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 1"}),d.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-cyan)",fontSize:"0.75rem",cursor:"pointer"},value:Ss.audioOutputType||"waveform",onChange:e=>Us(t=>({...t,audioOutputType:e.target.value})),children:[d.jsx("option",{value:"waveform",children:"ðŸŽµ Waveform"}),d.jsx("option",{value:"file",children:"ðŸ“ File"}),d.jsx("option",{value:"stems",children:"ðŸŽ›ï¸ Stems"}),d.jsx("option",{value:"midi",children:"ðŸŽ¹ MIDI"})]})]}),d.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:Ss.audio?.id||"",onChange:e=>{const t=(Array.isArray(ai?.assets)?ai.assets:[]).find(t=>t?.id?.toString()===e.target.value);Us(e=>({...e,audio:t||null}))},children:[d.jsx("option",{value:"",children:"Select Audio Asset..."}),(ai?.assets||[]).filter(e=>e?.audioUrl||"audio"===e?.type||e?.agent?.includes("Beat")||e?.agent?.includes("Sound")).map(e=>d.jsxs("option",{value:e.id,children:["ðŸŽµ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(ai?.assets||[]).filter(e=>!e?.audioUrl&&"audio"!==e?.type).map(e=>d.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]}),d.jsxs("div",{style:{width:"80px",textAlign:"center"},children:[d.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Vol"}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:Ss.audioVolume||.8,onChange:e=>Us(t=>({...t,audioVolume:parseFloat(e.target.value)})),style:{width:"100%"}}),d.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-cyan)"},children:[Math.round(100*(Ss.audioVolume||.8)),"%"]})]})]}),Ss.audio&&d.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"waveform"!==Ss.audioOutputType&&Ss.audioOutputType?"file"===Ss.audioOutputType?d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-cyan)",fontSize:"0.85rem"},children:[d.jsx(_,{size:24}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:600},children:Ss.audio.title||"Audio File"}),d.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:[Ss.audio.agent," â€¢ WAV/MP3"]})]}),d.jsx("div",{style:{marginLeft:"auto",fontSize:"0.75rem",opacity:.5},children:"~3:24"})]}):"stems"===Ss.audioOutputType?d.jsx("div",{style:{display:"flex",gap:"8px"},children:["Drums","Bass","Melody","FX"].map((e,t)=>d.jsxs("div",{style:{flex:1,background:`rgba(6, 182, 212, ${.2+.1*t})`,borderRadius:"6px",padding:"6px",textAlign:"center",fontSize:"0.7rem"},children:[d.jsx("div",{style:{color:"var(--color-cyan)"},children:e}),d.jsx("div",{style:{width:"100%",height:"16px",background:"rgba(0,0,0,0.3)",borderRadius:"4px",marginTop:"4px",overflow:"hidden"},children:d.jsx("div",{style:{width:60+10*t+"%",height:"100%",background:"var(--color-cyan)",borderRadius:"4px"}})})]},e))}):d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--color-cyan)",fontSize:"0.8rem"},children:[d.jsx(H,{size:20}),d.jsx("div",{style:{display:"flex",gap:"2px",flex:1},children:[...Array(16)].map((e,t)=>d.jsx("div",{style:{width:"8px",height:8+t%3*6+"px",background:t%2==0?"var(--color-cyan)":"transparent",border:"1px solid var(--color-cyan)",borderRadius:"2px"}},t))}),d.jsx("div",{style:{fontSize:"0.7rem",opacity:.5},children:"128 BPM â€¢ C Major"})]}):d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",height:"40px"},children:[...Array(48)].map((e,t)=>d.jsx("div",{style:{flex:1,background:"linear-gradient(to top, var(--color-cyan), rgba(6, 182, 212, 0.3))",borderRadius:"2px",height:Rs?20+20*Math.sin(.5*t+Date.now()/200)+"px":10+15*Math.sin(.3*t)+"px",transition:"height 0.1s ease",animation:Rs?`waveform${t%4} 0.5s ease-in-out infinite`:"none"}},t))})})]}),d.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:Ss.vocal?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.1)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:Ss.vocal?"12px":0},children:[d.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:d.jsx(F,{size:24,className:"text-purple"})}),d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[d.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 2"}),d.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-purple)",fontSize:"0.75rem",cursor:"pointer"},value:Ss.vocalOutputType||"waveform",onChange:e=>Us(t=>({...t,vocalOutputType:e.target.value})),children:[d.jsx("option",{value:"waveform",children:"ðŸŽµ Waveform"}),d.jsx("option",{value:"file",children:"ðŸ“ File"}),d.jsx("option",{value:"lyrics",children:"ðŸ“ Lyrics"}),d.jsx("option",{value:"adlibs",children:"ðŸŽ¤ Adlibs"})]})]}),d.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:Ss.vocal?.id||"",onChange:e=>{const t=(Array.isArray(ai?.assets)?ai.assets:[]).find(t=>t?.id?.toString()===e.target.value);Us(e=>({...e,vocal:t||null}))},children:[d.jsx("option",{value:"",children:"Select Vocal/Lyrics Asset..."}),(ai?.assets||[]).filter(e=>e?.agent?.includes("Ghost")||e?.agent?.includes("Vocal")||"lyrics"===e?.type).map(e=>d.jsxs("option",{value:e.id,children:["ðŸŽ¤ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(ai?.assets||[]).filter(e=>!e?.agent?.includes("Ghost")&&!e?.agent?.includes("Vocal")&&"lyrics"!==e?.type).map(e=>d.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]}),d.jsxs("div",{style:{width:"80px",textAlign:"center"},children:[d.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Vol"}),d.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:Ss.vocalVolume||1,onChange:e=>Us(t=>({...t,vocalVolume:parseFloat(e.target.value)})),style:{width:"100%"}}),d.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-purple)"},children:[Math.round(100*(Ss.vocalVolume||1)),"%"]})]})]}),Ss.vocal&&d.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"waveform"!==Ss.vocalOutputType&&Ss.vocalOutputType?"file"===Ss.vocalOutputType?d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-purple)",fontSize:"0.85rem"},children:[d.jsx(_,{size:24}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:600},children:Ss.vocal.title||"Vocal File"}),d.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:[Ss.vocal.agent," â€¢ WAV"]})]}),d.jsx("div",{style:{marginLeft:"auto",fontSize:"0.75rem",opacity:.5},children:"~2:48"})]}):"lyrics"===Ss.vocalOutputType?d.jsxs("div",{style:{color:"rgba(255,255,255,0.9)",fontSize:"0.85rem",lineHeight:1.6,maxHeight:"80px",overflow:"auto"},children:[d.jsx("div",{style:{color:"var(--color-purple)",marginBottom:"4px",fontSize:"0.7rem"},children:"ðŸ“ Lyrics Preview"}),Ss.vocal.content?.substring(0,200)||Ss.vocal.snippet?.substring(0,200)||"No lyrics content...",(Ss.vocal.content?.length>200||Ss.vocal.snippet?.length>200)&&"..."]}):d.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["Yeah!","Uh","Let's go","Woo!","Ayy"].map(e=>d.jsx("div",{style:{background:"rgba(168, 85, 247, 0.2)",border:"1px solid var(--color-purple)",borderRadius:"16px",padding:"4px 12px",fontSize:"0.75rem",color:"var(--color-purple)"},children:e},e))}):d.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",height:"40px"},children:[...Array(48)].map((e,t)=>d.jsx("div",{style:{flex:1,background:"linear-gradient(to top, var(--color-purple), rgba(168, 85, 247, 0.3))",borderRadius:"2px",height:Rs?15+25*Math.cos(.4*t+Date.now()/180)+"px":8+12*Math.cos(.3*t)+"px",transition:"height 0.1s ease"}},t))})})]}),d.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:Ss.visual?"1px solid var(--color-pink)":"1px solid rgba(255,255,255,0.1)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:Ss.visual?"12px":0},children:[d.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:d.jsx(V,{size:24,className:"text-pink"})}),d.jsxs("div",{style:{flex:1},children:[d.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[d.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 3"}),d.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-pink)",fontSize:"0.75rem",cursor:"pointer"},value:Ss.visualOutputType||"video",onChange:e=>Us(t=>({...t,visualOutputType:e.target.value})),children:[d.jsx("option",{value:"video",children:"ðŸŽ¬ Video"}),d.jsx("option",{value:"image",children:"ðŸ–¼ï¸ Image"}),d.jsx("option",{value:"animation",children:"âœ¨ Animation"}),d.jsx("option",{value:"thumbnail",children:"ðŸ“· Thumbnail"})]})]}),d.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:Ss.visual?.id||"",onChange:e=>{const t=(Array.isArray(ai?.assets)?ai.assets:[]).find(t=>t?.id?.toString()===e.target.value);Us(e=>({...e,visual:t||null}))},children:[d.jsx("option",{value:"",children:"Select Visual Asset..."}),(ai?.assets||[]).filter(e=>e?.imageUrl||e?.videoUrl||"image"===e?.type||"video"===e?.type).map(e=>d.jsxs("option",{value:e.id,children:[e.videoUrl?"ðŸŽ¬":"ðŸ–¼ï¸"," ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(ai?.assets||[]).filter(e=>!e?.imageUrl&&!e?.videoUrl&&"image"!==e?.type&&"video"!==e?.type).map(e=>d.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]})]}),Ss.visual&&d.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"video"!==Ss.visualOutputType&&Ss.visualOutputType?"image"===Ss.visualOutputType?Ss.visual.imageUrl?d.jsx("img",{src:Ss.visual.imageUrl,alt:"Visual",style:{width:"100%",maxHeight:"120px",objectFit:"cover",borderRadius:"6px"}}):d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-pink)",fontSize:"0.85rem"},children:[d.jsx(O,{size:24}),d.jsx("div",{children:"Image will be generated"})]}):"animation"===Ss.visualOutputType?d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--color-pink)"},children:[d.jsx("div",{style:{display:"flex",gap:"4px"},children:[...Array(6)].map((e,t)=>d.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, var(--color-pink), var(--color-purple))",borderRadius:"4px",opacity:.3+.14*t,transform:`rotate(${15*t}deg)`}},t))}),d.jsxs("div",{style:{fontSize:"0.8rem",marginLeft:"12px"},children:[d.jsx("div",{style:{fontWeight:600},children:"Animation Sequence"}),d.jsx("div",{style:{fontSize:"0.7rem",opacity:.7},children:"6 keyframes â€¢ 30fps"})]})]}):d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[d.jsx("div",{style:{width:"80px",height:"45px",background:"linear-gradient(135deg, var(--color-pink), var(--color-purple))",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(G,{size:20,color:"white"})}),d.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-pink)"},children:[d.jsx("div",{style:{fontWeight:600},children:"Cover Thumbnail"}),d.jsx("div",{style:{fontSize:"0.7rem",opacity:.7},children:"1280x720 â€¢ YouTube Ready"})]})]}):Ss.visual.videoUrl?d.jsx("video",{src:Ss.visual.videoUrl,style:{width:"100%",maxHeight:"120px",objectFit:"cover",borderRadius:"6px"},muted:!0}):d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-pink)",fontSize:"0.85rem"},children:[d.jsx(V,{size:24}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:600},children:Ss.visual.title||"Video Asset"}),d.jsx("div",{style:{fontSize:"0.75rem",opacity:.7},children:"Video will be generated on render"})]})]})})]})]})]}),d.jsxs("div",{style:{padding:"20px",background:"rgba(0,0,0,0.5)",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[d.jsxs("div",{style:{display:"flex",gap:"8px",marginRight:"16px"},children:[d.jsx("button",{onClick:()=>{if(Is>0){const e=Is-1;Ts(e),Cs(zs[e])}},disabled:Is<=0,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:Is>0?"pointer":"not-allowed",opacity:Is>0?1:.3},title:"Undo",children:d.jsx(q,{size:20,color:"white"})}),d.jsx("button",{onClick:()=>{if(Is<zs.length-1){const e=Is+1;Ts(e),Cs(zs[e])}},disabled:Is>=zs.length-1,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:Is<zs.length-1?"pointer":"not-allowed",opacity:Is<zs.length-1?1:.3},title:"Redo",children:d.jsx(Y,{size:20,color:"white"})})]}),d.jsx("button",{className:"btn-circle","aria-label":Rs?"Pause Session":"Play Session",style:{width:"56px",height:"56px",borderRadius:"50%",background:"var(--color-purple)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>As(!Rs),children:Rs?d.jsx(J,{size:24,fill:"white"}):d.jsx(Q,{size:24,fill:"white"})})]}),d.jsxs("div",{style:{display:"flex",gap:"12px"},children:[d.jsxs("button",{className:"btn-pill secondary",onClick:()=>{const e={...ai,sessionState:Ss,lastModified:Date.now()};oi(e),Tr(Ir.map(t=>t.id===e.id?e:t)),ms("Project session saved."),l.success("Session saved!")},children:[d.jsx(K,{size:18})," Save Project"]}),d.jsxs("button",{className:"btn-pill primary",disabled:(Ss.renderCount||0)>=3,style:{opacity:(Ss.renderCount||0)>=3?.5:1},onClick:async()=>{if((Ss.renderCount||0)>=3)return void l.error("Maximum 3 renders reached. Pro users can reset.");const e=[Ss.audio,Ss.vocal,Ss.visual].filter(Boolean);if(0===e.length)return void l.error("Select at least one asset to render");const s=(Ss.renderCount||0)+1;ms(`Render pass ${s} of 3. Orchestrating your agents.`),l.loading(`AMO Render ${s}/3...`,{id:"amo-render"});try{const a={"Content-Type":"application/json"};if(t?.currentUser){const e=await t.currentUser.getIdToken();a.Authorization=`Bearer ${e}`}const o=await fetch(`${r}/api/orchestrate`,{method:"POST",headers:a,body:JSON.stringify({agentOutputs:e.map(e=>({id:e.id,agent:e.agent||e.type,type:e.type,content:e.snippet||e.content||e.text,audioUrl:e.audioUrl,imageUrl:e.imageUrl,videoUrl:e.videoUrl})),projectName:ai.name,projectDescription:ai.description,syncSettings:{bpm:Ss.bpm||120,timeSignature:Ss.timeSignature||"4/4",key:Ss.key||"C Major",frameRate:Ss.frameRate||30,sampleRate:Ss.sampleRate||48e3,bitDepth:Ss.bitDepth||24,aspectRatio:Ss.aspectRatio||"16:9"},renderPass:s,generateRealAssets:Ss.generateRealAssets||!1})}),n=await o.json();if(!o.ok)throw new Error(n.error||"Orchestration failed");let d=Ss.audio?.audioUrl,c=Ss.visual?.imageUrl,p=Ss.visual?.videoUrl;if(Ss.generateRealAssets){if(l.loading("Generating real assets...",{id:"amo-assets"}),Ss.visual&&!Ss.visual.imageUrl)try{const e=Ss.visual.snippet||Ss.visual.content||`Album artwork for ${ai.name}`,t=await fetch(`${r}/api/generate-image`,{method:"POST",headers:a,body:JSON.stringify({prompt:e.substring(0,500),aspectRatio:Ss.aspectRatio||"16:9"})}),s=await t.json();s.imageUrl&&(c=s.imageUrl)}catch(i){}if(Ss.audio&&!Ss.audio.audioUrl)try{const e=Ss.audio.snippet||Ss.audio.content||`${Ss.bpm||120} BPM beat`,t=await fetch(`${r}/api/generate-audio`,{method:"POST",headers:a,body:JSON.stringify({prompt:e.substring(0,200)})}),s=await t.json();s.audioUrl&&(d=s.audioUrl)}catch(i){}l.dismiss("amo-assets")}Us(e=>({...e,renderCount:s,lastRenderTime:(new Date).toISOString(),renderHistory:[...e.renderHistory||[],{pass:s,timestamp:Date.now()}]}));const x=n.masterAsset||{id:`master-${Date.now()}`,title:`Studio Master ${s}/3 - ${ai.name}`,type:"Master",agent:"AMO Orchestrator",date:"Just now",color:"agent-purple",snippet:n.output?.slice(0,200)||"Orchestrated Master Composition.",content:n.output,audioUrl:d,stems:{audio:d,vocal:Ss.vocal?.audioUrl},imageUrl:c,videoUrl:p,metadata:{audioVolume:Ss.audioVolume,vocalVolume:Ss.vocalVolume,agentsProcessed:e.length,renderedAt:(new Date).toISOString(),renderPass:s,bpm:Ss.bpm||120,frameRate:Ss.frameRate||30,aspectRatio:Ss.aspectRatio||"16:9",realAssets:Ss.generateRealAssets||!1}},g={...ai,assets:[x,...ai.assets]};if(oi(g),Tr(Ir.map(e=>e.id===g.id?g:e)),Ut){const e=localStorage.getItem("studio_user_id");e&&fetch(`${r}/api/projects`,{method:"POST",headers:a,body:JSON.stringify({userId:e,project:g})}).catch(e=>{})}l.dismiss("amo-render"),ks(!1),As(!1),ms("Master render complete. Your orchestrated production is ready."),l.success("Master rendered and saved to your Hub!")}catch(a){l.dismiss("amo-render"),l.error(a.message||"Orchestration failed. Please try again."),ms("Orchestration failed. Please try again.")}},children:[d.jsx(X,{size:18})," Render Master"]})]})]})]}),Sr&&d.jsx("div",{className:"modal-overlay",onClick:()=>Cr(!1),onTouchEnd:()=>Cr(!1),children:d.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:[d.jsx("button",{className:"modal-close",onClick:()=>Cr(!1),onTouchEnd:e=>{e.preventDefault(),Cr(!1)},children:d.jsx(k,{size:20})}),d.jsxs("div",{className:"modal-header",children:[d.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem"},children:d.jsx(B,{size:24,color:"white"})}),d.jsx("h2",{children:"Save to Personal Storage"}),d.jsx("p",{children:"Connect your cloud storage to save your creations permanently."})]}),d.jsx("div",{className:"modal-body",children:d.jsxs("div",{className:"external-storage-grid",children:[d.jsxs("button",{className:"storage-btn",onClick:()=>{Da(e=>({...e,googleDrive:!0})),Cr(!1)},children:[d.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/12/Google_Drive_icon_%282020%29.svg",alt:"Google Drive",width:"24",loading:"lazy"}),d.jsx("span",{children:"Google Drive"})]}),d.jsxs("button",{className:"storage-btn",onClick:()=>{l("OneDrive coming soon!",{icon:"ðŸš§"}),Cr(!1)},children:[d.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/3/3c/Microsoft_Office_OneDrive_%282019%E2%80%93present%29.svg",alt:"OneDrive",width:"24",loading:"lazy"}),d.jsx("span",{children:"OneDrive"})]}),d.jsxs("button",{className:"storage-btn",onClick:()=>{l("Dropbox coming soon!",{icon:"ðŸš§"}),Cr(!1)},children:[d.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Dropbox_Icon.svg",alt:"Dropbox",width:"24",loading:"lazy"}),d.jsx("span",{children:"Dropbox"})]}),d.jsxs("button",{className:"storage-btn",onClick:()=>{l("iCloud coming soon!",{icon:"ðŸš§"}),Cr(!1)},children:[d.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/1c/ICloud_logo.svg",alt:"iCloud",width:"24",loading:"lazy"}),d.jsx("span",{children:"iCloud"})]})]})}),d.jsx("div",{className:"modal-footer",children:d.jsx("p",{children:"Your files will be synced automatically after generation."})})]})}),Mi&&d.jsx("div",{className:"modal-overlay",onClick:()=>{_i(null),Fi("")},children:d.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),style:{maxWidth:"440px"},children:[d.jsx("button",{className:"modal-close",onClick:()=>{_i(null),Fi("")},children:d.jsx(k,{size:20})}),d.jsxs("div",{className:"modal-header",children:[d.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:d.jsx(Z,{size:28,color:"white"})}),d.jsx("h2",{style:{textAlign:"center",marginBottom:"8px"},children:"Save to Project"}),d.jsxs("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Add ",d.jsxs("strong",{children:['"',Mi.title||Mi.snippet?.substring(0,30)+"...",'"']})," to a project"]})]}),d.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsxs("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"8px",display:"block"},children:[d.jsx(Z,{size:14,style:{verticalAlign:"middle",marginRight:"6px"}}),"Create new project"]}),d.jsxs("div",{style:{display:"flex",gap:"8px"},children:[d.jsx("input",{type:"text",value:Hi,onChange:e=>Fi(e.target.value),placeholder:"Project name...",style:{flex:1,padding:"12px 14px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white",fontSize:"0.95rem"}}),d.jsx("button",{onClick:()=>{Hi.trim()&&(la(Hi,Mi),_i(null),Fi(""),l.success("Project created with asset!"))},disabled:!Hi.trim(),className:"cta-button-premium",style:{padding:"12px 20px",opacity:Hi.trim()?1:.5},children:"Create"})]})]}),Ir.length>0&&d.jsxs("div",{children:[d.jsx("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"10px",display:"block"},children:"Or add to existing project"}),d.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},children:Ir.slice(0,10).map(e=>d.jsxs("button",{onClick:()=>{na(e.id,Mi),_i(null),l.success(`Added to "${e.name}"!`)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},onMouseOver:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseOut:e=>e.currentTarget.style.borderColor="var(--border-color)",children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx(N,{size:18,style:{color:"var(--color-purple)"}}),d.jsx("span",{style:{fontWeight:"500"},children:e.name})]}),d.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[e.assets?.length||0," assets"]})]},e.id))})]}),0===Ir.length&&d.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem",marginTop:"8px"},children:"Create your first project above to organize your work!"})]}),d.jsx("div",{className:"modal-footer",style:{padding:"16px 20px",borderTop:"1px solid var(--border-color)"},children:d.jsx("button",{onClick:()=>{_i(null),Fi("")},className:"cta-button-secondary",style:{width:"100%"},children:"Skip for Now"})})]})}),Pr&&d.jsx("div",{className:"modal-overlay",onClick:Qa,children:d.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[d.jsx("button",{className:"modal-close",onClick:e=>{e.stopPropagation(),Qa()},style:{position:"absolute",top:"1rem",right:"1rem",zIndex:9999},children:d.jsx(k,{size:20})}),d.jsxs("div",{className:"modal-header",style:{flexShrink:0,paddingBottom:"0.5rem"},children:[d.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem",background:"linear-gradient(135deg, #10b981, #059669)"},children:d.jsx(ee,{size:24,color:"white"})}),d.jsx("h2",{children:"Preview Your Creation"}),d.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"Review your AI-generated content before saving to your Hub."})]}),d.jsxs("div",{className:"modal-body",style:{flex:1,overflow:"auto",padding:"1rem"},children:[d.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[d.jsx("span",{style:{background:"image"===Pr.type?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"audio"===Pr.type?"linear-gradient(135deg, #f59e0b, #d97706)":"video"===Pr.type?"linear-gradient(135deg, #ef4444, #dc2626)":"linear-gradient(135deg, #3b82f6, #2563eb)",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"600",color:"white",textTransform:"uppercase"},children:Pr.type||"Text"}),d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(139, 92, 246, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-purple)"},children:[d.jsx(w,{size:12}),Pr.agent||"AI Generated"]}),(Pr.model||gs)&&d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(6, 182, 212, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-cyan)"},children:[d.jsx(te,{size:12}),Pr.model||gs]}),d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[d.jsx(re,{size:12}),Pr.createdAt?new Date(Pr.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Just now"]}),Pr.snippet&&d.jsxs(d.Fragment,{children:[d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(16, 185, 129, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-emerald)"},children:[d.jsx(se,{size:12}),Pr.snippet.split(/\s+/).filter(e=>e).length," words"]}),d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(249, 115, 22, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-orange)"},children:[Pr.snippet.length," chars"]}),d.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(236, 72, 153, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-pink)"},children:[Pr.snippet.split("\n").filter(e=>e.trim()).length," lines"]})]})]}),Pr.title&&d.jsxs("div",{style:{marginBottom:"1rem",padding:"0.5rem 0.75rem",background:"rgba(255,255,255,0.03)",borderRadius:"8px",borderLeft:"3px solid var(--color-purple)"},children:[d.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Title"}),d.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:Pr.title})]}),d.jsx("div",{style:{background:"var(--bg-secondary)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border-color)",maxHeight:"65vh",overflow:"auto",display:"flex",justifyContent:"center",alignItems:"flex-start"},children:"image"===Pr.type&&Pr.imageUrl?d.jsxs("div",{style:{position:"relative",width:"100%",display:"flex",justifyContent:"center"},children:[d.jsx("img",{src:Pr.imageUrl,alt:"Generated",onClick:e=>{"90vh"===e.target.style.maxHeight?(e.target.style.maxHeight="60vh",e.target.style.cursor="zoom-in"):(e.target.style.maxHeight="90vh",e.target.style.cursor="zoom-out")},style:{maxWidth:"100%",maxHeight:"60vh",width:"auto",height:"auto",borderRadius:"8px",objectFit:"contain",cursor:"zoom-in",transition:"max-height 0.3s ease"},title:"Click to expand",onError:e=>{e.target.style.display="none"}}),d.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0,0,0,0.6)",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",pointerEvents:"none"},children:"Click to zoom"})]}):"audio"===Pr.type&&Pr.audioUrl?d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[d.jsx("audio",{controls:!0,src:Pr.audioUrl,style:{width:"100%"},onError:e=>{},onCanPlay:()=>{}}),Pr.audioUrl?.startsWith("http")&&d.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"ðŸ”— External audio URL"})]}):"video"===Pr.type&&Pr.videoUrl?d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Pr.audioUrl?d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-cyan)",marginBottom:"4px",fontWeight:"bold"},children:["ðŸŽµ Music Video Mode (Synced to: ",Pr.audioTitle||"Audio",")"]}),d.jsx("video",{controls:!0,src:Pr.videoUrl,style:{width:"100%",borderRadius:"8px"},onPlay:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.currentTime=e.target.currentTime,t.play())},onPause:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&t.pause()},onTimeUpdate:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&Math.abs(t.currentTime-e.target.currentTime)>.5&&(t.currentTime=e.target.currentTime)}}),d.jsx("audio",{className:"sync-audio",src:Pr.audioUrl,style:{display:"none"}})]}):d.jsx("video",{controls:!0,src:Pr.videoUrl,style:{width:"100%",borderRadius:"8px"},onError:e=>{}}),Pr.videoUrl?.startsWith("http")&&d.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"ðŸ”— External video URL"})]}):d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Pr.audioUrl&&d.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1))",borderRadius:"12px",padding:"12px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[d.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-pink)",marginBottom:"8px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[d.jsx(F,{size:14})," AI Vocal Created"]}),d.jsx("audio",{controls:!0,src:Pr.audioUrl,style:{width:"100%",height:"40px"}})]}),$r&&d.jsxs("div",{style:{display:"flex",gap:"4px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"4px"},children:[d.jsxs("button",{onClick:()=>Lr("lyrics"),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",background:"lyrics"===Wr?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"transparent",color:"lyrics"===Wr?"white":"var(--text-secondary)",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[d.jsx(se,{size:14})," Lyrics"]}),d.jsxs("button",{onClick:()=>Lr("prompt"),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",background:"prompt"===Wr?"linear-gradient(135deg, #3b82f6, #2563eb)":"transparent",color:"prompt"===Wr?"white":"var(--text-secondary)",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[d.jsx(ie,{size:14})," Prompt"]})]}),d.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.8",color:"var(--text-primary)",background:"lyrics"===Wr?"rgba(139, 92, 246, 0.1)":"rgba(59, 130, 246, 0.1)",border:"lyrics"===Wr?"1px solid rgba(139, 92, 246, 0.2)":"1px solid rgba(59, 130, 246, 0.2)",padding:"1.25rem",borderRadius:"12px",maxHeight:"50vh",minHeight:"200px",overflow:"auto",transition:"all 0.2s",fontSize:"1rem",fontFamily:"inherit"},children:"lyrics"===Wr?Pr.snippet||Pr.title||"No content generated":$r||"No prompt recorded"})]})})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem",padding:"1rem 1.5rem",borderTop:"1px solid var(--border-color)",flexShrink:0,flexWrap:"wrap"},children:[!Pr.audioUrl&&!Pr.imageUrl&&!Pr.videoUrl&&(Pr.snippet||Pr.content)&&d.jsxs("button",{disabled:Fa,onClick:()=>{const e="lyrics"===Wr?Pr.snippet||Pr.content||"":$r||"";["rapper","rapper-female","singer","singer-female"].includes(jr.style)?Ga(e,zt?.name||"AI"):window.speechSynthesis.speaking?window.speechSynthesis.cancel():ms(e)},title:["rapper","rapper-female","singer","singer-female"].includes(jr.style)?`Read aloud using AI ${jr.style} voice (takes 30-60 seconds)`:"Read text aloud using browser TTS",style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(34, 211, 238, 0.3)",background:Fa?"rgba(34, 211, 238, 0.3)":"rgba(34, 211, 238, 0.1)",color:"var(--color-cyan)",cursor:Fa?"not-allowed":"pointer",opacity:Fa?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[d.jsx(ae,{size:16,className:Fa?"animate-pulse":""}),Fa?"Creating AI Voice...":"Read Aloud"]}),!Pr.audioUrl&&!Pr.imageUrl&&!Pr.videoUrl&&(Pr.snippet||Pr.content)&&d.jsxs("button",{onClick:()=>{const e=Pr.snippet||Pr.content||"";Ga(e,zt?.name||"Ghostwriter")},disabled:Fa,title:"Create AI vocal using rapper voices (Uberduck/Replicate)",style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(236, 72, 153, 0.3)",background:Fa?"rgba(236, 72, 153, 0.3)":"rgba(236, 72, 153, 0.1)",color:"var(--color-pink)",cursor:Fa?"not-allowed":"pointer",opacity:Fa?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[d.jsx(F,{size:16,className:Fa?"animate-pulse":""}),Fa?"Creating...":"Create Vocal"]}),d.jsxs("button",{onClick:Qa,disabled:Or,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-secondary)",cursor:Or?"not-allowed":"pointer",opacity:Or?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[d.jsx(oe,{size:16})," Discard"]}),d.jsxs("button",{onClick:()=>{if(!$r)return void l.error("No prompt to regenerate");Dr(null);const e=bt.current||document.querySelector(".studio-textarea");e&&(e.value=$r),hs()},disabled:Fr||Or,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-primary)",cursor:Fr||Or?"not-allowed":"pointer",opacity:Fr||Or?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[d.jsx(RefreshCw,{size:16,className:Fr?"animate-spin":""}),Fr?"Generating...":"Regenerate"]}),d.jsx("button",{onClick:()=>Ja("project_canvas"),disabled:Or,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:Or?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.1)",color:"var(--color-purple)",cursor:Or?"not-allowed":"pointer",opacity:Or?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:Or?d.jsxs(d.Fragment,{children:[d.jsx(RefreshCw,{size:16,className:"animate-spin"})," Syncing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ie,{size:16})," Edit"]})}),d.jsx("button",{onClick:()=>Ja("hub"),disabled:Or,className:"cta-button-premium",style:{flex:1.5,padding:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:Or?.8:1,cursor:Or?"wait":"pointer"},children:Or?d.jsxs(d.Fragment,{children:[d.jsx(RefreshCw,{size:16,className:"animate-spin"}),d.jsx("span",{children:"Syncing to Cloud..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(K,{size:16})," ",ai?"Save to Project":"Save to Hub"]})})]})]})}),d.jsx(n.Suspense,{fallback:d.jsx(ot,{}),children:d.jsx(Ke,{isOpen:fs,onClose:()=>js(!1),authToken:$t,existingProject:ai,onCreateProject:e=>{Date.now();const t=Ir.findIndex(t=>t.id===e.id);let r;if(t>=0){const s=Ir[t],i=new Set((s.assets||[]).map(e=>e.id)),a=(e.assets||[]).filter(e=>!i.has(e.id));r={...s,...e,assets:[...s.assets||[],...a],updatedAt:(new Date).toISOString()};const o=[...Ir];o[t]=r,Tr(o)}else r={...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},Tr(e=>[r,...e]);oi(r),Ut&&Rt&&bs(Rt.uid,r).then(e=>{}).catch(e=>{}),li(!0),l.success(`Project "${r.name}" saved with ${r.assets?.length||0} assets!`)},onUpdateCreations:(e,t)=>{wi(r=>({...r,[e]:t}))}})}),Ot&&d.jsx("div",{className:"modal-overlay",onClick:()=>{Mt(!1),Nr(null),Kr("login"),Zr(""),ts("")},onTouchEnd:()=>{Mt(!1),Nr(null)},children:d.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{maxWidth:"400px"},children:[d.jsx("button",{className:"modal-close",onClick:()=>{Mt(!1),Nr(null),Kr("login")},onTouchEnd:e=>{e.preventDefault(),Mt(!1),Nr(null)},children:d.jsx(k,{size:20})}),d.jsxs("div",{className:"modal-header",children:[d.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem"},children:d.jsx(w,{size:24,color:"white"})}),d.jsx("h2",{children:"reset"===Qr?"Reset Password":"signup"===Qr?"Create Account":zr?"Complete Your Subscription":"Welcome Back"}),d.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"reset"===Qr?"Enter your email to receive a reset link.":zr?`Sign in to activate ${zr.name} (${zr.price}${zr.period||""}).`:"signup"===Qr?"Create an account to save your work.":"Sign in to access your studio."})]}),d.jsxs("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:["reset"!==Qr&&d.jsxs("button",{className:"cta-button-premium",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:da,disabled:rs,children:[d.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:[d.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),d.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),d.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),d.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),rs?"Signing in...":"Continue with Google"]}),"reset"!==Qr&&d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",margin:"0.5rem 0"},children:[d.jsx("div",{style:{flex:1,height:"1px",background:"var(--border-color)"}}),d.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"or"}),d.jsx("div",{style:{flex:1,height:"1px",background:"var(--border-color)"}})]}),d.jsxs("form",{onSubmit:async r=>{if(r.preventDefault(),t)if(Xr&&es){ss(!0);try{let r;"signup"===Qr?(r=await b(t,Xr,es),l.success("Account created successfully!"),dt("email")):(r=await v(t,Xr,es),l.success("Welcome back!"),lt("email")),await(async r=>{if(e)try{const s=u(e,"users",r),i=await m(s);if(!t.currentUser||t.currentUser.uid!==r)return;i.exists()?(as(i.data().credits||0),Jr(e=>({...e,credits:i.data().credits||0}))):(await j(s,{credits:3,tier:"free",createdAt:new Date}),as(3))}catch(s){}})(r.user.uid),Mt(!1),Zr(""),ts(""),zr&&os(zr)}catch(s){"auth/email-already-in-use"===s.code?l.error("Email already in use. Try logging in."):"auth/wrong-password"===s.code?l.error("Incorrect password"):"auth/user-not-found"===s.code?l.error("No account found. Try signing up."):"auth/weak-password"===s.code?l.error("Password should be at least 6 characters"):l.error(s.message)}finally{ss(!1)}}else l.error("Please enter email and password");else l.error("Authentication service unavailable")},style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[d.jsx("input",{type:"email",placeholder:"Email address",value:Xr,onChange:e=>Zr(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text-primary)",fontSize:"0.875rem"},required:!0}),"reset"!==Qr&&d.jsx("input",{type:"password",placeholder:"Password",value:es,onChange:e=>ts(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text-primary)",fontSize:"0.875rem"},required:!0,minLength:6}),"reset"===Qr?d.jsx("button",{type:"button",className:"cta-button-secondary",style:{width:"100%"},onClick:async()=>{if(Xr){ss(!0);try{await f(t,Xr),l.success("Password reset email sent!"),Kr("login")}catch(e){l.error(e.message)}finally{ss(!1)}}else l.error("Please enter your email first")},disabled:rs,children:rs?"Sending...":"Send Reset Link"}):d.jsxs("button",{type:"submit",className:"cta-button-secondary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},disabled:rs,children:[d.jsx(ne,{size:16}),rs?"Please wait...":"signup"===Qr?"Create Account":"Sign In with Email"]})]}),d.jsxs("div",{style:{textAlign:"center",marginTop:"0.5rem"},children:["login"===Qr&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>Kr("reset"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontSize:"0.8rem"},children:"Forgot password?"}),d.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginTop:"0.5rem"},children:["Don't have an account?"," ",d.jsx("button",{onClick:()=>Kr("signup"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"Sign up"})]})]}),"signup"===Qr&&d.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:["Already have an account?"," ",d.jsx("button",{onClick:()=>Kr("login"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"Sign in"})]}),"reset"===Qr&&d.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:d.jsx("button",{onClick:()=>Kr("login"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"â† Back to sign in"})})]})]}),d.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",marginTop:"1rem"},children:d.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-tertiary)",textAlign:"center"},children:"By continuing, you agree to our Terms of Service."})})]})}),Yt&&d.jsx("div",{className:"modal-overlay",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>{Jt(!1),Zt(null)},onTouchEnd:()=>{Jt(!1),Zt(null)},children:d.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 700px)",width:"100%",margin:"1rem auto",display:"flex",flexDirection:"column"},children:[d.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",flexShrink:0},children:[d.jsxs("div",{className:"modal-title-group",children:[d.jsx("div",{className:"agent-mini-icon",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",color:"white"},children:d.jsx(le,{size:20})}),d.jsx("h2",{style:{margin:0},children:Xt?"Edit Payment Method":"Payment Methods"})]}),d.jsx("button",{className:"modal-close",onClick:()=>{Jt(!1),Zt(null)},onTouchEnd:e=>{e.preventDefault(),Jt(!1),Zt(null)},children:d.jsx(k,{size:20})})]}),d.jsxs("div",{className:"modal-body",style:{padding:"1.5rem",overflow:"visible",flex:1},children:[!Xt&&$a.length>0&&d.jsxs("div",{style:{marginBottom:"1.5rem"},children:[d.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Saved Cards"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:$a.map((e,t)=>d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",transition:"all 0.2s ease"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[d.jsx("div",{style:{width:"48px",height:"32px",background:"visa"===e.brand?"linear-gradient(135deg, #1a1f71, #00579f)":"mastercard"===e.brand?"linear-gradient(135deg, #eb001b, #f79e1b)":"linear-gradient(135deg, #333, #555)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.6rem",fontWeight:"bold",textTransform:"uppercase"},children:e.brand||"Card"}),d.jsxs("div",{children:[d.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:["â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ ",e.last4]}),d.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Expires ",e.expiry]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[d.jsxs("button",{onClick:()=>{Zt({item:e,type:"card"}),tr("card")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx(ie,{size:14})," Edit"]}),d.jsx("button",{onClick:()=>{Ea(t=>t.filter(t=>t.id!==e.id)),l.success("Card removed")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:d.jsx(oe,{size:14})})]})]},e.id||t))})]}),!Xt&&Wa.length>0&&d.jsxs("div",{style:{marginBottom:"1.5rem"},children:[d.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Bank Accounts"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:Wa.map((e,t)=>d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",transition:"all 0.2s ease"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[d.jsx("div",{style:{width:"48px",height:"32px",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:d.jsx(de,{size:16})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:e.bankName}),d.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[e.type," â€¢â€¢â€¢â€¢ ",e.last4]})]})]}),d.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[d.jsxs("button",{onClick:()=>{Zt({item:e,type:"bank"}),tr("bank")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx(ie,{size:14})," Edit"]}),d.jsx("button",{onClick:()=>{La(t=>t.filter(t=>t.id!==e.id)),l.success("Bank account removed")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:d.jsx(oe,{size:14})})]})]},e.id||t))})]}),d.jsxs("div",{children:[!Xt&&d.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Add New Payment Method"}),d.jsxs("div",{className:"modal-tabs",style:{marginBottom:"1rem"},children:[d.jsxs("button",{className:"modal-tab "+("card"===er?"active":""),onClick:()=>tr("card"),disabled:!!Xt,style:{flex:1},children:[d.jsx(le,{size:16,style:{marginRight:"6px"}})," Card"]}),d.jsxs("button",{className:"modal-tab "+("bank"===er?"active":""),onClick:()=>tr("bank"),disabled:!!Xt,style:{flex:1},children:[d.jsx(de,{size:16,style:{marginRight:"6px"}})," Bank"]})]}),"card"===er?d.jsxs("form",{className:"payment-form",onSubmit:qa,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Cardholder Name"}),d.jsx("input",{type:"text",name:"cardName",placeholder:"Name on card",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Card Number"}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx(le,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),d.jsx("input",{type:"text",name:"cardNumber",placeholder:"0000 0000 0000 0000",defaultValue:Xt?`**** **** **** ${Xt.item.last4}`:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.75rem"},children:[d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Expiry"}),d.jsx("input",{type:"text",name:"expiry",placeholder:"MM/YY",defaultValue:Xt?Xt.item.expiry:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"CVC"}),d.jsx("input",{type:"text",name:"cvc",placeholder:"123",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Zip"}),d.jsx("input",{type:"text",name:"zip",placeholder:"10001",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[Xt&&d.jsx("button",{type:"button",className:"cta-button-secondary",style:{flex:1},onClick:()=>Zt(null),children:"Cancel"}),d.jsx("button",{type:"submit",className:"cta-button-premium",style:{flex:1},children:Xt?"Update Card":"Add Card"})]})]}):d.jsxs("form",{className:"payment-form",onSubmit:qa,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Account Holder Name"}),d.jsx("input",{type:"text",name:"accountName",placeholder:"Full Name",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Bank Name"}),d.jsxs("div",{style:{position:"relative"},children:[d.jsx(de,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),d.jsx("input",{type:"text",name:"bankName",placeholder:"e.g. Chase, Wells Fargo",defaultValue:Xt?Xt.item.bankName:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Routing Number"}),d.jsx("input",{type:"text",name:"routingNumber",placeholder:"9 digits",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),d.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[d.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Account Number"}),d.jsx("input",{type:"text",name:"accountNumber",placeholder:"Account Number",defaultValue:Xt?`****${Xt.item.last4}`:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),d.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[Xt&&d.jsx("button",{type:"button",className:"cta-button-secondary",style:{flex:1},onClick:()=>Zt(null),children:"Cancel"}),d.jsx("button",{type:"submit",className:"cta-button-premium",style:{flex:1},children:Xt?"Update Account":"Link Account"})]})]})]})]}),d.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--glass-border)",padding:"1rem 1.5rem",flexShrink:0},children:d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"var(--text-secondary)",fontSize:"0.8rem"},children:[d.jsx(ce,{size:14}),d.jsx("span",{children:"256-bit encryption â€¢ Secured by Stripe"})]})})]})}),d.jsxs("nav",{className:"bottom-nav",children:[d.jsxs("div",{className:"bottom-nav-item "+("agents"===ht?"active":""),onClick:()=>{wt("agents"),Nt(null)},role:"button",tabIndex:0,children:[d.jsx(z,{size:22}),d.jsx("span",{children:"Team"})]}),d.jsxs("div",{className:"bottom-nav-item "+("hub"===ht?"active":""),onClick:()=>{wt("hub"),Nt(null)},role:"button",tabIndex:0,children:[d.jsx(N,{size:22}),d.jsx("span",{children:"Projects"})]}),d.jsx("div",{className:"bottom-nav-item create-btn",onClick:()=>Ji(!0),role:"button",tabIndex:0,children:d.jsx("div",{style:{background:"var(--color-purple)",width:"52px",height:"52px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 16px rgba(124, 58, 237, 0.5)",marginTop:"-20px",border:"3px solid var(--color-bg-primary)"},children:d.jsx(pe,{size:26,color:"white"})})}),d.jsxs("div",{className:"bottom-nav-item "+("mystudio"===ht?"active":""),onClick:()=>{wt("mystudio"),Nt(null)},role:"button",tabIndex:0,children:[d.jsx(C,{size:22}),d.jsx("span",{children:"Studio"})]}),d.jsxs("div",{className:"bottom-nav-item "+("more"===ht?"active":""),onClick:()=>{wt("more"),Nt(null)},role:"button",tabIndex:0,children:[d.jsx(xe,{size:22}),d.jsx("span",{children:"More"})]})]})]}),"maintenance"===ea.status&&!vi&&d.jsx("div",{className:"modal-overlay",style:{zIndex:9999,backdropFilter:"blur(10px)",background:"rgba(0,0,0,0.85)"},children:d.jsxs("div",{className:"modal-content animate-fadeInUp",style:{textAlign:"center",border:"1px solid var(--color-red)",position:"relative"},children:[d.jsx("button",{onClick:()=>fi(!0),style:{position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"4px"},"aria-label":"Dismiss maintenance message",children:d.jsx(k,{size:20})}),d.jsx("div",{className:"logo-box",style:{width:"64px",height:"64px",margin:"0 auto 1.5rem",background:"rgba(239, 68, 68, 0.1)"},children:d.jsx(ge,{size:32,color:"var(--color-red)"})}),d.jsx("h2",{style:{color:"var(--color-red)",marginBottom:"1rem"},children:"System Maintenance"}),d.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:["The Studio is currently undergoing critical updates or experiencing connectivity issues.",d.jsx("br",{}),"Please check back in a few minutes."]}),d.jsxs("div",{style:{padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"8px",fontSize:"0.85rem",fontFamily:"monospace"},children:["Status: ",ea.details||"Backend Unreachable"]}),d.jsxs("button",{className:"cta-button-secondary",style:{marginTop:"2rem",width:"100%"},onClick:()=>window.location.reload(),children:[d.jsx(RefreshCw,{size:16,style:{marginRight:"8px"}})," Retry Connection"]})]})}),Qt&&d.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>Kt(!1),children:d.jsxs("div",{className:"modal-content credits-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 560px)",width:"100%",margin:"1rem auto",display:"flex",flexDirection:"column"},children:[d.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",flexShrink:0},children:[d.jsxs("div",{className:"modal-title-group",children:[d.jsx("div",{className:"agent-mini-icon",style:{background:"linear-gradient(135deg, #facc15, #f59e0b)",color:"#000"},children:d.jsx(X,{size:20,fill:"currentColor"})}),d.jsxs("div",{children:[d.jsx("h2",{style:{margin:0},children:"Studio Credits"}),d.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Balance: ",d.jsxs("strong",{style:{color:"#facc15"},children:[is," credits"]})]})]})]}),d.jsx("button",{className:"modal-close",onClick:()=>Kt(!1),children:d.jsx(k,{size:20})})]}),d.jsxs("div",{className:"modal-body",style:{padding:"1.25rem",flex:1},children:[d.jsxs("div",{style:{marginBottom:"1.25rem"},children:[d.jsx("h4",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Quick Add Credits"}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem"},children:[{amount:5,price:"$0.99"},{amount:25,price:"$3.99"},{amount:50,price:"$6.99"},{amount:100,price:"$9.99"}].map(({amount:e,price:t})=>d.jsxs("button",{onClick:()=>{as(t=>t+e),l.success(`+${e} credits added!`)},style:{padding:"0.75rem 0.5rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"10px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",transition:"all 0.2s ease",color:"var(--text-primary)"},onMouseOver:e=>{e.currentTarget.style.borderColor="#facc15",e.currentTarget.style.background="rgba(250, 204, 21, 0.1)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--glass-border)",e.currentTarget.style.background="var(--glass-bg)"},children:[d.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.1rem",color:"#facc15"},children:["+",e]}),d.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:t})]},e))})]}),d.jsxs("div",{style:{marginBottom:"1rem"},children:[d.jsx("h4",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Credit Costs"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[{action:"Create Project",cost:2,icon:N},{action:"Text Generation",cost:5,icon:se},{action:"Image Generation",cost:15,icon:Qe},{action:"Audio Processing",cost:25,icon:E}].map(({action:e,cost:t,icon:r})=>d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.6rem 0.75rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"8px"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem"},children:[d.jsx(r,{size:16,style:{color:"var(--text-secondary)"}}),d.jsx("span",{style:{fontSize:"0.9rem"},children:e})]}),d.jsxs("span",{style:{fontWeight:"600",color:"#facc15",fontSize:"0.9rem"},children:[t," credits"]})]},e))})]}),d.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(250, 204, 21, 0.08)",border:"1px solid rgba(250, 204, 21, 0.2)",borderRadius:"10px",display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[d.jsx(w,{size:18,style:{color:"#facc15",flexShrink:0,marginTop:"2px"}}),d.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[d.jsx("strong",{style:{color:"var(--text-primary)"},children:"Pro Tip:"})," Credits are used when you create projects or generate content with any agent."]})]})]}),d.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--glass-border)",padding:"1rem 1.25rem",flexShrink:0,display:"flex",gap:"0.75rem"},children:[d.jsxs("button",{className:"cta-button-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{Kt(!1),wt("mystudio")},children:[d.jsx(pe,{size:18,style:{marginRight:"6px"}})," Add Credits"]}),d.jsxs("button",{className:"cta-button-premium",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{Kt(!1),Ji(!0)},children:[d.jsx(ue,{size:18,style:{marginRight:"6px"}})," Create Project"]})]})]})}),Qi&&d.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Ki(!1),style:{display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{className:"modal-content project-wizard-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px",width:"100%",margin:"0 12px",boxSizing:"border-box",maxHeight:"none",overflow:"visible"},children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("div",{className:"modal-title-group",children:[d.jsx("div",{className:"agent-mini-icon bg-purple",children:d.jsx(ue,{size:20})}),d.jsx("h2",{children:"Create New Project"})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[d.jsx("button",{className:"btn-text",onClick:()=>(t=>{if(("number"==typeof is?is:0)<2)return l.error("Not enough credits. You need 2 credits to create a project."),void Kt(!0);const r={id:String(Date.now()),name:`Untitled Project ${Ir.length+1}`,category:"music",description:"Quick start project",agents:[],workflow:"custom",date:(new Date).toLocaleDateString(),status:"Active",progress:0,assets:[],context:{}};as(e=>e-2),l.success("Quick project created! -2 credits",{icon:"âœ¨"}),Tr(e=>[r,...e]),oi(r),Rt&&e&&bs(Rt.uid,r).catch(e=>{}),Ki(!1),Zi(1),wt(t),ys("Quick project created.")})("agents"),style:{fontSize:"0.9rem",color:"var(--text-secondary)",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Skip Wizard"}),d.jsx("button",{className:"modal-close",onClick:()=>Ki(!1),children:d.jsx(k,{size:20})})]})]}),d.jsxs("div",{className:"modal-body",style:{padding:"24px"},children:[d.jsx("div",{className:"wizard-progress",style:{display:"flex",gap:"8px",marginBottom:"24px"},children:[1,2,3].map(e=>d.jsx("div",{style:{flex:1,height:"4px",background:e<=Xi?"var(--color-purple)":"var(--color-bg-tertiary)",borderRadius:"2px",transition:"all 0.3s ease"}},e))}),1===Xi&&d.jsxs("div",{className:"wizard-step animate-slideIn",children:[d.jsx("h3",{style:{marginBottom:"16px"},children:"Define Your Vision"}),d.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Project Name"}),d.jsx("input",{type:"text",className:"search-input",placeholder:"e.g. Summer Vibes 2025",value:ra.name,onChange:e=>sa({...ra,name:e.target.value}),autoFocus:!0,style:{width:"100%",padding:"12px",fontSize:"1rem"}})]}),d.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[d.jsxs("div",{style:{flex:1},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Language"}),d.jsx("select",{value:ra.language,onChange:e=>sa({...ra,language:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["English","Spanish","French","German","Japanese","Korean","Portuguese","Italian","Chinese"].map(e=>d.jsx("option",{value:e,children:e},e))})]}),d.jsxs("div",{style:{flex:1},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Style / Genre"}),d.jsx("select",{value:ra.style,onChange:e=>sa({...ra,style:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["Modern Hip-Hop","90s Boom Bap","Trap","R&B / Soul","Pop","Rock","Electronic","Cinematic","Jazz","Lo-Fi"].map(e=>d.jsx("option",{value:e,children:e},e))})]}),d.jsxs("div",{style:{flex:1},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"AI Model"}),d.jsx("select",{value:ra.model,onChange:e=>sa({...ra,model:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["Gemini 2.0 Flash","Gemini 2.0 Pro (Exp)","Gemini 1.5 Flash","Gemini 1.5 Pro"].map(e=>d.jsx("option",{value:e,children:e},e))})]})]}),d.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Project Category"}),d.jsx("div",{className:"category-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:ia.map(e=>d.jsxs("div",{className:"category-card haptic-press "+(ra.category===e.id?"selected":""),onClick:()=>sa({...ra,category:e.id}),style:{padding:"12px",background:ra.category===e.id?"rgba(168, 85, 247, 0.1)":"var(--color-bg-tertiary)",border:ra.category===e.id?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[d.jsx(e.icon,{size:20,style:{color:e.color}}),d.jsx("div",{children:d.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:e.label})})]},e.id))})]}),"social"===ra.category&&d.jsxs("div",{className:"social-inputs animate-fadeIn",style:{marginBottom:"24px",padding:"16px",background:"rgba(6, 182, 212, 0.05)",borderRadius:"12px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:[d.jsxs("h4",{style:{marginBottom:"12px",color:"var(--color-cyan)",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(L,{size:16})," Social Profile Setup"]}),d.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Platform Focus"}),d.jsx("div",{style:{display:"flex",gap:"8px"},children:["instagram","tiktok","youtube","twitter"].map(e=>d.jsx("button",{className:"platform-btn "+(ra.socialPlatform===e?"active":""),onClick:()=>sa({...ra,socialPlatform:e}),style:{flex:1,padding:"8px",borderRadius:"8px",border:ra.socialPlatform===e?"1px solid var(--color-cyan)":"1px solid var(--border-color)",background:ra.socialPlatform===e?"rgba(6, 182, 212, 0.1)":"transparent",color:ra.socialPlatform===e?"var(--color-cyan)":"var(--text-secondary)",textTransform:"capitalize",fontSize:"0.85rem",cursor:"pointer"},children:e},e))})]}),d.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[d.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Handle / Username"}),d.jsx("input",{type:"text",className:"search-input",placeholder:"@yourname",value:ra.socialHandle,onChange:e=>sa({...ra,socialHandle:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"0.9rem"}})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Bio / Vibe"}),d.jsx("textarea",{className:"search-input",placeholder:"Describe your brand voice...",value:ra.socialBio,onChange:e=>sa({...ra,socialBio:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"0.9rem",minHeight:"60px",resize:"vertical"}})]})]})]}),2===Xi&&d.jsxs("div",{className:"wizard-step animate-slideIn",children:[d.jsx("h3",{style:{marginBottom:"16px"},children:"Choose Your Workflow"}),d.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"16px",fontSize:"0.9rem"},children:"How do you want to work? Select a preset workflow or build your own team."}),d.jsxs("div",{className:"workflow-presets",style:{display:"grid",gap:"12px",marginBottom:"24px"},children:[d.jsxs("div",{className:"workflow-card haptic-press "+("full_song"===ra.workflow?"selected":""),onClick:()=>sa({...ra,workflow:"full_song",selectedAgents:["ghost","beat","album"]}),style:{padding:"16px",background:"full_song"===ra.workflow?"rgba(168, 85, 247, 0.15)":"var(--color-bg-tertiary)",border:"full_song"===ra.workflow?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[d.jsx("div",{style:{background:"var(--color-purple)",padding:"10px",borderRadius:"50%",color:"white"},children:d.jsx(E,{size:20})}),d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Full Song Creation"}),d.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Lyrics â†’ Beat â†’ Cover Art"})]}),"full_song"===ra.workflow&&d.jsx(ye,{size:20,className:"text-purple"})]}),d.jsxs("div",{className:"workflow-card haptic-press "+("social_promo"===ra.workflow?"selected":""),onClick:()=>sa({...ra,workflow:"social_promo",selectedAgents:["video-creator","trend","collab","social"]}),style:{padding:"16px",background:"social_promo"===ra.workflow?"rgba(6, 182, 212, 0.15)":"var(--color-bg-tertiary)",border:"social_promo"===ra.workflow?"1px solid var(--color-cyan)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[d.jsx("div",{style:{background:"var(--color-cyan)",padding:"10px",borderRadius:"50%",color:"white"},children:d.jsx(L,{size:20})}),d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Social Promotion"}),d.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Video â†’ Trends â†’ Social Pilot"})]}),"social_promo"===ra.workflow&&d.jsx(ye,{size:20,className:"text-cyan"})]}),d.jsxs("div",{className:"workflow-card haptic-press "+("custom"===ra.workflow?"selected":""),onClick:()=>sa({...ra,workflow:"custom",selectedAgents:[]}),style:{padding:"16px",background:"custom"===ra.workflow?"rgba(255, 255, 255, 0.1)":"var(--color-bg-tertiary)",border:"custom"===ra.workflow?"1px solid var(--text-secondary)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[d.jsx("div",{style:{background:"var(--text-secondary)",padding:"10px",borderRadius:"50%",color:"var(--color-bg-primary)"},children:d.jsx(be,{size:20})}),d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Custom Team"}),d.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Manually select your agents"})]}),"custom"===ra.workflow&&d.jsx(ye,{size:20,className:"text-white"})]})]}),"custom"===ra.workflow&&d.jsx("div",{className:"agents-grid-selection animate-fadeIn",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"12px"},children:s.map(e=>{const t=ra.selectedAgents?.includes(e.id);return d.jsxs("div",{className:"agent-select-card haptic-press "+(t?"selected":""),onClick:()=>{const t=ra.selectedAgents||[],r=t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id];sa({...ra,selectedAgents:r})},style:{padding:"12px",background:t?"rgba(168, 85, 247, 0.15)":"var(--color-bg-tertiary)",border:t?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px",transition:"all 0.2s ease",position:"relative"},children:[d.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:t?"var(--color-purple)":"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:t?"white":"var(--text-secondary)"},children:d.jsx(e.icon,{size:16})}),d.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"500"},children:e.name}),t&&d.jsx(ye,{size:14,className:"text-purple",style:{position:"absolute",top:"8px",right:"8px"}})]},e.id)})})]}),3===Xi&&d.jsxs("div",{className:"wizard-step animate-slideIn",children:[d.jsx("h3",{style:{marginBottom:"16px"},children:"Ready to Launch?"}),d.jsxs("div",{className:"review-card",style:{padding:"24px",background:"var(--color-bg-tertiary)",borderRadius:"16px",textAlign:"center"},children:[d.jsx("div",{style:{width:"64px",height:"64px",background:"var(--color-bg-secondary)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:d.jsx(ue,{size:32,className:"text-purple"})}),d.jsx("h2",{style:{marginBottom:"8px"},children:ra.name}),d.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:[ia.find(e=>e.id===ra.category)?.label," â€¢ ",(new Date).toLocaleDateString()]}),d.jsxs("div",{className:"selected-team-preview",style:{display:"flex",justifyContent:"center",gap:"8px",flexWrap:"wrap",marginBottom:"24px"},children:[(ra.selectedAgents||[]).map(e=>{const t=s.find(t=>t.id===e||t.name===e);return t?d.jsx("div",{title:t.name,style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--color-bg-primary)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--color-border)"},children:d.jsx(t.icon,{size:16})},e):null}),0===(ra.selectedAgents||[]).length&&d.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"No specific agents selected"})]}),d.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Your studio environment is being prepared."})]})]})]}),d.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"},children:[Xi>1?d.jsx("button",{className:"btn-ghost",onClick:()=>Zi(e=>e-1),children:"Back"}):d.jsx("div",{}),Xi<3?d.jsx("button",{className:"cta-button-premium",disabled:1===Xi&&(!ra.name?.trim()||!ra.category)||2===Xi&&!ra.workflow,onClick:()=>{1!==Xi||ra.name?.trim()&&ra.category?Zi(e=>e+1):l.error("Please enter a project name and select a category")},children:"Next Step"}):d.jsx("button",{className:"cta-button-premium",onClick:()=>{ra.name?.trim()&&ra.category?(()=>{if(!ra.name||!ra.category)return void l.error("Please fill in project name and category");if(("number"==typeof is?is:0)<2)return l.error("Not enough credits. You need 2 credits to create a project."),void Kt(!0);const e={id:String(Date.now()),name:ra.name,category:ra.category,description:ra.description||"",language:ra.language||"English",style:ra.style||"Modern Hip-Hop",model:ra.model||"Gemini 2.0 Flash",agents:ra.selectedAgents||[],workflow:ra.workflow||"custom",socialHandle:ra.socialHandle||"",socialBio:ra.socialBio||"",socialPlatform:ra.socialPlatform||"instagram",date:(new Date).toLocaleDateString(),status:"Active",progress:0,assets:[],context:{}};as(e=>e-2),Tr(t=>{const r=[e,...t];try{const e=r.slice(0,50);or("studio_agents_projects",JSON.stringify(e))}catch(s){}return r}),oi(e),Ut&&Rt&&bs(Rt.uid,e).then(e=>{}).catch(e=>{}),l.success("Project created! -2 credits",{icon:"âœ¨"}),Ki(!1),Zi(1),a.projectCreated(e.category),sa({name:"",category:"",description:"",language:"English",style:"Modern Hip-Hop",model:"Gemini 2.0 Flash",selectedAgents:[],workflow:"",socialHandle:"",socialBio:"",socialPlatform:"instagram"}),ys(`Project ${e.name} created. Loading your studio.`),wt("mystudio")})():l.error("Project name and category are required")},children:"Create Project"})]})]})}),di&&d.jsx("div",{className:"modal-overlay animate-fadeIn",style:{zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{className:"modal-content onboarding-modal",style:{maxWidth:"500px",width:"90%",padding:"40px",textAlign:"center"},children:[d.jsx("button",{onClick:qi,style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",padding:0},children:d.jsx(k,{size:20})}),d.jsxs("div",{style:{marginBottom:"32px"},children:[d.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"ðŸŽ§"}),d.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"12px"},children:ct[0].title}),d.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-primary)",marginBottom:"8px",lineHeight:"1.6"},children:ct[0].content}),d.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-secondary)"},children:ct[0].detail})]}),d.jsx("button",{className:"cta-button-premium",onClick:Gi,style:{width:"100%",padding:"16px",fontSize:"1.1rem"},children:"Enter Studio â†’"})]})}),Yi&&d.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Ji(!1),style:{zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"550px",width:"90%",padding:"32px"},children:[d.jsx("button",{onClick:()=>Ji(!1),style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",padding:0},children:d.jsx(k,{size:20})}),d.jsxs("div",{style:{textAlign:"center",marginBottom:"28px"},children:[d.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:"Create New Project"}),d.jsx("p",{style:{color:"var(--text-secondary)"},children:"Choose how you want to build your project"})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[d.jsxs("button",{onClick:()=>{Ji(!1),Ki(!0)},style:{display:"flex",alignItems:"flex-start",gap:"16px",padding:"20px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",cursor:"pointer",textAlign:"left",color:"inherit",transition:"all 0.2s ease"},className:"haptic-press",children:[d.jsx("div",{style:{background:"var(--color-purple)",padding:"12px",borderRadius:"12px",color:"white",flexShrink:0},children:d.jsx(Z,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",color:"var(--text-primary)"},children:"Studio Creation"}),d.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Build your project step by step. Choose name, type, and select agents manually."})]})]}),d.jsxs("button",{onClick:()=>{Ji(!1),js(!0)},style:{display:"flex",alignItems:"flex-start",gap:"16px",padding:"20px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"16px",cursor:"pointer",textAlign:"left",color:"inherit",transition:"all 0.2s ease"},className:"haptic-press",children:[d.jsx("div",{style:{background:"var(--color-cyan)",padding:"12px",borderRadius:"12px",color:"white",flexShrink:0},children:d.jsx(w,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",color:"var(--text-primary)"},children:"AI Production Pipeline"}),d.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Let AI orchestrate your creative workflow. Describe your vision and get a complete production plan."})]})]})]})]})}),mi&&d.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>hi(null),style:{zIndex:2e3},children:d.jsxs("div",{className:"modal-content whitepaper-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[d.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"1rem",flexShrink:0},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[d.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-primary)"},children:d.jsx(mi.icon,{size:22})}),d.jsxs("div",{children:[d.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:mi.title}),d.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.9rem"},children:mi.subtitle})]})]}),d.jsx("button",{className:"modal-close",onClick:()=>hi(null),children:d.jsx(k,{size:20})})]}),d.jsxs("div",{className:"modal-body",style:{padding:"1.25rem",flex:1,overflow:"auto"},children:[d.jsxs("div",{style:{marginBottom:"1.25rem"},children:[d.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--color-purple)",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(w,{size:16})," The Vision"]}),d.jsx("p",{style:{fontSize:"0.95rem",lineHeight:"1.6",color:"var(--text-primary)",margin:0},children:mi.description})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[d.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px"},children:[d.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px",fontSize:"0.9rem"},children:[d.jsx(ve,{size:16,className:"text-cyan"})," Who It's For"]}),d.jsx("p",{style:{fontSize:"0.85rem",lineHeight:"1.5",color:"var(--text-secondary)",margin:0},children:mi.whoFor})]}),d.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px"},children:[d.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px",fontSize:"0.9rem"},children:[d.jsx(X,{size:18,className:"text-orange"})," How It Works"]}),d.jsx("p",{style:{fontSize:"0.85rem",lineHeight:"1.5",color:"var(--text-secondary)",margin:0},children:mi.howTo})]})]}),ji[mi.key]&&Object.values(ji[mi.key]).some(e=>e)&&d.jsxs("div",{style:{marginBottom:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--glass-border)"},children:[d.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"1rem",fontSize:"0.95rem",color:"var(--color-purple)"},children:[d.jsx(ee,{size:16})," Generated Creations"]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[ji[mi.key].video&&d.jsxs("div",{style:{background:"rgba(236, 72, 153, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(236, 72, 153, 0.3)"},children:[d.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(236, 72, 153, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽ¬ Video"}),d.jsx("video",{src:ji[mi.key].video,controls:!0,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",background:"#000"},controlsList:"nodownload"}),d.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e={id:String(Date.now()),title:`${mi.title} Video`,type:"Video",agent:mi.title,date:"Just now",color:"agent-pink",snippet:"Generated Video",videoUrl:ji[mi.key].video};ai?(na(ai.id,e),l.success(`Saved to ${ai.name}`)):la(`New ${mi.title} Project`,e)},children:[d.jsx(Z,{size:14})," Save"]})]}),ji[mi.key].image&&d.jsxs("div",{style:{background:"rgba(168, 85, 247, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.3)"},children:[d.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(168, 85, 247, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽ¨ Image"}),d.jsx("img",{src:ji[mi.key].image.startsWith("data:")?ji[mi.key].image:`data:image/png;base64,${ji[mi.key].image}`,alt:"Generated",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px"}}),d.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e=ji[mi.key].image.startsWith("data:")?ji[mi.key].image:`data:image/png;base64,${ji[mi.key].image}`,t={id:String(Date.now()),title:`${mi.title} Image`,type:"Image",agent:mi.title,date:"Just now",color:"agent-purple",snippet:"Generated Image",imageUrl:e};ai?(na(ai.id,t),l.success(`Saved to ${ai.name}`)):la(`New ${mi.title} Project`,t)},children:[d.jsx(Z,{size:14})," Save"]})]}),ji[mi.key].audio&&d.jsxs("div",{style:{background:"rgba(6, 182, 212, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(6, 182, 212, 0.3)",gridColumn:"span 1"},children:[d.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(6, 182, 212, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽµ Audio"}),d.jsx("audio",{src:ji[mi.key].audio,controls:!0,style:{width:"100%",height:"32px"},controlsList:"nodownload"}),d.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e={id:String(Date.now()),title:`${mi.title} Audio`,type:"Audio",agent:mi.title,date:"Just now",color:"agent-cyan",snippet:"Generated Audio",audioUrl:ji[mi.key].audio};ai?(na(ai.id,e),l.success(`Saved to ${ai.name}`)):la(`New ${mi.title} Project`,e)},children:[d.jsx(Z,{size:14})," Save"]})]})]})]})]}),d.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",display:"flex",justifyContent:"flex-end",flexShrink:0},children:d.jsx("button",{className:"cta-button-premium",onClick:()=>{const e=s.find(e=>e.id===mi.key);e&&(Nt(e),hi(null),wt("agents"))},children:"Launch Agent"})})]})}),yi&&d.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>bi(null),style:{zIndex:2e3},children:d.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[d.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"1rem",flexShrink:0},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[d.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-purple)"},children:d.jsx(yi.icon,{size:22})}),d.jsxs("div",{children:[d.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:yi.title}),d.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.9rem"},children:yi.type})]})]}),d.jsx("button",{className:"modal-close",onClick:()=>bi(null),children:d.jsx(k,{size:20})})]}),d.jsx("div",{className:"modal-body",style:{padding:"1.5rem",flex:1,overflowY:"auto"},children:d.jsx("div",{style:{whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:"0.95rem",lineHeight:"1.7",color:"var(--text-primary)"},dangerouslySetInnerHTML:{__html:yi.content.replace(/^# (.*$)/gm,'<h1 style="font-size: 1.5rem; margin: 1.5rem 0 1rem; color: var(--text-primary);">$1</h1>').replace(/^## (.*$)/gm,'<h2 style="font-size: 1.2rem; margin: 1.25rem 0 0.75rem; color: var(--color-cyan);">$1</h2>').replace(/^### (.*$)/gm,'<h3 style="font-size: 1rem; margin: 1rem 0 0.5rem; color: var(--color-purple);">$1</h3>').replace(/^\*\*(.*?)\*\*/gm,"<strong>$1</strong>").replace(/^- (.*$)/gm,'<li style="margin-left: 1.5rem; margin-bottom: 0.25rem;">$1</li>').replace(/^\d+\. (.*$)/gm,'<li style="margin-left: 1.5rem; margin-bottom: 0.25rem;">$1</li>').replace(/\n\n/g,"<br/><br/>")}})}),d.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",display:"flex",justifyContent:"flex-end",gap:"12px",flexShrink:0},children:[d.jsx("button",{className:"btn-secondary",onClick:()=>{navigator.clipboard.writeText(yi.content),l.success("Copied to clipboard!")},children:"Copy Text"}),d.jsx("button",{className:"cta-button-premium",onClick:()=>bi(null),children:"Done"})]})]})}),ki&&d.jsxs("div",{className:"modal-overlay animate-fadeIn",onClick:()=>{Si(null),zi(!1)},style:{zIndex:2e3,position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",padding:Ci?"0":"20px"},children:[Ri.length>1&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:e=>{if(e.stopPropagation(),0===Ri.length)return;const t=Ai>0?Ai-1:Ri.length-1,r=Ri[t];r&&Si({type:r.audioUrl?"audio":r.videoUrl?"video":"image",url:r.audioUrl||r.videoUrl||r.imageUrl,title:r.title||"Untitled",asset:r,assets:Ri,currentIndex:t})},style:{position:"fixed",left:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",backdropFilter:"blur(8px)",zIndex:2001,transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.4)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",children:d.jsx(fe,{size:24})}),d.jsx("button",{onClick:e=>{if(e.stopPropagation(),0===Ri.length)return;const t=Ai<Ri.length-1?Ai+1:0,r=Ri[t];r&&Si({type:r.audioUrl?"audio":r.videoUrl?"video":"image",url:r.audioUrl||r.videoUrl||r.imageUrl,title:r.title||"Untitled",asset:r,assets:Ri,currentIndex:t})},style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",backdropFilter:"blur(8px)",zIndex:2001,transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.4)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",children:d.jsx(je,{size:24})})]}),d.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:Ci?"98vw":"image"===Ti.type?"90vw":"85vw",maxHeight:Ci?"98vh":"85vh",width:Ci?"98vw":"image"===Ti.type?"auto":"100%",height:Ci?"98vh":"auto",overflow:"hidden",display:"flex",flexDirection:"column",background:"rgba(10,10,15,0.99)",borderRadius:Ci?"8px":"16px",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)",transition:"all 0.3s ease"},children:[d.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid rgba(255,255,255,0.1)",padding:"1rem 1.5rem",flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[d.jsxs("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"image"===Ti.type?"rgba(236, 72, 153, 0.2)":"video"===Ti.type?"rgba(6, 182, 212, 0.2)":"audio"===Ti.type?"rgba(168, 85, 247, 0.2)":"rgba(34, 197, 94, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:["image"===Ti.type&&d.jsx(O,{size:18,style:{color:"var(--color-pink)"}}),"video"===Ti.type&&d.jsx(V,{size:18,style:{color:"var(--color-cyan)"}}),"audio"===Ti.type&&d.jsx(E,{size:18,style:{color:"var(--color-purple)"}}),("text"===Ti.type||"lyrics"===Ti.type||"hook"===Ti.type||"verse"===Ti.type||"concept"===Ti.type)&&d.jsx(se,{size:18,style:{color:"var(--color-green)"}})]}),d.jsxs("div",{children:[d.jsx("h2",{style:{fontSize:"1rem",margin:0,fontWeight:"600"},children:Ti.title||"Preview"}),Ri.length>1&&d.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",margin:"2px 0 0"},children:[Ai+1," of ",Ri.length," assets"]})]})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx("button",{onClick:e=>{e.stopPropagation(),zi(e=>!e)},style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.3)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",title:Ci?"Minimize":"Maximize",children:Ci?d.jsx(we,{size:18}):d.jsx(ke,{size:18})}),Ti.asset&&d.jsxs("button",{onClick:()=>{const e=Ti.asset,t=e.audioUrl?"audio":e.videoUrl||e.imageUrl?"visual":null;if(t&&ai){const r={...ai.sessionState||{},[t]:e};oi({...ai,sessionState:r}),Tr(e=>e.map(e=>e.id===ai.id?{...e,sessionState:r}:e)),Si(null),zi(!1),js(!0),l.success(`âœ¨ Added "${e.title}" to Studio Orchestrator`)}},className:"btn-pill primary",style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",padding:"8px 16px"},children:[d.jsx(X,{size:16}),"Use in Orchestrator"]}),d.jsx("button",{className:"modal-close",onClick:()=>{Si(null),zi(!1)},style:{color:"#fff",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer"},children:d.jsx(k,{size:20})})]})]}),d.jsxs("div",{className:"modal-body",style:{padding:Ci?"2rem":"1.5rem",flex:1,overflow:"auto",display:"flex",alignItems:"center",justifyContent:"center",background:"image"===Ti.type?"transparent":"rgba(0,0,0,0.3)"},children:["audio"===Ti.type&&Ti.url&&d.jsxs("div",{style:{width:"100%",maxWidth:Ci?"700px":"500px",textAlign:"center"},children:[d.jsx("div",{style:{width:Ci?"150px":"120px",height:Ci?"150px":"120px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 0 40px rgba(168, 85, 247, 0.4)",transition:"all 0.3s ease"},children:d.jsx(E,{size:Ci?60:48,style:{color:"white"}})}),d.jsx("audio",{ref:Ui,src:Ti.url,controls:!0,style:{width:"100%"},autoPlay:!0,controlsList:"nodownload",onError:e=>{const t=e.target.parentElement;if(t&&!t.querySelector(".audio-error-msg")){const e=document.createElement("div");e.className="audio-error-msg",e.style.cssText="color: var(--color-red); font-size: 0.85rem; margin-top: 12px;",e.textContent="âš ï¸ Audio failed to load. Try downloading instead.",t.appendChild(e)}},onCanPlay:()=>{},onLoadedData:()=>{},onPlay:()=>{},onPause:e=>{},onEnded:()=>{},onStalled:()=>{},onWaiting:()=>{}},Ti.asset?.id||Ti.url||"audio-preview"),d.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"12px",opacity:.6},children:Ti.url?.startsWith("data:")?"Base64 Audio":Ti.url?.startsWith("http")?"Remote Audio":"Unknown Format"})]}),"image"===Ti.type&&Ti.url&&d.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[d.jsxs("div",{className:"image-loading-placeholder",style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--text-secondary)"},children:[d.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),d.jsx("span",{style:{fontSize:"0.85rem"},children:"Loading image..."})]}),d.jsx("img",{src:Ti.url,alt:Ti.title||"Image preview",onLoad:e=>{const t=e.target.previousElementSibling;t&&(t.style.display="none"),e.target.style.opacity=1},onError:e=>{const t=e.target.previousElementSibling;t&&(t.innerHTML='<div style="text-align:center;color:var(--color-red)"><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg><p style="margin-top:8px">Failed to load image</p></div>')},style:{maxWidth:"100%",maxHeight:Ci?"90vh":"80vh",objectFit:"contain",borderRadius:"8px",boxShadow:"0 8px 40px rgba(0,0,0,0.5)",opacity:0,transition:"all 0.3s ease"}})]}),"video"===Ti.type&&Ti.url&&d.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"100%"},children:[d.jsxs("div",{className:"video-loading-placeholder",style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--text-secondary)",background:"rgba(0,0,0,0.5)",borderRadius:"8px",zIndex:1},children:[d.jsx("div",{className:"spinner",style:{width:"50px",height:"50px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-cyan)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),d.jsx("span",{style:{fontSize:"0.85rem"},children:"Loading video..."})]}),d.jsx("video",{src:Ti.url,controls:!0,autoPlay:!0,playsInline:!0,loop:!0,onCanPlay:e=>{const t=e.target.previousElementSibling;t&&(t.style.display="none")},onError:e=>{const t=e.target.previousElementSibling;t&&(t.innerHTML='<div style="text-align:center;color:var(--color-red)"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg><p style="margin-top:12px;font-size:0.9rem">Failed to load video</p><p style="font-size:0.75rem;opacity:0.7;margin-top:4px">Try downloading instead</p></div>')},style:{width:"100%",maxWidth:"100%",maxHeight:Ci?"90vh":"80vh",objectFit:"contain",borderRadius:"8px",background:"black"}})]}),("text"===Ti.type||"lyrics"===Ti.type||"hook"===Ti.type||"verse"===Ti.type||"concept"===Ti.type)&&d.jsx("div",{style:{width:"100%",maxWidth:Ci?"800px":"600px",maxHeight:Ci?"85vh":"70vh",overflow:"auto",padding:"2rem",background:"rgba(20, 20, 30, 0.8)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)"},children:d.jsx("div",{style:{fontSize:Ci?"1.1rem":"1rem",lineHeight:"1.8",color:"var(--text-primary)",whiteSpace:"pre-wrap",fontFamily:"inherit"},children:Ti.content||Ti.asset?.content||Ti.asset?.snippet||Ti.asset?.output||d.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"No text content available"})})})]}),Ri.length>1&&d.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"12px 16px",display:"flex",gap:"8px",overflowX:"auto",justifyContent:"center",background:"rgba(0,0,0,0.3)"},children:Ri.map((e,t)=>e?d.jsxs("button",{onClick:r=>{r.stopPropagation(),Si({type:e.audioUrl?"audio":e.videoUrl?"video":"image",url:e.audioUrl||e.videoUrl||e.imageUrl,title:e.title||"Untitled",asset:e,assets:Ri,currentIndex:t})},style:{width:"60px",height:"60px",borderRadius:"8px",border:t===Ai?"2px solid var(--color-purple)":"2px solid transparent",background:e.imageUrl?`url(${e.imageUrl}) center/cover`:"rgba(255,255,255,0.1)",cursor:"pointer",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:t===Ai?1:.6,transition:"all 0.2s ease",overflow:"hidden",position:"relative"},children:[e.videoUrl&&!e.imageUrl&&d.jsx("video",{src:e.videoUrl,style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,preload:"metadata",onLoadedData:e=>{0===e.target.currentTime&&(e.target.currentTime=1)}}),e.audioUrl&&!e.imageUrl&&d.jsx(E,{size:20,style:{color:"var(--color-purple)"}}),!e.imageUrl&&!e.videoUrl&&!e.audioUrl&&d.jsx(se,{size:20,style:{color:"var(--text-secondary)"}})]},e?.id||t):null)}),d.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"12px 16px",display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap",background:"rgba(0,0,0,0.4)"},children:[Ti.asset?.agent&&"User Upload"!==Ti.asset.agent&&d.jsxs("button",{onClick:e=>{e.stopPropagation();const t=s.find(e=>e.name===Ti.asset?.agent);t&&(Nt(t),_a(Ti.asset?.snippet||Ti.title||""),wt("agents"),Si(null),zi(!1),l.success(`Opened ${t.name} - edit prompt and regenerate!`))},style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, var(--color-cyan), var(--color-purple))",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"0.85rem"},children:[d.jsx(RefreshCw,{size:16})," Re-run with ",Ti.asset?.agent]}),d.jsxs("button",{onClick:e=>{if(e.stopPropagation(),ai){const e=Ti.asset,t={...ai,sessionState:{...ai.sessionState,...e?.audioUrl&&{audio:{audioUrl:e.audioUrl,title:e.title}},...e?.imageUrl&&{visual:{...ai.sessionState?.visual,imageUrl:e.imageUrl,title:e.title}},...e?.videoUrl&&{visual:{...ai.sessionState?.visual,videoUrl:e.videoUrl,title:e.title}}}};oi(t),Tr(Ir.map(e=>e.id===t.id?t:e))}Si(null),zi(!1),js(!0),l.success("Asset loaded into Orchestrator!")},style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.5)",background:"rgba(168, 85, 247, 0.2)",color:"var(--color-purple)",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"0.85rem"},children:[d.jsx(w,{size:16})," Use in Orchestrator"]}),Ti.url&&d.jsxs("button",{onClick:e=>{e.stopPropagation();try{const e=document.createElement("a");e.href=Ti.url,e.download=Ti.title||"download",document.body.appendChild(e),e.click(),document.body.removeChild(e),l.success("Download started!")}catch(t){l.error("Download failed. Try right-click and save.")}},style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem"},children:[d.jsx(W,{size:16})," Download"]})]})]})]}),Ks&&d.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Xs(null),children:d.jsxs("div",{className:"modal-content agent-help-modal",onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("div",{className:"modal-title-group",children:[d.jsx("div",{className:`agent-mini-icon ${Ks.colorClass}`,children:d.jsx(Ks.icon,{size:20})}),d.jsxs("h2",{children:[Ks.name," Guide"]})]}),d.jsx("button",{className:"modal-close",onClick:()=>Xs(null),children:d.jsx(k,{size:20})})]}),d.jsxs("div",{className:"modal-body help-modal-body",children:[d.jsxs("div",{className:"help-section",children:[d.jsxs("h3",{children:[d.jsx(X,{size:16,className:"text-cyan"})," How to Use"]}),d.jsx("p",{children:Ks.howToUse})]}),Ks.onboarding&&d.jsxs("div",{className:"help-section",children:[d.jsxs("h3",{children:[d.jsx(ue,{size:16,className:"text-purple"})," Quick Start Steps"]}),d.jsx("div",{className:"onboarding-steps-list",children:Ks.onboarding.map((e,t)=>d.jsxs("div",{className:"onboarding-step-item",children:[d.jsx("span",{className:"step-number",children:t+1}),d.jsx("p",{children:e})]},t))})]}),Ks.examples&&d.jsxs("div",{className:"help-section",children:[d.jsxs("h3",{children:[d.jsx(w,{size:16,className:"text-orange"})," Example Prompts"]}),d.jsx("div",{className:"example-chips",children:Ks.examples.map((e,t)=>d.jsxs("button",{className:"example-chip",onClick:()=>{navigator.clipboard.writeText(e),ms("Copied to clipboard")},children:['"',e,'"']},t))}),d.jsx("p",{className:"tiny-hint",children:"Click an example to copy"})]}),Ks.helpTips&&d.jsxs("div",{className:"help-section pro-tip-box",children:[d.jsxs("h3",{children:[d.jsx(me,{size:16,className:"text-yellow"})," Pro Tip"]}),d.jsx("p",{children:Ks.helpTips})]})]}),d.jsx("div",{className:"modal-footer",children:d.jsxs("button",{className:"cta-button-premium",onClick:()=>{Nt(Ks),Xs(null)},children:["Launch ",Ks.name]})})]})}),ti&&d.jsx(n.Suspense,{fallback:d.jsx(ot,{}),children:d.jsx(Xe,{agent:ti,onClose:()=>ri(null),projects:Ir,onSaveToProject:na,onCreateProject:la,user:Rt})}),Zs&&d.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>ei(!1),children:d.jsxs("div",{className:"modal-content",style:{maxWidth:"min(92vw, 700px)",width:"100%",margin:"1rem auto"},onClick:e=>e.stopPropagation(),children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx(ve,{size:20,className:"text-purple"}),"Add Agent to Project"]}),d.jsx("button",{className:"modal-close",onClick:()=>ei(!1),children:d.jsx(k,{size:20})})]}),d.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[d.jsxs("div",{style:{marginBottom:"24px"},children:[d.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:"600",marginBottom:"12px",color:"var(--text-secondary)"},children:["Your Agents (",Js().length,")"]}),d.jsx("div",{className:"agents-studio-grid",style:{maxWidth:"100%",margin:0},children:Js().map((e,t)=>{const r=e.icon,s=ai?.agents?.some(t=>t.id===e.id);return d.jsxs("div",{className:`agent-studio-card ${e.colorClass} ${s?"opacity-50":""}`,style:{animationDelay:.05*t+"s",position:"relative",cursor:s?"not-allowed":"pointer"},onClick:()=>!s&&(e=>{if(!ai||!e)return;const t=Array.isArray(ai.agents)?ai.agents:[];let r=Wt?999:3;if(Wt||("Creator"===ds&&(r=5),"Studio Pro"!==ds&&"Lifetime Access"!==ds||(r=16)),t.length>=r)return void l.error(`Agent limit reached for ${ds} plan. Please upgrade.`);if(t.some(t=>t.id===e.id))return void ys(`${e.name} is already in this project.`);const s={...ai,agents:[...t,e],updatedAt:(new Date).toISOString()};oi(s),ls(e=>e.map(e=>e.id===s.id?s:e)),ei(!1),ys(`${e.name} added to project.`)})(e),children:[s&&d.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",background:"var(--color-purple)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(Se,{size:12,color:"white"})}),d.jsx("div",{className:"agent-studio-icon",children:d.jsx(r,{size:24})}),d.jsxs("div",{className:"agent-studio-info",children:[d.jsx("h3",{children:e.name}),d.jsx("p",{children:e.category})]}),d.jsx("button",{className:"agent-launch-btn",disabled:s,style:{opacity:s?.5:1,pointerEvents:s?"none":"auto"},children:s?"Added":"Add to Project"})]},e.id)})})]}),Qs().length>0&&d.jsxs("div",{children:[d.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:"600",marginBottom:"12px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"8px"},children:[d.jsx(ce,{size:14}),"Upgrade to Unlock (",Qs().length,")"]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:Qs().map(e=>{const t=e.icon,r="monthly"===e.tier?"Monthly":"Pro",s="monthly"===e.tier?"var(--color-cyan)":"var(--color-purple)";return d.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.02)",border:"1px solid rgba(255, 255, 255, 0.06)",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"10px",opacity:.6,cursor:"pointer"},onClick:()=>{ei(!1),Ut?wt("mystudio"):Mt(!0)},children:[d.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:d.jsx(t,{size:16,style:{opacity:.5}})}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx("div",{style:{fontWeight:"600",fontSize:"0.85rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),d.jsx("div",{style:{fontSize:"0.65rem",color:s,fontWeight:"600",textTransform:"uppercase"},children:r})]}),d.jsx(ce,{size:12,style:{color:"var(--text-secondary)",flexShrink:0}})]},e.id)})})]})]})]})}),mr&&d.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>hr(!1),children:d.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 520px)",width:"100%",margin:"1rem auto"},children:[d.jsxs("div",{className:"modal-header",children:[d.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[d.jsx(F,{size:20,className:"text-purple"}),"Voice Commands"]}),d.jsx("button",{className:"modal-close",onClick:()=>hr(!1),children:d.jsx(k,{size:20})})]}),d.jsxs("div",{className:"modal-body",style:{textAlign:"left",padding:"16px 24px"},children:[d.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"16px"},children:"Click the mic button and say any of these commands:"}),["Navigation","Actions","Settings","Voice"].map(e=>d.jsxs("div",{style:{marginBottom:"16px"},children:[d.jsx("h4",{style:{fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"1px",color:"var(--color-purple)",marginBottom:"8px"},children:e}),kr.filter(t=>t.category===e).map((e,t)=>d.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"8px",marginBottom:"6px",fontSize:"0.85rem"},children:[d.jsxs("div",{children:[d.jsx("span",{style:{fontWeight:"600",color:"white"},children:e.command}),d.jsx("span",{style:{color:"var(--text-secondary)",marginLeft:"8px",fontSize:"0.75rem"},children:e.description})]}),d.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-cyan)",fontStyle:"italic"},children:e.example})]},t))]},e)),d.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.1))",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:d.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:["ðŸ’¡ ",d.jsx("strong",{style:{color:"white"},children:"Pro Tip:"})," Say anything else and it will be added to your prompt as dictation."]})})]}),d.jsx("div",{className:"modal-footer",style:{padding:"16px 24px"},children:d.jsxs("button",{className:"cta-button-premium "+(nr?"listening":""),onClick:()=>{hr(!1),Ha()},style:{width:"100%"},children:[d.jsx(F,{size:18}),nr?"Stop Listening":"Start Listening"]})})]})}),nr&&d.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",animation:"fadeInUp 0.3s ease"},children:[yr&&d.jsx("div",{style:{background:"rgba(0,0,0,0.9)",padding:"12px 20px",borderRadius:"12px",color:"white",fontSize:"0.9rem",maxWidth:"300px",textAlign:"center",border:"1px solid rgba(139, 92, 246, 0.3)"},children:d.jsxs("span",{style:{color:"var(--color-cyan)"},children:['"',yr,'"']})}),d.jsxs("div",{style:{background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",padding:"16px 24px",borderRadius:"50px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.4)",cursor:"pointer"},onClick:Ha,children:[d.jsxs("div",{style:{position:"relative",width:"24px",height:"24px"},children:[d.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"50%",background:"white",animation:"pulse 1.5s ease-in-out infinite"}}),d.jsx(F,{size:24,style:{position:"relative",zIndex:1,color:"var(--color-purple)"}})]}),d.jsx("span",{style:{color:"white",fontWeight:"600",fontSize:"0.9rem"},children:"Listening..."}),d.jsx("button",{style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},onClick:e=>{e.stopPropagation(),Ha()},children:d.jsx(k,{size:16})})]}),vr&&d.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"4px"},children:['Last: "',vr.text.substring(0,25),vr.text.length>25?"...":"",'"']})]}),Di&&d.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>$i(null),children:d.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(95vw, 500px)",width:"100%",margin:"2rem auto"},children:[d.jsx("button",{className:"modal-close",onClick:()=>$i(null),children:d.jsx(k,{size:20})}),d.jsxs("div",{style:{padding:"24px"},children:[d.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"700",marginBottom:"8px",display:"flex",alignItems:"center",gap:"10px",color:"white"},children:[d.jsx(ae,{className:"text-cyan",size:24}),"Export for Distribution"]}),d.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",marginBottom:"24px"},children:"Prepare your audio for streaming platforms and digital distribution."}),d.jsxs("div",{style:{marginBottom:"20px"},children:[d.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",display:"block",marginBottom:"8px"},children:"EXPORT PRESET"}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[{id:"streaming",label:"Streaming",desc:"Spotify, Apple Music",specs:"44.1kHz / 16-bit / -14 LUFS"},{id:"youtube",label:"YouTube",desc:"Video platforms",specs:"48kHz / 16-bit / -14 LUFS"},{id:"cd",label:"CD Quality",desc:"Physical release",specs:"44.1kHz / 16-bit / -9 LUFS"},{id:"hires",label:"Hi-Res",desc:"Audiophile",specs:"96kHz / 24-bit / -14 LUFS"},{id:"podcast",label:"Podcast",desc:"Spoken word",specs:"44.1kHz / 16-bit / -16 LUFS"}].map(e=>d.jsxs("button",{onClick:()=>Wi(e.id),style:{padding:"12px",background:Ei===e.id?"linear-gradient(135deg, var(--color-purple), var(--color-cyan))":"rgba(255,255,255,0.05)",border:Ei===e.id?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.1)",borderRadius:"10px",cursor:"pointer",textAlign:"left"},children:[d.jsx("div",{style:{fontWeight:"600",color:"white",fontSize:"0.9rem"},children:e.label}),d.jsx("div",{style:{fontSize:"0.7rem",color:Ei===e.id?"rgba(255,255,255,0.8)":"var(--text-secondary)"},children:e.desc}),d.jsx("div",{style:{fontSize:"0.65rem",color:"var(--color-cyan)",marginTop:"4px"},children:e.specs})]},e.id))})]}),d.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"10px",padding:"16px",marginBottom:"20px"},children:[d.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"10px"},children:"PLATFORM COMPATIBILITY"}),d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["Apple Music","Spotify","YouTube Music","Amazon Music","Tidal","Deezer"].map(e=>d.jsxs("span",{style:{padding:"4px 10px",background:"rgba(16, 185, 129, 0.2)",borderRadius:"12px",fontSize:"0.7rem",color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[d.jsx(Se,{size:12})," ",e]},e))})]}),d.jsx("button",{onClick:async()=>{if(!Di?.audioUrl)return void l.error("No audio to export");Oi(!0);const e=l.loading("Mastering audio...");try{const t=Di.audioUrl.split(",")[1],s=await fetch(`${r}/api/master-audio`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audioBase64:t,preset:Ei})}),i=await s.json();if(!i.audioUrl)throw new Error(i.error||"Export failed");{const t=document.createElement("a");t.href=i.audioUrl,t.download=`${Di.title||"audio"}-mastered-${Ei}.wav`,t.click(),l.success(`Exported for ${Ei}!`,{id:e}),$i(null)}}catch(t){l.error("Export failed: "+t.message,{id:e})}finally{Oi(!1)}},disabled:Li,style:{width:"100%",padding:"14px",background:Li?"rgba(255,255,255,0.1)":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",border:"none",borderRadius:"10px",color:"white",fontWeight:"600",fontSize:"0.95rem",cursor:Li?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:Li?d.jsxs(d.Fragment,{children:[d.jsx(RefreshCw,{size:16,className:"spin"}),"Mastering..."]}):d.jsxs(d.Fragment,{children:[d.jsx(W,{size:16}),"Export & Download"]})})]})]})}),_t&&d.jsx(n.Suspense,{fallback:d.jsx(ot,{}),children:d.jsx(it,{onBack:()=>Ht(!1),onSelectAgent:e=>{Ht(!1),Nt(e),wt("agents")},agents:s})}),Ft&&d.jsx(n.Suspense,{fallback:d.jsx(ot,{}),children:d.jsx(at,{onBack:()=>Vt(!1)})})]}):d.jsxs("div",{className:`studio-container ${St}-theme`,style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-primary)"},children:[d.jsx(c,{position:"top-center"}),d.jsxs("div",{style:{textAlign:"center",maxWidth:"400px",padding:"40px",background:"var(--bg-secondary)",borderRadius:"16px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[d.jsx(w,{size:48,style:{color:"#a855f7",marginBottom:"16px"}}),d.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px",color:"var(--text-primary)"},children:"Welcome to Studio Agents"}),d.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Sign in to access your AI-powered creative studio"}),d.jsxs("button",{onClick:da,disabled:rs,className:"btn-pill primary",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[d.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),rs?"Signing in...":"Sign In with Google"]}),d.jsx("button",{onClick:o,style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem"},children:"â† Back to Home"})]}),Ot&&d.jsx("div",{className:"modal-backdrop",onClick:()=>Mt(!1),children:d.jsxs("div",{className:"login-modal",onClick:e=>e.stopPropagation(),children:[d.jsx("button",{className:"modal-close",onClick:()=>Mt(!1),children:d.jsx(k,{size:20})}),d.jsxs("h2",{children:[d.jsx(S,{size:24})," Sign In"]}),d.jsx("p",{children:"Sign in to save your projects and access all features"}),d.jsxs("button",{className:"btn-google",onClick:da,disabled:rs,children:[d.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[d.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),d.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),d.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),d.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),rs?"Signing in...":"Continue with Google"]})]})})]})}export{pt as default};
