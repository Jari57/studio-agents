import{i as a,j as t,k as s,l as e,m as r,n,p as i,r as o,q as p,t as c,v as d}from"./firebase-C6j5ZoHL.js";const u={apiKey:"AIzaSyAKWKmHVfwKHuH_Huf4C2XcMAxk3pkkuz8",authDomain:"studioagents-app.firebaseapp.com",projectId:"studioagents-app",storageBucket:"studioagents-app.firebasestorage.app",messagingSenderId:"460525904786",appId:"1:460525904786:web:6c59dbc6837ead2ed9d74b",measurementId:"G-37J2MVHXS7"};let $,f,h,l;try{$=a(u),f=t($),s(f,e).catch(a=>{}),h=r($),l=n($),i(h).catch(a=>{"failed-precondition"===a.code||a.code})}catch(w){}async function m(a,t,s="assets",e=null){if(!l||!t)throw new Error("Storage not initialized or user not authenticated");const r=a.name?.split(".").pop()||"bin",n=`users/${t}/${s}/${e||`${Date.now()}_${Math.random().toString(36).substr(2,9)}.${r}`}`,i=o(l,n),d=await p(i,a);return{url:await c(d.ref),path:n}}async function b(a,t,s="assets",e="application/octet-stream"){if(!l||!t)throw new Error("Storage not initialized or user not authenticated");const r=e.split("/")[1]||"bin",n=`users/${t}/${s}/${`${Date.now()}_${Math.random().toString(36).substr(2,9)}.${r}`}`,i=o(l,n),p=a.startsWith("data:")?a:`data:${e};base64,${a}`,u=await d(i,p,"data_url");return{url:await c(u.ref),path:n}}export{f as a,m as b,h as d,b as u};
