const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CanvasView-BEtuMFlN.js","assets/react-vendor-03wl4UEb.js","assets/vendor-DPgDnBIk.js","assets/icons-cSZgEuwX.js","assets/DashboardView-Bgq9xxAo.js","assets/index-C-G6wviY.js","assets/constants-C7sUcze_.js","assets/index-8U-_VgAL.css","assets/firebase-53A_zgK8.js","assets/firebase-0FZvJgn-.js","assets/StudioOrchestratorV2-BWmJ2RzJ.js","assets/QuickWorkflow-DWXUeV3k.js","assets/ProjectHubV3-BEknhSfU.js","assets/project-templates-Dhj7c41b.js","assets/NewsHub-CL8eBsNa.js","assets/AdminAnalytics-BgsmcGm1.js"])))=>i.map(i=>d[i]);
import{t as e,A as t,_ as r}from"./index-C-G6wviY.js";import{r as i,z as s,j as a,R as o}from"./react-vendor-03wl4UEb.js";import{p as n}from"./vendor-DPgDnBIk.js";import{a as l,d,u as c,b as p}from"./firebase-53A_zgK8.js";import{A as u,B as g,g as x}from"./constants-C7sUcze_.js";import{S as m,u as h,k as y,d as b,F as f,v,B as j,G as w,w as S,x as k,y as C,z,I as N,J as I,K as A,X as T,C as R,M as U,N as P,O as B,Q as $,V as _,W as E,Y as D,_ as W,$ as O,a0 as L,a1 as M,a2 as F,a3 as H,P as V,a4 as G,Z as q,a5 as Y,a6 as J,a7 as Q,a8 as K,a9 as X,q as Z,f as ee,p as te,aa as re,ab as ie,ac as se,ad as ae,ae as oe,af as ne,ag as le,m as de,ah as ce,ai as pe,R as ue,g as ge,aj as xe,t as me,h as he,U as ye,ak as be,e as fe,al as ve,am as je,a as we,an as Se,o as ke,ao as Ce,T as ze,ap as Ne,aq as Ie,ar as Ae,as as Te,A as Re,j as Ue,L as Pe,at as Be,au as $e,av as _e,aw as Ee,ax as De,ay as We,az as Oe}from"./icons-cSZgEuwX.js";import{b as Le,e as Me,f as Fe,u as He,o as Ve,g as Ge,h as qe,G as Ye,s as Je,c as Qe,a as Ke,d as Xe}from"./firebase-0FZvJgn-.js";let Ze=!1;const et="pitch";function tt(){Ze=!0,localStorage.setItem("demoMode","true")}function rt(){return Ze?(Ze=!1,localStorage.removeItem("demoMode")):tt(),Ze}function it(){return Ze}new URLSearchParams(window.location.search).get("demo")===et&&(Ze=!0,localStorage.setItem("demoMode","true")),"true"===localStorage.getItem("demoMode")&&(Ze=!0);const st={ghostwriter:"**Verse 1:**\nI came up from the basement, now I'm touching ceilings\nEvery scar on my heart, turned into healing\nThey said I wouldn't make it, look at me now\nStack my paper to the sky, take a bow\n\n**Hook:**\nStarted from the bottom, now we at the top\nDreams in my pocket, never gonna stop\nEvery door they closed, I kicked it down\nKing of my city, wear that crown\n\n**Verse 2:**\nMidnight sessions, pouring out my soul\nEvery word I write is making me whole\nThey tried to dim my light, but I shine brighter\nEvery struggle made me a fighter\n\n---\n*Generated in Demo Mode - Connect API for personalized lyrics*","release-strategist":"## Release Strategy Analysis\n\n**Commercial Viability: 8.5/10**\nYour track has strong commercial potential with its melodic hook and contemporary production.\n\n**Key Strengths:**\n- Catchy melodic structure that supports playlist placement\n- Production quality meets industry standards\n- Target demographic alignment: 18-34 urban/suburban\n\n**Recommended Release Strategy:**\n1. **Pre-save Campaign** (2 weeks before) - Build anticipation with teaser content\n2. **Playlist Pitching** - Target RapCaviar, Most Necessary, and genre-specific playlists\n3. **Content Rollout** - 3 TikTok clips, 2 Instagram Reels, 1 YouTube Short\n\n**Optimal Release Day:** Friday (maximizes first-week streaming)\n\n---\n*Generated in Demo Mode - Connect API for real analysis*","sample-hunter":'## Sample Recommendations\n\nBased on your vibe, here are hidden gems from the crates:\n\n**1. "Distant Dreams" - The Soul Searchers (1974)**\n- BPM: 92 | Key: Am\n- Flip potential: That string section at 1:45 is untouched\n- Clearance: Medium difficulty (independent label)\n\n**2. "Morning Light" - Sunrise Orchestra (1978)**\n- BPM: 88 | Key: Dm  \n- Flip potential: Piano loop at intro, drum break at 2:30\n- Clearance: Easy (public domain in most territories)\n\n**3. "Urban Poetry" - City Jazz Ensemble (1982)**\n- BPM: 95 | Key: Gm\n- Flip potential: Bass line throughout, horn stabs at chorus\n- Clearance: Contact rights holder directly\n\n---\n*Generated in Demo Mode - Connect API for real sample discovery*',"visual-director":'## Music Video Treatment\n\n**Concept: "Rise & Reign"**\n\n**Visual Theme:** Contrast between struggle and success, using split-screen storytelling\n\n**Key Scenes:**\n1. **Opening (0:00-0:15):** Artist in dimly lit room, writing lyrics by candlelight\n2. **Verse 1 (0:15-0:45):** Flashback montage - humble beginnings, rejection letters burning\n3. **Hook (0:45-1:15):** Transition to sold-out venue, crowd going crazy\n4. **Verse 2 (1:15-1:45):** Behind-the-scenes studio footage, team celebration\n5. **Outro (1:45-2:00):** Artist on rooftop at sunrise, city below\n\n**Color Palette:** Deep blues and blacks for past, gold and white for present\n\n**Estimated Budget:** $15,000 - $25,000\n\n---\n*Generated in Demo Mode - Connect API for full creative treatment*',"brand-architect":"## Brand Identity Blueprint\n\n**Artist Archetype:** The Visionary Pioneer\n\n**Core Brand Pillars:**\n1. **Authenticity** - Raw, unfiltered storytelling\n2. **Innovation** - Pushing sonic boundaries\n3. **Community** - Elevating the culture\n\n**Visual Identity:**\n- Primary Colors: Deep purple (#6B21A8), Gold (#F59E0B)\n- Typography: Bold sans-serif for headlines, clean serif for body\n- Logo Concept: Abstract crown merging with sound wave\n\n**Voice & Tone:**\n- Confident but not arrogant\n- Inspirational without being preachy\n- Street-smart with intellectual depth\n\n**Content Themes:**\n- Studio sessions & process\n- Community spotlights\n- Personal growth journey\n\n---\n*Generated in Demo Mode - Connect API for full brand strategy*","tour-architect":'## Tour Routing Proposal\n\n**Tour Name:** "The Ascension Tour"\n\n**Phase 1: Regional Circuit (8 dates)**\n- Week 1: Atlanta â†’ Charlotte â†’ Raleigh\n- Week 2: DC â†’ Philly â†’ NYC\n- Week 3: Boston â†’ Brooklyn\n\n**Venue Recommendations:**\n- 500-800 cap rooms for intimate energy\n- Focus on venues with strong local press relationships\n- Priority: Rooms with quality sound systems\n\n**Budget Estimate:**\n- Venue costs: $2,500/night avg\n- Travel: $1,200/week\n- Crew (2 people): $3,000/week\n- Merch investment: $5,000 upfront\n\n**Projected Revenue:**\n- Ticket sales (70% capacity): $28,000\n- Merch: $8,000\n- Net profit potential: $12,000-$15,000\n\n---\n*Generated in Demo Mode - Connect API for real tour planning*',default:"## AI Response\n\nThank you for your input! Here's a thoughtful response based on your request:\n\n**Key Insights:**\n- Your concept shows strong creative potential\n- There are several strategic angles to explore\n- The market conditions favor this type of content\n\n**Recommendations:**\n1. Focus on authenticity and unique voice\n2. Build consistent content around your core message  \n3. Engage your community early and often\n4. Measure results and iterate quickly\n\n**Next Steps:**\n- Refine your core concept\n- Test with a small audience\n- Scale what works\n\n---\n*Generated in Demo Mode - Connect API for personalized AI assistance*"};const at={container:{position:"fixed",bottom:"20px",right:"20px",padding:"12px 20px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"#000",borderRadius:"8px",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",zIndex:9999,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",cursor:"pointer"},icon:"ðŸŽ­",text:"Demo Mode Active"},ot=e=>e?"object"==typeof e?e.url?e.url:e.b64_json?`data:image/png;base64,${e.b64_json}`:Array.isArray(e)&&e[0]?"string"==typeof e[0]?e[0]:e[0].url||null:null:"string"!=typeof e?null:e.startsWith("http")||e.startsWith("data:")?e:e.length>500?`data:image/png;base64,${e}`:e:null,nt=e=>{if(!e)return"";if("string"==typeof e){if(e.startsWith("blob:"))return e;if(e.startsWith("http"))return e;if(e.startsWith("data:")){if(e.length<1e5)return e;try{const t=e.split(",");if(2!==t.length)return e;const r=t[0].match(/:(.*?);/);if(!r)return e;const i=r[1],s=t[1];if(!s||s.length<100)return e;const a=atob(s);let o=a.length;const n=new Uint8Array(o);for(;o--;)n[o]=a.charCodeAt(o);const l=new Blob([n],{type:i});if(0===l.size)return e;return URL.createObjectURL(l)}catch(t){return e}}return e.length>100?nt(`data:audio/mpeg;base64,${e}`):e}if("object"==typeof e){if(e.url)return nt(e.url);if(e.audio)return nt(e.audio);if(e.audioUrl)return nt(e.audioUrl);if(Array.isArray(e)&&e[0]){const t=e[0];return nt("string"==typeof t?t:t.url||t.audio||t.audioUrl||"")}}return""},lt=e=>{if(!e)return"";if("string"==typeof e){if(e.startsWith("blob:")||e.startsWith("http"))return e;if(e.startsWith("data:"))try{const t=e.split(",");if(2!==t.length)return e;const r=t[0].match(/:(.*?);/)[1],i=atob(t[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);const o=new Blob([a],{type:r});return URL.createObjectURL(o)}catch(t){return e}return e}if("object"==typeof e){if(e.url)return e.url;if(e.video)return e.video;if(Array.isArray(e)&&e[0])return"string"==typeof e[0]?e[0]:e[0].url||e[0].video||""}return""},dt=o.lazy(()=>r(()=>import("./CanvasView-BEtuMFlN.js"),__vite__mapDeps([0,1,2,3]))),ct=o.lazy(()=>r(()=>import("./DashboardView-Bgq9xxAo.js"),__vite__mapDeps([4,5,1,2,6,3,7,8,9]))),pt=ye,ut=o.lazy(()=>r(()=>import("./StudioOrchestratorV2-BWmJ2RzJ.js"),__vite__mapDeps([10,5,1,2,6,3,7,8,9]))),gt=o.lazy(()=>r(()=>import("./QuickWorkflow-DWXUeV3k.js"),__vite__mapDeps([11,1,2,6,3,8,9]))),xt=o.lazy(()=>r(()=>import("./ProjectHubV3-BEknhSfU.js"),__vite__mapDeps([12,1,2,13,3,5,6,7,8,9]))),mt=o.lazy(()=>r(()=>import("./NewsHub-CL8eBsNa.js"),__vite__mapDeps([14,1,2,3])));o.lazy(()=>r(()=>import("./AdminAnalytics-BgsmcGm1.js"),__vite__mapDeps([15,1,2,3])));const ht=[{key:"idea",label:"IDEA",icon:m,color:"#a855f7",colorRgb:"168,85,247",assetTypes:[]},{key:"lyrics",label:"LYRICS",icon:te,color:"#10b981",colorRgb:"16,185,129",assetTypes:["lyrics","text"]},{key:"beat",label:"BEAT",icon:U,color:"#a855f7",colorRgb:"168,85,247",assetTypes:["audio"]},{key:"vocals",label:"VOCALS",icon:W,color:"#ec4899",colorRgb:"236,72,153",assetTypes:["vocal"]},{key:"artwork",label:"ARTWORK",icon:$,color:"#f97316",colorRgb:"249,115,22",assetTypes:["image","visual"]},{key:"video",label:"VIDEO",icon:O,color:"#06b6d4",colorRgb:"6,182,212",assetTypes:["video"]},{key:"master",label:"MASTER",icon:ge,color:"#f59e0b",colorRgb:"245,158,11",assetTypes:["pro"]}],yt=({children:e,asset:t,fallback:r=null})=>{try{return t&&"object"==typeof t?e:r||a.jsx("div",{style:{padding:"12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px",color:"rgba(239,68,68,0.8)",fontSize:"0.8rem"},children:"Invalid asset data"})}catch(i){return r||a.jsx("div",{style:{padding:"12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px",color:"rgba(239,68,68,0.8)",fontSize:"0.8rem"},children:"Failed to render asset"})}},bt=e=>e&&"object"==typeof e?{...e,id:e.id||`proj_${Date.now()}`,title:"string"==typeof e.title?e.title:"Untitled Project",assets:Array.isArray(e.assets)?e.assets.filter(e=>e&&"object"==typeof e):[],agents:Array.isArray(e.agents)?e.agents:[],tags:Array.isArray(e.tags)?e.tags:[],createdAt:e.createdAt||(new Date).toISOString()}:null;class ft extends o.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?a.jsxs("div",{style:{padding:"24px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"2rem",marginBottom:"12px"},children:"âš ï¸"}),a.jsxs("h3",{style:{margin:"0 0 8px",color:"var(--text-primary)"},children:[this.props.name||"Section"," temporarily unavailable"]}),a.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"16px"},children:"This section encountered an issue. Click below to reload it."}),a.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",cursor:"pointer"},children:"Try Again"})]}):this.props.children}}const vt=()=>a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",color:"var(--text-secondary)"},children:[a.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid rgba(168,85,247,0.2)",borderTopColor:"#a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}),"Loading..."]}),jt=[{id:"welcome",title:"Welcome to The Studio",content:"16 AI agents ready to help you write, produce, and grow your music career.",detail:"Pick an agent to start. That's it."}],wt=[{id:"pro",label:"Pro Studio",icon:ge,desc:"Full production suite",color:"var(--color-purple)"},{id:"vybing",label:"Vybing",icon:U,desc:"Quick beat ideas",color:"var(--color-cyan)"},{id:"mixtapes",label:"Mixtapes",icon:_,desc:"Curated playlists",color:"var(--color-orange)"},{id:"video",label:"Video",icon:O,desc:"Visual content",color:"var(--color-pink)"},{id:"scores",label:"Scores",icon:E,desc:"Cinematic composition",color:"var(--color-emerald)"},{id:"moves",label:"Moves",icon:pe,desc:"Dance & Choreo",color:"var(--color-yellow)"},{id:"music_videos",label:"Music Videos",icon:xe,desc:"Full production clips",color:"var(--color-red)"},{id:"social",label:"Social Brand",icon:B,desc:"Grow your audience",color:"var(--color-blue)"}],St={text:1,lyrics:1,generate:1,vocal:2,speech:2,voice:2,beat:5,audio:5,music:5,image:3,video:15,"video-synced":20,orchestrate:8,translate:1,mix:10,master:15,default:1},kt=[{command:"open [agent]",description:"Launch an agent",example:'"Open Ghostwriter"',category:"Navigation"},{command:"go to [section]",description:"Navigate to dashboard, hub, news, agents",example:'"Go to hub"',category:"Navigation"},{command:"generate",description:"Start generation with current prompt",example:'"Generate"',category:"Actions"},{command:"clear",description:"Clear the prompt",example:'"Clear prompt"',category:"Actions"},{command:"read back",description:"Read the prompt aloud",example:'"Read back"',category:"Actions"},{command:"reference [type] DNA",description:"Upload visual/audio/lyrics DNA",example:'"Reference visual DNA"',category:"Creation"},{command:"set genre to [genre]",description:"Change musical genre",example:'"Set genre to Country"',category:"Settings"},{command:"set duration to [time]",description:"Change generation length",example:'"Set duration to 1 minute"',category:"Settings"},{command:"switch theme",description:"Toggle dark/light mode",example:'"Switch theme"',category:"Settings"},{command:"stop",description:"Stop listening",example:'"Stop listening"',category:"Voice"}],Ct=[{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",provider:"Google",description:"Fastest responses, great for quick tasks",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜†"},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash-Lite",provider:"Google",description:"Ultra-fast, cost-effective",tier:"free",speed:"âš¡âš¡âš¡âš¡",quality:"â˜…â˜…â˜†â˜†"},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",provider:"Google",description:"Best quality for complex prompts",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",provider:"Google",description:"Balanced speed and quality",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜†"},{id:"gemini-1.5-flash-8b",name:"Gemini 1.5 Flash-8B",provider:"Google",description:"Lightweight, efficient",tier:"free",speed:"âš¡âš¡âš¡âš¡",quality:"â˜…â˜…â˜†â˜†"},{id:"gemini-2.5-pro-preview",name:"Gemini 2.5 Pro (Preview)",provider:"Google",description:"Latest capabilities, experimental",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"gemini-2.5-flash-preview",name:"Gemini 2.5 Flash (Preview)",provider:"Google",description:"Next-gen speed + quality",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"claude-3-5-sonnet",name:"Claude 3.5 Sonnet",provider:"Anthropic",description:"Excellent for creative writing",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"claude-3-5-haiku",name:"Claude 3.5 Haiku",provider:"Anthropic",description:"Fast and capable",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gpt-4o",name:"GPT-4o",provider:"OpenAI",description:"Multimodal powerhouse",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"OpenAI",description:"Affordable GPT-4 class",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",provider:"OpenAI",description:"High capability, larger context",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"llama-3.3-70b",name:"Llama 3.3 70B",provider:"Meta",description:"Open-source powerhouse",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"llama-3.2-90b-vision",name:"Llama 3.2 90B Vision",provider:"Meta",description:"Multimodal open model",tier:"pro",speed:"âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"mistral-large",name:"Mistral Large",provider:"Mistral",description:"European excellence",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"codestral",name:"Codestral",provider:"Mistral",description:"Optimized for code generation",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"deepseek-v3",name:"DeepSeek V3",provider:"DeepSeek",description:"Cost-effective reasoning",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"qwen-2.5-72b",name:"Qwen 2.5 72B",provider:"Alibaba",description:"Multilingual excellence",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"}],zt=[{icon:j,title:"Getting Started",desc:"Learn the basics of the Studio Agents workflow.",details:'To get started, select an agent from the "Agents" tab. Each agent specializes in a different part of the music creation process. For example, Ghostwriter can help you write lyrics, while Beat Lab can generate drum patterns. Once you\'ve selected an agent, enter a prompt describing what you want to create. You can then save your creation as a new project, which will appear in your Project Hub for later recall.'},{icon:q,title:"Agent Mastery",desc:"Deep dives into each agent's unique capabilities.",details:'Mastering our agents requires understanding their specific strengths. Ghostwriter responds best to emotional cues and genre-specific keywords. Album Artist can interpret complex visual metaphors. Trend Hunter scans real-time social data to give you a competitive edge. Experiment with different "Intensity" settings to see how the AI\'s creativity shifts from subtle to experimental.'},{icon:R,title:"Video Tutorials",desc:"Watch step-by-step guides on making hits.",details:'Our video library includes tutorials on: "Writing Your First Hit with Ghostwriter", "Advanced Beat Making with Beat Lab", and "Strategic Rollouts with Release Manager". Each video is under 5 minutes and designed to get you creating immediately. Pro members get access to exclusive masterclasses from industry-leading producers who use Studio Agents in their daily workflow.'},{icon:v,title:"Community Tips",desc:"See how other creators are using the studio.",details:'Join our Discord community and check out the "Activity Wall" to share prompts, collaborate with other creators, and get feedback on your AI-assisted tracks. Many users have found success by combining outputs from multiple agentsâ€”for example, using Ghostwriter for lyrics and then feeding those lyrics into a vocal synth. The possibilities are endless when you collaborate with the community.'}],Nt=[{keywords:["download","save","export","phone","photos"],issue:"Cannot download or save to device",solution:'Ensure you have granted storage permissions to your browser. On mobile, long-press the image or use the "Save to Files" option in the share menu. If using cloud storage, verify your Google Drive or OneDrive connection is active.'},{keywords:["audio","sound","hear","play","silent"],issue:"No sound during playback",solution:"Check if your device is on silent mode. Ensure the volume slider in the Media Player is turned up. Some browsers block auto-play audio; try clicking the play button manually."},{keywords:["slow","stuck","loading","generate","wait"],issue:"Generation is taking too long",solution:"High-quality models like Imagen 3 and Veo can take up to 30 seconds. Check your internet connection. If the progress bar is stuck, try refreshing the page; your project will be saved in the Project Hub."},{keywords:["login","account","pro","subscription","access"],issue:"Cannot access Pro agents",solution:"Pro agents require an active Studio Pro subscription. Ensure you are logged in with the correct account. If you just subscribed, try logging out and back in to refresh your status."},{keywords:["voice","mic","microphone","speak","listen","gender","male","female","accent","translate","language"],issue:"Voice controls and translation settings",solution:"Use the Mic icon for Voice-to-Text and the Speaker icon for Text-to-Voice. Click the Settings (gear) icon to change voice gender (Male/Female), region (US/UK/AU/IN), or to enable automatic translation to your preferred language."},{keywords:["privacy","data","security","safe","private"],issue:"Is my data and music private?",solution:"Yes. We use end-to-end encryption for your prompts and creations. We do not share your personal studio data with third parties or use it to train public models without your permission."},{keywords:["copyright","rights","own","legal","truth"],issue:"Do I own the AI-generated music?",solution:"You own the rights to the output you generate. However, for full copyright protection, we recommend adding human elements (vocals, live instruments) to make the work uniquely yours."},{keywords:["quality","professional","pro","industry","standard"],issue:"How to get professional quality results?",solution:"Use high-quality reference tracks, layer AI stems with live recordings, and always perform a final manual mix. Our Mastering Lab agent can help with the final industry-standard polish."},{keywords:["multi","agent","chain","workflow","project","pro"],issue:"How to use multiple agents in one project?",solution:'Pro users can "chain" agents by taking the output of one (e.g., Ghostwriter lyrics) and feeding it into another (e.g., Vocal Lab). Check "The Come Up" section for detailed Multi-Agent Workflow guides.'}],It=[{keywords:["billing","payment","card","subscription","plan","wallet","money","cost","price"],label:"Billing & Wallet",type:"mystudio",sub:"billing"},{keywords:["settings","config","preferences","dark mode","theme","language","voice"],label:"App Settings",type:"mystudio",sub:"settings"},{keywords:["profile","account","user","avatar","login","logout","email"],label:"User Profile",type:"mystudio",sub:"overview"},{keywords:["news","feed","updates","industry","trends","pulse"],label:"Industry Pulse",type:"news"},{keywords:["hub","projects","files","saved","library","creations"],label:"Project Hub",type:"hub"},{keywords:["activity","wall","community","share","feed","music","hub","trends","audio","creations"],label:"Music Hub",type:"activity"},{keywords:["agents","tools","create","make","generate"],label:"Agent Studio",type:"agents"}],At=[{id:"activity",icon:U,label:"Music Hub",desc:"Trending AI across platforms",color:"var(--color-purple)"},{id:"news",icon:w,label:"Industry Pulse",desc:"Latest music & tech news",color:"var(--color-cyan)"},{id:"whitepapers",icon:te,label:"Whitepapers",desc:"Technical documentation",color:"var(--color-indigo)"},{id:"legal",icon:we,label:"Legal Center",desc:"Terms & licensing",color:"var(--color-red)"},{id:"resources",icon:j,label:"Resources",desc:"Guides & tutorials",color:"var(--color-orange)"},{id:"support",icon:S,label:"Help & Support",desc:"FAQ & contact us",color:"var(--color-pink)"},{id:"marketing",icon:Ue,label:"About Us",desc:"Our mission & vision",color:"var(--color-emerald)"},{id:"profile",icon:I,label:"My Profile",desc:"Account settings",color:"var(--color-yellow)"}],Tt=e=>{if(!e||!Array.isArray(e))return e;const t=1e5;return e.map(e=>e&&"object"==typeof e&&e.assets&&Array.isArray(e.assets)?{...e,assets:e.assets.map(e=>{if(!e)return e;if("string"==typeof e&&e.length>t)return"[Media Data Pruned to Save Space]";if("object"==typeof e){const r={...e};let i=!1;return["url","data","imageData","audioData","videoData","output"].forEach(e=>{"string"==typeof r[e]&&r[e].length>t&&(r[e]="[Media Data Pruned to Save Space]",i=!0)}),i?r:e}return e})}:e)};const Rt=Object.freeze(Object.defineProperty({__proto__:null,default:function({onBack:r,startWizard:o,startOrchestrator:xe,startTour:Ze,initialPlan:Rt,initialTab:Ut}){(()=>{const e=i.useRef(!0),t=i.useRef(new Set);i.useEffect(()=>(e.current=!0,()=>{e.current=!1,t.current.forEach(e=>{try{e.abort()}catch(t){}}),t.current.clear()}),[]),i.useCallback(async(r,i={})=>{const s=new AbortController;t.current.add(s);try{const a=await fetch(r,{...i,signal:s.signal});return t.current.delete(s),e.current?a:null}catch(a){if(t.current.delete(s),"AbortError"===a.name)return null;throw a}},[]),i.useCallback(t=>{if(e.current)try{t()}catch(r){}},[]),i.useCallback(()=>e.current,[]),i.useCallback(()=>{t.current.forEach(e=>{try{e.abort()}catch(t){}}),t.current.clear()},[])})();const[Pt,Bt]=i.useState(null),[$t,_t]=i.useState(()=>!!localStorage.getItem("studio_user_id")),[Et,Dt]=i.useState(()=>"true"===localStorage.getItem("studio_guest_mode")),[Wt,Ot]=i.useState(!0),[Lt,Mt]=i.useState(0),[Ft,Ht]=i.useState(null),[Vt,Gt]=i.useState(!1),[qt,Yt]=i.useState(()=>{try{const e=localStorage.getItem("studio_user_profile");return e?JSON.parse(e):{stageName:"",genre:"Hip Hop / Rap",targetDemographic:"Gen Z",language:"English",bio:"",credits:500,memberSince:(new Date).getFullYear(),plan:"Free",location:"Los Angeles, CA",website:""}}catch(e){return{stageName:"",genre:"Hip Hop / Rap",bio:"",credits:500,memberSince:(new Date).getFullYear(),plan:"Free",location:"Los Angeles, CA",website:""}}}),[Jt,Qt]=i.useState(()=>{try{const e=localStorage.getItem("studio_agents_socials");return e?JSON.parse(e):{instagram:!1,tiktok:!1,twitter:!1,spotify:!1}}catch(e){return{instagram:!1,tiktok:!1,twitter:!1,spotify:!1}}}),[Kt,Xt]=i.useState(!1),[Zt,er]=i.useState("login"),[tr,rr]=i.useState(""),[ir,sr]=i.useState(""),[ar,or]=i.useState(!1),[nr,lr]=i.useState(3),[dr,cr]=i.useState(()=>localStorage.getItem("studio_user_plan")||"Free"),[pr,ur]=i.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return parseInt(localStorage.getItem(`studio_free_gens_${e}`)||"0")}),[gr,xr]=i.useState(()=>{const e=window.location.hash;if(e.startsWith("#/studio/")){const t=e.split("/")[2];return void 0!==u&&u&&u.some(e=>e.id===t)?"agents":t}const t=localStorage.getItem("studio_user_id")||"guest",r=localStorage.getItem(`studio_tab_${t}`);return r&&["agents","mystudio","activity","news","resources","marketing","hub","whitepapers","legal"].includes(r)?r:"resources"}),[mr,hr]=i.useState(()=>localStorage.getItem("studio_theme")||"dark"),[yr,br]=i.useState(window.innerWidth<=768),[fr,vr]=i.useState(()=>{const e=window.location.hash;if(e.startsWith("#/studio/")){const t=e.split("/")[2],r=void 0!==u&&u?u.find(e=>e.id===t):null;if(r)return r}const t=localStorage.getItem("studio_user_id")||"guest",r=localStorage.getItem(`studio_agent_${t}`);return r&&void 0!==u&&u&&u.find(e=>e.id===r)||null}),[jr,wr]=i.useState(null),[Sr,kr]=i.useState(()=>{try{const e=localStorage.getItem("studio_user_id")||"guest",t=localStorage.getItem(`studio_projects_${e}`)||localStorage.getItem("studio_agents_projects");if(t){let e=JSON.parse(t);return Array.isArray(e)?e.sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r}):[]}return[]}catch(e){return[]}}),[Cr,zr]=i.useState(!1),[Nr,Ir]=i.useState(null),[Ar,Tr]=i.useState(null),[Rr,Ur]=i.useState(null),[Pr,Br]=i.useState(null),[$r,_r]=i.useState(null),[Er,Dr]=i.useState(localStorage.getItem("studio_elevenlabs_voice_id")||""),[Wr,Or]=i.useState([]),[Lr,Mr]=i.useState(""),[Fr,Hr]=i.useState(""),[Vr,Gr]=i.useState({}),[qr,Yr]=i.useState(!1),[Jr,Qr]=i.useState(!1),[Kr,Xr]=i.useState(null),[Zr,ei]=i.useState(null),[ti,ri]=i.useState(!1),[ii,si]=i.useState(null),[ai,oi]=i.useState({status:"healthy",message:"All Systems Operational"}),[ni,li]=i.useState(!1),[di,ci]=i.useState(!1),[pi,ui]=i.useState({audio:null,vocal:null,visual:null,audioVolume:.8,vocalVolume:1,bpm:120,timeSignature:"4/4",key:"C Major",frameRate:30,aspectRatio:"16:9",sampleRate:48e3,bitDepth:24,syncLocked:!0,generateRealAssets:!1,renderCount:0,maxRenders:3,lastRenderTime:null,renderHistory:[]}),[gi,xi]=i.useState([]),[mi,hi]=i.useState(-1),[yi,bi]=i.useState(!1),[fi,vi]=i.useState(new Set),[ji,wi]=i.useState(!1),[Si,ki]=i.useState(null),[Ci,zi]=i.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_help_${e}`)||""}),[Ni,Ii]=i.useState(!0),[Ai,Ti]=i.useState(null),[Ri,Ui]=i.useState(null),[Pi,Bi]=i.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_prompt_${e}`)||""}),[$i,_i]=i.useState("lyrics"),[Ei,Di]=i.useState(null),[Wi,Oi]=i.useState(!1),[Li,Mi]=i.useState(!1),[Fi,Hi]=i.useState({}),[Vi,Gi]=i.useState("idle"),[qi,Yi]=i.useState(!1),[Ji,Qi]=i.useState(null),[Ki,Xi]=i.useState(!1),[Zi,es]=i.useState(!1),[ts,rs]=i.useState(!1),[is,ss]=i.useState(!1),[as,os]=i.useState(!1),[ns,ls]=i.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_transcript_${e}`)||""}),[ds,cs]=i.useState(null),[ps,us]=i.useState({gender:"male",region:"US",language:"English",style:"rapper",rapStyle:"aggressive",genre:"hip-hop",duration:30,voiceName:"rapper-male-1",speakerUrl:localStorage.getItem("studio_cloned_voice_url")||null}),[gs,xs]=i.useState(null),[ms,hs]=i.useState(!1),[ys,bs]=i.useState(null),[fs,vs]=i.useState(!1),[js,ws]=i.useState(""),[Ss,ks]=i.useState(!1),[Cs,zs]=i.useState(!1),[Ns,Is]=i.useState(null),[As,Ts]=i.useState(!1),[Rs,Us]=i.useState("streaming"),[Ps,Bs]=i.useState(!1),[$s,_s]=i.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_dash_${e}`)||"overview"}),[Es,Ds]=i.useState(()=>{try{const e=localStorage.getItem("studio_managed_agents");if(e){const t=JSON.parse(e),r=void 0!==u&&u?u:[];return t.map(e=>{const t=r.find(t=>t.name===e.name);return{...e,icon:t?t.icon:m}})}return void 0!==u&&u?u.map(e=>({...e,visible:!0})):[]}catch(e){return void 0!==u&&u?u.map(e=>({...e,visible:!0})):[]}}),[Ws,Os]=i.useState(()=>{try{const e=localStorage.getItem("studio_app_settings"),t={showNews:!0,publicActivity:!0,autoSave:!0,highQualityPreviews:!1,streamerMode:!1};return e?{...t,...JSON.parse(e)}:t}catch(e){return{showNews:!0,publicActivity:!0,autoSave:!0,highQualityPreviews:!1,streamerMode:!1}}}),[Ls,Ms]=i.useState(1),[Fs,Hs]=i.useState(!1),[Vs,Gs]=i.useState(!0),[qs,Ys]=i.useState([]),[Js,Qs]=i.useState(()=>localStorage.getItem("musicHubSection")||"all"),[Ks,Xs]=i.useState(1),[Zs,ea]=i.useState(!1),[ta,ra]=i.useState(!0),[ia,sa]=i.useState([]),[aa,oa]=i.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_news_${e}`)||""}),na=i.useMemo(()=>{const e=Sr.length||0,t=Sr.reduce((e,t)=>e+(t.assets?.length||0),0),r=Sr.reduce((e,t)=>e+(t.assets?.filter(e=>"audio"===e.type||"vocal"===e.type)?.length||0),0);return{listeners:142*e+12*t,streams:452*r+85*e,followers:24*e+Math.floor(t/2),engagement:e>0?(4.2+(t%3==0?.3:.1)).toFixed(1)+"%":"0%",growth:e>0?`+${8+t%5}%`:"0%",streamTrend:e>0?`+${10+r%7}%`:"0%"}},[Sr]),[la,da]=i.useState(()=>localStorage.getItem("studio_agents_twitter_user")),[ca,pa]=i.useState(()=>localStorage.getItem("studio_agents_meta_name")),[ua,ga]=i.useState(()=>{try{const e=localStorage.getItem("studio_agents_storage");return e?JSON.parse(e):{googleDrive:!1,dropbox:!1,oneDrive:!1,localDevice:!0}}catch(e){return{googleDrive:!1,dropbox:!1,oneDrive:!1,localDevice:!0}}}),[xa,ma]=i.useState(()=>{try{const e=localStorage.getItem("studio_agents_payments");return e?JSON.parse(e):[{id:"pm_1",type:"Visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:"pm_2",type:"Mastercard",last4:"8888",expiry:"09/25",isDefault:!1}]}catch(e){return[{id:"pm_1",type:"Visa",last4:"4242",expiry:"12/26",isDefault:!0}]}}),[ha,ya]=i.useState(()=>{try{const e=localStorage.getItem("studio_agents_banks");return e?JSON.parse(e):[{id:"ba_1",bankName:"Chase Bank",last4:"1234",type:"Checking"}]}catch(e){return[]}}),[ba,fa]=i.useState([{id:1,title:"Welcome to Studio Agents",message:"Start creating your first track!",time:"Just now",read:!1},{id:2,title:"Pro Tip",message:"Try the Ghostwriter agent for lyrics.",time:"2m ago",read:!1}]),va=i.useRef(()=>Promise.resolve()),ja=i.useRef(()=>{}),wa=i.useRef(()=>{}),Sa=i.useRef(()=>{localStorage.clear(),window.location.href="/"}),ka=i.useRef(null),Ca=i.useRef(null),za=i.useRef(new Set),Na=i.useRef(null),Ia=i.useRef(null),Aa=i.useRef(null),Ta=i.useRef(null),Ra=i.useRef(null),Ua=i.useRef(null),Pa=i.useRef(null),[Ba,$a]=i.useState(null);i.useEffect(()=>{const e=()=>br(window.innerWidth<=768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),i.useEffect(()=>{(async()=>{try{const e=await fetch(`${g}/api/v2/voices`);if(e.ok){const t=await e.json(),r=Array.isArray(t)?t:t.voices||[];if(r.length>0){const e=r.filter(e=>"professional"===e.category||"generated"===e.category||"cloned"===e.category||"premade"===e.category);Or(e.length>0?e:r)}}}catch(e){}})()},[g]),i.useEffect(()=>{if(gr){const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_tab_${e}`,gr)}},[gr,Pt?.uid]),i.useEffect(()=>{const e=()=>{const e=window.location.hash;if(!e.startsWith("#/studio/"))return;const t=e.split("/")[2]||"resources",r=void 0!==u&&u?u.find(e=>e.id===t):null;r?("agents"!==gr&&xr("agents"),fr?.id!==r.id&&vr(r)):t!==gr&&xr(t)};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[gr,fr]);const _a=t=>{if(t!==gr){xr(t);const r=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_tab_${r}`,t),window.location.hash=`#/studio/${t}`,e(`/studio/${t}`,`Studio - ${t.charAt(0).toUpperCase()+t.slice(1)}`)}},Ea=((e,t,r)=>{const s=i.useRef(null),a=i.useRef(null),o=i.useRef(null),n=i.useRef(null),l=i.useRef(!1);return{onTouchStart:e=>{s.current=e.targetTouches[0].clientX,a.current=e.targetTouches[0].clientY,o.current=null,n.current=null,l.current=!1},onTouchMove:e=>{o.current=e.targetTouches[0].clientX,n.current=e.targetTouches[0].clientY},onTouchEnd:()=>{if(!s.current||!o.current)return;const i=s.current-o.current,d=a.current-n.current;if(Math.abs(i)>Math.abs(d)&&Math.abs(i)>100){l.current=!0;const s=e.indexOf(t);i>0?s<e.length-1&&r(e[s+1]):s>0&&r(e[s-1])}},swiped:l}})(["agents","mystudio","activity","news","resources","marketing"],gr,_a);i.useEffect(()=>{localStorage.setItem("studio_theme",mr)},[mr]),i.useEffect(()=>{const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";fr?.id?localStorage.setItem(`studio_agent_${e}`,fr.id):localStorage.removeItem(`studio_agent_${e}`)},[fr,Pt?.uid]),i.useEffect(()=>{const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_news_${e}`,aa)},[aa,Pt?.uid]),i.useEffect(()=>{if(!Sr||!Array.isArray(Sr))return;const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";try{const t=JSON.stringify(Sr);localStorage.setItem(`studio_projects_${e}`,t),"guest"===e?localStorage.setItem("studio_agents_projects",t):localStorage.removeItem("studio_agents_projects")}catch(t){if("QuotaExceededError"===t.name||22===t.code){const t=Tt(Sr);try{const r=JSON.stringify(t);localStorage.setItem(`studio_projects_${e}`,r),"guest"===e&&localStorage.setItem("studio_agents_projects",r)}catch(r){try{const t=Tt(Sr.slice(0,5));localStorage.setItem(`studio_projects_${e}`,JSON.stringify(t))}catch(i){}}}}},[Sr,Pt?.uid]),i.useEffect(()=>{const e=localStorage.getItem("studio_last_isolated_uid"),t=Pt?.uid||"guest";if(e&&e!==t&&"guest"!==t){const e=localStorage.getItem(`studio_projects_${t}`);if(e)try{kr(JSON.parse(e))}catch(r){}oa(""),zi(""),Bi(""),ls(""),vr(null),wr(null),Ir(null),Tr(null),Ur(null),Br(null),_r(null)}localStorage.setItem("studio_last_isolated_uid",t)},[Pt?.uid]);const[Da,Wa]=i.useState(!1),[Oa,La]=i.useState(null);async function Ma(e,t){Date.now();if(!e||!t||!t.id)return!1;try{let s=null;if(t.assets&&Array.isArray(t.assets))for(let i=0;i<t.assets.length;i++){const a=t.assets[i];if(!a)continue;const o=[{key:"imageUrl",folder:"images",mime:"image/png"},{key:"audioUrl",folder:"audio",mime:"audio/mpeg"},{key:"videoUrl",folder:"video",mime:"video/mp4"},{key:"vocalUrl",folder:"vocal",mime:"audio/wav"}];let n=!1,l=null;for(const t of o){const i=a[t.key];if("string"==typeof i&&(i.startsWith("data:")||i.startsWith("blob:")))try{l||(l={...a});const r=i.startsWith("data:")?await c(i,e,t.folder,t.mime):await(async()=>{const r=await fetch(i).then(e=>e.blob());return p(r,e,t.folder,`${Date.now()}.${t.mime.split("/")[1]}`)})();l[t.key]=r.url,l[t.key+"StoragePath"]=r.path,n=!0}catch(r){}}n&&(s||(s=[...t.assets]),s[i]=l)}const o=s?{...t,assets:s}:t;s&&(kr(e=>Array.isArray(e)?e.map(e=>e.id===t.id?o:e):e),jr?.id===t.id&&wr(o));const n={};for(const[e,t]of Object.entries(o))if(null!=t&&"function"!=typeof t)if("assets"===e&&Array.isArray(t))n.assets=t.map(e=>{if(!e||"object"!=typeof e)return e;const t={};for(const[i,s]of Object.entries(e))if(void 0!==s&&"function"!=typeof s)try{const e=JSON.stringify(s);e&&(t[i]=JSON.parse(e))}catch(r){}return t}).filter(Boolean);else try{const r=JSON.stringify(t);r&&(n[e]=JSON.parse(r))}catch(i){}let d=null;if(l?.currentUser)try{d=await l.currentUser.getIdToken(!0)}catch(a){}if(!d)return!1;const u=await fetch(`${g}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json",...d?{Authorization:`Bearer ${d}`}:{}},body:JSON.stringify({userId:e,project:{...n,id:String(t.id),updatedAt:(new Date).toISOString(),syncedAt:(new Date).toISOString()}})});if(!u.ok){const e=await u.json().catch(()=>({}));throw new Error(e.error||`HTTP ${u.status}`)}await u.json();return!0}catch(o){return s.error(`Save failed: ${o.message||"Network error"}`),!1}}async function Fa(e,t){if(e&&Array.isArray(t)&&0!==t.length){Wa(!0);try{let i=0;for(const s of t)if(s&&s.id)try{await Ma(e,s)&&i++}catch(r){}i>0?La(new Date):t.length>0&&l?.currentUser&&s.error("Sync failed - check your internet connection")}catch(i){s.error("Cloud sync failed. Projects saved locally.")}finally{Wa(!1)}}}async function Ha(e,t,r){Date.now();if(!e)return[];try{let s=r||null;if(!s){const e=t||l?.currentUser;if(e)try{s=await e.getIdToken()}catch(i){}}const a=await fetch(`${g}/api/projects?userId=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}}});if(!a.ok){const e=await a.json().catch(()=>({}));throw new Error(e.error||`HTTP ${a.status}`)}const o=await a.json();return(o.projects||[]).filter(e=>e&&"object"==typeof e).map(e=>({...e,id:e.id||String(Date.now())+Math.random().toString(36).substr(2,5),createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString(),assets:Array.isArray(e.assets)?e.assets.filter(Boolean):[],agents:Array.isArray(e.agents)?e.agents.filter(Boolean):[]}))}catch(a){return s.error("Could not load projects from cloud. Using local data."),[]}}i.useEffect(()=>{if(Pt?.uid&&0!==Sr.length&&l?.currentUser&&!Wi)return Na.current&&clearTimeout(Na.current),Na.current=setTimeout(()=>{Fa(Pt?.uid,Sr)},3e3),()=>{Na.current&&clearTimeout(Na.current)}},[Sr,Pt?.uid,l?.currentUser]);const Va=e=>{let t;t="function"==typeof e?e(pi):e;const r=gi.slice(0,mi+1);r.push(t),xi(r),hi(r.length-1),ui(t)};i.useEffect(()=>{const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_help_${e}`,Ci)},[Ci,Pt?.uid]),i.useEffect(()=>{const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_prompt_${e}`,Pi)},[Pi,Pt?.uid]),i.useEffect(()=>{const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_transcript_${e}`,ns)},[ns,Pt?.uid]);const Ga=()=>{if(void 0===u||!u)return[];const e=dr.toLowerCase();return"pro"===e||"lifetime access"===e?u:"monthly"===e?u.filter(e=>"free"===e.tier||"monthly"===e.tier):u.filter(e=>"free"===e.tier)},qa=()=>{if(void 0===u||!u)return[];if(Vt)return[];const e=dr.toLowerCase();return"pro"===e||"lifetime access"===e?[]:"monthly"===e?u.filter(e=>"pro"===e.tier):u.filter(e=>"free"!==e.tier)};i.useEffect(()=>{localStorage.setItem("studio_user_plan",dr)},[dr]);const[Ya,Ja]=i.useState(null),[Qa,Ka]=i.useState(!1),[Xa,Za]=i.useState(null),[eo,to]=i.useState(!1);i.useEffect(()=>{const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest",t=localStorage.getItem(`studio_project_id_${e}`);if(t&&Sr&&!jr){const e=Sr.find(e=>e.id===t);e&&wr(e)}},[Sr,Pt?.uid]),i.useEffect(()=>{const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";jr?.id?localStorage.setItem(`studio_project_id_${e}`,jr.id):localStorage.removeItem(`studio_project_id_${e}`)},[jr,Pt?.uid]);const[ro,io]=i.useState(!1);i.useEffect(()=>{ro&&jr&&(vr(null),_a("project_canvas"),io(!1))},[ro,jr]);const[so,ao]=i.useState(!1),[oo,no]=i.useState(0),[lo,co]=i.useState(null),[po,uo]=i.useState(null),[go,xo]=i.useState(null),[mo,ho]=i.useState(!1),[yo,bo]=i.useState({}),fo=gs||{},vo=Array.isArray(fo.assets)?fo.assets.filter(Boolean):[],jo="number"!=typeof fo.currentIndex||isNaN(fo.currentIndex)?0:fo.currentIndex,wo=vo.length>0?Math.max(0,Math.min(jo,vo.length-1)):0,So=e=>e?"vocal"===e.type?"vocal":e.audioUrl?"audio":e.videoUrl?"video":e.imageUrl?"image":(e.type||"text").toLowerCase():"text",ko=e=>{if(!e)return null;const t=e.content||e.snippet||e.output||e.description||e.title;return"string"==typeof t&&t.trim().length>0?t:null};i.useEffect(()=>{if(gs&&gs.url&&("audio"===gs.type||"vocal"===gs.type)){const e=setTimeout(()=>{Ua.current&&Ua.current.play().catch(e=>{})},600);return()=>clearTimeout(e)}return()=>{Ua.current&&(Ua.current.pause(),Ua.current.src="")}},[gs]);const Co=(e,t)=>{Io.current&&clearTimeout(Io.current),Ui(null),Io.current=setTimeout(()=>{try{if(!e)return void s.error("Unable to preview: asset not found");if(No.current)return;No.current=!0;const r=Array.isArray(t)?t.filter(e=>e&&(e.id||e.audioUrl||e.videoUrl||e.imageUrl||e.content)):[];if(0===r.length)return s.error("No assets available to preview"),void(No.current=!1);if(e.audioUrl||e.imageUrl||e.videoUrl){const t=r.filter(e=>e?.audioUrl||e?.imageUrl||e?.videoUrl);if(0===t.length)return s.error("No media content to preview. Generate some assets first."),void(No.current=!1);const i=t.findIndex(t=>t?.id===e?.id),a=i>=0&&i<t.length?i:0,o=t[a];if(!o)return s.error("Media asset not found. It may have been moved or deleted."),void(No.current=!1);ks(!0),xs({type:o.audioUrl?"audio":o.videoUrl?"video":"image",url:nt(o.audioUrl)||lt(o.videoUrl)||ot(o.imageUrl)||null,title:o.title||"Untitled",asset:o,assets:t,currentIndex:a})}else{ks(!1);const t=r.findIndex(t=>t?.id===e?.id),i=t>=0&&t<r.length?t:0;if(!r[i])return s.error("Asset not found. Try refreshing the page."),void(No.current=!1);xs({type:(e.type||"text").toLowerCase(),url:null,content:e.content||e.snippet||e.output||"",title:e.title||"Untitled",asset:e,assets:r,currentIndex:i})}setTimeout(()=>{No.current=!1},500)}catch(r){s.error("Preview failed: asset data is missing or corrupted. Try refreshing the page."),No.current=!1}},100)},zo=e=>{if(!e)return;const t=!!(e.imageUrl||e.audioUrl||e.videoUrl||e.lyricsVocal);ks(t),xs(null),hs(!1),setTimeout(()=>{Ui(e)},50)},No=i.useRef(!1),Io=i.useRef(null),[Ao,To]=i.useState(null),[Ro,Uo]=i.useState(""),[Po,Bo]=i.useState("gemini-2.0-flash");i.useEffect(()=>{localStorage.getItem("studio_onboarding_v3")||o||ao(!0)},[o]);const[$o,_o]=i.useState(!1),[Eo,Do]=i.useState(!1),[Wo,Oo]=i.useState(1);i.useEffect(()=>{xe&&li(!0)},[xe]),i.useEffect(()=>{if(!Ut)return;if(["agents","mystudio","activity","news","resources","marketing","hub"].includes(Ut))return void _a(Ut);const e=u?.find(e=>e.id===Ut);e&&(vr(e),_a("agents"),ao(!1))},[Ut]),i.useEffect(()=>{const e=async()=>{try{const e=await fetch(`${g}/health`);if(!e.ok)throw new Error("Backend unreachable");const t=await e.json();oi({status:"healthy",message:"All Systems Operational",details:t})}catch(e){oi({status:"maintenance",message:"System Under Maintenance",details:e.message})}};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[]),i.useEffect(()=>{Rt&&ka.current&&ka.current(Rt)},[Rt]);const Lo=e=>{ja.current&&ja.current(e)};i.useEffect(()=>{if("project_canvas"===gr&&!fr&&jr){const e=Array.isArray(jr.assets)?jr.assets.filter(Boolean):[];!ys&&e.length>0&&e[0]&&bs(e[0])}else if("project_canvas"!==gr){Pa.current&&Pa.current.pause();const e=document.querySelector(".studio-monitor-panel video");e&&e.pause()}},[gr,fr,jr,ys]),i.useEffect(()=>{const e=e=>{if("Space"===e.code&&Ri&&!fs){const t=e.target.tagName.toLowerCase();if("input"===t||"textarea"===t)return;e.preventDefault();const r=document.querySelector(".modal-content video")||document.querySelector(".modal-content audio");r&&(r.paused?r.play().catch(()=>{}):r.pause())}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[Ri,fs]);const[Mo,Fo]=i.useState({name:"",category:"",description:"",language:"English",style:"Modern Hip-Hop",model:"Gemini 2.0 Flash",selectedAgents:[],socialHandle:"",socialBio:"",socialPlatform:"instagram"}),Ho=i.useCallback(e=>{Gi(e),Ca.current&&clearTimeout(Ca.current),"saved"!==e&&"error"!==e||(Ca.current=setTimeout(()=>{Gi("idle")},3e3))},[]),Vo=i.useCallback((e="light")=>{if("vibrate"in navigator)switch(e){case"light":default:navigator.vibrate(10);break;case"medium":navigator.vibrate(25);break;case"heavy":navigator.vibrate([30,10,30]);break;case"success":navigator.vibrate([10,50,20]);break;case"error":navigator.vibrate([50,30,50,30,50])}},[]),Go=i.useCallback((e,t)=>{const r=`save-asset-${t?.id||Date.now()}`;za.current.has(r)||(za.current.add(r),Vo("light"),Ho("saving"),kr(i=>i.map(i=>{if(i.id===e){const e=i.assets||[];if(e.some(e=>e.id===t.id||e.content===t.content&&e.type===t.type&&e.agent===t.agent))return za.current.delete(r),Ho("idle"),i;const s={...i,assets:[t,...e],progress:Math.min(100,(i.progress||0)+10),updatedAt:(new Date).toISOString()};return Pt&&l?.currentUser?setTimeout(()=>{Ma(Pt?.uid,s).then(e=>{e?(Ho("saved"),Vo("success")):Ho("idle")}).catch(e=>{Ho("error"),Vo("error")}).finally(()=>{za.current.delete(r)})},0):(Ho("saved"),Vo("success"),za.current.delete(r)),s}return i})),s.success("Asset saved to project"))},[Pt,Ma,Ho,Vo]),qo=(e,t)=>{if(("number"==typeof nr?nr:0)<2)return s.error("Not enough credits. You need 2 credits to create a project."),void ln(!0);const r={id:String(Date.now()),name:e,category:"pro",description:`Created from ${t.agentName||t.agent||"AI Agent"}`,agents:[t.agent],workflow:"custom",date:(new Date).toLocaleDateString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};s.success("Project created! -2 credits",{icon:"âœ¨"}),kr(e=>e.find(e=>e.name===r.name&&Date.now()-parseInt(e.id)<1e4)?e:[r,...e]),wr(r),Pt&&Ma(Pt?.uid,r).catch(e=>{})};i.useEffect(()=>{if(l){const e=Ve(l,async e=>{if(e){if(e.providerData.some(e=>"password"===e.providerId)&&!e.emailVerified)return s.error("Please verify your email to access the studio."),await Le(l),localStorage.removeItem("studio_user_id"),_t(!1),Bt(null),void Ot(!1);localStorage.setItem("studio_user_id",e.uid),Ia.current=e,Bt(e),_t(!0),Ot(!1);let o=null;try{o=await e.getIdToken(),Ht(o)}catch(t){}let n=!1;if(o)try{const e=await fetch(`${g}/api/user/admin-status`,{headers:{Authorization:`Bearer ${o}`}});if(e.ok){n=!0===(await e.json()).isAdmin}}catch(r){}if(Gt(n),n&&(cr("Lifetime Access"),lr(999999),s.success("Welcome, Administrator!",{icon:"ðŸ”"})),d&&!n)try{const t=Fe(d,"users",e.uid),r=await Ge(t);if(r.exists()){const e=r.data(),t=e.credits||0;if(lr(t),Yt(e=>({...e,credits:t})),e.visualDnaUrl&&Ir(e.visualDnaUrl),e.audioDnaUrl&&Tr(e.audioDnaUrl),e.videoDnaUrl&&Ur(e.videoDnaUrl),e.lyricsDnaUrl&&Br(e.lyricsDnaUrl),e.voiceSampleUrl&&_r(e.voiceSampleUrl),"active"===e.subscriptionStatus&&e.tier){const t={creator:"monthly",studio:"pro",lifetime:"lifetime"}[e.tier]||e.tier;cr(t),localStorage.setItem("studio_user_plan",t)}else if(e.plan)cr(e.plan),localStorage.setItem("studio_user_plan",e.plan);else if("active"===e.subscription?.status){const t=e.subscription.plan||"monthly";cr(t),localStorage.setItem("studio_user_plan",t)}}}catch(i){}try{let t=await Ha(e.uid,e,o);if(0!==t.length||o||(await new Promise(e=>setTimeout(e,2e3)),t=await Ha(e.uid,e)),t.length>0)kr(e=>{const r=((e,t)=>{const r=new Map,i=Array.isArray(e)?e:[],s=Array.isArray(t)?t:[];for(const a of s)a&&a.id&&r.set(a.id,a);for(const a of i)if(a&&a.id)if(r.has(a.id)){const e=r.get(a.id);new Date(a.updatedAt||a.createdAt||0).getTime()>new Date(e.updatedAt||e.createdAt||0).getTime()&&r.set(a.id,a)}else r.set(a.id,a);return Array.from(r.values()).sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r})})(e,t);return r}),s.success(`Synced ${t.length} projects from cloud`);else{const t=`studio_projects_${e.uid}`,r=localStorage.getItem(t);let i=[];try{i=r?JSON.parse(r):[]}catch(a){}i.length>0&&(kr(i),Fa(e.uid,i))}}catch(i){}}else{Ia.current=null;const e=localStorage.getItem("studio_user_id"),t="true"===localStorage.getItem("studio_guest_mode");e&&Lt<5?(Mt(e=>e+1),_t(!0),Ot(!0),setTimeout(()=>{!Ia.current&&Lt>=4&&("true"!==localStorage.getItem("studio_guest_mode")&&(Bt(null),Ht(null),lr(3),localStorage.removeItem("studio_user_id"),_t(!1)),Ot(!1),Mt(0))},5e3)):t?(Bt(null),Ht(null),_t(!1),Dt(!0),Ot(!1)):(Bt(null),Ht(null),lr(3),localStorage.removeItem("studio_user_id"),_t(!1),Ot(!1),Mt(0))}});return()=>e()}Ot(!1)},[]),i.useEffect(()=>{const e=()=>{Xt(!0)};return window.addEventListener("openAuthModal",e),()=>window.removeEventListener("openAuthModal",e)},[]);const Yo=i.useCallback(()=>{Aa.current&&clearTimeout(Aa.current),Pt&&!Et&&(Aa.current=setTimeout(()=>{s("Session expired for security. Please sign in again.",{icon:"ðŸ”’"}),Sa.current&&Sa.current()},18e5))},[Pt,Et]);async function Jo(){try{l&&await Le(l)}catch(e){}Bt(null),Ht(null),lr(3),Gt(!1),cr(""),localStorage.removeItem("studio_user_id"),localStorage.removeItem("studio_user_plan"),localStorage.removeItem("studio_guest_mode"),localStorage.removeItem("studio_agents_projects"),localStorage.removeItem("studio_active_tab"),localStorage.removeItem("studio_dashboard_tab"),localStorage.removeItem("studio_selected_agent_id"),localStorage.removeItem("studio_news_search"),localStorage.removeItem("studio_help_search"),localStorage.removeItem("studio_preview_prompt"),localStorage.removeItem("studio_voice_transcript"),localStorage.removeItem("studio_selected_project_id"),u&&Array.isArray(u)&&u.forEach(e=>{localStorage.removeItem(`studio_workflow_prompt_${e.id}`),localStorage.removeItem(`studio_workflow_output_${e.id}`)}),sessionStorage.clear(),_t(!1),Dt(!1),rr(""),sr(""),Xt(!1),s.success("Signed out securely",{icon:"ðŸ‘‹"}),r?.()}i.useEffect(()=>{if(!Pt)return;const e=["mousedown","keydown","scroll","touchstart"],t=()=>Yo();return e.forEach(e=>{window.addEventListener(e,t,{passive:!0})}),Yo(),()=>{e.forEach(e=>{window.removeEventListener(e,t)}),Aa.current&&clearTimeout(Aa.current)}},[Pt,Yo]),i.useEffect(()=>{Ia.current=Pt},[Pt]),i.useEffect(()=>{Sa.current=Jo},[]);const Qo=i.useCallback(async e=>{if(d)try{const t=Fe(d,"users",e),r=await Ge(t);if(r.exists()){const e=r.data().credits||0;lr(e),Yt(t=>({...t,credits:e}))}else await qe(t,{credits:3,tier:"free",createdAt:new Date}),lr(3)}catch(t){}},[d]),Ko=async(e,t)=>{if(!Pt)return s.error("Please log in to purchase credits"),void Xt(!0);const r=s.loading(`Redirecting to secure checkout for ${e} credits...`);try{const t=await fetch(`${g}/api/stripe/create-credits-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:parseInt(e),userId:Pt?.uid,userEmail:Pt?.email,successUrl:window.location.origin+window.location.pathname+"#/studio?payment=success&type=credits&amount="+e,cancelUrl:window.location.origin+window.location.pathname+"#/studio?payment=cancelled"})}),i=await t.json();s.dismiss(r),i.url?window.location.href=i.url:i.error?s.error(i.error):s.error("Could not create payment session. Please try again.")}catch(i){s.dismiss(r),s.error("Payment system unavailable. Please contact support.")}};async function Xo(){if(!l)return void s.error("Authentication service unavailable");or(!0);const e=s.loading("Signing in with Google...");try{const r=new Ye,i=await Je(l,r);Xt(!1),s.success("Welcome back!",{id:e}),t.login("google"),Qo(i.user.uid).catch(e=>{}),Ji&&wa.current&&wa.current(Ji)}catch(r){s.dismiss(e),"auth/popup-closed-by-user"===r.code?s("Sign-in cancelled",{icon:"ðŸ‘‹"}):"auth/unauthorized-domain"===r.code?s.error(`Domain not authorized. Add ${window.location.hostname} in Firebase Console.`):s.error(r.message)}finally{or(!1)}}async function Zo(e){if(e.preventDefault(),l)if(tr&&ir){if("signup"===Zt){const e=(e=>{const t=[];return e.length<8&&t.push("At least 8 characters"),/[A-Z]/.test(e)||t.push("One uppercase letter"),/[a-z]/.test(e)||t.push("One lowercase letter"),/[0-9]/.test(e)||t.push("One number"),t})(ir);if(e.length>0)return void s.error(`Password requires: ${e.join(", ")}`)}or(!0);try{let e;if("signup"===Zt){e=await Qe(l,tr,ir);try{return await Ke(e.user),s.success("Account created! Please check your inbox and verify your email to log in.",{duration:8e3}),await Le(l),or(!1),void er("login")}catch(r){return s.error("Account created, but could not send verification email. Please try logging in to resend."),await Le(l),void or(!1)}t.signUp("email")}else{if(e=await Xe(l,tr,ir),!e.user.emailVerified){s.error("Please verify your email address before logging in.",{duration:4e3});try{await Ke(e.user),s.success("A new verification link has been sent to your inbox.",{duration:5e3})}catch(i){}return await Le(l),void or(!1)}s.success("Welcome back!"),t.login("email")}await Qo(e.user.uid),Xt(!1),rr(""),sr(""),Ji&&wa.current&&wa.current(Ji)}catch(a){"auth/email-already-in-use"===a.code?s.error("Email already in use. Try logging in."):"auth/wrong-password"===a.code||"auth/user-not-found"===a.code?s.error("Invalid email or password"):"auth/weak-password"===a.code?s.error("Password should be at least 8 characters with uppercase, lowercase, and numbers"):s.error(a.message)}finally{or(!1)}}else s.error("Please enter email and password");else s.error("Authentication service unavailable")}const en=async()=>{if(tr){or(!0);try{await Me(l,tr),s.success("Password reset email sent!"),er("login")}catch(e){s.error(e.message)}finally{or(!1)}}else s.error("Please enter your email first")};async function tn(){ri(!0),si(null);try{let e;if(!l?.currentUser)throw new Error("You must be logged in to access admin stats");e=await l.currentUser.getIdToken(!0);const[t,r]=await Promise.all([fetch(`${g}/api/admin/stats`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${g}/api/status/apis`)]);if(!t.ok)throw new Error("Failed to fetch platform stats");if(!r.ok)throw new Error("Failed to fetch API health status");const i=await t.json(),s=await r.json();Xr(i),ei(s)}catch(e){si(e.message)}finally{ri(!1)}}i.useEffect(()=>{const e=Pt?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_dash_${e}`,$s)},[$s,Pt?.uid]),i.useEffect(()=>{"admin"===$s&&Vt&&tn()},[$s,Vt]),i.useEffect(()=>{localStorage.setItem("studio_managed_agents",JSON.stringify(Es))},[Es]),i.useEffect(()=>{localStorage.setItem("studio_app_settings",JSON.stringify(Ws))},[Ws]);const rn=e=>{Ds(t=>t.map(t=>t.name===e?{...t,visible:!t.visible}:t))},sn=e=>{Os(t=>({...t,[e]:!t[e]}))},[an,on]=i.useState(!1),[nn,ln]=i.useState(!1),[dn,cn]=i.useState(null),[pn,un]=i.useState("card"),[gn,xn]=i.useState(!1);async function mn(e){if(!$t||!Pt)return s.error("Please log in first"),void Xt(!0);const t={Creator:"creator","Studio Pro":"studio","Lifetime Access":"lifetime"}[e.name]||"creator";try{s.loading("Redirecting to checkout...");const e=await fetch(`${g}/api/stripe/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tier:t,userId:Pt?.uid,userEmail:Pt?.email,successUrl:window.location.origin+"?payment=success",cancelUrl:window.location.origin+"?payment=cancelled"})}),r=await e.json();s.dismiss(),r.url?window.location.href=r.url:r.error?s.error(r.error):s.error("Could not create checkout session")}catch(r){s.dismiss(),s.error("Payment system unavailable. Please try again later.")}}i.useEffect(()=>{localStorage.setItem("studio_agents_payments",JSON.stringify(xa)),localStorage.setItem("studio_agents_banks",JSON.stringify(ha))},[xa,ha]),i.useEffect(()=>{localStorage.setItem("studio_agents_socials",JSON.stringify(Jt)),localStorage.setItem("studio_agents_storage",JSON.stringify(ua)),la&&localStorage.setItem("studio_agents_twitter_user",la),ca&&localStorage.setItem("studio_agents_meta_name",ca)},[Jt,la,ca,ua]),i.useEffect(()=>{const e=new URLSearchParams(window.location.search);if("true"===e.get("twitter_connected")){const t=e.get("twitter_username");Qt(e=>({...e,twitter:!0})),da(t);const r=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,r),s.success(`Connected to X/Twitter as @${t}!`)}if("true"===e.get("meta_connected")){const t=e.get("meta_name");Qt(e=>({...e,instagram:!0,facebook:!0})),pa(t);const r=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,r),s.success(`Connected to Meta as ${t}!`)}const t=e.get("payment");if("success"===t){const t=e.get("type")||"subscription",r=e.get("amount");"credits"===t?(s.success(`Success! ${r||"Your"} credits have been added.`,{icon:"ðŸ’°"}),Pt?.uid&&Qo(Pt.uid)):s.success("Your subscription is now active!",{icon:"âœ¨"});const i=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,i)}else if("cancelled"===t){s.error("Payment was cancelled.");const e=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,e)}},[Pt,Qo]);const hn=e=>{Qi(e),$t?mn(e):Xt(!0)};ka.current=hn,wa.current=mn;const[yn,bn]=i.useState(null);i.useEffect(()=>{yn&&fr&&"agents"===gr&&setTimeout(()=>{const e=Ra.current||document.querySelector(".studio-textarea");e&&(e.value=yn,e.focus()),bn(null)},100)},[yn,fr,gr]);const fn=()=>{if(Ki)return Ta.current&&Ta.current.stop(),Xi(!1),void ls("");const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return void s.error("Speech recognition not supported. Try Chrome or Safari.");const t=new e;t.lang="English"===ps.language?"en-US":"Spanish"===ps.language?"es-ES":"French"===ps.language?"fr-FR":"German"===ps.language?"de-DE":"Italian"===ps.language?"it-IT":"Portuguese"===ps.language?"pt-PT":"Japanese"===ps.language?"ja-JP":"Korean"===ps.language?"ko-KR":"Chinese"===ps.language?"zh-CN":"en-US",t.continuous=!0,t.interimResults=!0,t.onstart=()=>{Xi(!0),s.success("ðŸŽ¤ Listening... Say a command or dictate your prompt",{duration:2e3})},t.onend=()=>{Xi(!1),ls("")},t.onerror=e=>{Xi(!1),ls(""),"aborted"!==e.error&&s.error(`Voice error: ${e.error}`)},t.onresult=e=>{let t="",r="";for(let s=e.resultIndex;s<e.results.length;s++){const i=e.results[s][0].transcript;e.results[s].isFinal?r+=i:t=i}if(t&&ls(t),!r)return;const i=r.toLowerCase().trim();if(ls(""),cs({text:r,time:(new Date).toLocaleTimeString()}),i.includes("stop listening")||i.includes("stop voice")||"stop"===i||"cancel"===i)return Ta.current&&Ta.current.stop(),Xi(!1),void vn("Voice control stopped.");if(i.includes("open")||i.includes("launch")){const e=i.replace("open","").replace("launch","").trim(),t=void 0!==u&&u?u.find(t=>t.name.toLowerCase().includes(e)):null;if(t)return vr(t),_a("agents"),s.success(`ðŸš€ Launching ${t.name}`),void vn(`Launching ${t.name}.`)}if(i.includes("go to")||i.includes("show me")||i.includes("navigate")){let e=!1;if(i.includes("dashboard")||i.includes("studio")||i.includes("home")?(_a("mystudio"),s.success("ðŸ“Š Dashboard"),vn("Navigating to your dashboard."),e=!0):i.includes("hub")||i.includes("projects")?(_a("hub"),s.success("ðŸ“ Project Hub"),vn("Opening the Project Hub."),e=!0):i.includes("news")?(_a("news"),s.success("ðŸ“° Industry Pulse"),vn("Checking the latest industry pulse."),e=!0):i.includes("help")||i.includes("support")?(_a("support"),s.success("ðŸ’¡ Help Center"),vn("How can I help you today?"),e=!0):(i.includes("agents")||i.includes("tools"))&&(_a("agents"),s.success("ðŸ¤– Agents"),vn("Viewing all available agents."),e=!0),e)return}if(i.includes("switch theme")||i.includes("toggle theme")||i.includes("light mode")||i.includes("dark mode")){const e="dark"===mr?"light":"dark";return hr(e),localStorage.setItem("studio_theme",e),s.success(`ðŸŽ¨ ${"dark"===e?"Dark":"Light"} mode`),void vn(`Switching to ${e} mode.`)}if("generate"===i||i.includes("start generation")||i.includes("create now")||i.includes("make it")){const e=Ra.current||document.querySelector(".studio-textarea");return void(e&&e.value.trim()?(va.current&&va.current(),s.success("âš¡ Generating..."),vn("Starting generation.")):(s.error("Please enter a prompt first"),vn("Please enter a prompt first.")))}if(i.includes("clear prompt")||i.includes("clear text")||i.includes("start over")||"clear"===i){const e=Ra.current||document.querySelector(".studio-textarea");if(e){e.value="";try{e.dispatchEvent(new Event("input",{bubbles:!0}))}catch(o){const t=document.createEvent("Event");t.initEvent("input",!0,!0),e.dispatchEvent(t)}s.success("ðŸ—‘ï¸ Prompt cleared"),vn("Prompt cleared.")}return}if(i.includes("read back")||i.includes("read prompt")||i.includes("what did i write")||i.includes("read it")){const e=Ra.current||document.querySelector(".studio-textarea");return void(e&&e.value.trim()?vn(e.value):vn("The prompt is empty."))}if(i.includes("reference")&&(i.includes("dna")||i.includes("asset"))){if(i.includes("visual")||i.includes("image"))return document.getElementById("visual-dna-input")?.click(),void vn("Please select a visual reference image.");if(i.includes("audio")||i.includes("sound")||i.includes("music"))return document.getElementById("audio-dna-input")?.click(),void vn("Please select an audio reference file.");if(i.includes("lyrics")||i.includes("text")||i.includes("context"))return document.getElementById("lyrics-dna-input")?.click(),void vn("Please select a lyrics or text reference file.");if(i.includes("voice")||i.includes("clone"))return document.getElementById("voice-dna-input")?.click(),void vn("Please select a voice sample to clone.")}if(i.includes("set genre to")||i.includes("change genre to")){const e=i.replace("set genre to","").replace("change genre to","").trim(),t=["r&b","pop","hip-hop","soul","country","rock","jazz","folk","metal","blues"].find(t=>e.includes(t));if(t){let e=t;return"folk"===t&&(e="country"),"metal"===t&&(e="rock"),"blues"===t&&(e="jazz"),us(t=>({...t,genre:e})),s.success(`ðŸŽ¶ Genre set to ${e.toUpperCase()}`),void vn(`Setting genre to ${e}.`)}}if(i.includes("set duration to")||i.includes("change duration to")){const e=i.replace("set duration to","").replace("change duration to","").trim();let t=30;return e.includes("15 seconds")?t=15:e.includes("30 seconds")?t=30:e.includes("1 minute")||e.includes("60 seconds")?t=60:e.includes("2 minute")||e.includes("120 seconds")?t=120:e.includes("3 minute")||e.includes("180 seconds")?t=180:e.includes("short")?t=15:e.includes("long")&&(t=180),us(e=>({...e,duration:t})),s.success(`â±ï¸ Duration set to ${t}s`),void vn(`Setting generation length to ${t} seconds.`)}if(i.includes("show commands")||i.includes("voice commands")||i.includes("what can i say")||i.includes("help commands"))return os(!0),void vn("Here are the available voice commands.");if(i.includes("add payment")||i.includes("billing")||i.includes("manage card"))return _a("mystudio"),on(!0),void vn("Opening payment management.");const a=Ra.current||document.querySelector(".studio-textarea");if(a){const e=(a.value+" "+r).trim();a.value=e;try{a.dispatchEvent(new Event("input",{bubbles:!0}))}catch(o){const e=document.createEvent("Event");e.initEvent("input",!0,!0),a.dispatchEvent(e)}s.success(`âœï¸ Added: "${r.substring(0,30)}${r.length>30?"...":""}"`,{duration:1500})}},Ta.current=t,t.start()};i.useEffect(()=>{if(fr&&eo){const e=setTimeout(()=>{fn(),to(!1)},500);return()=>clearTimeout(e)}},[fr,eo]);const vn=e=>{if(Zi&&(!e||"string"!=typeof e))return window.speechSynthesis.cancel(),void es(!1);const t="string"==typeof e?e:Ra.current?.value||document.querySelector(".studio-textarea")?.value;if(!t)return;window.speechSynthesis.cancel();const r=e=>{const r=new SpeechSynthesisUtterance(t);let i=null;const s="English"===ps.language?"en":"Spanish"===ps.language?"es":"French"===ps.language?"fr":"German"===ps.language?"de":"Italian"===ps.language?"it":"Portuguese"===ps.language?"pt":"Japanese"===ps.language?"ja":"Korean"===ps.language?"ko":"Chinese"===ps.language?"zh":"en",a=e.filter(e=>e.lang.startsWith(s));"UK"===ps.region?i=a.find(e=>e.name.includes("UK")||e.name.includes("British")):"AU"===ps.region?i=a.find(e=>e.name.includes("Australia")):"IN"===ps.region&&(i=a.find(e=>e.name.includes("India"))),i||(i="female"===ps.gender?a.find(e=>e.name.toLowerCase().includes("female")||e.name.toLowerCase().includes("samantha")||e.name.toLowerCase().includes("victoria")):a.find(e=>e.name.toLowerCase().includes("male")||e.name.toLowerCase().includes("alex")||e.name.toLowerCase().includes("daniel"))),i&&(r.voice=i),r.lang=s,r.rate=.9,r.pitch="female"===ps.gender?1.1:.9,r.onstart=()=>es(!0),r.onend=()=>es(!1),r.onerror=e=>{es(!1)},window.speechSynthesis.speak(r)};let i=window.speechSynthesis.getVoices();i.length>0?r(i):window.speechSynthesis.onvoiceschanged=()=>{i=window.speechSynthesis.getVoices(),r(i),window.speechSynthesis.onvoiceschanged=null}};ja.current=vn;const jn=async(e,t="Ghostwriter")=>{if(!e||0===e.trim().length)return void s.error("No text content to vocalize");const r=jr;zr(!0);const i=s.loading("Creating AI vocal (~60s)...");try{const o={"Content-Type":"application/json"};if($t&&l?.currentUser)try{const e=await l.currentUser.getIdToken();o.Authorization=`Bearer ${e}`}catch(a){}const n=e.substring(0,1500),d=await fetch(`${g}/api/generate-speech`,{method:"POST",headers:o,body:JSON.stringify({prompt:n,voice:ps.voiceName||"rapper-male-1",style:ps.style||"rapper",rapStyle:ps.rapStyle||"aggressive",genre:ps.genre||"hip-hop",speakerUrl:$r||ps.speakerUrl,elevenLabsVoiceId:Er,quality:Er||$r?"premium":"standard"})}),c=await d.json();if(c.audioUrl){if(Ri){const e={...Ri,audioUrl:c.audioUrl,mimeType:c.mimeType||"audio/wav",type:"vocal",vocalSnippet:"ðŸŽ¤ AI Vocal created from lyrics",projectSnapshot:r,updatedAt:(new Date).toISOString()};return Ui(e),fr?.id&&Hi(t=>({...t,[fr.id]:e})),s.success("AI vocal added to your creation!",{id:i}),e}{const e={id:String(Date.now()),title:`AI Vocal - ${t}`,agent:t,type:"vocal",audioUrl:c.audioUrl,mimeType:c.mimeType||"audio/wav",snippet:`ðŸŽ¤ AI Vocal: "${n.substring(0,50)}..."`,projectSnapshot:r,createdAt:(new Date).toISOString()};return zo(e),s.success("AI vocal created!",{id:i}),e}}throw c.error?new Error(c.error):new Error("No audio URL returned")}catch(o){return s.error(o.message||"Failed to create AI vocal",{id:i}),null}finally{zr(!1)}},wn=(e,t)=>{window.confirm("Are you sure you want to remove this payment method?")&&("card"===t?ma(t=>t.filter(t=>t.id!==e)):ya(t=>t.filter(t=>t.id!==e)),vn("Payment method removed."))},Sn=e=>{e.preventDefault();const t=new FormData(e.target);if("card"===pn){const e=t.get("cardNumber"),r=t.get("expiry");if(e.length<12)return void s.error("Please enter a valid card number");const i={id:dn?dn.item.id:`pm_${Date.now()}`,type:"Visa",last4:e.slice(-4),expiry:r,isDefault:!!dn&&dn.item.isDefault};dn?(ma(e=>e.map(e=>e.id===i.id?i:e)),vn("Card updated successfully.")):(ma(e=>[...e,i]),vn(`Successfully added your card ending in ${i.last4}.`))}else{const e=t.get("bankName"),r=t.get("accountNumber"),i={id:dn?dn.item.id:`ba_${Date.now()}`,bankName:e,last4:r.slice(-4),type:"Checking"};dn?(ya(e=>e.map(e=>e.id===i.id?i:e)),vn("Bank account updated successfully.")):(ya(e=>[...e,i]),vn(`Successfully linked your ${i.bankName} account.`))}on(!1),cn(null)},kn=async()=>{const e=Ra.current||document.querySelector(".studio-textarea");if(e&&e.value&&"English"!==ps.language)try{const t=await fetch(`${g}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.value,targetLanguage:"English",sourceLanguage:ps.language})}),r=await t.json();r.translatedText&&(e.value=r.translatedText,s.success("Prompt translated to English!"))}catch(t){}},Cn=async(e,t)=>{if(Vr[e])return;const r=t.target.files?.[0];if(!r)return;if(r.size>10485760)return void s.error("File too large (max 10MB)");Gr(t=>({...t,[e]:!0}));const i=s.loading(`Uploading ${e} DNA...`,{id:`upload-dna-${e}`});try{const t=Pt?await Pt.getIdToken():null,a={"Content-Type":"application/json"};t&&(a.Authorization=`Bearer ${t}`);const o=new FileReader;o.readAsDataURL(r),o.onload=async()=>{try{const n=o.result,l=await fetch(`${g}/api/upload-asset`,{method:"POST",headers:a,body:JSON.stringify({data:n,fileName:`${e}-dna-${Date.now()}-${r.name.replace(/\s+/g,"-")}`,mimeType:r.type,assetType:"visual"===e||"video"===e?"image":"audio"===e?"audio":"document"})}),c=await l.json();if(!l.ok||!c.url)throw new Error(c.error||"Upload failed");{const r=c.url;if("visual"===e&&Ir(r),"audio"===e&&Tr(r),"video"===e&&Ur(r),"lyrics"===e&&Br(r),s.success(`${e.charAt(0).toUpperCase()+e.slice(1)} DNA Attached!`,{id:i}),Pt?.uid)try{const t=Fe(d,"users",Pt?.uid);await He(t,{[`${e}DnaUrl`]:r,lastDnaUpdate:Date.now()})}catch(t){}s.success(`${"video"===e?"Image":e.charAt(0).toUpperCase()+e.slice(1)} DNA attached!`,{id:i})}}catch(n){s.error(`Failed to upload ${e} DNA`,{id:i})}finally{Gr(t=>({...t,[e]:!1}))}},o.onerror=()=>{s.error("Failed to read file"),Gr(t=>({...t,[e]:!1}))}}catch(a){s.error("Upload failed",{id:i}),Gr(t=>({...t,[e]:!1}))}},zn=async e=>{if(qr)return;const t=e.target.files[0];if(!t)return;Yr(!0);const r=s.loading("Cloning voice sample...",{id:"voice-upload"});try{const e=Pt?await Pt.getIdToken():null,i={"Content-Type":"application/json"};e&&(i.Authorization=`Bearer ${e}`);const a=new FileReader;a.readAsDataURL(t),a.onload=async()=>{try{const o=a.result,n=await fetch(`${g}/api/upload-asset`,{method:"POST",headers:i,body:JSON.stringify({data:o,fileName:`voice-cloned-${Date.now()}-${t.name.replace(/\s+/g,"-")}`,mimeType:t.type,assetType:"audio"})}),l=await n.json();if(!n.ok||!l.url)throw new Error(l.error||"Upload failed");{const t=l.url;if(_r(t),Pt?.uid)try{const e=Fe(d,"users",Pt?.uid);await He(e,{voiceSampleUrl:t,lastVoiceUpdate:Date.now()})}catch(e){}s.success("Voice cloned! Ready for speech.",{id:r})}}catch(o){s.error("Voice cloning failed",{id:r})}finally{Yr(!1)}}}catch(i){s.error("Failed to read file"),Yr(!1)}};async function Nn(e=null){let r="";if(Li)return;const i=jr,a=fr;if(!a)return void s.error("Please select an agent first.");const o=a.id;if(a.comingSoon)return void s.error(`${a.name} is coming soon! Try Ghostwriter or Beat Maker instead.`,{icon:"ðŸš§"});let n="";if(e?n="string"==typeof e?e:String(e):Ra.current?.value&&(n=Ra.current.value),!n){const e=document.querySelectorAll(".studio-textarea");for(const t of e)if(t.value){n=t.value;break}}if(!n||!n.trim())return void s.error("Please enter a prompt first.");if((d=n)&&d.toLowerCase().trim()===et&&(tt(),1)){Fn(!0);return document.querySelectorAll(".studio-textarea").forEach(e=>e.value=""),Ra.current&&(Ra.current.value=""),void s.success('ðŸŽ­ Demo mode activated! Type "pitch" again to generate a demo response.',{duration:5e3,icon:"ðŸŽ¬"})}var d;const c=["album","visual-art","cover-art","art","video-art","flux"].includes(o),p=["video","video-creator","video-gen","sora","veo","kling"].includes(o),u=["beat","sample","music-gpt","beat-maker","beat-lab","beat-architect","beat-arch","drum-machine","drums","instrument","drop","film","sample-master","score-edit","drop-zone","music-architect","audio-gen","video-scorer"].includes(o),x=["vocal","vocal-arch","vocal-gen","vocal-performer","vocal-performance","vocal-lab","vocal-labs","podcast","voiceover","voice-gen","voice-cloner"].includes(o)&&"ghost"!==o;let m="text";c&&(m="image"),p&&(m="video"),u&&(m="beat"),x&&(m="vocal"),["master","master-lab","mastering"].includes(o)&&(m="master"),p&&(Ar||Ba||Lr)&&(m="video-synced");const h=St[m]||1;if(i?.assets){const e=i.assets.find(e=>"lyrics"===e.type||e.id?.includes("lyrics")||e.agent?.toLowerCase().includes("ghost"));e&&(r=e.content||e.snippet||"")}if(it()){Mi(!0);const e=s.loading(`${a.name} is working... (Demo Mode)`);try{const t=await async function(e="default",t=""){const r=500+1500*Math.random();await new Promise(e=>setTimeout(e,r));const i=e.toLowerCase().replace(/\s+/g,"-");return(st[i]||st.default)+(t?`\n\n> Your input: "${t.slice(0,100)}${t.length>100?"...":""}"`:"")}(a.id,n);Hi(e=>({...e,[a.id]:{output:t,timestamp:Date.now(),isDemo:!0}})),_a("result"),s.success("Demo response generated!",{id:e})}catch(b){s.error("Demo error: "+b.message,{id:e})}finally{Mi(!1)}return}if(!((e="default")=>{if(Vt)return!0;const t=St[e]||St.default;if($t){if(nr>=t)return!0;const e=(dr||"Free").toLowerCase();return("pro"===e||"lifetime access"===e)&&t<=1}return pr<3})(m))return void($t?(s.error(`Insufficient credits! ${a.name} needs ${h} credits.`),_s("subscription"),_a("mystudio")):(s.error("You've used your 3 free generations! Sign in to continue."),Xt(!0)));Mi(!0);const y=s.loading(p||x||u?`${a?.name||"AI"} is performing... (Typically 1-2 mins)`:`${a?.name||"AI"} is working...`);try{$t&&Pt&&!Vt?lr(e=>Math.max(0,e-h)):$t||ur(e=>{const t=e+1;return localStorage.setItem("studio_free_uses",t),t});let e=n;if("English"!==ps.language){const t=await fetch(`${g}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,targetLanguage:"English",sourceLanguage:ps.language})}),r=await t.json();r.translatedText&&(e=r.translatedText)}let d="";if(i?.assets){const e=i.assets.find(e=>"lyrics"===e.type||e.id?.includes("lyrics")||e.agent?.toLowerCase().includes("ghost"));e&&(r=e.content||e.snippet||"")}"ghost"===o||"ghost-1"===o||"lyrics"===o?d='Write ONLY the lyrics (verses, hooks, chorus). USE CLEAR LABELS like [Verse 1], [Chorus], [Bridge]. Do not include any "Here are the lyrics" text or preamble. Write high-fidelity emotional lyrics.':x?(d='Describe the vocal performance style, tone, and character in detail (e.g., "Energetic female vocal with a soulful grit and rapid-fire delivery"). Focus on professional performance qualities.',r&&(d+=` Use these lyrics as the based for the vocal performance: "${r.substring(0,500)}"`)):u?(d="Briefly describe a high-quality beat/instrumental concept. Focus on mood, tempo, instrumentation, and key instruments. Keep it under 60 words for maximum AI compatibility.",r&&(d+=` Use the vibe of these lyrics to inspire the beat: "${r.substring(0,300)}"`)):c?(d="Describe a striking album cover or concept in detail for image generation. Focus on composition, colors, and artistic style.",r&&(d+=` Incorporate themes from these lyrics: "${r.substring(0,200)}"`)):p&&(d="Write a creative image to video concept or storyboard with scene descriptions, cinematic lighting, and professional visual transitions.",r&&(d+=` Match the narrative and energy of these lyrics: "${r.substring(0,300)}"`));let m={prompt:e,systemInstruction:`You are ${a?.name||"AI Assistant"}, a professional AI agent in a high-end music studio. \n          Category: ${a?.category||"General"}. \n          Capabilities: ${(a?.capabilities||[]).join(", ")}.\n          ${a?.explanation||""}\n          ${d}`,model:Po,visualDnaUrl:Nr,audioDnaUrl:Ar,videoDnaUrl:Rr,lyricsDnaUrl:Pr,voiceSampleUrl:$r};const j={"Content-Type":"application/json"};if($t&&l?.currentUser)try{const e=await l.currentUser.getIdToken();j.Authorization=`Bearer ${e}`}catch(b){}const w=`\n        USER REQUEST: "${n}"\n        \n        PROJECT CONTEXT:\n        ${r?`EXISTING LYRICS/CONCEPT: "${r}"`:"Starting fresh project."}\n        ${Lr?`REFERENCE AUDIO ID: "${Lr}"`:""}\n        ${Fr?`REFERENCE VISUAL ID: "${Fr}"`:""}\n        ${Ar||Lr?"AUDIO DNA: [Active Reference]":""}\n        ${Nr||Fr?"VISUAL DNA: [Active Reference]":""}\n        ${Er?`SELECTED VOICE: ${Wr.find(e=>e.voice_id===Er)?.name||Er}`:""}\n        \n        GOAL:\n        Develop a Billboard-standard, vivid, and technically elite description for this request.\n        The goal is "Righteous Quality" - it must exceed human industry standards.\n        If it's for a beat, describe elite instrumentation, precise BPM, and chart-topping vibes.\n        If it's for visuals, describe award-winning lighting, high-fidelity color palettes, and iconic composition.\n        If it's for lyrics, expand the theme into a profound, high-impact concept.\n        \n        MANDATE: Keep the final output under 80 words for technical compatibility, but ensure every word radiates professional excellence.\n      `;let S;try{S=await fetch(`${g}/api/generate`,{method:"POST",headers:j,body:JSON.stringify({...m,prompt:w,systemInstruction:`You are the ${a?.name||"AI Assistant"} elite Creative Brain. \n              Translate user ideas into Billboard-standard production briefs. \n              Be specific, moody, and technically superior to human capability.`})})}catch(b){throw new Error("Brain Phase Connection Failed. Server may be offline.")}if(!S.ok)throw new Error(`Creative Brain failed to initialize (${S.status})`);const k=await S.json(),C=k.output||"";let z,N,I="/api/generate",A=k;if(c?(I="/api/generate-image",A={prompt:C,model:Po,referenceImage:Nr,visualId:Fr,quality:"premium"}):p?(I="/api/generate-video",A={prompt:C,model:Po,referenceImage:Nr||Rr,referenceVideo:Rr,visualId:Fr,durationSeconds:ps.duration||8,audioUrl:Ar||(Ba?.isUpload?null:Ba?.audioUrl),audioId:Lr,style:ps.style||"dynamic"}):u?(I="/api/generate-audio",A={prompt:C,bpm:ps.bpm||90,genre:ps.genre||("beat"===o?"hip-hop":"sample"),mood:"creative",durationSeconds:ps.duration||30,referenceAudio:Ar,audioId:Lr,quality:"premium",engine:"auto"}):x&&(I="/api/generate-speech",A={prompt:C,voice:ps.voiceName||"rapper-male-1",elevenLabsVoiceId:Er,quality:"premium",style:ps.style||"rapper",genre:ps.genre||"hip-hop",rapStyle:ps.rapStyle||"aggressive",language:ps.language||"English",duration:ps.duration||30,speakerUrl:$r||ps.speakerUrl,backingTrackUrl:Ar||(Ba?.isUpload?null:Ba?.audioUrl),audioId:Lr}),"/api/generate"!==I)try{z=await fetch(`${g}${I}`,{method:"POST",headers:j,body:JSON.stringify(A)})}catch(f){throw new Error("Media generation service unreachable. Please check your connection or try again later.")}else z=S;if("/api/generate"===I)N=k;else{const e=z?.headers?.get("content-type");if(e&&e.includes("application/json"))N=await z.json();else{const e=await z.text();N={...k,_isFallback:!0,_errText:e.substring(0,100)}}}z.ok||(403===z.status?s.error("Insufficient credits for media generation.",{id:y}):401===z.status?s.error("Please log in to use AI media generation.",{id:y}):503===z.status||504===z.status?s.error("Media server is currently overloaded or out of credits. Try again in a minute.",{id:y}):s.error(`Media generation failed: ${N.error||"Server error"}`,{id:y}));let T={id:String(Date.now()),title:`${a?.name||"AI"} Result`,type:a?.category||"text",agent:a?.name||"Unknown Agent",date:"Just now",color:a?.colorClass||"",snippet:C||e,projectSnapshot:i};if(N._isFallback&&N.output)T.snippet=N.output,T.isFallback=!0,T.fallbackNote="image"===N._fallbackType?"ðŸŽ¨ Visual concept (image generation coming soon)":"ðŸŽ¬ Video concept (video generation coming soon)";else if(c&&(N.predictions||N.images||N.output))if(N.output&&"string"==typeof N.output&&N.output.startsWith("http"))T.imageUrl=N.output,T.snippet=`ðŸŽ¨ Generated artwork for: "${e}"`,T.type="image";else{const t=N.predictions?.[0]?.bytesBase64Encoded||N.images?.[0],r=N.mimeType||"image/png";t&&(T.imageUrl=t.startsWith("data:")?t:`data:${r};base64,${t}`,T.snippet=`ðŸŽ¨ Generated artwork for: "${e}"`,T.type="image")}else if(p&&(N.predictions||N.video||N.output&&("video"===N.type||"image"===N.type))){if("image"===N.type&&N.output){const t=N.output,r=N.mimeType||"image/png";T.imageUrl=t.startsWith("data:")?t:`data:${r};base64,${t}`,T.snippet=`ðŸŽ¨ Generated visual concept for: "${e}" (Video unavailable)`,T.type="image"}else if(N.output&&"string"==typeof N.output)N.output.startsWith("data:")||N.output.startsWith("http")?T.videoUrl=N.output:T.videoUrl=`data:video/mp4;base64,${N.output}`,T.type="video",T.snippet=`ðŸŽ¬ Generated video for: "${e}"`;else{const t=N.predictions?.[0]||N.video;t&&(t.bytesBase64Encoded?(T.videoUrl=`data:video/mp4;base64,${t.bytesBase64Encoded}`,T.type="video"):t.videoUri&&(T.videoUrl=t.videoUri,T.type="video"),T.snippet=`ðŸŽ¬ Generated video for: "${e}"`)}Ba&&(T.audioUrl=Ba.audioUrl,T.audioTitle=Ba.title,T.snippet=`ðŸŽ¬ Music Video for: "${Ba.title}"`,$a(null))}else if((u||x)&&(N.audioUrl||N.audio||"synthesis"===N.type||N.description||N.message)){if(N.audioUrl){if(N.audioUrl.startsWith("http")||N.audioUrl.startsWith("data:")?T.audioUrl=N.audioUrl:T.audioUrl=`data:${N.mimeType||"audio/wav"};base64,${N.audioUrl}`,T.mimeType=N.mimeType||"audio/wav",T.type=x?"vocal":"audio",N.isRealGeneration?(T.snippet=x?`ðŸŽ¤ AI Generated Vocals: "${e}"`:`ðŸŽµ AI Generated Beat: "${e}"`,s.success(x?"Vocals generated with ElevenLabs V3.5!":"Beat generated with MusicGen AI!")):N.isSample?(T.snippet=x?"ðŸŽ¤ Sample Vocal (Preview)":"ðŸŽµ Sample Beat (Preview)",T.billingMessage=N.message,s.info(N.message||"Using sample - configure API keys for custom generation",{duration:5e3,icon:"âš ï¸"})):T.snippet=x?`ðŸŽ¤ Generated vocals for: "${e}"`:`ðŸŽµ Generated audio for: "${e}"`,T.isRealGeneration=N.isRealGeneration,T.isSample=N.isSample,T.bpm=N.bpm,T.genre=N.genre,"beat"===o)try{const t=await fetch(`${g}/api/generate-image`,{method:"POST",headers:j,body:JSON.stringify({prompt:`Album cover art for a ${N.genre||"hip-hop"} beat. ${e}. High quality, abstract, vibrant.`,aspectRatio:"1:1"})}),r=await t.json();(r.imageUrl||r.images?.[0])&&(T.imageUrl=r.imageUrl||r.images[0])}catch(v){}}else if(N.audio){const t=N.mimeType||"audio/wav";T.audioUrl=`data:${t};base64,${N.audio}`,T.mimeType=t,T.snippet=`ðŸŽµ Generated audio for: "${e}"`,T.type=x?"vocal":"audio"}else if("synthesis"===N.type&&N.params)T.synthesisParams=N.params,T.snippet=N.description||`Beat synthesis parameters for: "${e}"`,T.bpm=N.bpm,T.genre=N.genre,T.type="synthesis";else{!(u||p||c||x)||N.audioUrl||N.videoUrl||N.imageUrl||N.audio?(T.snippet=N.description||N.message||N.output||`Audio concept for: "${e}"`,T.type="text"):(T.snippet=N.output||N.description||N.message||`Media generation failed. Idea: ${C||e}`,T.note="âš ï¸ Media generation failed - returning text concept instead.",T.type="text",T.isError=!0)}x&&Ba&&(T.backingTrackUrl=Ba.audioUrl,T.backingTrackTitle=Ba.title,T.snippet=`ðŸŽ¤ Vocals synced to: "${Ba.title}"`,T.type="vocal",$a(null))}else if(N.output){let e=N.output;if("English"!==ps.language){const t=await fetch(`${g}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,targetLanguage:ps.language,sourceLanguage:"English"})}),r=await t.json();r.translatedText&&(e=r.translatedText)}T.snippet=e}else N.description||N.message?(T.snippet=N.description||N.message,T.type="text"):N.error?(T.snippet=`Unable to generate content: ${N.error}. Please try again with a different prompt.`,T.type="text",T.isError=!0):Object.keys(N).length>0?(T.snippet=JSON.stringify(N,null,2),T.type="text"):(T.snippet="The AI returned an empty response. Please try again with a more detailed prompt.",T.type="text",T.isError=!0);Di(null),zo(T),Bi(e),_i("lyrics"),Hi(e=>({...e,[a.id]:T})),z.ok||N._isFallback?s.success("Generation complete! Review your result.",{id:y}):s.error(`Agent ${a.name} issue: ${N.error||N.details||"Check results"}`,{id:y}),t.contentGenerated(a.id,T.type||"text")}catch(j){s.error(j.message||"Generation failed. Check your connection and try again.",{id:y}),t.errorOccurred("generation_failed",j.message)}finally{Mi(!1),$t&&Pt?.uid&&Qo(Pt.uid)}}va.current=Nn;const In=async(e="hub",t=null)=>{if(!Ri)return;if(Wi)return;Oi(!0),vs(!1);const r=s.loading("Synchronizing to cloud...",{icon:"â˜ï¸"}),i=new Promise((e,t)=>setTimeout(()=>t(new Error("Save timed out")),18e4));try{const n={...Ri,agent:Ri.agent||fr?.name||"Unknown Agent",savedAt:(new Date).toISOString()},d=$t?localStorage.getItem("studio_user_id"):null;if(d)try{if(n.imageUrl?.startsWith("data:")||n.imageUrl?.startsWith("blob:")){const e=n.imageUrl.startsWith("data:")?await c(n.imageUrl,d,"images","image/png"):await(async()=>{const e=await fetch(n.imageUrl).then(e=>e.blob());return p(e,d,"images",`${Date.now()}.png`)})();n.imageUrl=e.url,n.imageStoragePath=e.path}if(n.audioUrl?.startsWith("data:")||n.audioUrl?.startsWith("blob:")){const e=n.audioUrl.startsWith("data:")?await c(n.audioUrl,d,"audio","audio/mp3"):await(async()=>{const e=await fetch(n.audioUrl).then(e=>e.blob());return p(e,d,"audio",`${Date.now()}.mp3`)})();n.audioUrl=e.url,n.audioStoragePath=e.path}}catch(a){}let u=null,x=t||Ri.projectSnapshot||jr;if("string"==typeof t&&t.startsWith("new:")){const e=t.substring(4);u={id:String(Date.now()),name:e,category:"Music Creation",assets:[n],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},kr(e=>[u,...Array.isArray(e)?e:[]]),wr(u),s.success(`Project "${e}" created!`)}else x?(u={...x,assets:[n,...Array.isArray(x.assets)?x.assets.filter(e=>e&&e.id!==n.id):[]],updatedAt:(new Date).toISOString()},wr(u),kr(e=>{const t=Array.isArray(e)?e:[];return t.some(e=>e&&e.id===u.id)?t.map(e=>e&&e.id===u.id?u:e):[u,...t]})):(u={id:String(Date.now()),name:n.title||"Studio Asset",category:"Standalone",assets:[n],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},kr(e=>[u,...Array.isArray(e)?e:[]]),wr(u),s.success("Saved to collection"));if($t&&d&&u){const e={"Content-Type":"application/json"};if(l?.currentUser)try{const t=await l.currentUser.getIdToken();e.Authorization=`Bearer ${t}`}catch(o){}const t=[fetch(`${g}/api/projects`,{method:"POST",headers:e,body:JSON.stringify({userId:d,project:u})}).then(e=>e.ok?e.json():e.json().then(e=>{throw new Error(e.error||"Sync failed")})),fetch(`${g}/api/user/generations`,{method:"POST",headers:e,body:JSON.stringify({type:n.type,agent:n.agent,prompt:Pi||n.snippet,output:n.snippet,metadata:{projectId:u.id,audioUrl:n.audioUrl}})}).catch(()=>({}))];await Promise.race([Promise.all(t),i]),s.success("âœ… Synced to cloud!",{id:r})}else s.success("Saved locally",{id:r});Ui(null),_a(e)}catch(n){s.error(`Error: ${n.message}`,{id:r})}finally{Mi(!1),Oi(!1)}},An=()=>{Dt(!0),localStorage.setItem("studio_guest_mode","true"),s.success("Welcome! Sign in anytime to save your work.",{icon:"ðŸ‘‹"})};async function Tn(e=1,t=null){if(Fs||!Vs&&1!==e)return;const r=t||Js||"all";t&&(Qs(t),localStorage.setItem("musicHubSection",t)),Hs(!0);try{const t=await fetch(`${g}/api/music-hub?section=${r}&page=${e}&per_page=20`),i=await t.json();i.items&&i.items.length>0?(Ys(t=>1===e?i.items:[...t,...i.items]),Ms(e),i.items.length<20||20*e>=200?Gs(!1):Gs(!0)):(1===e&&Ys([]),Gs(!1))}catch(i){}finally{Hs(!1)}}async function Rn(e=1,t="",r=!1){if(!r&&(Zs||!ta&&1!==e))return{success:!1};ea(!0);try{const r=new URLSearchParams({page:e.toString(),per_page:"20"});t&&r.set("q",t);const i=await fetch(`${g}/api/news?${r}`),s=await i.json();return s.articles&&s.articles.length>0?(sa(t=>1===e?s.articles:[...t,...s.articles]),Xs(e),s.articles.length<20?ra(!1):ra(!0),{success:!0,count:s.articles.length}):(1===e&&sa([]),ra(!1),{success:!0,count:0})}catch(i){return{success:!1,error:i}}finally{ea(!1)}}const[Un,Pn]=i.useState(null);i.useEffect(()=>{Un&&clearTimeout(Un);const e=setTimeout(async()=>{if("news"===gr&&aa.trim()){const e=s.loading(`Searching: "${aa.trim()}"...`);ra(!0);const t=await Rn(1,aa.trim());t?.success?t.count>0?s.success(`Found ${t.count} results`,{id:e}):s(`No results for "${aa.trim()}"`,{id:e,icon:"ðŸ”"}):s.error("Search failed. Check your connection and try again.",{id:e})}else"news"!==gr||aa.trim()||0!==ia.length||Rn(1)},500);return Pn(e),()=>clearTimeout(e)},[aa]),i.useEffect(()=>{"activity"===gr&&0===qs.length&&Tn(1),"news"===gr&&0===ia.length&&Rn(1)},[gr]),i.useEffect(()=>{fr&&Ii(!0)},[fr]),i.useEffect(()=>{const e=localStorage.getItem("studio_user_id"),t=e?`studio_projects_${e}`:null,r=t&&localStorage.getItem(t)||localStorage.getItem("studio_agents_projects");if(r)try{const e=JSON.parse(r);if(Array.isArray(e)&&e.length>0){const t=(e=>Array.isArray(e)?e.map(bt).filter(Boolean):[])(e);kr(e=>0===e.length?t:e)}}catch(i){}},[]),i.useEffect(()=>{if(Sr&&Sr.length>0){const e=Sr.slice(0,50);((e,t)=>{try{return localStorage.setItem(e,t),!0}catch(r){if("QuotaExceededError"===r.name)try{if("studio_agents_projects"===e){const r=JSON.parse(t);if(Array.isArray(r)&&r.length>20){const t=r.slice(0,20);return localStorage.setItem(e,JSON.stringify(t)),!0}}return localStorage.removeItem("studio_theme"),localStorage.removeItem("studio_onboarding_v3"),localStorage.setItem(e,t),!0}catch(i){return!1}return!1}})("studio_agents_projects",JSON.stringify(e))}},[Sr]);const Bn=e=>{if(!e)return;const t=e.videoUrl||e.audioUrl||e.imageUrl;if(!t)return void s(`${"Download"} coming soon!`,{icon:"ðŸš§"});const r=document.createElement("a");r.href=t,r.setAttribute("download",`${e.title.replace(/\s+/g,"_")}_studio_agents`),r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},$n=async e=>{const t=encodeURIComponent(window.location.href);if("twitter"!==e)"instagram"!==e&&"facebook"!==e?s(`${e.charAt(0).toUpperCase()+e.slice(1)} coming soon!`,{icon:"ðŸš§"}):window.location.href=`${g}/api/meta/auth?returnUrl=${t}`;else try{const e=await fetch(`${g}/api/twitter/status`);if(e.ok){(await e.json()).configured?window.location.href=`${g}/api/twitter/auth?returnUrl=${t}`:s.error("Twitter/X integration not yet configured. Contact support.")}else window.location.href=`${g}/api/twitter/auth?returnUrl=${t}`}catch(r){s.error("Cannot connect to server. Please check your internet connection.")}},_n=async(e,t)=>{const r=!0===t,i="object"==typeof t?t:null;if(i?.stopPropagation(),!e)return;if(!r&&!window.confirm("Are you sure you want to delete this project?"))return;const a=(Sr||[]).find(t=>t?.id===e),o=a?.name||"Unknown";if(kr(t=>(t||[]).filter(t=>t?.id!==e)),$t&&Pt)try{let t=null;if(l?.currentUser)try{t=await l.currentUser.getIdToken(!0)}catch(n){}const i=await fetch(`${g}/api/projects/${encodeURIComponent(String(e))}?userId=${encodeURIComponent(Pt?.uid||"guest")}&projectName=${encodeURIComponent(o)}`,{method:"DELETE",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}}});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`HTTP ${i.status}`)}r||s.success("Project deleted")}catch(d){r||s.error("Could not delete from cloud, but removed from this device")}else r||s.success("Project deleted")},En=async()=>{if(!$t||!Pt)return void s.error("You must be logged in to delete your account");if(!window.confirm("DANGER: Are you sure you want to permanently delete your account?\n\nThis will remove ALL your projects, created assets (beats, vocals), and active subscriptions. This action is IRREVERSIBLE."))return;if(window.prompt(`To confirm, please type your email address (${Pt.email}):`)===Pt.email){s.loading("Wiping all account data...",{id:"del-acc"});try{let t=null;l?.currentUser&&(t=await l.currentUser.getIdToken(!0));const r=await fetch(`${g}/api/user/delete-account`,{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:`Bearer ${t}`}:{}},body:JSON.stringify({userId:Pt.uid,confirmedEmail:Pt.email})});if(!r.ok){const e=await r.json().catch(()=>({}));throw new Error(e.error||"Cloud data wipe failed")}try{l?.currentUser&&await l.currentUser.delete()}catch(e){if("auth/requires-recent-login"===e.code)return void s.error("Security verification required. Please logout and login again to delete your account profile.",{id:"del-acc"})}s.success("Account wiped clean. Farewell!",{id:"del-acc",duration:5e3}),Jo()}catch(t){s.error(`Deletion partially failed: ${t.message}. Data may persist.`,{id:"del-acc"})}}else s.error("Identity verification failed. Account was NOT deleted.")},Dn=async e=>{if(!e)return;s.loading("Forking to your workspace...",{id:"fork-op"});const t={...e,id:`fork-${Date.now()}`,name:`Fork of ${e.name||"Untitled Project"}`,creatorId:Pt?.uid||"guest",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),source:"discovery-remix",isFork:!0,assets:Array.isArray(e.assets)?e.assets:[],agents:Array.isArray(e.agents)?e.agents:[]};if(kr(e=>[t,...e||[]]),$t&&Pt)try{let e=null;l?.currentUser&&(e=await l.currentUser.getIdToken(!0));const r=await fetch(`${g}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json",...e?{Authorization:`Bearer ${e}`}:{}},body:JSON.stringify({userId:Pt.uid,project:t})});if(r.ok){const e=await r.json();t.id=e.id}}catch(r){}s.success("Project forked successfully!",{id:"fork-op"}),wr(t),_s("overview"),_a("hub")},Wn=i.useMemo(()=>{if("news"!==gr)return[];if(!Array.isArray(ia))return[];const e=(aa||"").toLowerCase();return ia.filter(t=>{if(!t)return!1;const r=(t.title||"").toLowerCase(),i=(t.source||"").toLowerCase(),s=(t.content||"").toLowerCase();return r.includes(e)||i.includes(e)||s.includes(e)})},[gr,ia,aa]),On=()=>{ra(!0),Xs(1),oa(""),Rn(1,"",!0),s.success("Refreshing news...",{icon:"ðŸ”„",duration:1500})};i.useEffect(()=>{localStorage.setItem("studio_theme",mr)},[mr]);const Ln=(()=>{if(!jr)return null;if(jr.agents&&jr.agents.length>0)return jr.agents.map((e,t)=>{const r="string"==typeof e?e:e?.id||"",i=void 0!==u&&u?u.find(e=>e.id===r):null;let s=q;return i&&"function"==typeof i.icon?s=i.icon:e&&"function"==typeof e.icon&&(s=e.icon),{id:`step-${t}`,label:i?`Consult ${i.name}`:"object"==typeof e&&e.name?e.name:"Agent Task",desc:i?i.description||i.category:"Execute task",agentId:r,icon:s,completed:!1}});if("custom"===jr.workflow)return[{id:"add-agent",label:"Add Your First Agent",agentId:null,icon:X,desc:"Select an agent to start working"}];switch(jr.category){case"pro":return[{id:"lyrics",label:"Draft Lyrics",agentId:"ghost",icon:W,desc:"Generate verses & hooks"},{id:"beat",label:"Compose Beat",agentId:"beat",icon:U,desc:"Create instrumental backing"},{id:"art",label:"Cover Art",agentId:"album",icon:q,desc:"Design album artwork"}];case"vybing":return[{id:"beat",label:"Generate Vibe",agentId:"beat",icon:U,desc:"Quick beat generation"},{id:"lyrics",label:"Freestyle Lyrics",agentId:"ghost",icon:W,desc:"Write over the beat"}];default:return[{id:"plan",label:"Create Plan",agentId:"release",icon:ze,desc:"Outline your project goals"}]}})(),[Mn,Fn]=i.useState(it());return!Wt||Pt||Et?$t||Wt||Et?a.jsxs("div",{className:`studio-container ${mr}-theme`,...Ea,children:[Mn&&a.jsxs("div",{onClick:()=>{rt(),Fn(!1),s.success("Demo mode disabled - using real API")},style:at.container,title:"Click to disable demo mode",children:[a.jsx("span",{children:at.icon}),a.jsx("span",{children:at.text})]}),a.jsxs("aside",{className:"studio-nav",children:[a.jsxs("div",{className:"studio-nav-logo",onClick:()=>r?.(),children:[a.jsx("div",{className:"logo-box studio-logo",children:a.jsx(m,{size:20,color:"white"})}),a.jsxs("div",{className:"logo-text",children:[a.jsxs("span",{className:"studio-name",children:["STUDIO AGENTS ",a.jsx("span",{style:{color:"var(--color-purple)",fontSize:"0.6em",verticalAlign:"middle",marginLeft:"8px",border:"1px solid var(--color-purple)",padding:"2px 6px",borderRadius:"4px"},children:"V3.5"})]}),a.jsx("span",{className:"studio-sub",children:"AI ECOSYSTEM"}),a.jsx("span",{className:"studio-domain",children:"studioagentsai.com"})]})]}),a.jsxs("nav",{className:"studio-nav-links",children:[a.jsxs("button",{className:"nav-link "+("mystudio"===gr?"active":""),onClick:()=>{_a("mystudio"),vr(null)},children:[a.jsx(y,{size:20}),a.jsx("span",{children:"My Studio"})]}),a.jsxs("button",{className:"nav-link "+("agents"===gr?"active":""),onClick:()=>{_a("agents"),vr(null)},children:[a.jsx(b,{size:20}),a.jsx("span",{children:"Agents Team"})]}),a.jsxs("button",{className:"nav-link "+("hub"===gr?"active":""),onClick:()=>{_a("hub"),vr(null)},children:[a.jsx(f,{size:20}),a.jsx("span",{children:"Project Hub"})]}),a.jsxs("button",{className:"nav-link "+("activity"===gr?"active":""),onClick:()=>{_a("activity"),vr(null)},children:[a.jsx(v,{size:20}),a.jsx("span",{children:"Music Hub"})]}),a.jsxs("button",{className:"nav-link "+("resources"===gr?"active":""),onClick:()=>{_a("resources"),vr(null)},children:[a.jsx(j,{size:20}),a.jsx("span",{children:"Resources"})]}),a.jsxs("button",{className:"nav-link "+("news"===gr?"active":""),onClick:()=>{_a("news"),vr(null)},children:[a.jsx(w,{size:20}),a.jsx("span",{children:"Industry Pulse"})]}),a.jsxs("button",{className:"nav-link "+("support"===gr?"active":""),onClick:()=>{_a("support"),vr(null)},children:[a.jsx(S,{size:20}),a.jsx("span",{children:"Support"})]})]}),a.jsx("div",{className:"studio-nav-footer",children:a.jsxs("div",{className:"user-profile-mini haptic-press",onClick:()=>{_a("profile"),vr(null)},style:{cursor:"pointer"},children:[a.jsx("div",{className:"user-avatar",children:Pt?.photoURL?a.jsx("img",{src:Pt.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%",borderRadius:"50%"}}):a.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:Pt?.displayName?.charAt(0)||"U"})}),a.jsxs("div",{className:"user-info",children:[a.jsx("p",{className:"user-name",children:$t?Pt?.displayName||"Pro Creator":"Guest Creator"}),a.jsx("p",{className:"user-status",children:$t?"Pro Plan":"Free Account"}),$t?a.jsx("button",{className:"sign-out-link",style:{fontSize:"0.7rem",color:"var(--color-red)",background:"none",border:"none",padding:0,cursor:"pointer",marginTop:"4px",textAlign:"left"},onClick:e=>{e.stopPropagation(),Jo()},children:"Sign Out"}):a.jsx("button",{className:"sign-in-link",style:{fontSize:"0.7rem",color:"var(--color-purple)",background:"none",border:"none",padding:0,cursor:"pointer",marginTop:"4px",textAlign:"left"},onClick:e=>{e.stopPropagation(),Xt(!0)},children:"Sign In"})]})]})})]}),a.jsxs("main",{className:"studio-main",onScroll:e=>{const{scrollTop:t,scrollHeight:r,clientHeight:i}=e.target;r-t<=i+150&&("activity"===gr&&!Fs&&Vs?Tn(Ls+1):"news"===gr&&!Zs&&ta&&Rn(Ks+1))},children:[a.jsxs("header",{className:"studio-header",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("h2",{className:"studio-title",children:fr?fr.name:"mystudio"===gr?"Dashboard":gr.charAt(0).toUpperCase()+gr.slice(1)}),"idle"!==Vi&&a.jsxs("div",{className:"save-status-indicator animate-fadeIn",style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",background:"saving"===Vi?"rgba(168, 85, 247, 0.15)":"saved"===Vi?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",color:"saving"===Vi?"var(--color-purple)":"saved"===Vi?"var(--color-green)":"var(--color-red)",transition:"all 0.3s ease"},children:["saving"===Vi&&a.jsx(k,{size:12,className:"spin"}),"saved"===Vi&&a.jsx(C,{size:12}),"error"===Vi&&a.jsx(z,{size:12}),a.jsx("span",{children:"saving"===Vi?"Saving...":"saved"===Vi?"Saved":"Save failed"})]})]}),a.jsxs("div",{className:"studio-header-actions",children:[a.jsx("button",{className:"action-button secondary haptic-press",onClick:()=>r?.(),title:"Back to Landing Page",children:a.jsx(N,{size:20})}),a.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>_a("profile"),title:"User Profile",children:[a.jsx(I,{size:20}),a.jsx("span",{className:"desktop-only",children:"Profile"})]}),a.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>{no(0),ao(!0)},title:"Welcome Tour",children:[a.jsx(m,{size:20}),a.jsx("span",{className:"desktop-only",children:"Tour"})]}),a.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>{_a("support"),vr(null)},title:"Help Center",children:[a.jsx(S,{size:20}),a.jsx("span",{className:"desktop-only",children:"Help"})]}),a.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>xn(!gn),style:{position:"relative"},children:[a.jsx(A,{size:20}),ba.some(e=>!e.read)&&a.jsx("span",{style:{position:"absolute",top:"-2px",right:"-2px",width:"8px",height:"8px",background:"var(--color-red)",borderRadius:"50%",border:"1px solid var(--card-bg)"}})]}),$t?a.jsx("div",{className:"user-avatar-header",style:{width:"32px",height:"32px",borderRadius:"50%",overflow:"hidden",marginLeft:"0.5rem",border:"1px solid var(--border-color)"},children:Pt?.photoURL?a.jsx("img",{src:Pt.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%"}}):a.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:Pt?.displayName?.charAt(0)||"U"})}):a.jsx("button",{className:"cta-button-sm haptic-press",onClick:()=>Xt(!0),style:{marginLeft:"0.5rem",padding:"0.4rem 0.8rem",fontSize:"0.8rem"},children:"Sign In"}),gn&&a.jsxs("div",{className:"notification-dropdown animate-fadeInUp",children:[a.jsxs("div",{className:"notif-header",children:[a.jsx("h3",{children:"Notifications"}),a.jsx("button",{onClick:()=>fa(e=>e.map(e=>({...e,read:!0}))),children:"Mark all read"})]}),a.jsx("div",{className:"notif-list",children:0===ba.length?a.jsx("div",{className:"notif-empty",children:"No new notifications"}):ba.map(e=>a.jsxs("div",{className:"notif-item "+(e.read?"read":"unread"),children:[a.jsxs("div",{className:"notif-item-header",children:[a.jsx("span",{className:"notif-title",children:e.title}),a.jsx("span",{className:"notif-time",children:e.time})]}),a.jsx("p",{className:"notif-message",children:e.message})]},e.id))})]}),$t?a.jsx("div",{className:"user-projects-dropdown",children:a.jsxs("button",{className:"action-button primary haptic-press",onClick:()=>_o(!0),children:["New Project (",Sr?.length||0,")"]})}):a.jsx("button",{className:"action-button primary haptic-press",onClick:()=>Xt(!0),children:"New Project"})]})]}),a.jsx("div",{className:"studio-content",children:(()=>{if("project_canvas"===gr&&!fr)return jr?a.jsx(i.Suspense,{fallback:a.jsx("div",{className:"p-8 text-center animate-fadeIn",children:a.jsx("div",{style:{opacity:.6},children:"Loading canvas..."})}),children:a.jsx(dt,{selectedProject:jr,setSelectedProject:wr,projects:Sr,setProjects:kr,canvasPreviewAsset:ys,setCanvasPreviewAsset:bs,canvasAudioRef:Pa,isMobile:yr,setActiveTab:_a,setShowOrchestrator:li,setSelectedAgent:vr,setShowAddAgentModal:Ka,AGENTS:u,getAgentHex:x,formatImageSrc:ot,formatVideoSrc:lt,formatAudioSrc:nt,safeOpenPreview:Co,PRODUCTION_STAGES:ht,socialConnections:Jt,SectionErrorBoundary:ft,SafeAssetWrapper:yt,toast:s})}):a.jsx("div",{className:"p-8 text-center animate-fadeIn",children:a.jsx("div",{style:{opacity:.6},children:"Loading project..."})});if("mystudio"===gr)return a.jsx(i.Suspense,{fallback:a.jsx("div",{className:"p-8 text-center animate-fadeIn",children:a.jsx("div",{style:{opacity:.6},children:"Loading dashboard..."})}),children:a.jsx(ct,{dashboardTab:$s,setDashboardTab:_s,managedAgents:Es,appSettings:Ws,paymentMethods:xa,bankAccounts:ha,storageConnections:ua,setStorageConnections:ga,socialConnections:Jt,performanceStats:na,adminStats:Kr,adminApiStatus:Zr,isAdminLoading:ti,adminError:ii,systemStatus:ai,user:Pt,isLoggedIn:$t,isAdmin:Vt,userCredits:nr,userPlan:dr,userProfile:qt,projects:Sr,selectedProject:jr,setSelectedProject:wr,setActiveTab:_a,setShowCreditsModal:ln,setShowOrchestrator:li,setShowProjectTypeChoice:_o,setShowOnboarding:ao,setOnboardingStep:no,setPendingProjectNav:io,setSelectedAgent:vr,setShowLoginModal:Xt,setShowAddPaymentModal:on,setEditingPayment:cn,setPaymentType:un,freeGenerationsUsed:pr,FREE_GENERATION_LIMIT:3,twitterUsername:la,metaName:ca,activeProjectSteps:Ln,toggleAppSetting:sn,handleDeleteAccount:En,toggleAgentVisibility:rn,handleConnectSocial:$n,buyCreditPack:Ko,fetchAdminData:tn,handleDeletePayment:wn,handleSubscribe:hn,handleTextToVoice:vn})});if(fr&&"agents"!==gr){const e="function"==typeof fr.icon?fr.icon:m;return a.jsxs("div",{className:"agent-active-view animate-fadeInUp",style:{position:"relative",paddingBottom:"80px"},children:[Ni&&fr.onboarding&&a.jsxs("div",{className:"agent-nudge-overlay animate-fadeInDown",children:[a.jsxs("div",{className:"nudge-header",children:[a.jsxs("h4",{children:[a.jsx(m,{size:16})," Quick Start Guide"]}),a.jsx("button",{className:"nudge-close",onClick:()=>Ii(!1),children:a.jsx(T,{size:16})})]}),a.jsx("div",{className:"nudge-steps",children:fr.onboarding.map((e,t)=>a.jsxs("div",{className:"nudge-step",children:[a.jsx("span",{className:"step-num",children:t+1}),a.jsx("p",{children:e})]},t))}),a.jsx("div",{className:"nudge-footer",children:a.jsx("button",{className:"nudge-cta",onClick:()=>Ii(!1),children:"Got it, let's go!"})})]}),a.jsxs("button",{className:"back-to-grid",onClick:()=>vr(null),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"none",border:"none",color:"#9ca3af",cursor:"pointer",marginBottom:"2rem"},children:[a.jsx(K,{size:20}),a.jsx("span",{children:"project_canvas"===gr?"Back to Project":"Back to Agents"})]}),a.jsxs("div",{className:"agent-detail-layout",children:[a.jsxs("div",{className:"agent-main-panel",children:[a.jsxs("div",{className:"agent-hero-card",children:[a.jsx("div",{className:`agent-icon-large ${fr.colorClass}`,children:a.jsx(e,{size:40})}),a.jsxs("div",{className:"agent-hero-info",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[a.jsx("span",{className:"agent-badge",style:{background:"linear-gradient(90deg, var(--color-purple), var(--color-cyan))",color:"white",fontWeight:"800"},children:fr.category}),a.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:"rgba(255,255,255,0.3)"}}),a.jsx("span",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.5)",letterSpacing:"1.5px",fontWeight:"800",textTransform:"uppercase"},children:"High-Fidelity Engine"})]}),a.jsx("h2",{style:{fontSize:"2.4rem",fontWeight:"900",letterSpacing:"-1px",marginBottom:"8px",background:"linear-gradient(180deg, #fff 0%, rgba(255,255,255,0.7) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:fr.name}),a.jsx("p",{style:{fontSize:"1rem",color:"rgba(255,255,255,0.6)",maxWidth:"600px",lineHeight:"1.6"},children:fr.description||fr.desc})]})]}),a.jsxs("div",{className:"agent-utility-box",children:[a.jsxs("div",{className:"utility-controls",children:[a.jsxs("div",{className:"control-group",children:[a.jsx("label",{children:"Genre / Style"}),a.jsxs("select",{className:"studio-select",children:[a.jsx("option",{children:"Hip Hop / Rap"}),a.jsx("option",{children:"Pop / Modern"}),a.jsx("option",{children:"R&B / Soul"}),a.jsx("option",{children:"Electronic / Dance"}),a.jsx("option",{children:"Rock / Alternative"}),a.jsx("option",{children:"Lo-Fi / Chill"})]})]}),a.jsxs("div",{className:"control-group",children:[a.jsx("label",{children:"Intensity / Mood"}),a.jsx("input",{type:"range",className:"studio-slider",min:"1",max:"10",defaultValue:"5"})]})]}),a.jsxs("div",{className:"prompt-area",children:[a.jsxs("div",{className:"prompt-header",children:[a.jsx("label",{children:"Creative Prompt"}),a.jsxs("div",{className:"voice-controls",children:["English"!==ps.language&&a.jsx("button",{className:"btn-pill glass translate-btn",onClick:kn,title:"Translate to English",children:a.jsx(Ne,{size:16})}),a.jsx("button",{className:"btn-pill "+(Ki?"primary":"glass"),onClick:fn,title:"Voice to Text",children:a.jsx(W,{size:16})}),a.jsx("button",{className:"btn-pill "+(Zi?"primary":"glass"),onClick:vn,title:"Text to Voice",children:a.jsx(ie,{size:16})}),a.jsxs("div",{className:"voice-settings-container",children:[a.jsx("button",{className:"btn-pill "+(is?"primary":"glass"),onClick:()=>{ss(!is),rs(!1)},title:"How to use Voice Controls",children:a.jsx(S,{size:16})}),is&&a.jsxs("div",{className:"voice-settings-dropdown animate-fadeInUp",style:{width:"280px",right:"40px"},children:[a.jsxs("div",{className:"settings-group",children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(W,{size:14,className:"text-purple"})," Voice to Text"]}),a.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Click the microphone to dictate your prompt. Speak clearly. Click again to stop."})]}),a.jsxs("div",{className:"settings-group",children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(ie,{size:14,className:"text-cyan"})," Text to Voice"]}),a.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Click the speaker to hear the AI read the current text. Useful for reviewing lyrics."})]}),a.jsxs("div",{className:"settings-group",children:[a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(he,{size:14})," Settings"]}),a.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Customize the AI voice gender, accent (US/UK/AU), and language."})]})]})]}),a.jsxs("div",{className:"voice-settings-container",children:[a.jsx("button",{className:"btn-pill "+(ts?"primary":"glass"),onClick:()=>{rs(!ts),ss(!1)},title:"Voice Settings",children:a.jsx(he,{size:16})}),ts&&a.jsxs("div",{className:"voice-settings-dropdown animate-fadeInUp",children:[a.jsxs("div",{className:"settings-group",children:[a.jsx("label",{children:"ðŸŽ¤ AI Voice Type (Real Vocals, Not TTS)"}),a.jsxs("select",{value:ps.style||"rapper",onChange:e=>us({...ps,style:e.target.value}),className:"settings-select",children:[a.jsxs("optgroup",{label:"ðŸ”¥ AI Rappers (Suno/Bark)",children:[a.jsx("option",{value:"rapper",children:"ðŸŽ¤ Male Rapper"}),a.jsx("option",{value:"rapper-female",children:"ðŸ’œ Female Rapper"})]}),a.jsxs("optgroup",{label:"ðŸŽµ AI Singers",children:[a.jsx("option",{value:"singer",children:"ðŸŽ¤ Male Singer (R&B/Soul)"}),a.jsx("option",{value:"singer-female",children:"ðŸ’« Female Singer (Pop/R&B)"})]}),a.jsxs("optgroup",{label:"ðŸ—£ï¸ Speech/Narration",children:[a.jsx("option",{value:"narrator",children:"ðŸ“¢ Narrator (Deep Voice)"}),a.jsx("option",{value:"spoken",children:"ðŸ’¬ Spoken Word"})]}),a.jsx("optgroup",{label:"âœ¨ Custom/Advanced",children:a.jsxs("option",{value:"cloned",disabled:!ps.speakerUrl,children:["ðŸ§¬ Cloned Voice ",!ps.speakerUrl&&"(Upload first)"]})})]})]}),a.jsxs("div",{className:"settings-group",style:{padding:"10px",background:"rgba(255,255,255,0.03)",borderRadius:"8px",marginTop:"8px",border:"1px dashed rgba(255,255,255,0.1)"},children:[a.jsxs("label",{style:{fontSize:"0.75rem",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[a.jsx(C,{size:14,className:"text-cyan"}),ps.speakerUrl?"Voice Profile Loaded":"Clone Your Voice"]}),ps.speakerUrl?a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-green)",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(Ce,{size:12})," Ready to use"]}),a.jsx("button",{onClick:()=>{us({...ps,speakerUrl:null,style:"rapper"}),localStorage.removeItem("studio_cloned_voice_url")},style:{background:"none",border:"none",color:"var(--color-red)",fontSize:"0.7rem",cursor:"pointer"},children:"Reset"})]}):a.jsxs("div",{onClick:()=>document.getElementById("voice-upload-input").click(),style:{padding:"12px",textAlign:"center",cursor:"pointer",border:"1px dashed rgba(255,255,255,0.2)",borderRadius:"6px",fontSize:"0.75rem",color:"var(--text-secondary)",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseOut:e=>e.currentTarget.style.background="transparent",children:[a.jsx(Ie,{size:16,style:{marginBottom:"4px"}}),a.jsx("div",{children:"Upload 5-10s clip (.wav/.mp3)"}),a.jsx("input",{id:"voice-upload-input",type:"file",accept:"audio/*",hidden:!0,onChange:async e=>{const t=e.target.files[0];if(!t)return;const r=s.loading("Uploading voice profile...");try{const e=await p(t,`voices/${Pt?.uid||"guest"}_${Date.now()}`);us({...ps,speakerUrl:e,style:"cloned"}),localStorage.setItem("studio_cloned_voice_url",e),s.success("Voice profile cloned successfully!",{id:r})}catch(i){s.error("Failed to upload voice. Try again.",{id:r})}}})]})]}),("rapper"===ps.style||"rapper-female"===ps.style)&&a.jsxs("div",{className:"settings-group",children:[a.jsx("label",{children:"ðŸŽ¯ Rap Flow & Delivery"}),a.jsxs("select",{value:ps.rapStyle||"aggressive",onChange:e=>us({...ps,rapStyle:e.target.value}),className:"settings-select",children:[a.jsx("option",{value:"aggressive",children:"ðŸ’¥ Aggressive (Hard-hitting)"}),a.jsx("option",{value:"melodic",children:"ðŸŽµ Melodic (Singing flow)"}),a.jsx("option",{value:"trap",children:"ðŸ”¥ Trap (Triplets + Ad-libs)"}),a.jsx("option",{value:"drill",children:"ðŸ‡¬ðŸ‡§ Drill (UK style)"}),a.jsx("option",{value:"boom-bap",children:"ðŸ“» Boom-Bap (Classic hip-hop)"}),a.jsx("option",{value:"fast",children:"âš¡ Fast Flow (Technical)"}),a.jsx("option",{value:"chill",children:"ðŸ˜Ž Chill (Laid-back)"}),a.jsx("option",{value:"hype",children:"ðŸ”Š Hype (High energy)"})]})]}),("singer"===ps.style||"singer-female"===ps.style)&&a.jsxs("div",{className:"settings-group",children:[a.jsx("label",{children:"ðŸŽ¶ Music Genre"}),a.jsxs("select",{value:ps.genre||"r&b",onChange:e=>us({...ps,genre:e.target.value}),className:"settings-select",children:[a.jsx("option",{value:"r&b",children:"ðŸ’œ R&B / Soul"}),a.jsx("option",{value:"pop",children:"ðŸŒŸ Pop"}),a.jsx("option",{value:"hip-hop",children:"ðŸ”¥ Hip-Hop"}),a.jsx("option",{value:"soul",children:"ðŸŽ· Soul / Gospel"}),a.jsx("option",{value:"country",children:"ðŸŽ¸ Country / Folk"}),a.jsx("option",{value:"rock",children:"ðŸ¤˜ Rock / Metal"}),a.jsx("option",{value:"jazz",children:"ðŸŽº Jazz / Blues"})]})]}),a.jsxs("div",{className:"settings-split",style:{display:"flex",gap:"8px",marginTop:"8px"},children:[a.jsxs("div",{className:"settings-group",style:{flex:1},children:[a.jsx("label",{children:"ðŸ‘¤ Gender"}),a.jsxs("select",{value:ps.gender,onChange:e=>us({...ps,gender:e.target.value}),className:"settings-select",children:[a.jsx("option",{value:"male",children:"ðŸ‘¨ Male"}),a.jsx("option",{value:"female",children:"ðŸ‘© Female"})]})]}),a.jsxs("div",{className:"settings-group",style:{flex:1},children:[a.jsx("label",{children:"ðŸ“ Region / Accent"}),a.jsxs("select",{value:ps.region,onChange:e=>us({...ps,region:e.target.value}),className:"settings-select",children:[a.jsx("option",{value:"US",children:"ðŸ‡ºðŸ‡¸ US"}),a.jsx("option",{value:"UK",children:"ðŸ‡¬ðŸ‡§ UK"}),a.jsx("option",{value:"AU",children:"ðŸ‡¦ðŸ‡º AU"}),a.jsx("option",{value:"IN",children:"ðŸ‡®ðŸ‡³ IN"})]})]})]}),a.jsxs("div",{className:"settings-group",style:{marginTop:"8px"},children:[a.jsx("label",{children:"ðŸŒ Language (Voice & Transcription)"}),a.jsxs("select",{value:ps.language,onChange:e=>us({...ps,language:e.target.value}),className:"settings-select",children:[a.jsx("option",{value:"English",children:"ðŸ‡ºðŸ‡¸ English"}),a.jsx("option",{value:"Spanish",children:"ðŸ‡ªðŸ‡¸ Spanish"}),a.jsx("option",{value:"French",children:"ðŸ‡«ðŸ‡· French"}),a.jsx("option",{value:"German",children:"ðŸ‡©ðŸ‡ª German"}),a.jsx("option",{value:"Italian",children:"ðŸ‡®ðŸ‡¹ Italian"}),a.jsx("option",{value:"Portuguese",children:"ðŸ‡µðŸ‡¹ Portuguese"}),a.jsx("option",{value:"Japanese",children:"ðŸ‡¯ðŸ‡µ Japanese"}),a.jsx("option",{value:"Korean",children:"ðŸ‡°ðŸ‡· Korean"}),a.jsx("option",{value:"Chinese",children:"ðŸ‡¨ðŸ‡³ Chinese"})]})]}),a.jsxs("div",{className:"settings-group",style:{marginTop:"8px"},children:[a.jsx("label",{children:"â±ï¸ Generation Duration"}),a.jsxs("select",{value:ps.duration||30,onChange:e=>us({...ps,duration:parseInt(e.target.value)}),className:"settings-select",children:[a.jsx("option",{value:15,children:"15 Seconds (Rapid)"}),a.jsx("option",{value:30,children:"30 Seconds (Standard)"}),a.jsx("option",{value:60,children:"1 Minute (Extended)"}),a.jsx("option",{value:120,children:"2 Minutes (Professional)"}),a.jsx("option",{value:180,children:"3 Minutes (Full Track)"})]})]}),a.jsx("p",{className:"settings-info",style:{marginTop:"8px",opacity:.8},children:["rapper","rapper-female","singer","singer-female","cloned","narrator","spoken"].includes(ps.style)?a.jsxs(a.Fragment,{children:["ðŸš€ ",a.jsx("strong",{children:"AI Vocals Mode"})," â€” Real AI voices via Replicate & XTTS (30-60s generation time).",("rapper"===ps.style||"rapper-female"===ps.style)&&` Flow: ${ps.rapStyle||"aggressive"}`,("singer"===ps.style||"singer-female"===ps.style)&&` Genre: ${ps.genre||"r&b"}`]}):a.jsxs(a.Fragment,{children:["âš¡ ",a.jsx("strong",{children:"Instant TTS Mode"})," â€” Browser voices for quick preview. Switch to a pro style for real AI vocals."]})})]})]})]})]}),a.jsx("div",{className:"model-picker-card",style:{marginBottom:"12px",padding:"12px",background:"var(--color-bg-secondary)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.06)"},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2))",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Z,{size:18,style:{color:"var(--color-purple)"}})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"2px"},children:"AI Model"}),a.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"white"},children:Ct.find(e=>e.id===Po)?.name||"Gemini Flash"})]})]}),a.jsxs("select",{value:Po,onChange:e=>Bo(e.target.value),style:{padding:"8px 32px 8px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"0.75rem",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",backgroundSize:"14px"},children:[Ct.filter(e=>"Google"===e.provider).map(e=>a.jsx("option",{value:e.id,children:e.name},e.id)),Ct.filter(e=>"Anthropic"===e.provider).map(e=>a.jsx("option",{value:e.id,children:e.name},e.id)),Ct.filter(e=>"OpenAI"===e.provider).map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]})}),a.jsxs("div",{className:"dna-vault-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",padding:"0 4px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(Y,{size:16,color:"var(--color-purple)"}),a.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"600",color:"rgba(255,255,255,0.8)"},children:"Studio DNA Vault"})]}),a.jsxs("button",{onClick:()=>Qr(!Jr),style:{padding:"4px 8px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"6px",fontSize:"0.7rem",color:"var(--color-purple)",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[Jr?"Hide Vault":"Open Vault",Jr?a.jsx(Ae,{size:12}):a.jsx(fe,{size:12})]})]}),a.jsxs("div",{className:"inspiration-container",style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"16px",maxHeight:Jr?"none":"0",overflow:"hidden",transition:"all 0.3s ease"},children:[a.jsxs("div",{style:{padding:"12px",background:"rgba(168, 85, 247, 0.05)",borderRadius:"10px",border:"1px solid rgba(168, 85, 247, 0.1)",marginBottom:"8px"},children:[a.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"0.85rem",color:"#a855f7",fontWeight:"bold",fontFamily:"Georgia, serif"},children:"What is DNA?"}),a.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"rgba(255,255,255,0.7)",lineHeight:"1.4",fontFamily:"Georgia, serif"},children:'Studio DNA captures your artistic identity. Uploading reference images, audio, or lyrics allows the AI to "inherit" your style, ensuring every generation feels like your personal creation.'})]}),a.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"album"===fr?.id||"video-creator"===fr?.id?"1px dashed #ec489950":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(236, 72, 153, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx($,{size:16,color:"#ec4899"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Visual DNA"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Nr?"Image Attached":"Reference Image..."})]})]}),a.jsxs("div",{style:{display:"flex",gap:"6px"},children:[Nr&&a.jsx("button",{onClick:()=>Ir(null),style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:a.jsx(T,{size:14})}),a.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[a.jsx("input",{id:"visual-dna-input",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>Cn("visual",e)}),Vr.visual?a.jsx(k,{size:12,className:"spin"}):"Upload"]})]})]}),a.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"beat"===fr?.id||"sample"===fr?.id||"video-creator"===fr?.id?"1px dashed var(--color-cyan-semi)":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(6, 182, 212, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(U,{size:16,color:"var(--color-cyan)"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Audio DNA"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Ar?"Sound Attached":Ba?Ba.title:"Reference Audio..."})]})]}),a.jsxs("div",{style:{display:"flex",gap:"6px"},children:[(Ar||Ba)&&a.jsx("button",{onClick:()=>{Tr(null),$a(null)},style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:a.jsx(T,{size:14})}),a.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[a.jsx("input",{id:"audio-dna-input",type:"file",accept:"audio/*",style:{display:"none"},onChange:e=>Cn("audio",e)}),Vr.audio?a.jsx(k,{size:12,className:"spin"}):"Upload"]})]})]}),a.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"ghost"===fr?.id||"ghost-1"===fr?.id?"1px dashed #a855f750":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(168, 85, 247, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(te,{size:16,color:"#a855f7"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Lyrics DNA"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Pr?"Context Attached":"Reference Text/File..."})]})]}),a.jsxs("div",{style:{display:"flex",gap:"6px"},children:[Pr&&a.jsx("button",{onClick:()=>Br(null),style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:a.jsx(T,{size:14})}),a.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[a.jsx("input",{id:"lyrics-dna-input",type:"file",accept:".txt,.doc,.docx,.pdf",style:{display:"none"},onChange:e=>Cn("lyrics",e)}),Vr.lyrics?a.jsx(k,{size:12,className:"spin"}):"Upload"]})]})]}),a.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:Lr?"1px solid var(--color-cyan)":"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",gap:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(6, 182, 212, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Te,{size:16,color:"var(--color-cyan)"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Audio ID"}),a.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)"},children:"Reference a project track"})]})]}),Lr&&a.jsx("button",{onClick:()=>Mr(""),style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:a.jsx(T,{size:14})})]}),a.jsx("input",{type:"text",placeholder:"Paste Audio ID (e.g. remix_789)",value:Lr,onChange:e=>Mr(e.target.value),style:{width:"100%",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",padding:"8px 10px",fontSize:"0.75rem",color:"white",outline:"none",fontFamily:"monospace"}})]}),a.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:Fr?"1px solid #ec4899":"1px solid rgba(255, 255, 255, 0.1)",display:"flex",flexDirection:"column",gap:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(236, 72, 153, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Te,{size:16,color:"#ec4899"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Visual ID"}),a.jsx("div",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.4)"},children:"Reference a style guide"})]})]}),Fr&&a.jsx("button",{onClick:()=>Hr(""),style:{background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:a.jsx(T,{size:14})})]}),a.jsx("input",{type:"text",placeholder:"Paste Visual ID (e.g. style_dark_vibe)",value:Fr,onChange:e=>Hr(e.target.value),style:{width:"100%",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",padding:"8px 10px",fontSize:"0.75rem",color:"white",outline:"none",fontFamily:"monospace"}})]}),a.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"podcast"===fr?.id||"voiceover"===fr?.id||"vocal-arch"===fr?.id||"vocal-lab"===fr?.id?"1px dashed #fbbf2450":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(251, 191, 36, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(W,{size:16,color:"#fbbf24"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Voice Clone"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Er?Wr.find(e=>e.voice_id===Er)?.name||"Custom Voice":$r?"Voice Profile Active":"Sample to Clone..."})]})]}),a.jsxs("div",{style:{display:"flex",gap:"6px"},children:[($r||Er)&&a.jsx("button",{onClick:()=>{_r(null),Dr("")},style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:a.jsx(T,{size:14})}),a.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[a.jsx("input",{id:"voice-dna-input",type:"file",accept:"audio/*",style:{display:"none"},onChange:zn}),qr?a.jsx(k,{size:12,className:"spin"}):"Clone"]})]})]}),("vocal-lab"===fr?.id||"vocal-arch"===fr?.id||"ghost"===fr?.id||"voiceover"===fr?.id||"podcast"===fr?.id)&&Wr.length>0&&a.jsxs("div",{style:{padding:"0 4px",marginTop:"4px"},children:[a.jsxs("select",{value:Er,onChange:e=>{Dr(e.target.value),localStorage.setItem("studio_elevenlabs_voice_id",e.target.value),e.target.value&&_r(null)},className:"w-full haptic-press",style:{width:"100%",padding:"10px 14px",borderRadius:"12px",background:Er?"rgba(251, 191, 36, 0.1)":"rgba(0,0,0,0.3)",border:Er?"1px solid #fbbf24":"1px solid rgba(255,255,255,0.1)",color:Er?"#fbbf24":"rgba(255,255,255,0.7)",fontSize:"0.8rem",fontWeight:"600",outline:"none",cursor:"pointer"},children:[a.jsx("option",{value:"",style:{background:"#111",color:"#888"},children:"-- Select Premium Voice --"}),Wr.map(e=>a.jsxs("option",{value:e.voice_id,style:{background:"#111",color:"white"},children:[e.name," (",e.category,")"]},e.voice_id))]}),a.jsxs("div",{style:{fontSize:"0.65rem",color:"#fbbf24",opacity:.8,marginTop:"6px",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(m,{size:10}),"Premium Engine: ElevenLabs Quality"]})]}),a.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"video-creator"===fr?.id?"1px dashed #ef444450":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(O,{size:16,color:"#ef4444"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Seed DNA"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Rr?"Video Reference Ready":"Scene or Character..."})]})]}),a.jsxs("div",{style:{display:"flex",gap:"6px"},children:[Rr&&a.jsx("button",{onClick:()=>Ur(null),style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:a.jsx(T,{size:14})}),a.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[a.jsx("input",{type:"file",accept:"image/*,video/*",style:{display:"none"},onChange:e=>Cn("video",e)}),Vr.video?a.jsx(k,{size:12,className:"spin"}):"Upload"]})]})]})]}),!Jr&&a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"12px"},children:[(Nr||Fr)&&a.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#ec489920",color:"#ec4899",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #ec489940"},children:[a.jsx($,{size:10})," ",Fr?`Visual ID: ${Fr}`:"Visual DNA Active"]}),(Ar||Lr)&&a.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#06b6d420",color:"#06b6d4",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #06b6d440"},children:[a.jsx(U,{size:10})," ",Lr?`Audio ID: ${Lr}`:"Audio DNA Active"]}),Pr&&a.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#a855f720",color:"#a855f7",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #a855f740"},children:[a.jsx(te,{size:10})," Lyrics DNA Active"]}),$r&&a.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#fbbf2420",color:"#fbbf24",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #fbbf2440"},children:[a.jsx(W,{size:10})," Voice Ready"]}),Rr&&a.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#ef444420",color:"#ef4444",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #ef444440"},children:[a.jsx(O,{size:10})," Seed DNA Ready"]})]}),a.jsx("textarea",{ref:Ra,placeholder:`Describe what you want ${fr.name} to create...`,className:"studio-textarea",style:{minHeight:yr?"100px":"120px",padding:yr?"12px":"20px"}}),a.jsxs("div",{className:"generation-actions",children:[a.jsxs("button",{className:"cta-button-secondary",onClick:Nn,disabled:Li,title:"Generate a preview",children:[a.jsx(V,{size:16}),"Preview"]}),a.jsx("button",{className:"cta-button-premium "+(Li?"loading":""),style:{flex:1},onClick:Nn,disabled:Li,children:Li?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"spinner-mini"}),a.jsx("span",{children:"Processing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(q,{size:18}),a.jsxs("span",{children:["Generate ",fr.name]})]})}),a.jsxs("button",{className:"cta-button-secondary",onClick:()=>Yi(!0),title:"Save to Cloud Storage",children:[a.jsx(C,{size:18}),a.jsx("span",{children:"Save to Cloud"})]})]}),(()=>{const e=fr?.id?Fi[fr.id]:null;return e?a.jsxs("div",{className:"agent-preview-mini animate-fadeIn",style:{marginTop:"16px",padding:"12px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[a.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",fontWeight:"600"},children:"Last Generated"}),a.jsx("div",{style:{display:"flex",gap:"8px"},children:a.jsxs("button",{onClick:()=>zo(e),style:{background:"none",border:"none",color:"var(--color-cyan)",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(je,{size:12})," View Full"]})})]}),"image"===e.type&&e.imageUrl?a.jsx("img",{src:ot(e.imageUrl),alt:"Preview",style:{width:"100%",height:"220px",objectFit:"cover",borderRadius:"12px",cursor:"pointer",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 30px rgba(0,0,0,0.5)"},onClick:()=>zo(e),onError:e=>{e.target.style.display="none"}}):"video"===e.type&&e.videoUrl?a.jsxs("div",{style:{position:"relative",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 30px rgba(0,0,0,0.5)"},children:[a.jsx("video",{src:lt(e.videoUrl),style:{width:"100%",height:"220px",objectFit:"cover",cursor:"pointer"},onClick:()=>zo(e)}),e.audioUrl&&a.jsxs("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0,0,0,0.7)",backdropFilter:"blur(4px)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.7rem",color:"var(--color-cyan)",display:"flex",alignItems:"center",gap:"6px",fontWeight:"800"},children:[a.jsx(U,{size:12})," SYNCED AUDIO"]})]}):"audio"!==e.type&&"vocal"!==e.type||!e.audioUrl?a.jsx("div",{className:"flavorful-text-output",style:{fontSize:"1rem",lineHeight:"1.8",color:"rgba(255,255,255,0.95)",padding:"24px",background:"rgba(0,0,0,0.3)",borderRadius:"12px",maxHeight:"400px",overflowY:"auto",border:"1px solid rgba(255,255,255,0.05)",fontFamily:"'Georgia', serif",whiteSpace:"pre-wrap"},children:e.snippet}):a.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"20px",display:"flex",gap:"20px",alignItems:"center",border:"1px solid rgba(255,255,255,0.05)"},children:[e.imageUrl&&a.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"12px",background:`url(${ot(e.imageUrl)}) center/cover`,flexShrink:0,boxShadow:"0 4px 15px rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.1)"}}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[e.backingTrackUrl?a.jsxs(a.Fragment,{children:[a.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-pink)",marginBottom:"6px",fontWeight:"800",letterSpacing:"1px",textTransform:"uppercase"},children:"Synced Vocal Lab"}),a.jsx("audio",{controls:!0,src:nt(e.audioUrl),style:{width:"100%",height:"36px",marginBottom:"8px"},onPlay:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&(t.currentTime=e.target.currentTime,t.play())},onPause:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&t.pause()},onTimeUpdate:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&Math.abs(t.currentTime-e.target.currentTime)>.5&&(t.currentTime=e.target.currentTime)}}),a.jsx("audio",{className:"preview-backing-audio",src:nt(e.backingTrackUrl),style:{display:"none"}})]}):a.jsx("audio",{controls:!0,src:nt(e.audioUrl),style:{width:"100%",height:"36px",marginBottom:"8px"}}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)",fontStyle:"italic",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:['"',e.snippet?.substring(0,80),'..."']})]})]}),a.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[a.jsxs("button",{className:"btn-pill primary",style:{flex:1,fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{jr?(Go(jr.id,e),s.success("Saved to Hub")):qo(`New ${fr?.name||"AI"} Project`,e)},children:[a.jsx(J,{size:14})," Save to Hub"]}),e.snippet&&!e.audioUrl&&a.jsxs("button",{className:"btn-pill secondary",style:{fontSize:"0.75rem"},disabled:Cr,onClick:()=>{const t=e.snippet||e.content||"";["rapper","rapper-female","singer","singer-female"].includes(ps.style)?jn(t,fr?.name||"AI"):window.speechSynthesis.speaking?window.speechSynthesis.cancel():vn(t)},title:["rapper","rapper-female","singer","singer-female"].includes(ps.style)?`Read aloud using AI ${ps.style} voice (takes 30-60 seconds)`:"Read text aloud using browser TTS",children:[a.jsx(ie,{size:14})," ",Cr?"Creating...":"Read Aloud"]})]})]}):null})(),a.jsxs("p",{className:"studio-disclaimer",children:[a.jsx(we,{size:12}),"AI-generated content may require manual review for platform compliance."]})]})]}),a.jsxs("div",{className:"agent-history-section",style:{marginTop:"24px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[a.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:"1.1rem",color:"white"},children:[a.jsx(f,{size:18,style:{color:"var(--color-purple)"}}),fr.name," Inventory",a.jsxs("span",{style:{fontSize:"0.7rem",padding:"3px 8px",background:"rgba(139, 92, 246, 0.2)",borderRadius:"10px",color:"var(--color-purple)",fontWeight:"600"},children:[(Sr||[]).filter(e=>e.agent===fr.name).length," items"]})]}),a.jsxs("button",{onClick:()=>_a("mystudio"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",color:"var(--text-secondary)",fontSize:"0.8rem",cursor:"pointer"},children:["View All",a.jsx(Re,{size:14})]})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxHeight:"400px",overflowY:"auto",paddingRight:"8px"},children:(()=>{const e=Sr.flatMap(e=>e.assets||[]).filter(e=>e.agent===fr.name||e.agentId===fr.id).sort((e,t)=>new Date(t.date||0)-new Date(e.date||0));return e.length>0?e.map((e,t)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 16px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"14px",border:"1px solid rgba(255, 255, 255, 0.08)",transition:"all 0.2s ease",cursor:"pointer"},onClick:()=>zo(e),onMouseOver:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.1)",e.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.03)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.08)"},children:[a.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"10px",background:e.imageUrl?`url(${e.imageUrl}) center/cover`:e.audioUrl?"linear-gradient(135deg, var(--color-cyan), var(--color-green))":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,position:"relative",overflow:"hidden"},children:[!e.imageUrl&&!e.audioUrl&&a.jsx(te,{size:20,style:{color:"white"}}),e.audioUrl&&!e.imageUrl&&a.jsx(ie,{size:20,style:{color:"white"}}),e.imageUrl&&e.audioUrl&&a.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"rgba(0,0,0,0.6)",padding:"2px",borderTopLeftRadius:"6px"},children:a.jsx(U,{size:12,color:"white"})})]}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"white",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled Creation"}),a.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e.snippet?.substring(0,60)||"No prompt saved","..."]}),a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"6px"},children:a.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(ee,{size:10}),e.date||"Recent"]})})]}),a.jsx("div",{style:{display:"flex",gap:"6px",flexShrink:0},children:a.jsx("button",{onClick:t=>{t.stopPropagation(),Ui(e)},title:"View",style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:a.jsx(Q,{size:14})})})]},t)):a.jsxs("div",{style:{padding:"32px",textAlign:"center",color:"var(--text-secondary)",background:"rgba(255,255,255,0.02)",borderRadius:"12px"},children:[a.jsx(m,{size:24,style:{opacity:.3,marginBottom:"8px"}}),a.jsx("p",{children:"No creations yet. Start generating!"})]})})()}),fr&&(Sr||[]).filter(e=>e.agent===fr.name).length>0&&a.jsxs("div",{style:{marginTop:"16px",padding:"14px 16px",background:"rgba(139, 92, 246, 0.08)",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.15)"},children:[a.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:a.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"white",display:"flex",alignItems:"center",gap:"6px"},children:[a.jsx(ee,{size:14,style:{color:"var(--color-purple)"}}),"Recent Prompts"]})}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:(Sr||[]).filter(e=>e.agent===fr?.name&&e.snippet).slice(0,5).map((e,t)=>a.jsxs("button",{onClick:()=>{const t=Ra.current||document.querySelector(".studio-textarea");if(t){t.value=e.snippet;try{t.dispatchEvent(new Event("input",{bubbles:!0}))}catch(r){const e=document.createEvent("Event");e.initEvent("input",!0,!0),t.dispatchEvent(e)}s.success("Prompt loaded!")}},style:{padding:"6px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"0.7rem",cursor:"pointer",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.2)",e.currentTarget.style.borderColor="rgba(139, 92, 246, 0.4)",e.currentTarget.style.color="white"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)",e.currentTarget.style.color="var(--text-secondary)"},title:e.snippet,children:[e.snippet?.substring(0,25),"..."]},t))})]})]})]}),a.jsxs("div",{className:"agent-side-panel",children:[fr.hasSocials&&a.jsxs("div",{className:"side-info-card social-connect-card",children:[a.jsx("h3",{children:"Connect Socials"}),a.jsxs("div",{className:"social-connect-grid",children:[a.jsxs("button",{className:"social-connect-btn "+(Jt.instagram?"connected":""),onClick:()=>$n("instagram"),children:[a.jsx(w,{size:16}),a.jsx("span",{children:Jt.instagram?ca?`Insta: ${ca}`:"Instagram Linked":"Link Instagram"})]}),a.jsxs("button",{className:"social-connect-btn "+(Jt.facebook?"connected":""),onClick:()=>$n("facebook"),children:[a.jsx(q,{size:16}),a.jsx("span",{children:Jt.facebook?ca?`FB: ${ca}`:"Facebook Linked":"Link Facebook"})]}),a.jsxs("button",{className:"social-connect-btn "+(Jt.tiktok?"connected":""),onClick:()=>$n("tiktok"),children:[a.jsx(q,{size:16}),a.jsx("span",{children:Jt.tiktok?"TikTok Linked":"Link TikTok"})]}),a.jsxs("button",{className:"social-connect-btn "+(Jt.twitter?"connected":""),onClick:()=>$n("twitter"),children:[a.jsx(v,{size:16}),a.jsx("span",{children:Jt.twitter?la?`@${la}`:"X/Twitter Linked":"Link X/Twitter"})]}),("collab"===fr?.id||"release"===fr?.id)&&a.jsxs("button",{className:"social-connect-btn "+(Jt.spotify?"connected":""),onClick:()=>$n("spotify"),children:[a.jsx(U,{size:16}),a.jsx("span",{children:Jt.spotify?"Spotify Linked":"Link Spotify"})]})]}),a.jsx("p",{className:"help-text mini",children:"One-click secure OAuth connection."})]}),a.jsxs("div",{className:"side-info-card",children:[a.jsx("h3",{children:"Capabilities"}),a.jsx("ul",{className:"capability-list",children:(fr?.capabilities||[]).map((e,t)=>a.jsxs("li",{children:[a.jsx(m,{size:14})," ",e]},t))})]}),a.jsxs("div",{className:"side-info-card",children:[a.jsx("h3",{children:"How to Use"}),a.jsx("p",{className:"help-text",children:fr?.howToUse||"Enter your prompt and generate content."})]}),a.jsxs("div",{className:"side-info-card agent-intelligence-card",children:[a.jsxs("div",{className:"card-header-with-icon",children:[a.jsx(S,{size:18,className:"text-purple"}),a.jsx("h3",{children:"Agent Intelligence"})]}),a.jsxs("div",{className:"intelligence-content",children:[a.jsxs("div",{className:"intel-section",children:[a.jsx("h4",{children:'The "How"'}),a.jsx("p",{className:"help-text small",children:fr?.explanation||""})]}),a.jsxs("div",{className:"intel-section",children:[a.jsx("h4",{children:"Pro Tips"}),a.jsx("p",{className:"help-text small",children:fr?.helpTips||""})]})]})]}),a.jsxs("div",{className:"side-info-card",children:[a.jsx("h3",{children:"Examples"}),a.jsx("div",{className:"example-chips",children:(fr?.examples||[]).map((e,t)=>a.jsxs("div",{className:"example-chip",onClick:()=>{const t=Ra.current||document.querySelector(".studio-textarea");if(t){t.value=e;try{t.dispatchEvent(new Event("input",{bubbles:!0}))}catch(r){const e=document.createEvent("Event");e.initEvent("input",!0,!0),t.dispatchEvent(e)}t.focus(),t.style.borderColor="var(--color-purple)",setTimeout(()=>t.style.borderColor="",300)}},style:{cursor:"pointer"},children:['"',e,'"']},t))})]})]})]})]})}switch(gr){case"agents":{const e=Ga(),r=qa(),i=[...e,...r],o=()=>{if(!fr)return null;const e="function"==typeof fr.icon?fr.icon:m;return a.jsxs("div",{className:"agent-workspace-content",children:[Ni&&fr.onboarding&&a.jsxs("div",{className:"agent-nudge-overlay animate-fadeInDown",style:{marginBottom:"24px"},children:[a.jsxs("div",{className:"nudge-header",children:[a.jsxs("h4",{children:[a.jsx(m,{size:16})," Quick Start Guide"]}),a.jsx("button",{className:"nudge-close",onClick:()=>Ii(!1),children:a.jsx(T,{size:16})})]}),a.jsx("div",{className:"nudge-steps",children:fr.onboarding.map((e,t)=>a.jsxs("div",{className:"nudge-step",children:[a.jsx("span",{className:"step-num",children:t+1}),a.jsx("p",{children:e})]},t))}),a.jsx("div",{className:"nudge-footer",children:a.jsx("button",{className:"nudge-cta",onClick:()=>Ii(!1),children:"Got it, let's go!"})})]}),a.jsxs("div",{className:"agent-detail-layout",style:{gridTemplateColumns:"1fr 300px"},children:[a.jsxs("div",{className:"agent-main-panel",children:[a.jsxs("div",{className:"agent-hero-card",children:[a.jsx("div",{className:`agent-icon-large ${fr.colorClass}`,children:a.jsx(e,{size:40})}),a.jsxs("div",{className:"agent-hero-info",children:[a.jsx("span",{className:"agent-badge",children:fr.category}),a.jsx("h2",{children:fr.name}),a.jsx("p",{children:fr.description||fr.desc})]})]}),a.jsxs("div",{className:"agent-utility-box",children:[a.jsxs("div",{className:"utility-controls",children:[a.jsxs("div",{className:"control-group",children:[a.jsx("label",{children:"Genre / Style"}),a.jsxs("select",{className:"studio-select",children:[a.jsx("option",{children:"Hip Hop / Rap"}),a.jsx("option",{children:"Pop / Modern"}),a.jsx("option",{children:"R&B / Soul"}),a.jsx("option",{children:"Electronic / Dance"}),a.jsx("option",{children:"Rock / Alternative"}),a.jsx("option",{children:"Lo-Fi / Chill"})]})]}),a.jsxs("div",{className:"control-group",children:[a.jsx("label",{children:"Intensity / Mood"}),a.jsx("input",{type:"range",className:"studio-slider",min:"1",max:"10",defaultValue:"5"})]})]}),a.jsxs("div",{className:"prompt-area",children:[a.jsxs("div",{className:"prompt-header",children:[a.jsx("label",{children:"Creative Prompt"}),a.jsxs("div",{className:"voice-controls",children:[a.jsx("button",{className:"btn-pill "+(Ki?"primary":"glass"),onClick:fn,title:"Voice to Text",children:a.jsx(W,{size:16})}),a.jsx("button",{className:"btn-pill "+(Zi?"primary":"glass"),onClick:vn,title:"Text to Voice",children:a.jsx(ie,{size:16})}),a.jsx("button",{className:"btn-pill "+(ts?"primary":"glass"),onClick:()=>rs(!ts),title:"Voice Settings",children:a.jsx(he,{size:16})})]})]}),a.jsx("textarea",{ref:Ra,placeholder:`Describe what you want ${fr.name} to create...`,className:"studio-textarea",style:{minHeight:yr?"100px":"120px",padding:yr?"12px":"20px"}}),a.jsxs("div",{className:"generation-actions",style:{display:"flex",gap:"12px",marginTop:"16px"},children:[a.jsxs("button",{className:"btn-pill glass",onClick:()=>Za(fr),children:[a.jsx(q,{size:16}),"Quick Generate"]}),a.jsx("button",{className:"btn-pill primary "+(Li?"loading":""),style:{flex:1},onClick:Nn,disabled:Li,children:Li?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"spinner-mini"}),a.jsx("span",{children:"Processing..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(q,{size:18}),a.jsx("span",{children:"Generate"})]})})]})]})]}),a.jsxs("div",{className:"side-info-card",style:{marginTop:"16px"},children:[a.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(b,{size:16,className:"text-purple"}),jr?`Assets for ${jr.name}`:"Recent Creations"]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:(()=>{let e=[];return e=jr&&Array.isArray(jr.assets)?jr.assets.filter(e=>{if(!e)return!1;const t=e.agent===fr.name||e.agent===fr.id,r=e.type&&fr.category&&e.type.toLowerCase()===fr.category.toLowerCase();return t||r}):(Sr||[]).filter(e=>e&&e.agent===fr.name).slice(0,3),e.length>0?e.slice(0,5).map((e,t)=>a.jsxs("div",{onClick:()=>zo(e),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",cursor:"pointer",border:"1px solid rgba(255,255,255,0.05)",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:e=>e.currentTarget.style.borderColor="rgba(255,255,255,0.05)",children:[a.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:e.imageUrl?`url(${ot(e.imageUrl)}) center/cover`:"rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:!e.imageUrl&&("audio"===e.type?a.jsx(U,{size:14,style:{opacity:.5}}):"video"===e.type?a.jsx(O,{size:14,style:{opacity:.5}}):a.jsx(te,{size:14,style:{opacity:.5}}))}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled"}),a.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:e.date||"Recent"})]}),a.jsx(Q,{size:14,style:{opacity:.5}})]},e.id||t)):a.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)",fontSize:"0.8rem"},children:jr?"No assets for this project yet.":"No creations yet. Start generating!"})})()})]})]}),a.jsxs("div",{className:"agent-side-panel",children:[jr&&a.jsxs("div",{className:"side-info-card",style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.3)",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[a.jsx(f,{size:18,className:"text-purple"}),a.jsx("h3",{style:{margin:0,fontSize:"0.9rem",color:"var(--color-purple)"},children:"Project Context"})]}),a.jsx("div",{style:{fontWeight:"800",fontSize:"1.2rem",color:"white",marginBottom:"4px"},children:jr.name}),a.jsxs("p",{style:{margin:"0 0 16px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Organizing ",jr.assets?.length||0," assets in this project."]}),a.jsxs("button",{className:"btn-pill glass",style:{width:"100%",fontSize:"0.8rem",padding:"8px",background:"rgba(255,255,255,0.05)"},onClick:()=>io(!0),children:[a.jsx(b,{size:14})," View Project Canvas"]})]}),a.jsxs("div",{className:"side-info-card",children:[a.jsx("h3",{children:"Capabilities"}),a.jsx("ul",{className:"capability-list",children:(fr?.capabilities||[]).map((e,t)=>a.jsxs("li",{children:[a.jsx(m,{size:14})," ",e]},t))})]}),a.jsxs("div",{className:"side-info-card",children:[a.jsx("h3",{children:"How to Use"}),a.jsx("p",{className:"help-text",children:fr?.howToUse||"Enter your prompt and generate content."})]}),a.jsxs("div",{className:"side-info-card",children:[a.jsx("h3",{children:"Examples"}),a.jsx("div",{className:"example-chips",children:(fr?.examples||[]).slice(0,3).map((e,t)=>a.jsxs("div",{className:"example-chip",onClick:()=>{const t=Ra.current;t&&(t.value=e,t.focus())},children:['"',e.length>50?e.substring(0,50)+"...":e,'"']},t))})]})]})]})]})};return a.jsxs("div",{className:"agents-split-layout",children:[a.jsxs("div",{className:"agents-sidebar",children:[a.jsxs("div",{className:"agents-sidebar-header",children:[a.jsxs("h3",{children:[a.jsx(m,{size:18,className:"text-purple"})," Agents"]}),a.jsxs("p",{children:[e.length," available"]})]}),a.jsxs("div",{className:"agents-sidebar-list",children:[a.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",borderRadius:"8px",borderLeft:"3px solid rgba(34, 197, 94, 0.6)"},children:a.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#22c55e",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[a.jsx(m,{size:12})," Free Tier",a.jsxs("span",{style:{marginLeft:"auto",background:"rgba(34, 197, 94, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[(void 0!==u?u:[]).filter(e=>"free"===e.tier).length," agents"]})]})}),(void 0!==u?u:[]).filter(e=>"free"===e.tier).map(r=>{const i="function"==typeof r.icon?r.icon:m,o=fr?.id===r.id,n=!e.find(e=>e.id===r.id);return a.jsx("button",{className:`agent-sidebar-item ${r.colorClass} ${o?"active":""} ${n?"locked":""}`,"data-name":r.name,onClick:()=>{n?$t?(_s("subscription"),_a("mystudio")):Xt(!0):r.comingSoon?s.error(`${r.name} is coming soon!`,{icon:"ðŸš§"}):(vr(r),t.agentUsed(r.id))},children:a.jsx("div",{className:`agent-sidebar-icon ${r.colorClass}`,children:a.jsx(i,{size:18})})},r.id)}),a.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(139, 92, 246, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",marginTop:"12px",borderRadius:"8px",borderLeft:"3px solid rgba(139, 92, 246, 0.6)"},children:a.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#a855f7",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[a.jsx(q,{size:12})," Monthly â€” $4.99/mo",a.jsxs("span",{style:{marginLeft:"auto",background:"rgba(139, 92, 246, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[(void 0!==u?u:[]).filter(e=>"monthly"===e.tier).length," agents"]})]})}),(void 0!==u?u:[]).filter(e=>"monthly"===e.tier).map(r=>{const i="function"==typeof r.icon?r.icon:m,o=fr?.id===r.id,n=!e.find(e=>e.id===r.id);return a.jsx("button",{className:`agent-sidebar-item ${r.colorClass} ${o?"active":""} ${n?"locked":""}`,"data-name":r.name,onClick:()=>{n?$t?(_s("subscription"),_a("mystudio")):Xt(!0):r.comingSoon?s.error(`${r.name} is coming soon!`,{icon:"ðŸš§"}):(vr(r),t.agentUsed(r.id))},children:a.jsx("div",{className:`agent-sidebar-icon ${r.colorClass}`,style:n?{background:"rgba(255,255,255,0.05)"}:{},children:a.jsx(i,{size:18,style:n?{opacity:.5}:{}})})},r.id)}),a.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(234, 179, 8, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",marginTop:"12px",borderRadius:"8px",borderLeft:"3px solid rgba(234, 179, 8, 0.6)"},children:a.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#eab308",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[a.jsx(ke,{size:12})," Pro â€” $9.99/mo",a.jsxs("span",{style:{marginLeft:"auto",background:"rgba(234, 179, 8, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[(void 0!==u?u:[]).filter(e=>"pro"===e.tier).length," agents"]})]})}),(void 0!==u?u:[]).filter(e=>"pro"===e.tier).map(r=>{const i="function"==typeof r.icon?r.icon:m,o=fr?.id===r.id,n=!e.find(e=>e.id===r.id);return a.jsx("button",{className:`agent-sidebar-item ${r.colorClass} ${o?"active":""} ${n?"locked":""}`,"data-name":r.name,onClick:()=>{n?$t?(_s("subscription"),_a("mystudio")):Xt(!0):r.comingSoon?s.error(`${r.name} is coming soon!`,{icon:"ðŸš§"}):(vr(r),t.agentUsed(r.id))},children:a.jsx("div",{className:`agent-sidebar-icon ${r.colorClass}`,style:n?{background:"rgba(255,255,255,0.05)"}:{},children:a.jsx(i,{size:18,style:n?{opacity:.5}:{}})})},r.id)})]})]}),a.jsx("div",{className:"agents-main-panel",children:fr?o():a.jsxs("div",{className:"agents-cards-view",style:{padding:"16px",overflowY:"auto"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[a.jsxs("div",{children:[a.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"800",marginBottom:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx(m,{size:24,className:"text-purple"}),"AI Agents Studio"]}),a.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[i.length," specialized agents â€¢ Click any card to start creating"]})]}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsxs("button",{onClick:()=>window.location.hash="#/whitepapers",className:"btn-pill glass haptic-press",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",color:"#06b6d4"},children:[a.jsx(te,{size:16}),"Whitepapers"]}),a.jsxs("button",{onClick:()=>window.location.hash="#/legal",className:"btn-pill glass haptic-press",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",color:"#a855f7"},children:[a.jsx(we,{size:16}),"Legal"]})]})]}),!$t&&a.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",maxWidth:"400px"},children:[a.jsx(q,{size:20,className:"text-purple"}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:[Vt?999999:Math.max(0,3-pr)," free generations left"]}),a.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Sign in to unlock more"})]}),a.jsx("button",{className:"btn-pill primary",onClick:()=>Xt(!0),style:{padding:"8px 16px",fontSize:"0.8rem"},children:"Sign In"})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[a.jsx(m,{size:16,style:{color:"#22c55e"}}),a.jsx("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Free Tier"}),a.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",void 0!==u&&u?u.filter(e=>"free"===e.tier).length:0," agents included"]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:void 0!==u&&u&&u.filter(e=>"free"===e.tier).map(r=>{const i="function"==typeof r.icon?r.icon:m,s=!e.find(e=>e.id===r.id),o=x(r);return a.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?$t?(_s("subscription"),_a("mystudio")):Xt(!0):(vr(r),t.agentUsed(r.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":`linear-gradient(145deg, ${o}14 0%, rgba(255,255,255,0.03) 100%)`,border:`1px solid ${o}33`,borderLeft:`3px solid ${o}`,borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&a.jsx(de,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),r.isBeta&&a.jsx("span",{style:{position:"absolute",top:"8px",right:s?"28px":"8px",background:"rgba(245,158,11,0.2)",color:"#f59e0b",padding:"1px 6px",borderRadius:"6px",fontSize:"0.55rem",fontWeight:"700",letterSpacing:"0.5px"},children:"BETA"}),a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:`linear-gradient(135deg, ${o}33, ${o}1A)`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:a.jsx(i,{size:20,style:{color:o}})}),a.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:r.name}),a.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"4px"},children:r.category}),(r.description||r.desc)&&a.jsx("p",{style:{fontSize:"0.6rem",color:"var(--text-tertiary, rgba(255,255,255,0.35))",lineHeight:"1.3",marginBottom:"6px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:r.description||r.desc}),r.capabilities&&r.capabilities.length>0&&a.jsx("div",{className:"agent-cap-pills",style:{display:"flex",gap:"4px",flexWrap:"wrap",marginBottom:"8px"},children:r.capabilities.slice(0,2).map((e,t)=>a.jsx("span",{style:{padding:"1px 6px",background:`${o}1A`,color:o,borderRadius:"6px",fontSize:"0.55rem",fontWeight:"500"},children:e},t))}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{padding:"2px 6px",background:"rgba(34, 197, 94, 0.15)",color:"#22c55e",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"FREE"}),r.getStarted&&a.jsxs("span",{style:{fontSize:"0.55rem",color:o,fontWeight:"600",opacity:.8},children:[r.getStarted," â†’"]})]})]},r.id)})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(251, 191, 36, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[a.jsx(q,{size:16,style:{color:"#fbbf24"}}),a.jsx("span",{style:{fontWeight:"700",color:"#fbbf24",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Monthly â€” $4.99/mo"}),a.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",void 0!==u&&u?u.filter(e=>"monthly"===e.tier).length:0," agents"]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:void 0!==u&&u&&u.filter(e=>"monthly"===e.tier).map(r=>{const i="function"==typeof r.icon?r.icon:m,s=!e.find(e=>e.id===r.id),o=x(r);return a.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?$t?(_s("subscription"),_a("mystudio")):Xt(!0):(vr(r),t.agentUsed(r.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":`linear-gradient(145deg, ${o}14 0%, rgba(255,255,255,0.03) 100%)`,border:`1px solid ${o}33`,borderLeft:`3px solid ${o}`,borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&a.jsx(de,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),r.isBeta&&a.jsx("span",{style:{position:"absolute",top:"8px",right:s?"28px":"8px",background:"rgba(245,158,11,0.2)",color:"#f59e0b",padding:"1px 6px",borderRadius:"6px",fontSize:"0.55rem",fontWeight:"700",letterSpacing:"0.5px"},children:"BETA"}),a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:`linear-gradient(135deg, ${o}33, ${o}1A)`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:a.jsx(i,{size:20,style:{color:o}})}),a.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:r.name}),a.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"4px"},children:r.category}),(r.description||r.desc)&&a.jsx("p",{style:{fontSize:"0.6rem",color:"var(--text-tertiary, rgba(255,255,255,0.35))",lineHeight:"1.3",marginBottom:"6px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:r.description||r.desc}),r.capabilities&&r.capabilities.length>0&&a.jsx("div",{className:"agent-cap-pills",style:{display:"flex",gap:"4px",flexWrap:"wrap",marginBottom:"8px"},children:r.capabilities.slice(0,2).map((e,t)=>a.jsx("span",{style:{padding:"1px 6px",background:`${o}1A`,color:o,borderRadius:"6px",fontSize:"0.55rem",fontWeight:"500"},children:e},t))}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{padding:"2px 6px",background:"rgba(251, 191, 36, 0.15)",color:"#fbbf24",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"MONTHLY"}),r.getStarted&&a.jsxs("span",{style:{fontSize:"0.55rem",color:o,fontWeight:"600",opacity:.8},children:[r.getStarted," â†’"]})]})]},r.id)})}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(168, 85, 247, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[a.jsx(ke,{size:16,style:{color:"#a855f7"}}),a.jsx("span",{style:{fontWeight:"700",color:"#a855f7",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Pro â€” $9.99/mo"}),a.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",void 0!==u&&u?u.filter(e=>"pro"===e.tier).length:0," agents"]})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:void 0!==u&&u&&u.filter(e=>"pro"===e.tier).map(r=>{const i="function"==typeof r.icon?r.icon:m,s=!e.find(e=>e.id===r.id),o=x(r);return a.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?$t?(_s("subscription"),_a("mystudio")):Xt(!0):(vr(r),t.agentUsed(r.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":`linear-gradient(145deg, ${o}14 0%, rgba(255,255,255,0.03) 100%)`,border:`1px solid ${o}33`,borderLeft:`3px solid ${o}`,borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&a.jsx(de,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),r.isBeta&&a.jsx("span",{style:{position:"absolute",top:"8px",right:s?"28px":"8px",background:"rgba(245,158,11,0.2)",color:"#f59e0b",padding:"1px 6px",borderRadius:"6px",fontSize:"0.55rem",fontWeight:"700",letterSpacing:"0.5px"},children:"BETA"}),a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:`linear-gradient(135deg, ${o}33, ${o}1A)`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:a.jsx(i,{size:20,style:{color:o}})}),a.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:r.name}),a.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"4px"},children:r.category}),(r.description||r.desc)&&a.jsx("p",{style:{fontSize:"0.6rem",color:"var(--text-tertiary, rgba(255,255,255,0.35))",lineHeight:"1.3",marginBottom:"6px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:r.description||r.desc}),r.capabilities&&r.capabilities.length>0&&a.jsx("div",{className:"agent-cap-pills",style:{display:"flex",gap:"4px",flexWrap:"wrap",marginBottom:"8px"},children:r.capabilities.slice(0,2).map((e,t)=>a.jsx("span",{style:{padding:"1px 6px",background:`${o}1A`,color:o,borderRadius:"6px",fontSize:"0.55rem",fontWeight:"500"},children:e},t))}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsx("span",{style:{padding:"2px 6px",background:"rgba(168, 85, 247, 0.15)",color:"#a855f7",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"PRO"}),r.getStarted&&a.jsxs("span",{style:{fontSize:"0.55rem",color:o,fontWeight:"600",opacity:.8},children:[r.getStarted," â†’"]})]})]},r.id)})})]})]})})]})}case"hub":return a.jsx(i.Suspense,{fallback:a.jsx(vt,{}),children:a.jsx(xt,{projects:Sr,setProjects:kr,onRemix:Dn,onSelectProject:e=>{if(!e||"object"!=typeof e||!e.id)return void s.error("Unable to open project - invalid data");const t={...e,id:e.id,name:e.name||"Untitled Project",description:e.description||"",category:e.category||"general",assets:Array.isArray(e.assets)?e.assets.filter(Boolean):[],agents:Array.isArray(e.agents)?e.agents.filter(Boolean):[],date:e.date||(new Date).toLocaleDateString(),createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString()};bs(null),wr(t),io(!0)},onCreateProject:e=>{if(("number"==typeof nr?nr:0)<2)return s.error("Not enough credits. You need 2 credits to save."),void ln(!0);lr(e=>e-2),kr(t=>t.some(t=>t.id===e.id)?t.map(t=>t.id===e.id?e:t):[e,...t]),$t&&Pt&&Ma(Pt?.uid,e).then(e=>{}).catch(e=>{}),bs(null),wr(e),io(!0),s.success(`Saved "${e.name}" with ${e.assets?.length||0} assets!`)},onDeleteProject:_n,onSaveProject:e=>$t&&Pt?Ma(Pt?.uid,e):Promise.resolve(!0),setActiveTab:_a,setSelectedAgent:vr,setQuickWorkflowAgent:Za,setPreviewItem:Ui,setPlayingItem:Ti})});case"project_canvas":return jr?a.jsxs("div",{className:"project-canvas animate-fadeIn",style:{padding:"20px",maxWidth:Ps?"none":"1200px",margin:"0 auto",transition:"all 0.3s ease"},children:[a.jsxs("div",{className:"canvas-header",style:{marginBottom:"32px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[a.jsxs("button",{onClick:()=>_a("hub"),className:"back-btn",style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem"},children:[a.jsx(K,{size:18})," Back to Hub"]}),a.jsxs("button",{onClick:()=>Bs(!Ps),style:{background:"rgba(255,255,255,0.05)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"8px",color:"var(--text-secondary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"0.8rem"},children:[Ps?a.jsx(ve,{size:16}):a.jsx(je,{size:16}),Ps?"Restore View":"Maximize Canvas"]})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"20px"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[a.jsx("h1",{style:{fontSize:"2.4rem",fontWeight:"800",margin:0,letterSpacing:"-0.02em"},children:jr.name}),a.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",background:"rgba(139, 92, 246, 0.1)",color:"var(--color-purple)",fontSize:"0.75rem",fontWeight:"600",border:"1px solid rgba(139, 92, 246, 0.2)"},children:jr.category?.toUpperCase()||"PROJECT"})]}),a.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"600px",margin:0,fontSize:"1.1rem"},children:jr.description||"No description provided."})]}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsxs("button",{className:"btn-secondary",onClick:()=>{const e={...jr,resyncing:!0};wr(e),s.success("Resyncing project state with latest generations..."),setTimeout(()=>{wr({...e,resyncing:!1})},1e3)},style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(oe,{size:18})," Resync"]}),a.jsxs("button",{className:"btn-primary",onClick:()=>{if(jr.agents&&jr.agents.length>0){const e=jr.agents[0],t="string"==typeof e?e:e?.id,r=void 0!==u&&u&&u.find(e=>e.id===t)||("object"==typeof e?e:null);r?vr(r):Ka(!0)}else Ka(!0)},style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(q,{size:18})," Open Studio"]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"24px",marginTop:"24px",padding:"16px",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(ee,{size:16,className:"text-cyan"}),a.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Created: ",a.jsx("span",{style:{color:"white"},children:jr.createdAt?new Date(jr.createdAt).toLocaleDateString():jr.date||"Just now"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(b,{size:16,className:"text-purple"}),a.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Assets: ",a.jsx("span",{style:{color:"white"},children:jr.assets?.length||0})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(pt,{size:16,className:"text-green"}),a.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Team: ",a.jsxs("span",{style:{color:"white"},children:[jr.agents?.length||0," Agents"]})]})]})]})]}),a.jsxs("div",{style:{marginBottom:"40px"},children:[a.jsx("h3",{style:{fontSize:"1rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"16px",fontWeight:"700"},children:"Project Workflow"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:yr?"1fr":"repeat(3, 1fr)",gap:"16px"},children:[{step:1,title:"Concept & Plan",desc:"Assign agents to define your project strategy and art direction.",icon:ze,color:"var(--color-purple)"},{step:2,title:"Production",desc:"Generate high-fidelity lyrics, audio beats, and cinematic video assets.",icon:q,color:"var(--color-cyan)"},{step:3,title:"Publication",desc:"Master your audio and push to Apple Music or Social platforms.",icon:ue,color:"var(--color-emerald)"}].map(e=>a.jsxs("div",{style:{background:"var(--bg-secondary)",padding:"20px",borderRadius:"16px",border:"1px solid var(--border-color)",position:"relative",overflow:"hidden"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:e.color,color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"800",fontSize:"0.8rem"},children:e.step}),a.jsx("h4",{style:{margin:0,fontWeight:"700"},children:e.title})]}),a.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.4"},children:e.desc}),a.jsx(e.icon,{size:60,style:{position:"absolute",bottom:"-10px",right:"-10px",opacity:.05,transform:"rotate(-15deg)"}})]},e.step))})]}),a.jsxs("div",{className:"canvas-content",children:[a.jsxs("div",{style:{marginBottom:"40px"},children:[a.jsxs("h3",{style:{fontSize:"1.2rem",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(pt,{size:20,className:"text-purple"})," Active Agents"]}),jr.agents&&jr.agents.length>0?a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"16px"},children:[jr.agents.map((e,t)=>{const r="string"==typeof e?e:e?.id,i=void 0!==u&&u&&u.find(e=>e.id===r)||("object"==typeof e?e:null);if(!i)return null;const s="function"==typeof i.icon?i.icon:m;return a.jsxs("div",{onClick:()=>vr(i),style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",padding:"16px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"12px"},onMouseOver:e=>{e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.transform="translateY(-2px)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(0)"},children:[a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(139, 92, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(s,{size:20,className:"text-purple"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600"},children:i.name}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:i.category})]}),a.jsx(Re,{size:16,style:{marginLeft:"auto",opacity:.5}})]},r||t)}),a.jsxs("button",{onClick:()=>Ka(!0),style:{background:"transparent",border:"1px dashed var(--border-color)",borderRadius:"12px",padding:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",color:"var(--text-secondary)",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.borderColor="var(--color-cyan)",e.currentTarget.style.color="var(--color-cyan)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.color="var(--text-secondary)"},children:[a.jsx(X,{size:20}),a.jsx("span",{children:"Add Agent"})]})]}):a.jsxs("div",{style:{padding:"32px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px dashed var(--border-color)"},children:[a.jsx(pt,{size:32,style:{opacity:.3,marginBottom:"12px"}}),a.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:"No agents assigned to this project yet."}),a.jsx("button",{className:"btn-secondary",onClick:()=>Ka(!0),children:"Assign Agents"})]})]}),a.jsxs("div",{style:{marginBottom:"40px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[a.jsxs("h3",{style:{fontSize:"1.2rem",margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(b,{size:20,className:"text-cyan"})," Project Generations"]}),a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsxs("button",{className:"btn-secondary-sm",onClick:()=>{s(`Use an Agent to generate a new ${"media"} or drag a file to the browser.`,{icon:"ðŸ’¡"})},style:{display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(X,{size:14})," Add Asset"]}),a.jsx("button",{className:"btn-icon-sm",title:"Grid View",children:a.jsx(b,{size:16})}),a.jsx("button",{className:"btn-icon-sm",title:"List View",children:a.jsx(Se,{size:16})})]})]}),jr.assets&&jr.assets.length>0?a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:jr.assets.filter(Boolean).map((e,t)=>e&&"object"==typeof e?a.jsx(yt,{asset:e,children:a.jsxs("div",{className:"asset-card",style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s ease",position:"relative"},children:[a.jsxs("div",{style:{position:"absolute",top:"5px",right:"5px",zIndex:10,display:"flex",gap:"4px"},children:[a.jsx("button",{onClick:t=>{t.stopPropagation(),((e,t)=>{const r=prompt("Enter new title for this asset:",t);if(!r||r===t)return;const i={...jr,assets:jr.assets.map(t=>t&&(t.id===e?{...t,title:r}:t))};wr(i),kr(e=>e.map(e=>e.id===i.id?i:e)),s.success("Asset renamed")})(e.id,e.title)},style:{background:"rgba(0,0,0,0.5)",border:"none",borderRadius:"4px",padding:"4px",cursor:"pointer",color:"white"},title:"Rename Asset",children:a.jsx(re,{size:12})}),a.jsx("button",{onClick:t=>{t.stopPropagation(),(e=>{if(!jr)return;if(!confirm("Are you sure you want to remove this asset from the project?"))return;const t={...jr,assets:jr.assets.filter(t=>t&&t.id!==e)};wr(t),kr(e=>e.map(e=>e.id===t.id?t:e)),s.success("Asset removed from project")})(e.id)},style:{background:"rgba(239, 68, 68, 0.3)",border:"none",borderRadius:"4px",padding:"4px",cursor:"pointer",color:"#ef4444"},title:"Remove Asset",children:a.jsx(ae,{size:12})})]}),a.jsxs("div",{style:{height:"160px",background:e.imageUrl?`url(${ot(e.imageUrl)}) center/cover`:"linear-gradient(135deg, #1e1e2e, #2d2d44)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:()=>{const t=Array.isArray(jr?.assets)?jr.assets:[];Co(e,t)},children:[!e.imageUrl&&("audio"===e.type?.toLowerCase()||"vocal"===e.type?.toLowerCase()||e.audioUrl?a.jsx(U,{size:48,style:{opacity:.2,color:"var(--color-purple)"}}):"video"===e.type?.toLowerCase()||e.videoUrl?a.jsx(O,{size:48,style:{opacity:.2,color:"var(--color-cyan)"}}):a.jsx(te,{size:48,style:{opacity:.2}})),a.jsxs("div",{style:{position:"absolute",top:"10px",left:"10px",padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",fontSize:"0.7rem",fontWeight:"600",color:"white",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"4px"},children:["audio"===e.type?.toLowerCase()&&a.jsx(U,{size:10}),"video"===e.type?.toLowerCase()&&a.jsx(O,{size:10}),e.type||"Text"]}),("audio"===e.type?.toLowerCase()||"vocal"===e.type?.toLowerCase()||"video"===e.type?.toLowerCase()||e.audioUrl||e.videoUrl)&&a.jsx("div",{className:"play-overlay",style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"1px solid rgba(255,255,255,0.3)"},children:a.jsx(V,{size:24,fill:"white",color:"white"})})]}),a.jsxs("div",{style:{padding:"16px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[a.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-purple)",fontWeight:"600"},children:e.agent||"AI Generated"}),e.version&&a.jsxs("span",{style:{fontSize:"0.65rem",background:"rgba(168, 85, 247, 0.2)",color:"var(--color-purple)",padding:"1px 5px",borderRadius:"4px",fontWeight:"700",border:"1px solid rgba(168, 85, 247, 0.3)"},children:["V",e.version]})]}),a.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:e.date||"Just now"})]}),a.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"white"},children:e.title||e.snippet?.substring(0,30)||"Untitled Asset"}),a.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)",height:"40px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.4"},children:e.snippet||e.description||"No description available."}),a.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[a.jsxs("button",{className:"btn-secondary-sm haptic-press",style:{flex:1,padding:"6px"},onClick:()=>{const t={...e,isExistingAsset:!0};Ui(t)},children:[a.jsx(Q,{size:14})," View"]}),a.jsxs("button",{className:"btn-secondary-sm haptic-press",style:{flex:1,padding:"6px"},onClick:()=>{(e.snippet||e.content)&&(navigator.clipboard.writeText(e.content||e.snippet),s.success("Copied to clipboard"))},children:[a.jsx(se,{size:14})," Copy"]})]})]})]},e.id||t)},`hub-asset-${e?.id||t}`):null)}):a.jsxs("div",{style:{padding:"48px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px dashed var(--border-color)"},children:[a.jsx(b,{size:48,style:{opacity:.2,marginBottom:"16px"}}),a.jsx("h3",{style:{marginBottom:"8px"},children:"No generations yet"}),a.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Launch an agent to start creating content for this project."}),a.jsx("button",{className:"btn-primary",onClick:()=>{if(jr.agents&&jr.agents.length>0){const e=jr.agents[0],t="string"==typeof e?e:e?.id,r=void 0!==u&&u&&u.find(e=>e.id===t)||("object"==typeof e?e:null);r?vr(r):Ka(!0)}else Ka(!0)},children:"Start Creating"})]})]}),a.jsxs("div",{style:{borderTop:"1px solid var(--border-color)",paddingTop:"40px",marginTop:"20px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"24px"},children:[a.jsx(w,{size:24,className:"text-cyan"}),a.jsx("h3",{style:{fontSize:"1.4rem",margin:0,fontWeight:"700"},children:"Global Distribution Hub"})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:"16px"},children:[[{id:"apple",label:"Apple Music",icon:U,color:"#FA2D48"},{id:"spotify",label:"Spotify",icon:_,color:"#1DB954"},{id:"youtube",label:"YouTube",icon:R,color:"#FF0000"},{id:"facebook",label:"Facebook",icon:Oe,color:"#1877F2"},{id:"instagram",label:"Instagram",icon:Ee,color:"#E4405F"},{id:"tiktok",label:"TikTok",icon:U,color:"#c927ed"}].map(e=>a.jsxs("button",{onClick:()=>{s.success(`Preparing assets for ${e.label}...`,{icon:"ðŸš€"}),setTimeout(()=>{"youtube"===e.id?s("Syncing Video Assets to YouTube CMS...",{duration:4e3}):"apple"===e.id||"spotify"===e.id?s("Submitting to Digital Distro...",{duration:4e3}):s(`Uploading Social Clip to ${e.label} Business Suite...`,{duration:4e3})},1500)},style:{padding:"24px 16px",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"16px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:t=>{t.currentTarget.style.borderColor=e.color,t.currentTarget.style.background=`${e.color}08`},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.background="var(--bg-secondary)"},children:[a.jsx("div",{style:{color:e.color,width:"48px",height:"48px",borderRadius:"12px",background:`${e.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(e.icon,{size:28})}),a.jsxs("span",{style:{fontSize:"0.85rem",fontWeight:"700"},children:["Push to ",e.label]})]},e.id)),a.jsxs("button",{onClick:()=>{window.open("https://facebook.com/creators","_blank")},style:{padding:"24px 16px",background:"rgba(24, 119, 242, 0.1)",border:"1px solid rgba(24, 119, 242, 0.3)",borderRadius:"16px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"12px",cursor:"pointer",color:"#1877F2"},children:[a.jsx(b,{size:28}),a.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"700"},children:"Social Dashboard"})]})]})]})]})]}):a.jsx("div",{className:"p-8 text-center animate-fadeIn",children:a.jsx("div",{style:{opacity:.6},children:"Loading project..."})});case"resources":{const e=[{id:"marketing",icon:Ue,label:"About Us",desc:"Our mission & vision",color:"var(--color-yellow)"},{id:"agents",icon:m,label:"AI Agents",desc:"Your creative team",color:"var(--color-purple)"},{id:"mystudio",icon:f,label:"My Studio",desc:"Projects & assets",color:"var(--color-cyan)"},{id:"activity",icon:U,label:"Music Hub",desc:"Trending AI across platforms",color:"var(--color-pink)"},{id:"news",icon:w,label:"Industry Pulse",desc:"Latest music & tech news",color:"var(--color-emerald)"},{id:"whitepapers",icon:te,label:"Whitepapers",desc:"Technical documentation",color:"var(--color-indigo)"},{id:"legal",icon:we,label:"Legal Center",desc:"Terms & licensing",color:"var(--color-red)"},{id:"support",icon:S,label:"Help & Support",desc:"FAQ & contact us",color:"var(--color-orange)"},{id:"hub",icon:J,label:"Project Hub",desc:"Shared by Studio Agent users",color:"var(--color-blue)"},{id:"profile",icon:I,label:"My Profile",desc:"Account settings",color:"var(--color-purple)"}];return a.jsxs("div",{className:"resources-view animate-fadeInUp",children:[a.jsxs("div",{className:"resources-header",children:[a.jsx("h1",{children:"Creator Resources"}),a.jsx("p",{children:"Quick access to all studio features and tools."})]}),a.jsx("div",{className:"resources-cards-grid",style:{display:"grid",gridTemplateColumns:yr?"repeat(2, 1fr)":"repeat(5, 1fr)",gap:"20px",marginBottom:"32px"},children:e.map(e=>{const t=e.icon;return a.jsxs("div",{onClick:()=>{"legal"===e.id||"whitepapers"===e.id?window.location.hash=`#/${e.id}`:_a(e.id)},role:"button",tabIndex:0,className:"haptic-press",style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"28px 20px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"16px",minHeight:"180px"},onMouseEnter:t=>{t.currentTarget.style.borderColor=e.color,t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow=`0 8px 24px ${e.color}20`},onMouseLeave:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[a.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"18px",background:`${e.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(t,{size:34,style:{color:e.color}})}),a.jsxs("div",{children:[a.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:e.label}),a.jsx("p",{style:{margin:"6px 0 0",fontSize:"0.75rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:e.desc})]})]},e.id)})})]})}case"marketing":return a.jsxs("div",{className:"marketing-view animate-fadeInUp",style:{paddingBottom:"80px"},children:[a.jsxs("div",{className:"marketing-hero",style:{textAlign:"center",padding:"60px 20px",background:"linear-gradient(180deg, rgba(124, 58, 237, 0.1) 0%, rgba(0,0,0,0) 100%)",marginBottom:"40px"},children:[a.jsxs("div",{className:"hero-badge",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(124, 58, 237, 0.2)",borderRadius:"20px",color:"#a78bfa",fontSize:"0.85rem",marginBottom:"20px",border:"1px solid rgba(124, 58, 237, 0.3)"},children:[a.jsx(m,{size:14}),a.jsx("span",{children:"The Future of Music Creation"})]}),a.jsxs("h1",{style:{fontSize:"3rem",fontWeight:"800",marginBottom:"16px",lineHeight:"1.1"},children:["The Studio ",a.jsx("span",{className:"text-gradient-purple",children:"Agents"})]}),a.jsx("p",{style:{fontSize:"1.2rem",color:"var(--text-secondary)",maxWidth:"600px",margin:"0 auto"},children:"An AI-powered record label in your pocket. 16 specialized agents working 24/7 to build your career."})]}),a.jsxs("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:[a.jsxs("div",{className:"section-header",style:{marginBottom:"30px"},children:[a.jsx("h2",{style:{fontSize:"2rem",marginBottom:"10px"},children:"The Story"}),a.jsx("div",{style:{width:"60px",height:"4px",background:"var(--color-purple)",borderRadius:"2px"}})]}),a.jsxs("div",{className:"story-card",style:{background:"var(--color-bg-secondary)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)",position:"relative",overflow:"hidden"},children:[a.jsxs("div",{style:{position:"relative",zIndex:2},children:[a.jsx("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"var(--text-primary)",marginBottom:"20px"},children:"For decades, the music industry has been a walled garden. Only the top 1% of artists had access to world-class producers, marketing teams, and A&R strategy."}),a.jsxs("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"var(--text-primary)"},children:[a.jsx("strong",{children:"The Studio changes that."})," We've distilled the expertise of industry veterans into 16 specialized AI agents. Whether you need a lyricist at 3 AM, a marketing strategy for your release, or a visual identity for your brand, The Studio is always open."]})]}),a.jsx("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"200px",height:"200px",background:"radial-gradient(circle, rgba(124, 58, 237, 0.15) 0%, rgba(0,0,0,0) 70%)",borderRadius:"50%"}})]})]}),a.jsxs("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:[a.jsxs("div",{className:"section-header",style:{marginBottom:"30px"},children:[a.jsx("h2",{style:{fontSize:"2rem",marginBottom:"10px"},children:"The Specialized AI Team"}),a.jsx("div",{style:{width:"60px",height:"4px",background:"var(--color-cyan)",borderRadius:"2px"}}),a.jsx("p",{style:{marginTop:"12px",color:"var(--text-secondary)"},children:"Click any agent to launch their specialized workspace"})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:(u||[]).slice(0,8).map(e=>{const t=e.icon||m;return a.jsxs("div",{className:"agent-info-card-slim animate-fadeInUp haptic-press",onClick:()=>{vr(e),_a("agents"),window.scrollTo(0,0)},style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"24px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px",transition:"all 0.2s ease"},children:[a.jsx("div",{className:`agent-icon-mini ${e.colorClass}`,style:{width:"56px",height:"56px",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(t,{size:28})}),a.jsxs("div",{children:[a.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"700"},children:e.name}),a.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.85rem",color:"var(--text-secondary)"},children:e.category})]})]},e.id)})})]}),a.jsx("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:a.jsxs("div",{className:"grid-2-col",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[a.jsxs("div",{className:"vision-card",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[a.jsx("div",{className:"icon-box",style:{width:"50px",height:"50px",background:"rgba(59, 130, 246, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:a.jsx(ze,{size:24,className:"text-cyan"})}),a.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"12px"},children:"Our Vision"}),a.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"To democratize the entire music supply chain. We believe every artist deserves a team that cares as much about their music as they do."})]}),a.jsxs("div",{className:"vision-card",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[a.jsx("div",{className:"icon-box",style:{width:"50px",height:"50px",background:"rgba(236, 72, 153, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:a.jsx(ye,{size:24,className:"text-pink"})}),a.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"12px"},children:"For Creators"}),a.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"Built for the bedroom producers, the songwriters, and the independent artists who are ready to take their career to the next level."})]})]})}),a.jsx("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:a.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px"},children:[a.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-purple)",marginBottom:"5px"},children:"16"}),a.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Specialized Agents"})]}),a.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-cyan)",marginBottom:"5px"},children:"24/7"}),a.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Availability"})]}),a.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-green)",marginBottom:"5px"},children:"âˆž"}),a.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Creative Potential"})]}),a.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-orange)",marginBottom:"5px"},children:"100%"}),a.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Royalty Free"})]})]})}),a.jsx("div",{className:"marketing-cta",style:{padding:"0 20px 40px",textAlign:"center"},children:a.jsxs("button",{className:"cta-button-primary haptic-press",style:{width:"100%",padding:"16px",fontSize:"1.1rem"},onClick:()=>_o(!0),children:["Create New Project ",a.jsx(Re,{size:20,style:{marginLeft:"8px"}})]})})]});case"activity":return a.jsxs("div",{className:"music-hub-view animate-fadeInUp",style:{paddingBottom:"100px"},children:[a.jsxs("div",{className:"orchestrator-header",style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(6, 182, 212, 0.15) 50%, rgba(236, 72, 153, 0.15) 100%)",borderRadius:"24px",padding:"32px",marginBottom:"24px",border:"1px solid rgba(255,255,255,0.1)",position:"relative",overflow:"hidden"},children:[a.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 50%, rgba(168, 85, 247, 0.2) 0%, transparent 50%)",pointerEvents:"none"}}),a.jsxs("div",{style:{position:"relative",zIndex:1},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px"},children:[a.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(168, 85, 247, 0.4)"},children:a.jsx(U,{size:28,color:"white"})}),a.jsxs("div",{children:[a.jsx("h1",{style:{margin:0,fontSize:"2rem",fontWeight:"700",background:"linear-gradient(90deg, white, rgba(255,255,255,0.8))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Music Hub"}),a.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.95rem"},children:"Trending AI Creations â€” Discover what's hot on Udio, Suno & beyond"})]})]}),a.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"20px",flexWrap:"wrap"},children:[{id:"all",label:"All Trends",icon:q},{id:"news",label:"Music News",icon:w},{id:"soundcloud",label:"SoundCloud",icon:C},{id:"youtube",label:"YouTube",icon:R},{id:"releases",label:"New Releases",icon:_},{id:"reddit",label:"Community",icon:v}].map(e=>a.jsxs("button",{onClick:()=>{Qs?.(e.id)||localStorage.setItem("musicHubSection",e.id),Tn(1,e.id)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"12px",border:"none",background:(Js||localStorage.getItem("musicHubSection")||"all")===e.id?"linear-gradient(135deg, var(--color-purple), var(--color-cyan))":"rgba(255,255,255,0.08)",color:"white",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:[a.jsx(e.icon,{size:16}),e.label]},e.id))})]})]}),a.jsx("div",{className:"music-hub-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"20px"},children:qs.map((e,t)=>a.jsxs("div",{className:"music-hub-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.08)",overflow:"hidden",transition:"all 0.3s ease",cursor:"pointer"},onClick:()=>window.open(e.url,"_blank"),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.boxShadow="0 12px 40px rgba(168, 85, 247, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.borderColor="rgba(255,255,255,0.08)",e.currentTarget.style.boxShadow="none"},children:[e.imageUrl&&a.jsxs("div",{className:"activity-media-preview",style:{position:"relative",aspectRatio:"16/9",overflow:"hidden"},children:[a.jsx("img",{src:e.imageUrl,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"},loading:"lazy"}),a.jsx("div",{className:"media-overlay",children:a.jsxs("button",{className:"preview-indicator",onClick:t=>{t.stopPropagation(),Ti({...e,type:e.isVideo?"video":"image",url:e.videoUrl||e.imageUrl||e.url})},children:[a.jsx(Q,{size:20}),a.jsx("span",{children:"Quick Preview"})]})}),e.isVideo&&!e.imageUrl&&a.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"56px",height:"56px",borderRadius:"50%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:a.jsx(R,{size:28,color:"white"})}),a.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",padding:"6px 12px",borderRadius:"8px",background:"youtube"===e.source?"rgba(255, 0, 0, 0.9)":"reddit"===e.source?"rgba(255, 69, 0, 0.9)":"soundcloud"===e.source?"#ff3300":"news"===e.source?"rgba(0, 120, 215, 0.9)":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",color:"white",fontSize:"0.7rem",fontWeight:"700",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"6px",zIndex:2},children:["youtube"===e.source&&a.jsx(R,{size:12}),"reddit"===e.source&&a.jsx(v,{size:12}),("releases"===e.source||"release"===e.type)&&a.jsx(We,{size:12}),"soundcloud"===e.source&&a.jsx(C,{size:12}),"news"===e.source&&a.jsx(w,{size:12}),e.source]})]}),a.jsxs("div",{style:{padding:"16px"},children:[a.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"6px",background:`var(--${e.color?.replace("agent-","color-")||"color-purple"})`,opacity:.8,fontSize:"0.7rem",fontWeight:"600",marginBottom:"10px",textTransform:"uppercase"},children:e.category}),a.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1rem",fontWeight:"600",color:"white",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),a.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.snippet||e.author}),a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[void 0!==e.likes&&a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[a.jsx(q,{size:14,style:{color:"var(--color-purple)"}}),e.likes>1e3?`${(e.likes/1e3).toFixed(1)}k`:e.likes]}),void 0!==e.comments&&a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[a.jsx(v,{size:14}),e.comments]})]}),a.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.time})]})]})]},`${e.id}-${t}`))}),qs.filter(e=>!e.imageUrl).length>0&&a.jsxs("div",{style:{marginTop:"32px"},children:[a.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-secondary)",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Upcoming & Recent Releases"}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:qs.filter(e=>!e.imageUrl&&"release"===e.type).slice(0,10).map((e,t)=>a.jsxs("div",{onClick:()=>window.open(e.url,"_blank"),style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.06)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255,255,255,0.06)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.03)",children:[a.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:0===e.daysUntil?"linear-gradient(135deg, var(--color-emerald), var(--color-cyan))":e.daysUntil>0?"linear-gradient(135deg, var(--color-purple), var(--color-pink))":"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:a.jsx(We,{size:22,color:"white"})}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontWeight:"600",color:"white",marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),a.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:e.snippet})]}),a.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",background:0===e.daysUntil?"var(--color-emerald)":e.daysUntil>0?"rgba(168, 85, 247, 0.2)":"rgba(255,255,255,0.1)",color:0===e.daysUntil?"black":"white",fontSize:"0.75rem",fontWeight:"700",whiteSpace:"nowrap"},children:e.time})]},`release-${e.id}-${t}`))})]}),Fs&&a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"40px",color:"var(--text-secondary)"},children:[a.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),a.jsx("span",{children:"Loading music content..."})]}),!Fs&&0===qs.length&&a.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 24px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[a.jsx(U,{size:48,style:{color:"var(--color-purple)",marginBottom:"16px",opacity:.6}}),a.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1.2rem",color:"var(--text-primary)"},children:"No Music Content Available"}),a.jsx("p",{style:{margin:"0 0 20px 0",color:"var(--text-secondary)",maxWidth:"400px"},children:"Unable to load trending AI music from Udio and Suno. Make sure the backend server is running."}),a.jsxs("button",{onClick:()=>Tn(1),style:{padding:"12px 24px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",color:"white",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(oe,{size:16})," Try Again"]})]}),!Fs&&Vs&&qs.length>0&&a.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:"32px"},children:a.jsx("button",{onClick:()=>Tn(Ls+1),style:{padding:"14px 32px",borderRadius:"12px",border:"1px solid var(--color-purple)",background:"transparent",color:"var(--color-purple)",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="var(--color-purple)",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="var(--color-purple)"},children:"Load More"})}),!Vs&&qs.length>0&&a.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:a.jsx("p",{children:"ðŸŽµ You've explored all the latest music content. Check back soon!"})})]});case"news":return a.jsx(i.Suspense,{fallback:a.jsx(vt,{}),children:a.jsx(mt,{newsItems:Wn,newsSearch:aa,setNewsSearch:oa,isLoadingNews:Zs,onRefresh:On,hasMoreNews:ta,onLoadMore:()=>Rn(Ks+1),setPlayingItem:Ti})});case"profile":return a.jsxs("div",{className:"studio-profile-view animate-fadeInUp",style:{padding:"24px",maxWidth:"800px",margin:"0 auto"},children:[a.jsxs("div",{className:"profile-header",style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"32px"},children:[a.jsxs("div",{className:"profile-avatar-large",style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",border:"2px solid var(--color-purple)",position:"relative"},children:[Pt?.photoURL?a.jsx("img",{src:Pt.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%"}}):a.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:Pt?.displayName?.charAt(0)||"U"}),a.jsx("button",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.6)",border:"none",color:"white",fontSize:"0.7rem",padding:"4px",cursor:"pointer"},children:"Edit"})]}),a.jsxs("div",{children:[a.jsx("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:qt.stageName||Pt?.displayName||"Guest Creator"}),a.jsx("p",{style:{color:"var(--text-secondary)"},children:Pt?.email||"No email linked"}),a.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[a.jsxs("span",{className:"badge",style:{background:"var(--color-purple)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:[qt.plan," Plan"]}),a.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.1)",color:"var(--text-secondary)",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:["Member since ",qt.memberSince]}),a.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.1)",color:"var(--color-cyan)",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:[qt.credits," Credits"]})]})]})]}),a.jsxs("div",{className:"profile-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[a.jsxs("div",{className:"stat-card",style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center"},children:[a.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-purple)",marginBottom:"4px"},children:(Sr||[]).length}),a.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Projects"})]}),a.jsxs("div",{className:"stat-card",style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center"},children:[a.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-cyan)",marginBottom:"4px"},children:new Set((Sr||[]).map(e=>e.agent)).size}),a.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Agents Used"})]}),a.jsxs("div",{className:"stat-card haptic-press",onClick:()=>ln(!0),style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer"},children:[a.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-orange)",marginBottom:"4px"},children:qt.credits}),a.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Credits Left"})]})]}),a.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[a.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(I,{size:20})," Creator Profile"]}),a.jsxs("div",{className:"form-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[a.jsxs("div",{className:"form-group",children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Stage Name"}),a.jsx("input",{type:"text",value:qt.stageName,onChange:e=>Yt({...qt,stageName:e.target.value}),placeholder:Pt?.displayName||"Enter stage name",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Primary Genre"}),a.jsxs("select",{value:qt.genre,onChange:e=>Yt({...qt,genre:e.target.value}),className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"},children:[a.jsx("option",{children:"Hip Hop / Rap"}),a.jsx("option",{children:"R&B"}),a.jsx("option",{children:"Pop"}),a.jsx("option",{children:"Electronic"}),a.jsx("option",{children:"Rock"}),a.jsx("option",{children:"Afrobeats"}),a.jsx("option",{children:"Latin"})]})]}),a.jsxs("div",{className:"form-group",style:{gridColumn:"span 2"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Creator Bio"}),a.jsx("textarea",{rows:"4",value:qt.bio,onChange:e=>Yt({...qt,bio:e.target.value}),placeholder:"Tell your story...",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px",resize:"vertical"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Location"}),a.jsx("input",{type:"text",value:qt.location,onChange:e=>Yt({...qt,location:e.target.value}),placeholder:"City, Country",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Website"}),a.jsx("input",{type:"text",value:qt.website,onChange:e=>Yt({...qt,website:e.target.value}),placeholder:"https://",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]})]})]}),a.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[a.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(B,{size:20})," Social Connections"]}),a.jsx("div",{className:"social-connect-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{id:"instagram",label:"Instagram",icon:Ee,color:"#E1306C"},{id:"twitter",label:"X / Twitter",icon:De,color:"#1DA1F2"},{id:"spotify",label:"Spotify for Artists",icon:U,color:"#1DB954"},{id:"tiktok",label:"TikTok",icon:O,color:"#00f2ea"}].map(e=>a.jsxs("div",{className:"social-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx(e.icon,{size:20,color:e.color}),a.jsx("span",{children:e.label})]}),a.jsx("button",{className:"btn-sm",onClick:()=>Qt(t=>{const r={...t,[e.id]:!t[e.id]};return localStorage.setItem("studio_agents_socials",JSON.stringify(r)),r}),style:{background:Jt[e.id]?"rgba(16, 185, 129, 0.2)":"transparent",border:"1px solid "+(Jt[e.id]?"#10b981":"var(--border-color)"),color:Jt[e.id]?"#10b981":"white",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",minWidth:"100px"},children:Jt[e.id]?"Connected":"Connect"})]},e.id))})]}),a.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[a.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(he,{size:20})," Preferences"]}),a.jsx("div",{className:"preferences-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.jsxs("div",{className:"preference-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["dark"===mr?a.jsx(Be,{size:20}):a.jsx($e,{size:20}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600"},children:"Appearance"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"dark"===mr?"Dark Mode":"Light Mode"})]})]}),a.jsxs("button",{className:"btn-sm",onClick:()=>hr("dark"===mr?"light":"dark"),style:{background:"transparent",border:"1px solid var(--border-color)",color:"var(--text-primary)",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",minWidth:"100px"},children:["Switch to ","dark"===mr?"Light":"Dark"]})]})})]}),a.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[a.jsx("button",{className:"cta-button-secondary",onClick:()=>_a("mystudio"),children:"Cancel"}),a.jsx("button",{className:"cta-button-premium",onClick:()=>{localStorage.setItem("studio_user_profile",JSON.stringify(qt)),s.success("Profile saved!"),_a("mystudio")},children:"Save Changes"})]})]});case"support":{const e=Ci.length>1?[...It.filter(e=>e.keywords.some(e=>e.includes(Ci.toLowerCase()))||e.label.toLowerCase().includes(Ci.toLowerCase())).map(e=>({type:"Action",title:`Go to ${e.label}`,description:"Navigate to this section",icon:Re,action:()=>{_a(e.type),e.sub&&_s(e.sub)}})),...Nt.filter(e=>e.keywords.some(e=>Ci.toLowerCase().includes(e))||e.issue.toLowerCase().includes(Ci.toLowerCase())).map(e=>({type:"Troubleshooting",title:e.issue,description:e.solution,icon:we})),...zt.filter(e=>e.title.toLowerCase().includes(Ci.toLowerCase())||e.desc.toLowerCase().includes(Ci.toLowerCase())||e.details.toLowerCase().includes(Ci.toLowerCase())).map(e=>({type:"Guide",title:e.title,description:e.desc,icon:j})),...u.filter(e=>e.name.toLowerCase().includes(Ci.toLowerCase())||e.description.toLowerCase().includes(Ci.toLowerCase())||e.category.toLowerCase().includes(Ci.toLowerCase())).map(e=>({type:"Agent",title:e.name,description:e.description,icon:q,action:()=>{_a("agents"),vr(e)}})),...[{q:"How do I export my creations?",a:"You can export any creation from the Project Hub using the download icon."},{q:"Can I use the lyrics commercially?",a:"Yes, all content generated by Studio Agents is royalty-free for Pro users."},{q:"How do I change the agent's genre?",a:"Use the Genre dropdown in the agent's detail view to shift styles."}].filter(e=>e.q.toLowerCase().includes(Ci.toLowerCase())||e.a.toLowerCase().includes(Ci.toLowerCase())).map(e=>({type:"FAQ",title:e.q,description:e.a,icon:S}))]:[];return a.jsxs("div",{className:"help-center-view animate-fadeInUp",children:[a.jsxs("div",{className:"help-hero",children:[a.jsx("h1",{children:"Support Center"}),a.jsx("p",{className:"text-muted",style:{marginTop:"8px"},children:"Guides, troubleshooting, and expert assistance."}),a.jsxs("div",{className:"search-box large",style:{marginTop:"24px"},children:[a.jsx(_e,{size:20}),a.jsx("input",{type:"text",placeholder:"Search for agents, guides, or troubleshooting...",value:Ci,onChange:e=>zi(e.target.value)})]})]}),e.length>0?a.jsxs("div",{className:"smart-suggestions animate-fadeIn",children:[a.jsxs("div",{className:"suggestions-header",children:[a.jsx(m,{size:18,className:"text-purple"}),a.jsx("h3",{children:"Search Results"})]}),a.jsx("div",{className:"suggestions-list",children:e.map((e,t)=>{const r=e.icon;return a.jsxs("div",{className:"suggestion-item",onClick:e.action?e.action:void 0,style:{cursor:e.action?"pointer":"default"},children:[a.jsx("div",{className:"suggestion-icon",children:a.jsx(r,{size:20})}),a.jsxs("div",{className:"suggestion-content",children:[a.jsx("div",{className:"suggestion-type",children:e.type}),a.jsx("h4",{children:e.title}),a.jsx("p",{children:e.description})]}),e.action&&a.jsx(Re,{size:16,className:"suggestion-arrow"})]},t)})})]}):Ci.length>1?a.jsxs("div",{className:"empty-search-state animate-fadeIn",style:{textAlign:"center",padding:"4rem 2rem",color:"var(--text-secondary)"},children:[a.jsx(_e,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),a.jsx("h3",{children:"No results found"}),a.jsx("p",{children:'Try searching for "Billing", "Ghostwriter", or "Export".'})]}):null,a.jsx("div",{className:"help-grid-main",children:zt.map((e,t)=>{const r=e.icon,i=Si===t;return a.jsxs("div",{className:"help-card-item "+(i?"expanded":""),children:[a.jsx("div",{className:"help-card-icon",children:a.jsx(r,{size:24})}),a.jsx("h3",{children:e.title}),a.jsx("p",{children:e.desc}),i&&a.jsx("div",{className:"help-card-details animate-fadeIn",children:a.jsx("p",{children:e.details})}),a.jsxs("button",{className:"help-card-link",onClick:()=>ki(i?null:t),children:[i?"Show Less":"Read More",i?a.jsx(Ae,{size:16}):a.jsx(Re,{size:16})]})]},t)})}),a.jsxs("div",{className:"faq-section",children:[a.jsx("h2",{children:"Frequently Asked Questions"}),a.jsx("div",{className:"faq-list",children:[{q:"How do I export my creations?",a:"You can export any creation from the Project Hub using the download icon."},{q:"Can I use the lyrics commercially?",a:"Yes, all content generated by Studio Agents is royalty-free for Pro users."},{q:"How do I change the agent's genre?",a:"Use the Genre dropdown in the agent's detail view to shift styles."}].map((e,t)=>a.jsxs("div",{className:"faq-item",children:[a.jsx("h4",{children:e.q}),a.jsx("p",{children:e.a})]},t))})]}),a.jsxs("div",{className:"contact-support-section",style:{marginTop:"40px",padding:"32px",background:"var(--card-bg)",borderRadius:"24px",border:"1px solid var(--border-color)",textAlign:"center"},children:[a.jsx("div",{className:"icon-box",style:{width:"64px",height:"64px",margin:"0 auto 16px",background:"rgba(168, 85, 247, 0.1)",color:"var(--color-purple)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(v,{size:32})}),a.jsx("h2",{children:"Still need help?"}),a.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"500px",margin:"12px auto 24px"},children:"Our support team is available 24/7 to assist with technical issues, billing inquiries, or creative blocks."}),a.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[a.jsx("button",{className:"cta-button-premium",onClick:()=>window.open("mailto:support@studioagents.com?subject=Support Request","_blank"),children:"Email Support"}),a.jsx("button",{className:"cta-button-secondary",onClick:()=>window.open("https://discord.gg/studioagents","_blank"),children:"Join Discord Community"})]})]})]})}case"more":return a.jsxs("div",{className:"more-menu-view animate-fadeInUp",style:{padding:"20px"},children:[a.jsx("h2",{style:{marginBottom:"24px",fontSize:"1.5rem"},children:"More Options"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"32px"},children:At.map(e=>{const t=e.icon;return a.jsxs("div",{onClick:()=>{"legal"===e.id||"whitepapers"===e.id?window.location.hash=`#/${e.id}`:_a(e.id)},role:"button",tabIndex:0,style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"20px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",gap:"12px"},onKeyDown:t=>"Enter"===t.key&&_a(e.id),children:[a.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:`${e.color}20`,display:"flex",alignItems:"center",justifyContent:"center",color:e.color},children:a.jsx(t,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"1rem",marginBottom:"4px"},children:e.label}),a.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:e.desc})]})]},e.id)})}),a.jsxs("div",{style:{background:"var(--card-bg)",borderRadius:"16px",padding:"20px",border:"1px solid var(--border-color)"},children:[a.jsx("h3",{style:{marginBottom:"16px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Quick Actions"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[a.jsxs("button",{onClick:()=>_o(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"12px",color:"var(--color-purple)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[a.jsx(X,{size:20}),"Create New Project"]}),$t?a.jsxs("button",{onClick:Jo,style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",color:"var(--color-red)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[a.jsx(Pe,{size:20}),"Sign Out"]}):a.jsxs("button",{onClick:()=>Xt(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"12px",color:"var(--color-cyan)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[a.jsx(I,{size:20}),"Sign In / Create Account"]})]})]}),a.jsxs("div",{style:{marginTop:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card-bg)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["dark"===mr?a.jsx(Be,{size:20}):a.jsx($e,{size:20}),a.jsx("span",{children:"Dark Mode"})]}),a.jsx("button",{onClick:()=>hr("dark"===mr?"light":"dark"),style:{width:"50px",height:"28px",borderRadius:"14px",background:"dark"===mr?"var(--color-purple)":"var(--border-color)",border:"none",cursor:"pointer",position:"relative",transition:"background 0.2s"},children:a.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"50%",background:"white",position:"absolute",top:"3px",left:"dark"===mr?"25px":"3px",transition:"left 0.2s"}})})]})]});default:return null}})()}),Ai&&a.jsx("div",{className:"media-player-overlay animate-fadeIn",onClick:()=>Ti(null),children:a.jsxs("div",{className:"media-player-container animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:[a.jsx("button",{className:"player-close",onClick:()=>Ti(null),children:a.jsx(T,{size:24})}),a.jsxs("div",{className:"player-content",children:[a.jsxs("div",{className:"player-header",children:[a.jsx("div",{className:`player-icon-box ${Ai.color||"agent-purple"}`,children:Ai.videoUrl?a.jsx(R,{size:32}):(Ai.imageUrl,a.jsx(U,{size:32}))}),a.jsxs("div",{className:"player-info",children:[a.jsx("h2",{children:Ai.title}),a.jsxs("p",{children:[Ai.agent," â€¢ ",Ai.user||"Your Creation"]})]})]}),a.jsx("div",{className:"player-visualizer",style:{position:"relative"},children:Ai.videoUrl&&(Ai.videoUrl.includes("youtube.com")||Ai.videoUrl.includes("youtu.be"))?a.jsx("iframe",{width:"100%",height:"100%",src:Ai.videoUrl.replace("watch?v=","embed/"),title:Ai.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"player-video",style:{border:"none"}}):a.jsxs(a.Fragment,{children:[Ai.videoUrl?a.jsx("video",{src:Ai.videoUrl,controls:!Ai.audioUrl,autoPlay:!0,muted:!!Ai.audioUrl,className:"player-video"}):Ai.imageUrl?a.jsx("img",{src:Ai.imageUrl,alt:Ai.title,className:"player-video",loading:"lazy",style:{objectFit:"contain",background:"#000"}}):Ai.audioUrl?a.jsx("div",{className:"audio-visualizer-placeholder",children:a.jsx("div",{className:"visualizer-bars",children:[...Array(20)].map((e,t)=>a.jsx("div",{className:"v-bar",style:{animationDelay:.1*t+"s"}},t))})}):a.jsx("div",{style:{width:"100%",height:"100%",minHeight:"200px",padding:"2rem",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.05))",display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto"},children:a.jsx("div",{style:{maxWidth:"600px",fontSize:"1rem",lineHeight:"1.8",color:"var(--text-primary)",whiteSpace:"pre-wrap",textAlign:"left"},children:ko(Ai)||a.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic",textAlign:"center"},children:"No content to display"})})}),Ai.audioUrl&&a.jsx("div",{style:{position:"absolute",bottom:"20px",left:"0",right:"0",padding:"0 20px",zIndex:10},children:a.jsx("audio",{src:Ai.audioUrl,controls:!0,autoPlay:!0,className:"player-audio",style:{width:"100%",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",borderRadius:"30px"}})})]})}),a.jsx("div",{className:"player-footer",children:a.jsxs("div",{className:"player-actions",children:[a.jsxs("button",{className:"player-btn primary",onClick:()=>Bn(Ai),children:[a.jsx(P,{size:18}),a.jsx("span",{children:"Download to Device"})]}),a.jsxs("button",{className:"player-btn secondary",onClick:()=>(e=>{if(!e)return;const t={...e,id:String(Date.now()),user:$t?"Pro Creator":"Guest Creator",time:"Just now",likes:0,remixes:0,snippet:e.snippet||`Just created this amazing ${e.type||e.agent} output in the Studio!`};Ys([t,...qs]),s.success("Shared to Activity Wall!"),_a("activity"),Ti(null)})(Ai),children:[a.jsx(B,{size:18}),a.jsx("span",{children:"Share to Feed"})]})]})})]})]})}),di&&a.jsxs("div",{className:"studio-session-overlay animate-fadeIn",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",flexDirection:"column"},children:[a.jsxs("div",{style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(b,{size:24,color:"white"})}),a.jsxs("div",{children:[a.jsx("h2",{style:{margin:0,fontSize:"1.2rem"},children:"Studio Session"}),a.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Multi-Agent Orchestration"})]}),a.jsx("button",{onClick:()=>s("1. Select Beat (Track 1)\n2. Select Vocals (Track 2)\n3. Add a Visual\n4. Press Play to preview\n5. Click Render Master to save",{duration:6e3,icon:"ðŸŽ›ï¸"}),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:"8px"},children:a.jsx(S,{size:14,color:"var(--text-secondary)"})})]}),a.jsx("button",{onClick:()=>{ci(!1),bi(!1)},style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:a.jsx(T,{size:24})})]}),a.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"20px",gap:"20px",overflowY:"auto"},children:[a.jsxs("div",{style:{flex:2,background:"#000",borderRadius:"16px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px"},children:[pi.visual?pi.visual.videoUrl?a.jsx("video",{src:pi.visual.videoUrl,style:{width:"100%",height:"100%",objectFit:"contain"},muted:!0,loop:!0,ref:e=>{e&&(yi?e.play().catch(e=>{}):e.pause())}}):a.jsx("img",{src:pi.visual.imageUrl,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain"}}):a.jsxs("div",{style:{color:"var(--text-secondary)",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[a.jsx($,{size:48}),a.jsx("span",{children:"No Visual Selected"})]}),pi.audio&&a.jsx("audio",{src:pi.audio.audioUrl,ref:e=>{e&&(e.volume=pi.audioVolume||.8,yi?e.play().catch(e=>{}):e.pause())},loop:!0}),pi.vocal&&a.jsx("audio",{src:pi.vocal.audioUrl,ref:e=>{e&&(e.volume=pi.vocalVolume||1,yi?e.play().catch(e=>{}):e.pause())},loop:!0})]}),a.jsxs("div",{style:{flex:1,background:"rgba(255,255,255,0.05)",borderRadius:"16px",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"12px 16px"},children:[a.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[a.jsxs("div",{onClick:()=>Va(e=>({...e,generateRealAssets:!e.generateRealAssets})),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",background:pi.generateRealAssets?"linear-gradient(135deg, var(--color-purple), var(--color-pink))":"rgba(255,255,255,0.1)",padding:"6px 12px",borderRadius:"20px",transition:"all 0.3s ease"},children:[a.jsx("div",{style:{width:"32px",height:"18px",borderRadius:"9px",background:pi.generateRealAssets?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",position:"relative",transition:"all 0.3s ease"},children:a.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:pi.generateRealAssets?"16px":"2px",transition:"left 0.3s ease"}})}),a.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600},children:pi.generateRealAssets?"âš¡ Real Assets":"ðŸ“ Text Mode"})]}),a.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[a.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"BPM"}),a.jsx("input",{type:"number",value:pi.bpm||120,onChange:e=>Va(t=>({...t,bpm:parseInt(e.target.value)||120})),style:{width:"50px",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"var(--color-cyan)",fontSize:"0.85rem",fontWeight:600,textAlign:"center"}})]}),a.jsxs("select",{value:pi.frameRate||30,onChange:e=>Va(t=>({...t,frameRate:parseInt(e.target.value)})),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"0.8rem",cursor:"pointer"},children:[a.jsx("option",{value:"24",children:"24fps"}),a.jsx("option",{value:"30",children:"30fps"}),a.jsx("option",{value:"60",children:"60fps"})]}),a.jsxs("select",{value:pi.aspectRatio||"16:9",onChange:e=>Va(t=>({...t,aspectRatio:e.target.value})),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"0.8rem",cursor:"pointer"},children:[a.jsx("option",{value:"16:9",children:"16:9"}),a.jsx("option",{value:"9:16",children:"9:16"}),a.jsx("option",{value:"1:1",children:"1:1"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("div",{style:{display:"flex",gap:"4px"},children:[1,2,3].map(e=>a.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:e<=(pi.renderCount||0)?"var(--color-purple)":"rgba(255,255,255,0.2)"}},e))}),a.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[3-(pi.renderCount||0)," renders left"]})]})]}),pi.generateRealAssets&&a.jsxs("div",{style:{padding:"10px 16px",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(236, 72, 153, 0.2))",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.3)",fontSize:"0.85rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx("strong",{children:"âš¡ Real Asset Mode"})," â€” AI will generate actual audio, images & video"]}),a.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Uses Imagen 4.0 â€¢ Veo 3.0 â€¢ MusicGen"})]}),a.jsxs("div",{style:{padding:"12px",background:"rgba(168, 85, 247, 0.1)",borderRadius:"8px",borderLeft:"4px solid var(--color-purple)",fontSize:"0.9rem",display:"flex",gap:"12px",alignItems:"center"},children:[a.jsx(m,{size:18,className:"text-purple"}),a.jsxs("div",{children:[a.jsx("strong",{children:"Agent Insight:"}),"Beat Architect"===pi.audio?.agent?" This beat has a strong transient profile. Keep vocals dry to cut through.":"Ghostwriter"===pi.vocal?.agent?" These lyrics are dense. Ensure the beat leaves room for the flow.":" Combine assets from different agents to create a unique sound."]})]}),a.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:pi.audio?"1px solid var(--color-cyan)":"1px solid rgba(255,255,255,0.1)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:pi.audio?"12px":0},children:[a.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:a.jsx(_,{size:24,className:"text-cyan"})}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[a.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 1"}),a.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-cyan)",fontSize:"0.75rem",cursor:"pointer"},value:pi.audioOutputType||"waveform",onChange:e=>Va(t=>({...t,audioOutputType:e.target.value})),children:[a.jsx("option",{value:"waveform",children:"ðŸŽµ Waveform"}),a.jsx("option",{value:"file",children:"ðŸ“ File"}),a.jsx("option",{value:"stems",children:"ðŸŽ›ï¸ Stems"}),a.jsx("option",{value:"midi",children:"ðŸŽ¹ MIDI"})]})]}),a.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:pi.audio?.id||"",onChange:e=>{const t=(Array.isArray(jr?.assets)?jr.assets:[]).find(t=>t?.id?.toString()===e.target.value);Va(e=>({...e,audio:t||null}))},children:[a.jsx("option",{value:"",children:"Select Audio Asset..."}),(jr?.assets||[]).filter(e=>e?.audioUrl||"audio"===e?.type||e?.agent?.includes("Beat")||e?.agent?.includes("Sound")).map(e=>a.jsxs("option",{value:e.id,children:["ðŸŽµ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(jr?.assets||[]).filter(e=>!e?.audioUrl&&"audio"!==e?.type).map(e=>a.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]}),a.jsxs("div",{style:{width:"80px",textAlign:"center"},children:[a.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Vol"}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:pi.audioVolume||.8,onChange:e=>Va(t=>({...t,audioVolume:parseFloat(e.target.value)})),style:{width:"100%"}}),a.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-cyan)"},children:[Math.round(100*(pi.audioVolume||.8)),"%"]})]})]}),pi.audio&&a.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"waveform"!==pi.audioOutputType&&pi.audioOutputType?"file"===pi.audioOutputType?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-cyan)",fontSize:"0.85rem"},children:[a.jsx(E,{size:24}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:600},children:pi.audio.title||"Audio File"}),a.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:[pi.audio.agent," â€¢ WAV/MP3"]})]}),a.jsx("div",{style:{marginLeft:"auto",fontSize:"0.75rem",opacity:.5},children:"~3:24"})]}):"stems"===pi.audioOutputType?a.jsx("div",{style:{display:"flex",gap:"8px"},children:["Drums","Bass","Melody","FX"].map((e,t)=>a.jsxs("div",{style:{flex:1,background:`rgba(6, 182, 212, ${.2+.1*t})`,borderRadius:"6px",padding:"6px",textAlign:"center",fontSize:"0.7rem"},children:[a.jsx("div",{style:{color:"var(--color-cyan)"},children:e}),a.jsx("div",{style:{width:"100%",height:"16px",background:"rgba(0,0,0,0.3)",borderRadius:"4px",marginTop:"4px",overflow:"hidden"},children:a.jsx("div",{style:{width:60+10*t+"%",height:"100%",background:"var(--color-cyan)",borderRadius:"4px"}})})]},e))}):a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--color-cyan)",fontSize:"0.8rem"},children:[a.jsx(D,{size:20}),a.jsx("div",{style:{display:"flex",gap:"2px",flex:1},children:[...Array(16)].map((e,t)=>a.jsx("div",{style:{width:"8px",height:8+t%3*6+"px",background:t%2==0?"var(--color-cyan)":"transparent",border:"1px solid var(--color-cyan)",borderRadius:"2px"}},t))}),a.jsx("div",{style:{fontSize:"0.7rem",opacity:.5},children:"128 BPM â€¢ C Major"})]}):a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",height:"40px"},children:[...Array(48)].map((e,t)=>a.jsx("div",{style:{flex:1,background:"linear-gradient(to top, var(--color-cyan), rgba(6, 182, 212, 0.3))",borderRadius:"2px",height:yi?20+20*Math.sin(.5*t+Date.now()/200)+"px":10+15*Math.sin(.3*t)+"px",transition:"height 0.1s ease",animation:yi?`waveform${t%4} 0.5s ease-in-out infinite`:"none"}},t))})})]}),a.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:pi.vocal?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.1)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:pi.vocal?"12px":0},children:[a.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:a.jsx(W,{size:24,className:"text-purple"})}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[a.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 2"}),a.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-purple)",fontSize:"0.75rem",cursor:"pointer"},value:pi.vocalOutputType||"waveform",onChange:e=>Va(t=>({...t,vocalOutputType:e.target.value})),children:[a.jsx("option",{value:"waveform",children:"ðŸŽµ Waveform"}),a.jsx("option",{value:"file",children:"ðŸ“ File"}),a.jsx("option",{value:"lyrics",children:"ðŸ“ Lyrics"}),a.jsx("option",{value:"adlibs",children:"ðŸŽ¤ Adlibs"})]})]}),a.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:pi.vocal?.id||"",onChange:e=>{const t=(Array.isArray(jr?.assets)?jr.assets:[]).find(t=>t?.id?.toString()===e.target.value);Va(e=>({...e,vocal:t||null}))},children:[a.jsx("option",{value:"",children:"Select Vocal/Lyrics Asset..."}),(jr?.assets||[]).filter(e=>e?.agent?.includes("Ghost")||e?.agent?.includes("Vocal")||"lyrics"===e?.type).map(e=>a.jsxs("option",{value:e.id,children:["ðŸŽ¤ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(jr?.assets||[]).filter(e=>!e?.agent?.includes("Ghost")&&!e?.agent?.includes("Vocal")&&"lyrics"!==e?.type).map(e=>a.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]}),a.jsxs("div",{style:{width:"80px",textAlign:"center"},children:[a.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Vol"}),a.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:pi.vocalVolume||1,onChange:e=>Va(t=>({...t,vocalVolume:parseFloat(e.target.value)})),style:{width:"100%"}}),a.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-purple)"},children:[Math.round(100*(pi.vocalVolume||1)),"%"]})]})]}),pi.vocal&&a.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"waveform"!==pi.vocalOutputType&&pi.vocalOutputType?"file"===pi.vocalOutputType?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-purple)",fontSize:"0.85rem"},children:[a.jsx(E,{size:24}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:600},children:pi.vocal.title||"Vocal File"}),a.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:[pi.vocal.agent," â€¢ WAV"]})]}),a.jsx("div",{style:{marginLeft:"auto",fontSize:"0.75rem",opacity:.5},children:"~2:48"})]}):"lyrics"===pi.vocalOutputType?a.jsxs("div",{style:{color:"rgba(255,255,255,0.9)",fontSize:"0.85rem",lineHeight:1.6,maxHeight:"80px",overflow:"auto"},children:[a.jsx("div",{style:{color:"var(--color-purple)",marginBottom:"4px",fontSize:"0.7rem"},children:"ðŸ“ Lyrics Preview"}),pi.vocal.content?.substring(0,200)||pi.vocal.snippet?.substring(0,200)||"No lyrics content...",(pi.vocal.content?.length>200||pi.vocal.snippet?.length>200)&&"..."]}):a.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["Yeah!","Uh","Let's go","Woo!","Ayy"].map(e=>a.jsx("div",{style:{background:"rgba(168, 85, 247, 0.2)",border:"1px solid var(--color-purple)",borderRadius:"16px",padding:"4px 12px",fontSize:"0.75rem",color:"var(--color-purple)"},children:e},e))}):a.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",height:"40px"},children:[...Array(48)].map((e,t)=>a.jsx("div",{style:{flex:1,background:"linear-gradient(to top, var(--color-purple), rgba(168, 85, 247, 0.3))",borderRadius:"2px",height:yi?15+25*Math.cos(.4*t+Date.now()/180)+"px":8+12*Math.cos(.3*t)+"px",transition:"height 0.1s ease"}},t))})})]}),a.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:pi.visual?"1px solid var(--color-pink)":"1px solid rgba(255,255,255,0.1)"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:pi.visual?"12px":0},children:[a.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:a.jsx(O,{size:24,className:"text-pink"})}),a.jsxs("div",{style:{flex:1},children:[a.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[a.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 3"}),a.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-pink)",fontSize:"0.75rem",cursor:"pointer"},value:pi.visualOutputType||"video",onChange:e=>Va(t=>({...t,visualOutputType:e.target.value})),children:[a.jsx("option",{value:"video",children:"ðŸŽ¬ Video"}),a.jsx("option",{value:"image",children:"ðŸ–¼ï¸ Image"}),a.jsx("option",{value:"animation",children:"âœ¨ Animation"}),a.jsx("option",{value:"thumbnail",children:"ðŸ“· Thumbnail"})]})]}),a.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:pi.visual?.id||"",onChange:e=>{const t=(Array.isArray(jr?.assets)?jr.assets:[]).find(t=>t?.id?.toString()===e.target.value);Va(e=>({...e,visual:t||null}))},children:[a.jsx("option",{value:"",children:"Select Visual Asset..."}),(jr?.assets||[]).filter(e=>e?.imageUrl||e?.videoUrl||"image"===e?.type||"video"===e?.type).map(e=>a.jsxs("option",{value:e.id,children:[e.videoUrl?"ðŸŽ¬":"ðŸ–¼ï¸"," ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(jr?.assets||[]).filter(e=>!e?.imageUrl&&!e?.videoUrl&&"image"!==e?.type&&"video"!==e?.type).map(e=>a.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]})]}),pi.visual&&a.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"video"!==pi.visualOutputType&&pi.visualOutputType?"image"===pi.visualOutputType?pi.visual.imageUrl?a.jsx("img",{src:pi.visual.imageUrl,alt:"Visual",loading:"lazy",style:{width:"100%",maxHeight:"120px",objectFit:"cover",borderRadius:"6px"}}):a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-pink)",fontSize:"0.85rem"},children:[a.jsx($,{size:24}),a.jsx("div",{children:"Image will be generated"})]}):"animation"===pi.visualOutputType?a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--color-pink)"},children:[a.jsx("div",{style:{display:"flex",gap:"4px"},children:[...Array(6)].map((e,t)=>a.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, var(--color-pink), var(--color-purple))",borderRadius:"4px",opacity:.3+.14*t,transform:`rotate(${15*t}deg)`}},t))}),a.jsxs("div",{style:{fontSize:"0.8rem",marginLeft:"12px"},children:[a.jsx("div",{style:{fontWeight:600},children:"Animation Sequence"}),a.jsx("div",{style:{fontSize:"0.7rem",opacity:.7},children:"6 keyframes â€¢ 30fps"})]})]}):a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx("div",{style:{width:"80px",height:"45px",background:"linear-gradient(135deg, var(--color-pink), var(--color-purple))",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(L,{size:20,color:"white"})}),a.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-pink)"},children:[a.jsx("div",{style:{fontWeight:600},children:"Cover Thumbnail"}),a.jsx("div",{style:{fontSize:"0.7rem",opacity:.7},children:"1280x720 â€¢ YouTube Ready"})]})]}):pi.visual.videoUrl?a.jsx("video",{src:pi.visual.videoUrl,style:{width:"100%",maxHeight:"120px",objectFit:"cover",borderRadius:"6px"},muted:!0}):a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-pink)",fontSize:"0.85rem"},children:[a.jsx(O,{size:24}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:600},children:pi.visual.title||"Video Asset"}),a.jsx("div",{style:{fontSize:"0.75rem",opacity:.7},children:"Video will be generated on render"})]})]})})]})]})]}),a.jsxs("div",{style:{padding:"20px",background:"rgba(0,0,0,0.5)",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[a.jsxs("div",{style:{display:"flex",gap:"8px",marginRight:"16px"},children:[a.jsx("button",{onClick:()=>{if(mi>0){const e=mi-1;hi(e),ui(gi[e])}},disabled:mi<=0,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:mi>0?"pointer":"not-allowed",opacity:mi>0?1:.3},title:"Undo",children:a.jsx(M,{size:20,color:"white"})}),a.jsx("button",{onClick:()=>{if(mi<gi.length-1){const e=mi+1;hi(e),ui(gi[e])}},disabled:mi>=gi.length-1,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:mi<gi.length-1?"pointer":"not-allowed",opacity:mi<gi.length-1?1:.3},title:"Redo",children:a.jsx(F,{size:20,color:"white"})})]}),a.jsx("button",{className:"btn-circle","aria-label":yi?"Pause Session":"Play Session",style:{width:"56px",height:"56px",borderRadius:"50%",background:"var(--color-purple)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>bi(!yi),children:yi?a.jsx(H,{size:24,fill:"white"}):a.jsx(V,{size:24,fill:"white"})})]}),a.jsxs("div",{style:{display:"flex",gap:"12px"},children:[a.jsxs("button",{className:"btn-pill secondary",onClick:()=>{const e={...jr,sessionState:pi,lastModified:Date.now()};wr(e),kr(t=>Array.isArray(t)?t.map(t=>t.id===e.id?e:t):[e]),$t&&Pt&&Ma(Pt.uid,e),vn("Project session saved."),s.success("Session saved!")},children:[a.jsx(G,{size:18})," Save Project"]}),a.jsxs("button",{className:"btn-pill primary",disabled:(pi.renderCount||0)>=3||Li,style:{opacity:(pi.renderCount||0)>=3||Li?.5:1},onClick:async()=>{if(Li)return;if((pi.renderCount||0)>=3)return void s.error("Maximum 3 renders reached. Pro users can reset.");Mi(!0);const e=[pi.audio,pi.vocal,pi.visual].filter(Boolean);if(0===e.length)return void s.error("Select at least one asset to render");const t=(pi.renderCount||0)+1;vn(`Render pass ${t} of 3. Orchestrating your agents.`),s.loading(`AMO Render ${t}/3...`,{id:"amo-render"});try{const i={"Content-Type":"application/json"};if(l?.currentUser){const e=await l.currentUser.getIdToken();i.Authorization=`Bearer ${e}`}const a=await fetch(`${g}/api/orchestrate`,{method:"POST",headers:i,body:JSON.stringify({agentOutputs:e.map(e=>({id:e.id,agent:e.agent||e.type,type:e.type,content:e.snippet||e.content||e.text,audioUrl:e.audioUrl,imageUrl:e.imageUrl,videoUrl:e.videoUrl})),projectName:jr.name,projectDescription:jr.description,syncSettings:{bpm:pi.bpm||120,timeSignature:pi.timeSignature||"4/4",key:pi.key||"C Major",frameRate:pi.frameRate||30,sampleRate:pi.sampleRate||48e3,bitDepth:pi.bitDepth||24,aspectRatio:pi.aspectRatio||"16:9"},renderPass:t,generateRealAssets:pi.generateRealAssets||!1})}),o=await a.json();if(!a.ok)throw new Error(o.error||"Orchestration failed");let n=pi.audio?.audioUrl,d=pi.visual?.imageUrl,c=pi.visual?.videoUrl;if(pi.generateRealAssets){if(s.loading("Generating real assets...",{id:"amo-assets"}),pi.visual&&!pi.visual.imageUrl)try{const e=pi.visual.snippet||pi.visual.content||`Album artwork for ${jr.name}`,t=await fetch(`${g}/api/generate-image`,{method:"POST",headers:i,body:JSON.stringify({prompt:e.substring(0,500),aspectRatio:pi.aspectRatio||"16:9"})}),r=await t.json();r.imageUrl&&(d=r.imageUrl)}catch(r){}if(pi.audio&&!pi.audio.audioUrl)try{const e=pi.audio.snippet||pi.audio.content||`${pi.bpm||120} BPM beat`,t=await fetch(`${g}/api/generate-audio`,{method:"POST",headers:i,body:JSON.stringify({prompt:e.substring(0,200)})}),r=await t.json();r.audioUrl&&(n=r.audioUrl)}catch(r){}s.dismiss("amo-assets")}Va(e=>({...e,renderCount:t,lastRenderTime:(new Date).toISOString(),renderHistory:[...e.renderHistory||[],{pass:t,timestamp:Date.now()}]}));const p=o.masterAsset||{id:`master-${Date.now()}`,title:`Studio Master ${t}/3 - ${jr.name}`,type:"Master",agent:"AMO Orchestrator",date:"Just now",color:"agent-purple",snippet:o.output?.slice(0,200)||"Orchestrated Master Composition.",content:o.output,audioUrl:n,stems:{audio:n,vocal:pi.vocal?.audioUrl},imageUrl:d,videoUrl:c,metadata:{audioVolume:pi.audioVolume,vocalVolume:pi.vocalVolume,agentsProcessed:e.length,renderedAt:(new Date).toISOString(),renderPass:t,bpm:pi.bpm||120,frameRate:pi.frameRate||30,aspectRatio:pi.aspectRatio||"16:9",realAssets:pi.generateRealAssets||!1}},u={...jr,assets:[p,...jr.assets]};if(wr(u),kr(e=>Array.isArray(e)?e.map(e=>e.id===u.id?u:e):[u]),$t){const e=localStorage.getItem("studio_user_id");e&&fetch(`${g}/api/projects`,{method:"POST",headers:i,body:JSON.stringify({userId:e,project:u})}).catch(e=>{})}s.dismiss("amo-render"),ci(!1),bi(!1),vn("Master render complete. Your orchestrated production is ready."),s.success("Master rendered and saved to your Hub!")}catch(i){s.dismiss("amo-render"),s.error(i.message||"Orchestration failed. Check your internet connection and try again."),vn("Orchestration failed. Please try again.")}finally{Mi(!1)}},children:[a.jsx(q,{size:18})," Render Master"]})]})]})]}),qi&&a.jsx("div",{className:"modal-overlay",onClick:()=>Yi(!1),children:a.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:[a.jsx("button",{className:"modal-close",onClick:()=>Yi(!1),children:a.jsx(T,{size:20})}),a.jsxs("div",{className:"modal-header",children:[a.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem"},children:a.jsx(C,{size:24,color:"white"})}),a.jsx("h2",{children:"Save to Cloud"}),a.jsx("p",{children:"Sync your projects to the Studio Agents cloud or connect external storage."})]}),a.jsxs("div",{className:"modal-body",children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("button",{className:"storage-btn",style:{width:"100%",padding:"16px 20px",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",border:"none",justifyContent:"center",gap:"12px",fontSize:"1rem",fontWeight:"600"},onClick:async()=>{if(!Pt?.uid)return s.error("Please sign in to save to cloud"),void Yi(!1);const e=s.loading("Syncing projects to cloud...");try{let r=0;const i=Sr.filter(e=>e&&e.id);for(const e of i)try{await Ma(Pt?.uid,e)&&r++}catch(t){}r>0?(s.success(`âœ… Synced ${r} project${r>1?"s":""} to cloud!`,{id:e}),La(new Date)):s.error("No projects to sync",{id:e})}catch(t){s.error("Cloud sync failed - check your connection",{id:e})}Yi(!1)},children:[a.jsx(Y,{size:20}),a.jsx("span",{children:"Save to Studio Agents Cloud"})]}),a.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"8px"},children:Pt?`Signed in as ${Pt.email||Pt.displayName}`:"Sign in to enable cloud sync"})]}),a.jsx("div",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.8rem",margin:"16px 0"},children:"â€” or connect external storage â€”"}),a.jsxs("div",{className:"external-storage-grid",children:[a.jsxs("button",{className:"storage-btn",onClick:()=>{ga(e=>({...e,googleDrive:!0})),Yi(!1)},children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/12/Google_Drive_icon_%282020%29.svg",alt:"Google Drive",width:"24",loading:"lazy"}),a.jsx("span",{children:"Google Drive"})]}),a.jsxs("button",{className:"storage-btn",onClick:()=>{s("OneDrive coming soon!",{icon:"ðŸš§"}),Yi(!1)},children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/3/3c/Microsoft_Office_OneDrive_%282019%E2%80%93present%29.svg",alt:"OneDrive",width:"24",loading:"lazy"}),a.jsx("span",{children:"OneDrive"})]}),a.jsxs("button",{className:"storage-btn",onClick:()=>{s("Dropbox coming soon!",{icon:"ðŸš§"}),Yi(!1)},children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Dropbox_Icon.svg",alt:"Dropbox",width:"24",loading:"lazy"}),a.jsx("span",{children:"Dropbox"})]}),a.jsxs("button",{className:"storage-btn",onClick:()=>{s("iCloud coming soon!",{icon:"ðŸš§"}),Yi(!1)},children:[a.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/1c/ICloud_logo.svg",alt:"iCloud",width:"24",loading:"lazy"}),a.jsx("span",{children:"iCloud"})]})]})]}),a.jsx("div",{className:"modal-footer",children:a.jsx("p",{children:"Your files will be synced automatically after generation."})})]})}),Ao&&a.jsx("div",{className:"modal-overlay",onClick:()=>{To(null),Uo("")},children:a.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),style:{maxWidth:"440px"},children:[a.jsx("button",{className:"modal-close",onClick:()=>{To(null),Uo("")},children:a.jsx(T,{size:20})}),a.jsxs("div",{className:"modal-header",children:[a.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:a.jsx(J,{size:28,color:"white"})}),a.jsx("h2",{style:{textAlign:"center",marginBottom:"8px"},children:"Save to Hub"}),a.jsxs("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Add ",a.jsxs("strong",{children:['"',Ao.title||Ao.snippet?.substring(0,30)+"...",'"']})," to a project"]})]}),a.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsxs("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"8px",display:"block"},children:[a.jsx(J,{size:14,style:{verticalAlign:"middle",marginRight:"6px"}}),"Create new project"]}),a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsx("input",{type:"text",value:Ro,onChange:e=>Uo(e.target.value),placeholder:"Project name...",style:{flex:1,padding:"12px 14px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white",fontSize:"0.95rem"}}),a.jsx("button",{onClick:()=>{Ro.trim()&&(qo(Ro,Ao),To(null),Uo(""),s.success("Project created with asset!"))},disabled:!Ro.trim(),className:"cta-button-premium",style:{padding:"12px 20px",opacity:Ro.trim()?1:.5},children:"Create"})]})]}),Sr.length>0&&a.jsxs("div",{children:[a.jsx("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"10px",display:"block"},children:"Or add to existing project"}),a.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},children:Sr.slice(0,10).map(e=>a.jsxs("button",{onClick:()=>{Go(e.id,Ao),To(null),s.success(`Added to "${e.name}"!`)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},onMouseOver:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseOut:e=>e.currentTarget.style.borderColor="var(--border-color)",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx(f,{size:18,style:{color:"var(--color-purple)"}}),a.jsx("span",{style:{fontWeight:"500"},children:e.name})]}),a.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[e.assets?.length||0," assets"]})]},e.id))})]}),0===Sr.length&&a.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem",marginTop:"8px"},children:"Create your first project above to organize your work!"})]}),a.jsx("div",{className:"modal-footer",style:{padding:"16px 20px",borderTop:"1px solid var(--border-color)"},children:a.jsx("button",{onClick:()=>{To(null),Uo("")},className:"cta-button-secondary",style:{width:"100%"},children:"Skip for Now"})})]})}),Ri&&"object"==typeof Ri&&a.jsx(ft,{name:"Preview Modal",children:a.jsx("div",{className:"modal-overlay",onClick:()=>{Di(null),No.current=!1,vs(!1),ws(""),Ui(null)},children:a.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>{e.stopPropagation()},style:{maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[a.jsxs("div",{className:"modal-header",style:{flexShrink:0,paddingBottom:"0.5rem",position:"relative"},children:[a.jsx("button",{className:"modal-close",onClick:e=>{e.stopPropagation(),Di(null),No.current=!1,vs(!1),ws(""),Ui(null)},style:{position:"absolute",top:"-0.5rem",right:"-0.5rem",zIndex:9999,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:a.jsx(T,{size:20})}),a.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem",background:Ri.isExistingAsset?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"linear-gradient(135deg, #10b981, #059669)"},children:a.jsx(Q,{size:24,color:"white"})}),a.jsx("h2",{children:Ri.isExistingAsset?"View Asset":"Preview Your Creation"}),a.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:Ri.isExistingAsset?"Your saved project asset.":"Review your AI-generated content before saving to your Hub."})]}),a.jsx("div",{className:"modal-body",style:{flex:1,overflow:"auto",padding:"1rem"},children:fs&&!Ri.isExistingAsset?a.jsxs("div",{style:{padding:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[a.jsx("button",{onClick:()=>vs(!1),style:{padding:"8px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",cursor:"pointer",color:"var(--text-secondary)"},children:a.jsx(K,{size:18})}),a.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Save to..."})]}),a.jsxs("button",{onClick:()=>In("hub",null),disabled:Wi,style:{width:"100%",padding:"16px",borderRadius:"12px",border:"2px solid var(--border-color)",background:"rgba(16, 185, 129, 0.1)",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",marginBottom:"1rem",textAlign:"left",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.borderColor="var(--color-green)",onMouseOut:e=>e.currentTarget.style.borderColor="var(--border-color)",children:[a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(C,{size:20,color:"white"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:"Save to Hub Only"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Quick save without adding to a project"})]})]}),a.jsxs("div",{style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border-color)",marginBottom:"1rem"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[a.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(X,{size:20,color:"white"})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:"Create New Project"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Start a new project with this asset"})]})]}),a.jsxs("div",{style:{display:"flex",gap:"8px"},children:[a.jsx("input",{type:"text",value:js,onChange:e=>ws(e.target.value),placeholder:"Enter project name...",style:{flex:1,padding:"10px 12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.9rem"},onKeyPress:e=>{"Enter"===e.key&&js.trim()&&(In("hub",`new:${js.trim()}`),ws(""))}}),a.jsx("button",{onClick:()=>{js.trim()&&(In("hub",`new:${js.trim()}`),ws(""))},disabled:!js.trim()||Wi,className:"cta-button-premium",style:{padding:"10px 16px",opacity:!js.trim()||Wi?.5:1},children:"Create"})]})]}),Array.isArray(Sr)&&Sr.filter(e=>e&&e.name&&e.id).length>0&&a.jsxs("div",{children:[a.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"12px",fontWeight:"600"},children:"Or add to existing project:"}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"200px",overflowY:"auto"},children:Sr.filter(e=>e&&e.name&&e.id).slice(0,10).map(e=>a.jsxs("button",{onClick:()=>In("hub",e),disabled:Wi,style:{width:"100%",padding:"12px 16px",borderRadius:"10px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.background="rgba(139, 92, 246, 0.15)",onMouseOut:e=>e.currentTarget.style.background="var(--bg-secondary)",children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx(f,{size:18,style:{color:"var(--color-purple)"}}),a.jsx("span",{style:{fontWeight:"500",color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"180px",display:"inline-block"},children:e.name})]}),a.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[e.assets?.length||0," assets"]})]},e.id))})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[a.jsx("span",{style:{background:"image"===Ri.type?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"audio"===Ri.type||"vocal"===Ri.type?"linear-gradient(135deg, #f59e0b, #d97706)":"video"===Ri.type?"linear-gradient(135deg, #ef4444, #dc2626)":"linear-gradient(135deg, #3b82f6, #2563eb)",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"600",color:"white",textTransform:"uppercase"},children:Ri.type||"Text"}),a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(139, 92, 246, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-purple)"},children:[a.jsx(m,{size:12}),Ri.agent||"AI Generated"]}),(Ri.model||Po)&&a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(6, 182, 212, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-cyan)"},children:[a.jsx(Z,{size:12}),Ri.model||Po]}),a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[a.jsx(ee,{size:12}),Ri.createdAt?new Date(Ri.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Just now"]}),Ri.snippet&&"string"==typeof Ri.snippet&&a.jsxs(a.Fragment,{children:[a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(16, 185, 129, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-emerald)"},children:[a.jsx(te,{size:12}),(Ri.snippet||"").split(/\s+/).filter(e=>e).length," words"]}),a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(249, 115, 22, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-orange)"},children:[(Ri.snippet||"").length," chars"]}),a.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(236, 72, 153, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-pink)"},children:[(Ri.snippet||"").split("\n").filter(e=>e.trim()).length," lines"]})]})]}),Ri.title&&a.jsxs("div",{style:{marginBottom:"1rem",padding:"0.5rem 0.75rem",background:"rgba(255,255,255,0.03)",borderRadius:"8px",borderLeft:"3px solid var(--color-purple)"},children:[a.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Title"}),a.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:Ri.title})]}),a.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border-color)",maxHeight:"65vh",overflow:"auto",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",minHeight:"260px"},children:[Ss&&!Ei&&!fs&&a.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",zIndex:10,borderRadius:"12px"},children:[a.jsx(k,{size:32,className:"animate-spin",color:"var(--color-purple)"}),a.jsx("span",{style:{marginTop:"12px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Loading media..."})]}),"image"===Ri.type&&Ri.imageUrl?a.jsxs("div",{style:{position:"relative",width:"100%",display:"flex",justifyContent:"center"},children:[a.jsx("img",{src:ot(Ri.imageUrl),alt:"Generated",onLoad:()=>ks(!1),onClick:e=>{"90vh"===e.target.style.maxHeight?(e.target.style.maxHeight="60vh",e.target.style.cursor="zoom-in"):(e.target.style.maxHeight="90vh",e.target.style.cursor="zoom-out")},style:{maxWidth:"100%",maxHeight:"60vh",width:"auto",height:"auto",borderRadius:"8px",objectFit:"contain",cursor:"zoom-in",transition:"max-height 0.3s ease",opacity:Ss?0:1},title:"Click to expand",onError:e=>{e.target.style.display="none",ks(!1),Di({type:"image",url:Ri.imageUrl})}}),!Ss&&a.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0,0,0,0.6)",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",pointerEvents:"none"},children:"Click to zoom"})]}):"audio"!==Ri.type&&"vocal"!==Ri.type||!Ri.audioUrl?"video"===Ri.type&&Ri.videoUrl?a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Ri.audioUrl?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-cyan)",marginBottom:"4px",fontWeight:"bold"},children:["ðŸŽµ Music Video Mode (Synced to: ",Ri.audioTitle||"Audio",")"]}),a.jsx("video",{controls:!0,muted:!!Ri.audioUrl,src:lt(Ri.videoUrl),style:{width:"100%",borderRadius:"8px",background:"#000",opacity:Ss?0:1},onLoadedData:()=>ks(!1),onCanPlay:()=>ks(!1),onPlay:e=>{zs(!0);const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.currentTime=e.target.currentTime,t.volume=e.target.volume,t.play().catch(e=>{}))},onPause:e=>{zs(!1);const t=e.target.parentElement.querySelector(".sync-audio");t&&t.pause()},onEnded:()=>zs(!1),onVolumeChange:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.volume=e.target.volume)},onTimeUpdate:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&Math.abs(t.currentTime-e.target.currentTime)>.3&&(t.currentTime=e.target.currentTime)},onSeeking:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.currentTime=e.target.currentTime)},onError:e=>{Di({type:"video",url:Ri.videoUrl}),ks(!1)}}),a.jsx("audio",{className:"sync-audio",src:nt(Ri.audioUrl),style:{display:"none"}})]}):a.jsx("video",{controls:!0,src:lt(Ri.videoUrl),style:{width:"100%",borderRadius:"8px",background:"#000",opacity:Ss?0:1},onLoadedData:()=>ks(!1),onCanPlay:()=>ks(!1),onPlay:()=>zs(!0),onPause:()=>zs(!1),onEnded:()=>zs(!1),onError:e=>{Di({type:"video",url:Ri.videoUrl}),ks(!1)}}),Ri.videoUrl?.startsWith("http")&&a.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"ðŸ”— External video URL (may expire)"})]}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Ri.audioUrl&&a.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1))",borderRadius:"12px",padding:"24px",border:"1px solid rgba(139, 92, 246, 0.2)",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",boxShadow:Cs?"0 0 20px rgba(139, 92, 246, 0.2)":"none",transition:"all 0.3s ease"},children:[a.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:Cs?"linear-gradient(135deg, #8b5cf6, #ec4899)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",animation:Cs?"pulse 2s infinite":"none"},children:a.jsx(W,{size:32,color:Cs?"white":"var(--text-secondary)"})}),a.jsx("div",{style:{fontSize:"0.85rem",color:Cs?"var(--color-pink)":"var(--text-secondary)",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:Cs?"Playing AI Vocal...":"AI Vocal Ready"}),a.jsx("audio",{controls:!0,src:Ri.audioUrl,style:{width:"100%",height:"40px"},onPlay:()=>zs(!0),onPause:()=>zs(!1),onEnded:()=>zs(!1)})]}),Pi&&a.jsxs("div",{style:{display:"flex",gap:"4px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"4px"},children:[a.jsxs("button",{onClick:()=>_i("lyrics"),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",background:"lyrics"===$i?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"transparent",color:"lyrics"===$i?"white":"var(--text-secondary)",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[a.jsx(te,{size:14})," Lyrics"]}),a.jsxs("button",{onClick:()=>_i("prompt"),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",background:"prompt"===$i?"linear-gradient(135deg, #3b82f6, #2563eb)":"transparent",color:"prompt"===$i?"white":"var(--text-secondary)",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[a.jsx(re,{size:14})," Prompt"]})]}),a.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.8",color:"var(--text-primary)",background:"lyrics"===$i?"rgba(139, 92, 246, 0.1)":"rgba(59, 130, 246, 0.1)",border:"lyrics"===$i?"1px solid rgba(139, 92, 246, 0.2)":"1px solid rgba(59, 130, 246, 0.2)",padding:"1.25rem",borderRadius:"12px",maxHeight:"50vh",minHeight:"200px",overflow:"auto",transition:"all 0.2s",fontSize:"1rem",fontFamily:"inherit"},children:"lyrics"===$i?Ri.snippet||Ri.title||"No content generated":Pi||"No prompt recorded"})]}):a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:"audio"===Ei?.type?a.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[a.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"ðŸŽµ"}),a.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"0.5rem"},children:"Audio Unavailable"}),a.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"This audio file has expired or is no longer available. Replicate URLs are temporary."}),a.jsx("button",{onClick:()=>{Di(null),Ui(null)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.3)",background:"transparent",color:"var(--text-primary)",cursor:"pointer"},children:"Close"})]}):a.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[a.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:Cs?"linear-gradient(135deg, #f59e0b, #d97706)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",animation:Cs?"pulse 2s infinite":"none",boxShadow:Cs?"0 0 30px rgba(245, 158, 11, 0.3)":"none",transition:"all 0.3s ease"},children:a.jsx(U,{size:40,color:Cs?"white":"var(--text-secondary)"})}),a.jsx("audio",{controls:!0,crossOrigin:"anonymous",src:nt(Ri.audioUrl),style:{width:"100%",opacity:Ss?0:1},onLoadedData:()=>ks(!1),onCanPlay:()=>ks(!1),onPlay:()=>zs(!0),onPause:()=>zs(!1),onEnded:()=>zs(!1),onError:e=>{if(Ri.audioUrl?.startsWith("http")&&!e.target.dataset.retried)return e.target.dataset.retried="true",e.target.removeAttribute("crossorigin"),void(e.target.src=Ri.audioUrl);Di({type:"audio",url:Ri.audioUrl}),ks(!1)}}),Ri.audioUrl?.startsWith("http")&&a.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textAlign:"center"},children:"ðŸ”— External audio URL (may expire)"})]})})]})]})}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",padding:"1rem 1.5rem",borderTop:"1px solid var(--border-color)",flexShrink:0,flexWrap:"wrap"},children:[!Ri.audioUrl&&!Ri.imageUrl&&!Ri.videoUrl&&(Ri.snippet||Ri.content)&&a.jsxs("button",{disabled:Cr,onClick:()=>{const e="lyrics"===$i?Ri.snippet||Ri.content||"":Pi||"";["rapper","rapper-female","singer","singer-female","cloned","narrator","spoken"].includes(ps.style)?jn(e,fr?.name||"AI"):window.speechSynthesis.speaking?window.speechSynthesis.cancel():vn(e)},title:["rapper","rapper-female","singer","singer-female","cloned","narrator","spoken"].includes(ps.style)?`Read aloud using AI ${ps.style} voice (takes 30-60 seconds)`:"Read text aloud using browser TTS",style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(34, 211, 238, 0.3)",background:Cr?"rgba(34, 211, 238, 0.3)":"rgba(34, 211, 238, 0.1)",color:"var(--color-cyan)",cursor:Cr?"not-allowed":"pointer",opacity:Cr?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[a.jsx(ie,{size:16,className:Cr?"animate-pulse":""}),Cr?"Creating AI Voice...":"Read Aloud"]}),!Ri.audioUrl&&!Ri.imageUrl&&!Ri.videoUrl&&(Ri.snippet||Ri.content)&&a.jsxs("button",{onClick:()=>{const e=Ri.snippet||Ri.content||"";jn(e,fr?.name||"Ghostwriter")},disabled:Cr,title:"Create AI vocal using rapper voices (Uberduck/Replicate)",style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(236, 72, 153, 0.3)",background:Cr?"rgba(236, 72, 153, 0.3)":"rgba(236, 72, 153, 0.1)",color:"var(--color-pink)",cursor:Cr?"not-allowed":"pointer",opacity:Cr?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[a.jsx(W,{size:16,className:Cr?"animate-pulse":""}),Cr?"Creating...":"Create Vocal"]}),Ri.isExistingAsset?a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>{const e=Ri.snippet||Ri.content||"";e?(navigator.clipboard.writeText(e),s.success("Copied to clipboard!")):(Ri.imageUrl||Ri.audioUrl||Ri.videoUrl)&&(navigator.clipboard.writeText(Ri.imageUrl||Ri.audioUrl||Ri.videoUrl),s.success("URL copied to clipboard!"))},style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[a.jsx(se,{size:16})," Copy"]}),a.jsxs("button",{onClick:()=>Ui(null),style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[a.jsx(T,{size:16})," Close"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>{Ui(null),Bi(""),vs(!1),ws("")},disabled:Wi,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-secondary)",cursor:Wi?"not-allowed":"pointer",opacity:Wi?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[a.jsx(ae,{size:16})," Discard"]}),a.jsxs("button",{onClick:()=>{if(!Pi)return void s.error("No prompt to regenerate");Ui(null);const e=Ra.current||document.querySelector(".studio-textarea");e&&(e.value=Pi),Nn()},disabled:Li||Wi,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-primary)",cursor:Li||Wi?"not-allowed":"pointer",opacity:Li||Wi?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[a.jsx(oe,{size:16,className:Li?"animate-spin":""}),Li?"Generating...":"Regenerate"]}),a.jsx("button",{onClick:()=>In("project_canvas"),disabled:Wi,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:Wi?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.1)",color:"var(--color-purple)",cursor:Wi?"not-allowed":"pointer",opacity:Wi?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:Wi?a.jsxs(a.Fragment,{children:[a.jsx(oe,{size:16,className:"animate-spin"})," Syncing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(re,{size:16})," Edit"]})}),a.jsx("button",{onClick:()=>vs(!0),disabled:Wi,className:"cta-button-premium",style:{flex:1.5,padding:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:Wi?.8:1,cursor:Wi?"wait":"pointer"},children:Wi?a.jsxs(a.Fragment,{children:[a.jsx(oe,{size:16,className:"animate-spin"}),a.jsx("span",{children:"Syncing to Cloud..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(G,{size:16})," Save to Hub"]})})]})]})]})})}),a.jsx(i.Suspense,{fallback:a.jsx(vt,{}),children:a.jsx(ut,{isOpen:ni,onClose:()=>li(!1),authToken:Ft,userPlan:dr,existingProject:jr,onSaveToProject:e=>{Date.now();const t=Sr.findIndex(t=>t.id===e.id);if(t>=0){const r=Sr[t],i=new Set((r.assets||[]).map(e=>e.id)),s=(e.assets||[]).filter(e=>!i.has(e.id)),a={...r,...e,assets:[...r.assets||[],...s],updatedAt:(new Date).toISOString()},o=[...Sr];o[t]=a,kr(o),wr(a),$t&&Pt&&Ma(Pt?.uid,a)}else{const t={...e,createdAt:e.createdAt||(new Date).toISOString(),updatedAt:(new Date).toISOString()};kr(e=>[t,...e]),wr(t),$t&&Pt&&Ma(Pt?.uid,t)}},onCreateProject:e=>{Date.now();const t=Sr.findIndex(t=>t.id===e.id);let r;if(t>=0){const i=Sr[t],s=new Set((i.assets||[]).map(e=>e.id)),a=(e.assets||[]).filter(e=>!s.has(e.id));r={...i,...e,assets:[...i.assets||[],...a],updatedAt:(new Date).toISOString()};const o=[...Sr];o[t]=r,kr(o)}else r={...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},kr(e=>[r,...e]);wr(r),$t&&Pt&&Ma(Pt?.uid,r).then(e=>{}).catch(e=>{}),io(!0),s.success(`Project "${r.name}" saved with ${r.assets?.length||0} assets!`)},onUpdateCreations:(e,t)=>{bo(r=>({...r,[e]:t}))}})}),Kt&&a.jsx("div",{className:"modal-overlay",onClick:()=>{Xt(!1),Qi(null),er("login"),rr(""),sr("")},children:a.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{maxWidth:"400px"},children:[a.jsx("button",{className:"modal-close",onClick:()=>{Xt(!1),Qi(null),er("login")},children:a.jsx(T,{size:20})}),a.jsxs("div",{className:"modal-header",children:[a.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem"},children:a.jsx(m,{size:24,color:"white"})}),a.jsx("h2",{children:"reset"===Zt?"Reset Password":"signup"===Zt?"Create Account":Ji?"Complete Your Subscription":"Welcome Back"}),a.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"reset"===Zt?"Enter your email to receive a reset link.":Ji?`Sign in to activate ${Ji.name} (${Ji.price}${Ji.period||""}).`:"signup"===Zt?"Create an account to save your work.":"Sign in to access your studio."})]}),a.jsxs("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:["reset"!==Zt&&a.jsxs("button",{className:"cta-button-premium",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:Xo,disabled:ar,children:[a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),ar?"Signing in...":"Continue with Google"]}),"reset"!==Zt&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",margin:"0.5rem 0"},children:[a.jsx("div",{style:{flex:1,height:"1px",background:"var(--border-color)"}}),a.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"or"}),a.jsx("div",{style:{flex:1,height:"1px",background:"var(--border-color)"}})]}),a.jsxs("form",{onSubmit:Zo,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[a.jsx("input",{type:"email",placeholder:"Email address",value:tr,onChange:e=>rr(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text-primary)",fontSize:"0.875rem"},required:!0}),"reset"!==Zt&&a.jsx("input",{type:"password",placeholder:"Password",value:ir,onChange:e=>sr(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text-primary)",fontSize:"0.875rem"},required:!0,minLength:6}),"reset"===Zt?a.jsx("button",{type:"button",className:"cta-button-secondary",style:{width:"100%"},onClick:en,disabled:ar,children:ar?"Sending...":"Send Reset Link"}):a.jsxs("button",{type:"submit",className:"cta-button-secondary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},disabled:ar,children:[a.jsx(h,{size:16}),ar?"Please wait...":"signup"===Zt?"Create Account":"Sign In with Email"]})]}),a.jsxs("div",{style:{textAlign:"center",marginTop:"0.5rem"},children:["login"===Zt&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>er("reset"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontSize:"0.8rem"},children:"Forgot password?"}),a.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginTop:"0.5rem"},children:["Don't have an account?"," ",a.jsx("button",{onClick:()=>er("signup"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"Sign up"})]})]}),"signup"===Zt&&a.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:["Already have an account?"," ",a.jsx("button",{onClick:()=>er("login"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"Sign in"})]}),"reset"===Zt&&a.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:a.jsx("button",{onClick:()=>er("login"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"â† Back to sign in"})})]})]}),a.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",marginTop:"1rem"},children:a.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",textAlign:"center",lineHeight:"1.4"},children:["By continuing, you agree to our"," ",a.jsx("button",{onClick:()=>{Xt(!1),window.location.hash="#/legal"},style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",padding:0,fontSize:"0.75rem",textDecoration:"underline"},children:"Terms of Service"})," ","and"," ",a.jsx("button",{onClick:()=>{Xt(!1),window.location.hash="#/legal"},style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",padding:0,fontSize:"0.75rem",textDecoration:"underline"},children:"Privacy Policy"}),"."]})})]})}),an&&a.jsx("div",{className:"modal-overlay",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>{on(!1),cn(null)},children:a.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 700px)",width:"100%",margin:"1rem auto",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",flexShrink:0},children:[a.jsxs("div",{className:"modal-title-group",children:[a.jsx("div",{className:"agent-mini-icon",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",color:"white"},children:a.jsx(ne,{size:20})}),a.jsx("h2",{style:{margin:0},children:dn?"Edit Payment Method":"Payment Methods"})]}),a.jsx("button",{className:"modal-close",onClick:()=>{on(!1),cn(null)},children:a.jsx(T,{size:20})})]}),a.jsxs("div",{className:"modal-body",style:{padding:"1.5rem",overflow:"visible",flex:1},children:[!dn&&xa.length>0&&a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Saved Cards"}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:xa.map((e,t)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",transition:"all 0.2s ease"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[a.jsx("div",{style:{width:"48px",height:"32px",background:"visa"===e.brand?"linear-gradient(135deg, #1a1f71, #00579f)":"mastercard"===e.brand?"linear-gradient(135deg, #eb001b, #f79e1b)":"linear-gradient(135deg, #333, #555)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.6rem",fontWeight:"bold",textTransform:"uppercase"},children:e.brand||"Card"}),a.jsxs("div",{children:[a.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:["â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ ",e.last4]}),a.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Expires ",e.expiry]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsxs("button",{onClick:()=>{cn({item:e,type:"card"}),un("card")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(re,{size:14})," Edit"]}),a.jsx("button",{onClick:()=>{ma(t=>t.filter(t=>t.id!==e.id)),s.success("Card removed")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:a.jsx(ae,{size:14})})]})]},e.id||t))})]}),!dn&&ha.length>0&&a.jsxs("div",{style:{marginBottom:"1.5rem"},children:[a.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Bank Accounts"}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:ha.map((e,t)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",transition:"all 0.2s ease"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[a.jsx("div",{style:{width:"48px",height:"32px",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:a.jsx(le,{size:16})}),a.jsxs("div",{children:[a.jsx("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:e.bankName}),a.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[e.type," â€¢â€¢â€¢â€¢ ",e.last4]})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[a.jsxs("button",{onClick:()=>{cn({item:e,type:"bank"}),un("bank")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(re,{size:14})," Edit"]}),a.jsx("button",{onClick:()=>{ya(t=>t.filter(t=>t.id!==e.id)),s.success("Bank account removed")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:a.jsx(ae,{size:14})})]})]},e.id||t))})]}),a.jsxs("div",{children:[!dn&&a.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Add New Payment Method"}),a.jsxs("div",{className:"modal-tabs",style:{marginBottom:"1rem"},children:[a.jsxs("button",{className:"modal-tab "+("card"===pn?"active":""),onClick:()=>un("card"),disabled:!!dn,style:{flex:1},children:[a.jsx(ne,{size:16,style:{marginRight:"6px"}})," Card"]}),a.jsxs("button",{className:"modal-tab "+("bank"===pn?"active":""),onClick:()=>un("bank"),disabled:!!dn,style:{flex:1},children:[a.jsx(le,{size:16,style:{marginRight:"6px"}})," Bank"]})]}),"card"===pn?a.jsxs("form",{className:"payment-form",onSubmit:Sn,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Cardholder Name"}),a.jsx("input",{type:"text",name:"cardName",placeholder:"Name on card",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Card Number"}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx(ne,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),a.jsx("input",{type:"text",name:"cardNumber",placeholder:"0000 0000 0000 0000",defaultValue:dn?`**** **** **** ${dn.item.last4}`:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.75rem"},children:[a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Expiry"}),a.jsx("input",{type:"text",name:"expiry",placeholder:"MM/YY",defaultValue:dn?dn.item.expiry:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"CVC"}),a.jsx("input",{type:"text",name:"cvc",placeholder:"123",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Zip"}),a.jsx("input",{type:"text",name:"zip",placeholder:"10001",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[dn&&a.jsx("button",{type:"button",className:"cta-button-secondary",style:{flex:1},onClick:()=>cn(null),children:"Cancel"}),a.jsx("button",{type:"submit",className:"cta-button-premium",style:{flex:1},children:dn?"Update Card":"Add Card"})]})]}):a.jsxs("form",{className:"payment-form",onSubmit:Sn,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Account Holder Name"}),a.jsx("input",{type:"text",name:"accountName",placeholder:"Full Name",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Bank Name"}),a.jsxs("div",{style:{position:"relative"},children:[a.jsx(le,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),a.jsx("input",{type:"text",name:"bankName",placeholder:"e.g. Chase, Wells Fargo",defaultValue:dn?dn.item.bankName:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Routing Number"}),a.jsx("input",{type:"text",name:"routingNumber",placeholder:"9 digits",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[a.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Account Number"}),a.jsx("input",{type:"text",name:"accountNumber",placeholder:"Account Number",defaultValue:dn?`****${dn.item.last4}`:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),a.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[dn&&a.jsx("button",{type:"button",className:"cta-button-secondary",style:{flex:1},onClick:()=>cn(null),children:"Cancel"}),a.jsx("button",{type:"submit",className:"cta-button-premium",style:{flex:1},children:dn?"Update Account":"Link Account"})]})]})]})]}),a.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--glass-border)",padding:"1rem 1.5rem",flexShrink:0},children:a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"var(--text-secondary)",fontSize:"0.8rem"},children:[a.jsx(de,{size:14}),a.jsx("span",{children:"256-bit encryption â€¢ Secured by Stripe"})]})})]})}),a.jsxs("nav",{className:"bottom-nav",children:[a.jsxs("div",{className:"bottom-nav-item "+("agents"===gr?"active":""),onClick:()=>{_a("agents"),vr(null)},role:"button",tabIndex:0,children:[a.jsx(b,{size:22}),a.jsx("span",{children:"Team"})]}),a.jsxs("div",{className:"bottom-nav-item "+("hub"===gr?"active":""),onClick:()=>{_a("hub"),vr(null)},role:"button",tabIndex:0,children:[a.jsx(f,{size:22}),a.jsx("span",{children:"Projects"})]}),a.jsx("div",{className:"bottom-nav-item create-btn",onClick:()=>_o(!0),role:"button",tabIndex:0,children:a.jsx("div",{style:{background:"var(--color-purple)",width:"52px",height:"52px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 16px rgba(124, 58, 237, 0.5)",marginTop:"-20px",border:"3px solid var(--color-bg-primary)"},children:a.jsx(X,{size:26,color:"white"})})}),a.jsxs("div",{className:"bottom-nav-item "+("mystudio"===gr?"active":""),onClick:()=>{_a("mystudio"),vr(null)},role:"button",tabIndex:0,children:[a.jsx(y,{size:22}),a.jsx("span",{children:"Studio"})]}),a.jsxs("div",{className:"bottom-nav-item "+("more"===gr?"active":""),onClick:()=>{_a("more"),vr(null)},role:"button",tabIndex:0,children:[a.jsx(ce,{size:22}),a.jsx("span",{children:"More"})]})]})]}),"maintenance"===ai.status&&!mo&&a.jsx("div",{className:"modal-overlay",style:{zIndex:9999,backdropFilter:"blur(10px)",background:"rgba(0,0,0,0.85)"},children:a.jsxs("div",{className:"modal-content animate-fadeInUp",style:{textAlign:"center",border:"1px solid var(--color-red)",position:"relative"},children:[a.jsx("button",{onClick:()=>ho(!0),style:{position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"4px"},"aria-label":"Dismiss maintenance message",children:a.jsx(T,{size:20})}),a.jsxs("div",{className:"modal-body",style:{padding:"1.5rem",textAlign:"center"},children:[a.jsx("div",{className:"logo-box",style:{width:"64px",height:"64px",margin:"0 auto 1.5rem",background:"rgba(239, 68, 68, 0.1)"},children:a.jsx(pe,{size:32,color:"var(--color-red)"})}),a.jsx("h2",{style:{color:"var(--color-red)",marginBottom:"1rem"},children:"System Maintenance"}),a.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:["The Studio is currently undergoing critical updates or experiencing connectivity issues.",a.jsx("br",{}),"Please check back in a few minutes."]}),a.jsxs("div",{style:{padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"8px",fontSize:"0.85rem",fontFamily:"monospace"},children:["Status: ",ai.details||"Backend Unreachable"]}),a.jsxs("button",{className:"cta-button-secondary",style:{marginTop:"2rem",width:"100%"},onClick:()=>window.location.reload(),children:[a.jsx(oe,{size:16,style:{marginRight:"8px"}})," Retry Connection"]})]})]})}),nn&&a.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>ln(!1),children:a.jsxs("div",{className:"modal-content credits-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 560px)",width:"100%",margin:"1rem auto",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",flexShrink:0},children:[a.jsxs("div",{className:"modal-title-group",children:[a.jsx("div",{className:"agent-mini-icon",style:{background:"linear-gradient(135deg, #facc15, #f59e0b)",color:"#000"},children:a.jsx(q,{size:20,fill:"currentColor"})}),a.jsxs("div",{children:[a.jsx("h2",{style:{margin:0},children:"Studio Credits"}),a.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Balance: ",a.jsxs("strong",{style:{color:"#facc15"},children:[nr," credits"]})]})]})]}),a.jsx("button",{className:"modal-close",onClick:()=>ln(!1),children:a.jsx(T,{size:20})})]}),a.jsxs("div",{className:"modal-body",style:{padding:"1.25rem",flex:1},children:[a.jsxs("div",{style:{marginBottom:"1.25rem"},children:[a.jsx("h4",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Quick Add Credits"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem"},children:[{amount:10,price:"$0.99",label:"Starter"},{amount:50,price:"$3.99",label:"Power"},{amount:150,price:"$9.99",label:"Studio"},{amount:500,price:"$24.99",label:"Pro"}].map(({amount:e,price:t,label:r})=>a.jsxs("button",{onClick:()=>Ko(e),style:{padding:"1rem 0.5rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",color:"var(--text-primary)",position:"relative",overflow:"hidden"},className:"credit-pack-btn",children:[a.jsx("span",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1px"},children:r}),a.jsx("span",{style:{fontWeight:"800",fontSize:"1.25rem",color:"#facc15"},children:e}),a.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"var(--text-primary)"},children:t})]},e))})]}),a.jsxs("div",{style:{marginBottom:"1rem"},children:[a.jsx("h4",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Credit Costs"}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[{action:"Create Project",cost:2,icon:f},{action:"Text Generation",cost:5,icon:te},{action:"Image Generation",cost:15,icon:$},{action:"Audio Processing",cost:25,icon:U}].map(({action:e,cost:t,icon:r})=>a.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.6rem 0.75rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"8px"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem"},children:[a.jsx(r,{size:16,style:{color:"var(--text-secondary)"}}),a.jsx("span",{style:{fontSize:"0.9rem"},children:e})]}),a.jsxs("span",{style:{fontWeight:"600",color:"#facc15",fontSize:"0.9rem"},children:[t," credits"]})]},e))})]}),a.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(250, 204, 21, 0.08)",border:"1px solid rgba(250, 204, 21, 0.2)",borderRadius:"10px",display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[a.jsx(m,{size:18,style:{color:"#facc15",flexShrink:0,marginTop:"2px"}}),a.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[a.jsx("strong",{style:{color:"var(--text-primary)"},children:"Pro Tip:"})," Credits are used when you create projects or generate content with any agent."]})]})]}),a.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--glass-border)",padding:"1rem 1.25rem",flexShrink:0,display:"flex",gap:"0.75rem"},children:[a.jsxs("button",{className:"cta-button-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{ln(!1),_s("billing"),_a("mystudio")},children:[a.jsx(X,{size:18,style:{marginRight:"6px"}})," Add Credits"]}),a.jsxs("button",{className:"cta-button-premium",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{ln(!1),_o(!0)},children:[a.jsx(ue,{size:18,style:{marginRight:"6px"}})," Create Project"]})]})]})}),Eo&&a.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Do(!1),style:{display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("div",{className:"modal-content project-wizard-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px",width:"min(95vw, 600px)",maxHeight:"min(90vh, 1000px)",display:"flex",flexDirection:"column",margin:"0 12px",boxSizing:"border-box",overflow:"hidden"},children:[a.jsxs("div",{className:"modal-header",style:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{className:"modal-title-group",style:{flex:1,minWidth:0,display:"flex",alignItems:"center",gap:"10px",paddingRight:"80px"},children:[a.jsx("div",{className:"agent-mini-icon bg-purple",style:{flexShrink:0},children:a.jsx(ue,{size:20})}),a.jsx("h2",{style:{margin:0,fontSize:"1.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Create New Project"})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",position:"relative",zIndex:101},children:[!yr&&a.jsx("button",{className:"btn-text",onClick:()=>(e=>{if(("number"==typeof nr?nr:0)<2)return s.error("Not enough credits. You need 2 credits to create a project."),void ln(!0);const t={id:String(Date.now()),name:`Untitled Project ${Sr.length+1}`,category:"music",description:"Quick start project",agents:[],workflow:"custom",date:(new Date).toLocaleDateString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};s.success("Quick project created! -2 credits",{icon:"âœ¨"}),kr(e=>[t,...e]),wr(t),Pt&&Ma(Pt?.uid,t).catch(e=>{}),Do(!1),Oo(1),_a(e),Lo("Quick project created.")})("agents"),style:{fontSize:"0.85rem",color:"var(--text-secondary)",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Skip"}),a.jsx("button",{className:"modal-close",onClick:()=>Do(!1),children:a.jsx(T,{size:20})})]})]}),a.jsxs("div",{className:"modal-body",style:{padding:yr?"16px":"24px",overflowY:"auto",WebkitOverflowScrolling:"touch",flex:1},children:[a.jsx("div",{className:"wizard-progress",style:{display:"flex",gap:"8px",marginBottom:"24px"},children:[1,2,3].map(e=>a.jsx("div",{style:{flex:1,height:"4px",background:e<=Wo?"var(--color-purple)":"var(--color-bg-tertiary)",borderRadius:"2px",transition:"all 0.3s ease"}},e))}),1===Wo&&a.jsxs("div",{className:"wizard-step animate-slideIn",children:[a.jsx("h3",{style:{marginBottom:"16px"},children:"Define Your Vision"}),a.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Project Name"}),a.jsx("input",{type:"text",className:"search-input",placeholder:"e.g. Summer Vibes 2025",value:Mo.name,onChange:e=>Fo({...Mo,name:e.target.value}),autoFocus:!0,style:{width:"100%",padding:"12px",fontSize:"1rem"}})]}),a.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[a.jsxs("div",{style:{flex:1},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Language"}),a.jsx("select",{value:Mo.language,onChange:e=>Fo({...Mo,language:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["English","Spanish","French","German","Japanese","Korean","Portuguese","Italian","Chinese"].map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsxs("div",{style:{flex:1},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Style / Genre"}),a.jsx("select",{value:Mo.style,onChange:e=>Fo({...Mo,style:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["Modern Hip-Hop","90s Boom Bap","Trap","R&B / Soul","Pop","Rock","Electronic","Cinematic","Jazz","Lo-Fi"].map(e=>a.jsx("option",{value:e,children:e},e))})]}),a.jsxs("div",{style:{flex:1},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"AI Model"}),a.jsx("select",{value:Mo.model,onChange:e=>Fo({...Mo,model:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["Gemini 2.0 Flash","Gemini 2.0 Pro (Exp)","Gemini 1.5 Flash","Gemini 1.5 Pro"].map(e=>a.jsx("option",{value:e,children:e},e))})]})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Project Category"}),a.jsx("div",{className:"category-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:wt.map(e=>a.jsxs("div",{className:"category-card haptic-press "+(Mo.category===e.id?"selected":""),onClick:()=>Fo({...Mo,category:e.id}),style:{padding:"12px",background:Mo.category===e.id?"rgba(168, 85, 247, 0.1)":"var(--color-bg-tertiary)",border:Mo.category===e.id?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[a.jsx(e.icon,{size:20,style:{color:e.color}}),a.jsx("div",{children:a.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:e.label})})]},e.id))})]}),"social"===Mo.category&&a.jsxs("div",{className:"social-inputs animate-fadeIn",style:{marginBottom:"24px",padding:"16px",background:"rgba(6, 182, 212, 0.05)",borderRadius:"12px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:[a.jsxs("h4",{style:{marginBottom:"12px",color:"var(--color-cyan)",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(B,{size:16})," Social Profile Setup"]}),a.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Platform Focus"}),a.jsx("div",{style:{display:"flex",gap:"8px"},children:["instagram","tiktok","youtube","twitter"].map(e=>a.jsx("button",{className:"platform-btn "+(Mo.socialPlatform===e?"active":""),onClick:()=>Fo({...Mo,socialPlatform:e}),style:{flex:1,padding:"8px",borderRadius:"8px",border:Mo.socialPlatform===e?"1px solid var(--color-cyan)":"1px solid var(--border-color)",background:Mo.socialPlatform===e?"rgba(6, 182, 212, 0.1)":"transparent",color:Mo.socialPlatform===e?"var(--color-cyan)":"var(--text-secondary)",textTransform:"capitalize",fontSize:"0.85rem",cursor:"pointer"},children:e},e))})]}),a.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[a.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Handle / Username"}),a.jsx("input",{type:"text",className:"search-input",placeholder:"@yourname",value:Mo.socialHandle,onChange:e=>Fo({...Mo,socialHandle:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"0.9rem"}})]}),a.jsxs("div",{className:"form-group",children:[a.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Bio / Vibe"}),a.jsx("textarea",{className:"search-input",placeholder:"Describe your brand voice...",value:Mo.socialBio,onChange:e=>Fo({...Mo,socialBio:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"0.9rem",minHeight:"60px",resize:"vertical"}})]})]})]}),2===Wo&&a.jsxs("div",{className:"wizard-step animate-slideIn",children:[a.jsx("h3",{style:{marginBottom:"16px"},children:"Choose Your Workflow"}),a.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"16px",fontSize:"0.9rem"},children:"How do you want to work? Select a preset workflow or build your own team."}),a.jsxs("div",{className:"workflow-presets",style:{display:"grid",gap:"12px",marginBottom:"24px"},children:[a.jsxs("div",{className:"workflow-card haptic-press "+("full_song"===Mo.workflow?"selected":""),onClick:()=>Fo({...Mo,workflow:"full_song",selectedAgents:["ghost","beat","album"]}),style:{padding:"16px",background:"full_song"===Mo.workflow?"rgba(168, 85, 247, 0.15)":"var(--color-bg-tertiary)",border:"full_song"===Mo.workflow?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("div",{style:{background:"var(--color-purple)",padding:"10px",borderRadius:"50%",color:"white"},children:a.jsx(U,{size:20})}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Full Song Creation"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Lyrics â†’ Beat â†’ Cover Art"})]}),"full_song"===Mo.workflow&&a.jsx(me,{size:20,className:"text-purple"})]}),a.jsxs("div",{className:"workflow-card haptic-press "+("social_promo"===Mo.workflow?"selected":""),onClick:()=>Fo({...Mo,workflow:"social_promo",selectedAgents:["video-creator","trend","collab","social"]}),style:{padding:"16px",background:"social_promo"===Mo.workflow?"rgba(6, 182, 212, 0.15)":"var(--color-bg-tertiary)",border:"social_promo"===Mo.workflow?"1px solid var(--color-cyan)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("div",{style:{background:"var(--color-cyan)",padding:"10px",borderRadius:"50%",color:"white"},children:a.jsx(B,{size:20})}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Social Promotion"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Video â†’ Trends â†’ Social Pilot"})]}),"social_promo"===Mo.workflow&&a.jsx(me,{size:20,className:"text-cyan"})]}),a.jsxs("div",{className:"workflow-card haptic-press "+("custom"===Mo.workflow?"selected":""),onClick:()=>Fo({...Mo,workflow:"custom",selectedAgents:[]}),style:{padding:"16px",background:"custom"===Mo.workflow?"rgba(255, 255, 255, 0.1)":"var(--color-bg-tertiary)",border:"custom"===Mo.workflow?"1px solid var(--text-secondary)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[a.jsx("div",{style:{background:"var(--text-secondary)",padding:"10px",borderRadius:"50%",color:"var(--color-bg-primary)"},children:a.jsx(he,{size:20})}),a.jsxs("div",{style:{flex:1},children:[a.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Custom Team"}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Manually select your agents"})]}),"custom"===Mo.workflow&&a.jsx(me,{size:20,className:"text-white"})]})]}),"custom"===Mo.workflow&&a.jsx("div",{className:"agents-grid-selection animate-fadeIn",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"12px"},children:(void 0!==u?u:[]).map(e=>{const t=Mo.selectedAgents?.includes(e.id);return a.jsxs("div",{className:"agent-select-card haptic-press "+(t?"selected":""),onClick:()=>{const t=Mo.selectedAgents||[],r=t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id];Fo({...Mo,selectedAgents:r})},style:{padding:"12px",background:t?"rgba(168, 85, 247, 0.15)":"var(--color-bg-tertiary)",border:t?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px",transition:"all 0.2s ease",position:"relative"},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:t?"var(--color-purple)":"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:t?"white":"var(--text-secondary)"},children:"function"==typeof e.icon?a.jsx(e.icon,{size:16}):a.jsx(m,{size:16})}),a.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"500"},children:e.name}),t&&a.jsx(me,{size:14,className:"text-purple",style:{position:"absolute",top:"8px",right:"8px"}})]},e.id)})})]}),3===Wo&&a.jsxs("div",{className:"wizard-step animate-slideIn",children:[a.jsx("h3",{style:{marginBottom:"16px"},children:"Ready to Launch?"}),a.jsxs("div",{className:"review-card",style:{padding:"24px",background:"var(--color-bg-tertiary)",borderRadius:"16px",textAlign:"center"},children:[a.jsx("div",{style:{width:"64px",height:"64px",background:"var(--color-bg-secondary)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:a.jsx(ue,{size:32,className:"text-purple"})}),a.jsx("h2",{style:{marginBottom:"8px"},children:Mo.name}),a.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:[wt.find(e=>e.id===Mo.category)?.label," â€¢ ",(new Date).toLocaleDateString()]}),a.jsxs("div",{className:"selected-team-preview",style:{display:"flex",justifyContent:"center",gap:"8px",flexWrap:"wrap",marginBottom:"24px"},children:[(Mo.selectedAgents||[]).map(e=>{const t=void 0!==u&&u?u.find(t=>t.id===e||t.name===e):null;return t?a.jsx("div",{title:t.name,style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--color-bg-primary)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--color-border)"},children:"function"==typeof t.icon?a.jsx(t.icon,{size:16}):a.jsx(m,{size:16})},e):null}),0===(Mo.selectedAgents||[]).length&&a.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"No specific agents selected"})]}),a.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Your studio environment is being prepared."})]})]})]}),a.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"},children:[Wo>1?a.jsx("button",{className:"btn-ghost",onClick:()=>Oo(e=>e-1),children:"Back"}):a.jsx("div",{}),Wo<3?a.jsx("button",{className:"cta-button-premium",disabled:1===Wo&&(!Mo.name||!Mo.category)||2===Wo&&!Mo.workflow,onClick:()=>Oo(e=>e+1),children:"Next Step"}):a.jsx("button",{className:"cta-button-premium",onClick:()=>{if(!Mo.name||!Mo.category)return void s.error("Please fill in project name and category");if(("number"==typeof nr?nr:0)<2)return s.error("Not enough credits. You need 2 credits to create a project."),void ln(!0);const e={id:String(Date.now()),name:Mo.name,category:Mo.category,description:Mo.description||"",language:Mo.language||"English",style:Mo.style||"Modern Hip-Hop",model:Mo.model||"Gemini 2.0 Flash",agents:Mo.selectedAgents||[],workflow:Mo.workflow||"custom",socialHandle:Mo.socialHandle||"",socialBio:Mo.socialBio||"",socialPlatform:Mo.socialPlatform||"instagram",date:(new Date).toLocaleDateString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};kr(t=>[e,...t]),wr(e),$t&&Pt&&Ma(Pt?.uid,e).then(e=>{}).catch(e=>{}),s.success("Project created! -2 credits",{icon:"âœ¨"}),Do(!1),Oo(1),t.projectCreated(e.category),Fo({name:"",category:"",description:"",selectedAgents:[],workflow:"",socialHandle:"",socialBio:"",socialPlatform:"instagram"}),Lo(`Project ${e.name} created. Loading your production checklist.`),_a("mystudio")},children:"Create Project"})]})]})}),so&&a.jsx("div",{className:"modal-overlay animate-fadeIn",style:{zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("div",{className:"modal-content onboarding-modal",style:{maxWidth:"500px",width:"90%",position:"relative"},children:[a.jsx("button",{onClick:()=>{localStorage.setItem("studio_onboarding_v3","true"),ao(!1),_a("agents")},style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",padding:0,zIndex:10},children:a.jsx(T,{size:20})}),a.jsxs("div",{className:"modal-body",style:{padding:window.innerWidth<768?"24px":"40px",textAlign:"center"},children:[a.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"ðŸŽ§"}),a.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"12px"},children:jt[0].title}),a.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-primary)",marginBottom:"8px",lineHeight:"1.6"},children:jt[0].content}),a.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-secondary)"},children:jt[0].detail}),a.jsx("button",{className:"cta-button-premium",onClick:()=>{localStorage.setItem("studio_onboarding_v3","true"),ao(!1),_a("agents"),Lo("Welcome to your studio. Pick an agent to start creating.")},style:{width:"100%",padding:"16px",fontSize:"1.1rem",marginTop:"32px"},children:"Enter Studio â†’"})]})]})}),$o&&a.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>_o(!1),style:{zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"550px",width:"90%"},children:[a.jsx("button",{onClick:()=>_o(!1),style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",padding:0,zIndex:10},children:a.jsx(T,{size:20})}),a.jsxs("div",{className:"modal-body",style:{padding:"32px"},children:[a.jsxs("div",{style:{textAlign:"center",marginBottom:"28px"},children:[a.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:"Create New Project"}),a.jsx("p",{style:{color:"var(--text-secondary)"},children:"Choose how you want to build your project"})]}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[a.jsxs("button",{onClick:()=>{_o(!1),Do(!0)},style:{display:"flex",alignItems:"flex-start",gap:"16px",padding:"20px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",cursor:"pointer",textAlign:"left",color:"inherit",transition:"all 0.2s ease"},className:"haptic-press",children:[a.jsx("div",{style:{background:"var(--color-purple)",padding:"12px",borderRadius:"12px",color:"white",flexShrink:0},children:a.jsx(J,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",color:"var(--text-primary)"},children:"Studio Creation"}),a.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Build your project step by step. Choose name, type, and select agents manually."})]})]}),a.jsxs("button",{onClick:()=>{_o(!1),li(!0)},style:{display:"flex",alignItems:"flex-start",gap:"16px",padding:"20px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"16px",cursor:"pointer",textAlign:"left",color:"inherit",transition:"all 0.2s ease"},className:"haptic-press",children:[a.jsx("div",{style:{background:"var(--color-cyan)",padding:"12px",borderRadius:"12px",color:"white",flexShrink:0},children:a.jsx(m,{size:24})}),a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",color:"var(--text-primary)"},children:"AI Production Pipeline"}),a.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Let AI orchestrate your creative workflow. Describe your vision and get a complete production plan."})]})]})]})]})]})}),po&&a.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>uo(null),style:{zIndex:1e4},children:a.jsxs("div",{className:"modal-content whitepaper-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"1rem",flexShrink:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[a.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-primary)"},children:"function"==typeof po.icon?a.jsx(po.icon,{size:22}):a.jsx(m,{size:22})}),a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:po.title}),a.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.9rem"},children:po.subtitle})]})]}),a.jsx("button",{className:"modal-close",onClick:()=>uo(null),children:a.jsx(T,{size:20})})]}),a.jsxs("div",{className:"modal-body",style:{padding:"1.25rem",flex:1,overflow:"auto"},children:[a.jsxs("div",{style:{marginBottom:"1.25rem"},children:[a.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--color-purple)",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(m,{size:16})," The Vision"]}),a.jsx("p",{style:{fontSize:"0.95rem",lineHeight:"1.6",color:"var(--text-primary)",margin:0},children:po.description})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[a.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px"},children:[a.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px",fontSize:"0.9rem"},children:[a.jsx(ye,{size:16,className:"text-cyan"})," Who It's For"]}),a.jsx("p",{style:{fontSize:"0.85rem",lineHeight:"1.5",color:"var(--text-secondary)",margin:0},children:po.whoFor})]}),a.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px"},children:[a.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px",fontSize:"0.9rem"},children:[a.jsx(q,{size:18,className:"text-orange"})," How It Works"]}),a.jsx("p",{style:{fontSize:"0.85rem",lineHeight:"1.5",color:"var(--text-secondary)",margin:0},children:po.howTo})]})]}),yo[po.key]&&Object.values(yo[po.key]).some(e=>e)&&a.jsxs("div",{style:{marginBottom:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--glass-border)"},children:[a.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"1rem",fontSize:"0.95rem",color:"var(--color-purple)"},children:[a.jsx(Q,{size:16})," Generated Creations"]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[yo[po.key].video&&a.jsxs("div",{style:{background:"rgba(236, 72, 153, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(236, 72, 153, 0.3)"},children:[a.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(236, 72, 153, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽ¬ Video"}),a.jsx("video",{src:yo[po.key].video,controls:!0,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",background:"#000"},controlsList:"nodownload"}),a.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e={id:String(Date.now()),title:`${po.title} Video`,type:"Video",agent:po.title,date:"Just now",color:"agent-pink",snippet:"Generated Video",videoUrl:yo[po.key].video};jr?(Go(jr.id,e),s.success(`Saved to ${jr.name}`)):qo(`New ${po.title} Project`,e)},children:[a.jsx(J,{size:14})," Save"]})]}),yo[po.key].image&&"string"==typeof yo[po.key].image&&a.jsxs("div",{style:{background:"rgba(168, 85, 247, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.3)"},children:[a.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(168, 85, 247, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽ¨ Image"}),a.jsx("img",{src:yo[po.key].image.startsWith?.("data:")||yo[po.key].image.startsWith?.("http")?yo[po.key].image:`data:image/png;base64,${yo[po.key].image}`,alt:"Generated",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="120" viewBox="0 0 200 120"%3E%3Crect fill="%231a1a2e" width="200" height="120"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-size="12" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}),a.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e=yo[po.key]?.image;if(!e||"string"!=typeof e)return;const t=e.startsWith?.("data:")||e.startsWith?.("http")?e:`data:image/png;base64,${e}`,r={id:String(Date.now()),title:`${po.title} Image`,type:"Image",agent:po.title,date:"Just now",color:"agent-purple",snippet:"Generated Image",imageUrl:t};jr?(Go(jr.id,r),s.success(`Saved to ${jr.name}`)):qo(`New ${po.title} Project`,r)},children:[a.jsx(J,{size:14})," Save"]})]}),yo[po.key].audio&&a.jsxs("div",{style:{background:"rgba(6, 182, 212, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(6, 182, 212, 0.3)",gridColumn:"span 1"},children:[a.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(6, 182, 212, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽµ Audio"}),a.jsx("audio",{src:yo[po.key].audio,controls:!0,style:{width:"100%",height:"32px"},controlsList:"nodownload"}),a.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e={id:String(Date.now()),title:`${po.title} Audio`,type:"Audio",agent:po.title,date:"Just now",color:"agent-cyan",snippet:"Generated Audio",audioUrl:yo[po.key].audio};jr?(Go(jr.id,e),s.success(`Saved to ${jr.name}`)):qo(`New ${po.title} Project`,e)},children:[a.jsx(J,{size:14})," Save"]})]})]})]})]}),a.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",display:"flex",justifyContent:"flex-end",flexShrink:0},children:a.jsx("button",{className:"cta-button-premium",onClick:()=>{const e=void 0!==u&&u?u.find(e=>e.id===po.key):null;e&&(vr(e),uo(null),_a("agents"))},children:"Launch Agent"})})]})}),go&&a.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>xo(null),style:{zIndex:1e4},children:a.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[a.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"1rem",flexShrink:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[a.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-purple)"},children:"function"==typeof go.icon?a.jsx(go.icon,{size:22}):a.jsx(m,{size:22})}),a.jsxs("div",{children:[a.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:go.title}),a.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.9rem"},children:go.type})]})]}),a.jsx("button",{className:"modal-close",onClick:()=>xo(null),children:a.jsx(T,{size:20})})]}),a.jsx("div",{className:"modal-body",style:{padding:"1.5rem",flex:1,overflowY:"auto"},children:a.jsx("div",{style:{whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:"0.95rem",lineHeight:"1.7",color:"var(--text-primary)"},dangerouslySetInnerHTML:{__html:n.sanitize(go.content.replace(/^# (.*$)/gm,'<h1 style="font-size: 1.5rem; margin: 1.5rem 0 1rem; color: var(--text-primary);">$1</h1>').replace(/^## (.*$)/gm,'<h2 style="font-size: 1.2rem; margin: 1.25rem 0 0.75rem; color: var(--color-cyan);">$1</h2>').replace(/^### (.*$)/gm,'<h3 style="font-size: 1rem; margin: 1rem 0 0.5rem; color: var(--color-purple);">$1</h3>').replace(/^\*\*(.*?)\*\*/gm,"<strong>$1</strong>").replace(/^- (.*$)/gm,'<li style="margin-left: 1.5rem; margin-bottom: 0.25rem;">$1</li>').replace(/^\d+\. (.*$)/gm,'<li style="margin-left: 1.5rem; margin-bottom: 0.25rem;">$1</li>').replace(/\n\n/g,"<br/><br/>"))}})}),a.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",display:"flex",justifyContent:"flex-end",gap:"12px",flexShrink:0},children:[a.jsx("button",{className:"btn-secondary",onClick:()=>{navigator.clipboard.writeText(go.content),s.success("Copied to clipboard!")},children:"Copy Text"}),a.jsx("button",{className:"cta-button-premium",onClick:()=>xo(null),children:"Done"})]})]})}),gs&&a.jsxs("div",{className:"modal-overlay animate-fadeIn",onClick:()=>{Ua.current&&(Ua.current.pause(),Ua.current.src=""),xs(null),hs(!1)},style:{zIndex:1e4,position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",padding:ms||yr?"0":"20px"},children:[vo.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:e=>{if(e.stopPropagation(),0===vo.length||No.current)return;No.current=!0;const t=wo>0?wo-1:vo.length-1;if(t<0||t>=vo.length)return void(No.current=!1);const r=vo[t];r?(xs({type:So(r),url:nt(r.audioUrl)||lt(r.videoUrl)||ot(r.imageUrl)||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:vo,currentIndex:t}),setTimeout(()=>{No.current=!1},300)):No.current=!1},style:{position:"fixed",left:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",backdropFilter:"blur(8px)",zIndex:2001,transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.4)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",children:a.jsx(be,{size:24})}),a.jsx("button",{onClick:e=>{if(e.stopPropagation(),0===vo.length||No.current)return;No.current=!0;const t=wo<vo.length-1?wo+1:0;if(t<0||t>=vo.length)return void(No.current=!1);const r=vo[t];r?(xs({type:So(r),url:nt(r.audioUrl)||lt(r.videoUrl)||ot(r.imageUrl)||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:vo,currentIndex:t}),setTimeout(()=>{No.current=!1},300)):No.current=!1},style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",backdropFilter:"blur(8px)",zIndex:2001,transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.4)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",children:a.jsx(fe,{size:24})})]}),a.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:ms||yr?"100vw":"image"===fo.type?"90vw":"85vw",maxHeight:ms||yr?"100vh":"85vh",width:ms||yr?"100vw":"image"===fo.type?"auto":"100%",height:ms||yr?"100vh":"auto",overflow:"hidden",display:"flex",flexDirection:"column",background:"rgba(10,10,15,0.99)",borderRadius:ms||yr?"0":"16px",border:ms?"none":"1px solid rgba(255,255,255,0.1)",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)",transition:"all 0.3s ease"},children:[a.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid rgba(255,255,255,0.1)",padding:yr?"0.75rem 1rem":"1rem 1.5rem",flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[a.jsxs("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"image"===fo.type?"rgba(236, 72, 153, 0.2)":"video"===fo.type?"rgba(6, 182, 212, 0.2)":"audio"===fo.type?"rgba(168, 85, 247, 0.2)":"rgba(34, 197, 94, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:["image"===fo.type&&a.jsx($,{size:18,style:{color:"var(--color-pink)"}}),"video"===fo.type&&a.jsx(O,{size:18,style:{color:"var(--color-cyan)"}}),"audio"===fo.type&&a.jsx(U,{size:18,style:{color:"var(--color-purple)"}}),("text"===fo.type||"lyrics"===fo.type||"hook"===fo.type||"verse"===fo.type||"concept"===fo.type)&&a.jsx(te,{size:18,style:{color:"var(--color-green)"}})]}),a.jsxs("div",{style:{minWidth:0,flex:1},children:[a.jsx("h2",{style:{fontSize:"1rem",margin:0,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:fo.title||"Preview"}),vo.length>1&&a.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",margin:"2px 0 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[wo+1," of ",vo.length," assets"]})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx("button",{onClick:e=>{e.stopPropagation(),hs(e=>!e)},style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.3)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",title:ms?"Minimize":"Maximize",children:ms?a.jsx(ve,{size:18}):a.jsx(je,{size:18})}),fo.asset&&a.jsxs("button",{onClick:()=>{const e=fo.asset,t=e.audioUrl?"audio":e.videoUrl||e.imageUrl?"visual":null;if(t&&jr){const r={...jr.sessionState||{},[t]:e};wr({...jr,sessionState:r}),kr(e=>e.map(e=>e.id===jr.id?{...e,sessionState:r}:e)),xs(null),hs(!1),li(!0),s.success(`âœ¨ Added "${e.title}" to Studio Orchestrator`)}},className:"btn-pill primary",style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",padding:yr?"8px":"8px 16px"},children:[a.jsx(q,{size:16}),!yr&&"Use in Orchestrator"]}),a.jsx("button",{className:"modal-close",onClick:()=>{Ua.current&&(Ua.current.pause(),Ua.current.src=""),No.current=!1,xs(null),hs(!1)},style:{color:"#fff",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer"},children:a.jsx(T,{size:20})})]})]}),a.jsxs("div",{className:"modal-body",style:{padding:ms?"2rem":"1.5rem",flex:1,overflow:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"image"===fo.type?"transparent":"rgba(0,0,0,0.3)"},children:[("audio"===fo.type||"vocal"===fo.type||fo.url&&fo.asset?.audioUrl)&&a.jsxs("div",{style:{width:"100%",maxWidth:"500px",textAlign:"center",marginBottom:fo.content||ko(fo.asset)?"2rem":0},children:[a.jsx("div",{style:{width:ms?"100px":"80px",height:ms?"100px":"80px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 0 40px rgba(168, 85, 247, 0.4)",transition:"all 0.3s ease"},children:a.jsx(U,{size:ms?48:36,style:{color:"white"}})}),a.jsx("audio",{ref:Ua,src:fo.url||nt(fo.asset?.audioUrl),controls:!0,crossOrigin:"anonymous",style:{width:"100%"},autoPlay:!1,controlsList:"nodownload",onPlay:e=>{document.querySelectorAll("audio, video").forEach(t=>{t!==e.target&&t.pause()})},onError:e=>{e.target.error,e.target.error;const t=fo.url||"",r=fo.asset?.audioUrl;if(r&&!e.target.dataset.retried){e.target.dataset.retried="true";const i=nt(r);if(i&&i!==t)return void(e.target.src=i);if(r.startsWith("http"))return e.target.removeAttribute("crossorigin"),void(e.target.src=r)}const i=e.target.parentElement;if(i&&!i.querySelector(".audio-error-msg")){const e=document.createElement("div");e.className="audio-error-msg",e.style.cssText="color: var(--color-red); font-size: 0.85rem; margin-top: 12px;",e.textContent="âš ï¸ Audio failed to load. Try downloading instead.",i.appendChild(e)}}},fo.asset?.id||fo.url||"audio-preview"),a.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"12px",opacity:.6},children:fo.url?.startsWith("data:")?"Base64 Audio":fo.url?.startsWith("http")?"Remote Audio":"Cloud Asset"})]}),"image"===fo.type&&fo.url&&a.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsxs("div",{className:"image-loading-placeholder",style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--text-secondary)"},children:[a.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),a.jsx("span",{style:{fontSize:"0.85rem"},children:"Loading image..."})]}),a.jsx("img",{src:fo.url,alt:fo.title||"Image preview",onLoad:e=>{const t=e.target.previousElementSibling;t&&(t.style.display="none"),e.target.style.opacity=1},onError:e=>{const t=e.target.previousElementSibling;t&&(t.innerHTML='<div style="text-align:center;color:var(--color-red)"><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg><p style="margin-top:8px">Failed to load image</p></div>')},style:{maxWidth:"100%",maxHeight:ms?"90vh":"80vh",objectFit:"contain",borderRadius:"8px",boxShadow:"0 8px 40px rgba(0,0,0,0.5)",opacity:0,transition:"all 0.3s ease"}})]}),"video"===fo.type&&fo.url&&a.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"100%"},children:[a.jsxs("div",{className:"video-loading-placeholder",style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--text-secondary)",background:"rgba(0,0,0,0.5)",borderRadius:"8px",zIndex:1},children:[a.jsx("div",{className:"spinner",style:{width:"50px",height:"50px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-cyan)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),a.jsx("span",{style:{fontSize:"0.85rem"},children:"Loading video..."})]}),a.jsx("video",{src:fo.url,controls:!0,autoPlay:!0,playsInline:!0,loop:!0,onCanPlay:e=>{const t=e.target.previousElementSibling;t&&(t.style.display="none")},onError:e=>{const t=e.target.previousElementSibling;t&&(t.innerHTML='<div style="text-align:center;color:var(--color-red)"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg><p style="margin-top:12px;font-size:0.9rem">Failed to load video</p><p style="font-size:0.75rem;opacity:0.7;margin-top:4px">Try downloading instead</p></div>')},style:{width:"100%",maxWidth:"100%",maxHeight:ms?"90vh":"80vh",objectFit:"contain",borderRadius:"8px",background:"black"}})]}),("text"===fo.type||"lyrics"===fo.type||"vocal"===fo.type||"audio"===fo.type||"hook"===fo.type||"verse"===fo.type||"concept"===fo.type)&&a.jsx("div",{style:{width:"100%",maxWidth:ms?"1200px":"900px",maxHeight:"100%",overflow:"auto",padding:yr?"1.5rem":"3rem",background:"rgba(20, 20, 30, 0.4)",borderRadius:"16px",border:yr?"none":"1px solid rgba(255,255,255,0.1)",boxShadow:yr?"none":"0 10px 40px rgba(0,0,0,0.5)",flex:1},children:a.jsx("div",{style:{fontSize:ms?"1.4rem":"1.15rem",lineHeight:"1.8",color:"var(--text-primary)",whiteSpace:"pre-wrap",fontFamily:"'Georgia', 'Times New Roman', serif",margin:"0 auto",maxWidth:"800px"},children:(()=>{const e=fo.content||ko(fo.asset);return e||a.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[a.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic",marginBottom:"1rem"},children:"No text content available"}),a.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.85rem"},children:"This asset may be audio, video, or image-only."})]})})()})})]}),vo.length>1&&a.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"12px 16px",display:"flex",gap:"8px",overflowX:"auto",justifyContent:"center",background:"rgba(0,0,0,0.3)"},children:vo.map((e,t)=>e?a.jsxs("button",{onClick:e=>{if(e.stopPropagation(),No.current)return;if(t<0||t>=vo.length)return;const r=vo[t];if(r){No.current=!0;try{xs({type:So(r),url:nt(r.audioUrl)||lt(r.videoUrl)||ot(r.imageUrl)||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:vo,currentIndex:t})}catch(i){}setTimeout(()=>{No.current=!1},300)}},style:{width:"60px",height:"60px",borderRadius:"8px",border:t===wo?"2px solid var(--color-purple)":"2px solid transparent",background:e.imageUrl?`url(${ot(e.imageUrl)}) center/cover`:"rgba(255,255,255,0.1)",cursor:"pointer",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:t===wo?1:.6,transition:"all 0.2s ease",overflow:"hidden",position:"relative"},children:[e.videoUrl&&!e.imageUrl&&a.jsx("video",{src:lt(e.videoUrl),style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,preload:"metadata",onLoadedData:e=>{0===e.target.currentTime&&(e.target.currentTime=1)}}),e.audioUrl&&!e.imageUrl&&a.jsx(U,{size:20,style:{color:"var(--color-purple)"}}),!e.imageUrl&&!e.videoUrl&&!e.audioUrl&&a.jsx(te,{size:20,style:{color:"var(--text-secondary)"}})]},e?.id||t):null)}),a.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"12px 16px",display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap",background:"rgba(0,0,0,0.4)"},children:[fo.asset?.agent&&"User Upload"!==fo.asset.agent&&a.jsxs("button",{onClick:e=>{e.stopPropagation();const t=void 0!==u&&u?u.find(e=>e.name===fo.asset?.agent):null;t&&(vr(t),bn(fo.asset?.snippet||fo.title||""),_a("agents"),xs(null),hs(!1),s.success(`Opened ${t.name} - edit prompt and regenerate!`))},style:{padding:yr?"8px 12px":"10px 20px",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, var(--color-cyan), var(--color-purple))",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"0.8rem"},children:[a.jsx(oe,{size:14})," ",yr?"Regen":`Re-run with ${fo.asset?.agent}`]}),a.jsxs("button",{onClick:e=>{if(e.stopPropagation(),jr){const e=fo.asset,t={...jr,sessionState:{...jr.sessionState,...e?.audioUrl&&{audio:{audioUrl:e.audioUrl,title:e.title}},...e?.imageUrl&&{visual:{...jr.sessionState?.visual,imageUrl:e.imageUrl,title:e.title}},...e?.videoUrl&&{visual:{...jr.sessionState?.visual,videoUrl:e.videoUrl,title:e.title}}}};wr(t),kr(e=>Array.isArray(e)?e.map(e=>e.id===t.id?t:e):[t])}xs(null),hs(!1),li(!0),s.success("Asset loaded into Orchestrator!")},style:{padding:yr?"8px 12px":"10px 20px",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.5)",background:"rgba(168, 85, 247, 0.2)",color:"var(--color-purple)",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"0.8rem"},children:[a.jsx(m,{size:14})," ",yr?"Use":"Use in Orchestrator"]}),fo.url&&a.jsxs("button",{onClick:e=>{e.stopPropagation();try{const e=document.createElement("a");e.href=fo.url,e.download=fo.title||"download",document.body.appendChild(e),e.click(),document.body.removeChild(e),s.success("Download started!")}catch(t){s.error("Download failed. Try right-click and save.")}},style:{padding:yr?"8px 12px":"10px 20px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.8rem"},children:[a.jsx(P,{size:14})," ",yr?"Save":"Download"]})]})]})]}),Ya&&a.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Ja(null),children:a.jsxs("div",{className:"modal-content agent-help-modal",onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",position:"relative"},children:[a.jsxs("div",{className:"modal-title-group",style:{display:"flex",alignItems:"center",gap:"12px",minWidth:0,flex:1,paddingRight:"40px"},children:[a.jsx("div",{className:`agent-mini-icon ${Ya.colorClass}`,style:{flexShrink:0},children:"function"==typeof Ya.icon?a.jsx(Ya.icon,{size:20}):a.jsx(m,{size:20})}),a.jsxs("h2",{style:{margin:0,fontSize:"1.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,flex:1},children:[Ya.name," Guide"]})]}),a.jsx("button",{className:"modal-close",onClick:()=>Ja(null),style:{flexShrink:0},children:a.jsx(T,{size:20})})]}),a.jsxs("div",{className:"modal-body help-modal-body",children:[a.jsxs("div",{className:"help-section",children:[a.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-primary)",marginBottom:"16px",lineHeight:"1.6"},children:Ya.description}),a.jsxs("div",{style:{padding:"16px",background:"rgba(6, 182, 212, 0.05)",borderRadius:"12px",borderLeft:"4px solid var(--color-cyan)"},children:[a.jsxs("h3",{style:{marginTop:0,fontSize:"0.9rem"},children:[a.jsx(q,{size:16,className:"text-cyan"})," How to Use"]}),a.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:Ya.howToUse})]})]}),Ya.capabilities&&a.jsxs("div",{className:"help-section",children:[a.jsxs("h3",{children:[a.jsx(we,{size:16,className:"text-purple"})," Mission-Critical Wheel House Information"]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"8px"},children:Ya.capabilities.map((e,t)=>a.jsx("div",{style:{fontSize:"0.75rem",padding:"8px 12px",background:"rgba(168, 85, 247, 0.05)",border:"1px solid rgba(168, 85, 247, 0.1)",borderRadius:"8px",color:"var(--text-primary)",textAlign:"center",fontWeight:"500"},children:e},t))})]}),Ya.features&&a.jsxs("div",{className:"help-section",children:[a.jsxs("h3",{children:[a.jsx(Se,{size:16,className:"text-purple"})," Core Features"]}),a.jsx("div",{className:"onboarding-steps-list",children:Ya.features.map((e,t)=>a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 14px",background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"10px",marginBottom:"6px"},children:[a.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"var(--color-purple)"}}),a.jsx("p",{style:{fontSize:"0.85rem",margin:0},children:e})]},t))})]}),Ya.proTips&&a.jsxs("div",{className:"help-section pro-tip-box",style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.1), transparent)",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[a.jsxs("h3",{style:{color:"var(--color-purple)"},children:[a.jsx(ke,{size:16})," Advanced Pro Tips"]}),a.jsx("div",{className:"onboarding-steps-list",style:{gap:"8px",background:"none",border:"none",padding:0},children:Ya.proTips.map((e,t)=>a.jsx("p",{style:{fontSize:"0.9rem",margin:0,paddingLeft:"12px",borderLeft:"2px solid var(--color-purple)",textAlign:"left"},children:e},t))})]}),Ya.examples&&a.jsxs("div",{className:"help-section",children:[a.jsxs("h3",{style:{fontSize:"0.9rem"},children:[a.jsx(ue,{size:16,className:"text-cyan"})," Elite Elite Performance Samples"]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Ya.examples.map((e,t)=>a.jsxs("div",{style:{padding:"12px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",fontSize:"0.85rem",color:"var(--color-cyan)",border:"1px solid rgba(6, 182, 212, 0.1)",fontFamily:"monospace"},children:['"',e,'"']},t))})]}),Ya.onboarding&&a.jsxs("div",{className:"help-section",children:[a.jsxs("h3",{children:[a.jsx(we,{size:16,className:"text-purple"})," Mission-Critical Wheel House Information"]}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Ya.capabilities.map((e,t)=>a.jsx("span",{style:{padding:"6px 12px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"20px",fontSize:"0.75rem",color:"var(--color-purple)"},children:e},t))})]}),Ya.onboarding&&a.jsxs("div",{className:"help-section",children:[a.jsxs("h3",{children:[a.jsx(ue,{size:16,className:"text-cyan"})," Quick Start Steps"]}),a.jsx("div",{className:"onboarding-steps-list",children:Ya.onboarding.map((e,t)=>a.jsxs("div",{className:"onboarding-step-item",style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)"},children:[a.jsx("span",{className:"step-number",style:{background:"var(--color-purple)",color:"white",borderColor:"transparent"},children:t+1}),a.jsx("p",{style:{fontSize:"0.85rem",textAlign:"left",margin:0},children:e})]},t))})]}),Ya.explanation&&a.jsxs("div",{className:"help-section",style:{padding:"16px",background:"rgba(255,255,255,0.02)",borderRadius:"12px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[a.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"0.8rem",color:"var(--text-primary)",display:"flex",alignItems:"center",gap:"6px"},children:[a.jsx(Z,{size:14})," Technical Architecture"]}),a.jsx("p",{style:{margin:0,lineHeight:"1.5"},children:Ya.explanation})]}),Ya.examples&&a.jsxs("div",{className:"help-section",children:[a.jsxs("h3",{children:[a.jsx(m,{size:16,className:"text-orange"})," Example Prompts"]}),a.jsx("div",{className:"example-chips",children:Ya.examples.map((e,t)=>a.jsxs("button",{className:"example-chip",onClick:()=>{navigator.clipboard.writeText(e),s.success("Example copied to clipboard!")},style:{textAlign:"left",width:"100%",marginBottom:"4px"},children:['"',e,'"']},t))}),a.jsx("p",{className:"tiny-hint",children:"Click an example to copy and use"})]}),Ya.helpTips&&a.jsxs("div",{className:"help-section pro-tip-box",style:{background:"linear-gradient(135deg, rgba(234, 179, 8, 0.1), transparent)",border:"1px solid rgba(234, 179, 8, 0.2)"},children:[a.jsxs("h3",{style:{color:"#eab308"},children:[a.jsx(ge,{size:16})," Pro Tip"]}),a.jsx("p",{style:{color:"var(--text-primary)",fontSize:"0.9rem"},children:Ya.helpTips})]})]}),a.jsx("div",{className:"modal-footer",children:a.jsxs("button",{className:"cta-button-premium",onClick:()=>{vr(Ya),Ja(null)},children:["Launch ",Ya.name]})})]})}),Xa&&a.jsx(i.Suspense,{fallback:a.jsx(vt,{}),children:a.jsx(gt,{agent:Xa,onClose:()=>Za(null),projects:Sr,onSaveToProject:Go,onCreateProject:qo,user:Pt,userCredits:nr,setUserCredits:lr,isAdmin:Vt})}),Qa&&a.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"center",padding:"1rem"},onClick:()=>Ka(!1),children:a.jsxs("div",{className:"modal-content",style:{maxWidth:"min(92vw, 700px)",width:"100%",margin:"auto"},onClick:e=>e.stopPropagation(),children:[a.jsxs("div",{className:"modal-header",style:{position:"relative"},children:[a.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:"1.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingRight:"40px"},children:[a.jsx(ye,{size:20,className:"text-purple",style:{flexShrink:0}}),"Add Agent to Project"]}),a.jsx("button",{className:"modal-close",onClick:()=>Ka(!1),children:a.jsx(T,{size:20})})]}),a.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[a.jsxs("div",{style:{marginBottom:"24px"},children:[a.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:"600",marginBottom:"12px",color:"var(--text-secondary)"},children:["Your Agents (",Ga().length,")"]}),a.jsx("div",{className:"agents-studio-grid",style:{maxWidth:"100%",margin:0},children:Ga().map((e,t)=>{const r=e.icon,i=jr?.agents?.some(t=>t.id===e.id);return a.jsxs("div",{className:`agent-studio-card ${e.colorClass} ${i?"opacity-50":""}`,style:{animationDelay:.05*t+"s",position:"relative",cursor:i?"not-allowed":"pointer"},onClick:()=>!i&&(e=>{if(!jr||!e)return;const t=Array.isArray(jr.agents)?jr.agents:[];let r=Vt?999:3;if(Vt||("Creator"===dr&&(r=5),"Studio Pro"!==dr&&"Lifetime Access"!==dr||(r=16)),t.length>=r)return void s.error(`Agent limit reached for ${dr} plan. Please upgrade.`);if(t.some(t=>t.id===e.id))return void Lo(`${e.name} is already in this project.`);const i={...jr,agents:[...t,e]};wr(i),kr(e=>e.map(e=>e.id===i.id?i:e)),Ka(!1),Lo(`${e.name} added to project.`)})(e),children:[i&&a.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",background:"var(--color-purple)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:a.jsx(Ce,{size:12,color:"white"})}),a.jsx("div",{className:"agent-studio-icon",children:a.jsx(r,{size:24})}),a.jsxs("div",{className:"agent-studio-info",children:[a.jsx("h3",{children:e.name}),a.jsx("p",{children:e.category})]}),a.jsx("button",{className:"agent-launch-btn",disabled:i,style:{opacity:i?.5:1,pointerEvents:i?"none":"auto"},children:i?"Added":"Add to Project"})]},e.id)})})]}),qa().length>0&&a.jsxs("div",{children:[a.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:"600",marginBottom:"12px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"8px"},children:[a.jsx(de,{size:14}),"Upgrade to Unlock (",qa().length,")"]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:qa().map(e=>{const t=e.icon,r="monthly"===e.tier?"Monthly":"Pro",i="monthly"===e.tier?"var(--color-cyan)":"var(--color-purple)";return a.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.02)",border:"1px solid rgba(255, 255, 255, 0.06)",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"10px",opacity:.6,cursor:"pointer"},onClick:()=>{Ka(!1),$t?(_s("subscription"),_a("mystudio")):Xt(!0)},children:[a.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:a.jsx(t,{size:16,style:{opacity:.5}})}),a.jsxs("div",{style:{flex:1,minWidth:0},children:[a.jsx("div",{style:{fontWeight:"600",fontSize:"0.85rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),a.jsx("div",{style:{fontSize:"0.65rem",color:i,fontWeight:"600",textTransform:"uppercase"},children:r})]}),a.jsx(de,{size:12,style:{color:"var(--text-secondary)",flexShrink:0}})]},e.id)})})]})]})]})}),as&&a.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>os(!1),children:a.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 520px)",width:"100%",margin:"1rem auto"},children:[a.jsxs("div",{className:"modal-header",children:[a.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[a.jsx(W,{size:20,className:"text-purple"}),"Voice Commands"]}),a.jsx("button",{className:"modal-close",onClick:()=>os(!1),children:a.jsx(T,{size:20})})]}),a.jsxs("div",{className:"modal-body",style:{textAlign:"left",padding:"16px 24px"},children:[a.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"16px"},children:"Click the mic button and say any of these commands:"}),["Navigation","Actions","Settings","Voice"].map(e=>a.jsxs("div",{style:{marginBottom:"16px"},children:[a.jsx("h4",{style:{fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"1px",color:"var(--color-purple)",marginBottom:"8px"},children:e}),kt.filter(t=>t.category===e).map((e,t)=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"8px",marginBottom:"6px",fontSize:"0.85rem"},children:[a.jsxs("div",{children:[a.jsx("span",{style:{fontWeight:"600",color:"white"},children:e.command}),a.jsx("span",{style:{color:"var(--text-secondary)",marginLeft:"8px",fontSize:"0.75rem"},children:e.description})]}),a.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-cyan)",fontStyle:"italic"},children:e.example})]},t))]},e)),a.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.1))",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:a.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:["ðŸ’¡ ",a.jsx("strong",{style:{color:"white"},children:"Pro Tip:"})," Say anything else and it will be added to your prompt as dictation."]})})]}),a.jsx("div",{className:"modal-footer",style:{padding:"16px 24px"},children:a.jsxs("button",{className:"cta-button-premium "+(Ki?"listening":""),onClick:()=>{os(!1),fn()},style:{width:"100%"},children:[a.jsx(W,{size:18}),Ki?"Stop Listening":"Start Listening"]})})]})}),Ki&&a.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",animation:"fadeInUp 0.3s ease"},children:[ns&&a.jsx("div",{style:{background:"rgba(0,0,0,0.9)",padding:"12px 20px",borderRadius:"12px",color:"white",fontSize:"0.9rem",maxWidth:"300px",textAlign:"center",border:"1px solid rgba(139, 92, 246, 0.3)"},children:a.jsxs("span",{style:{color:"var(--color-cyan)"},children:['"',ns,'"']})}),a.jsxs("div",{style:{background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",padding:"16px 24px",borderRadius:"50px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.4)",cursor:"pointer"},onClick:fn,children:[a.jsxs("div",{style:{position:"relative",width:"24px",height:"24px"},children:[a.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"50%",background:"white",animation:"pulse 1.5s ease-in-out infinite"}}),a.jsx(W,{size:24,style:{position:"relative",zIndex:1,color:"var(--color-purple)"}})]}),a.jsx("span",{style:{color:"white",fontWeight:"600",fontSize:"0.9rem"},children:"Listening..."}),a.jsx("button",{style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},onClick:e=>{e.stopPropagation(),fn()},children:a.jsx(T,{size:16})})]}),ds&&a.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"4px"},children:['Last: "',ds.text.substring(0,25),ds.text.length>25?"...":"",'"']})]}),Ns&&a.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Is(null),children:a.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(95vw, 500px)",width:"100%",margin:"2rem auto"},children:[a.jsx("button",{className:"modal-close",onClick:()=>Is(null),children:a.jsx(T,{size:20})}),a.jsxs("div",{className:"modal-body",style:{padding:"24px"},children:[a.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"700",marginBottom:"8px",display:"flex",alignItems:"center",gap:"10px",color:"white"},children:[a.jsx(ie,{className:"text-cyan",size:24}),"Export for Distribution"]}),a.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",marginBottom:"24px"},children:"Prepare your audio for streaming platforms and digital distribution."}),a.jsxs("div",{style:{marginBottom:"20px"},children:[a.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",display:"block",marginBottom:"8px"},children:"EXPORT PRESET"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[{id:"streaming",label:"Streaming",desc:"Spotify, Apple Music",specs:"44.1kHz / 16-bit / -14 LUFS"},{id:"youtube",label:"YouTube",desc:"Video platforms",specs:"48kHz / 16-bit / -14 LUFS"},{id:"cd",label:"CD Quality",desc:"Physical release",specs:"44.1kHz / 16-bit / -9 LUFS"},{id:"hires",label:"Hi-Res",desc:"Audiophile",specs:"96kHz / 24-bit / -14 LUFS"},{id:"podcast",label:"Podcast",desc:"Spoken word",specs:"44.1kHz / 16-bit / -16 LUFS"}].map(e=>a.jsxs("button",{onClick:()=>Us(e.id),style:{padding:"12px",background:Rs===e.id?"linear-gradient(135deg, var(--color-purple), var(--color-cyan))":"rgba(255,255,255,0.05)",border:Rs===e.id?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.1)",borderRadius:"10px",cursor:"pointer",textAlign:"left"},children:[a.jsx("div",{style:{fontWeight:"600",color:"white",fontSize:"0.9rem"},children:e.label}),a.jsx("div",{style:{fontSize:"0.7rem",color:Rs===e.id?"rgba(255,255,255,0.8)":"var(--text-secondary)"},children:e.desc}),a.jsx("div",{style:{fontSize:"0.65rem",color:"var(--color-cyan)",marginTop:"4px"},children:e.specs})]},e.id))})]}),a.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"10px",padding:"16px",marginBottom:"20px"},children:[a.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"10px"},children:"PLATFORM COMPATIBILITY"}),a.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["Apple Music","Spotify","YouTube Music","Amazon Music","Tidal","Deezer"].map(e=>a.jsxs("span",{style:{padding:"4px 10px",background:"rgba(16, 185, 129, 0.2)",borderRadius:"12px",fontSize:"0.7rem",color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(Ce,{size:12})," ",e]},e))})]}),a.jsx("button",{onClick:async()=>{if(!Ns?.audioUrl)return void s.error("No audio to export");Ts(!0);const e=s.loading("Mastering audio...");try{const t=Ns.audioUrl.split(",")[1],r=await fetch(`${g}/api/master-audio`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audioBase64:t,preset:Rs})}),i=await r.json();if(!i.audioUrl)throw new Error(i.error||"Export failed - no audio URL returned");{const t=document.createElement("a");t.href=i.audioUrl,t.download=`${Ns.title||"audio"}-mastered-${Rs}.wav`,t.click(),s.success(`Exported for ${Rs}!`,{id:e}),Is(null)}}catch(t){s.error("Export failed: "+(t.message||"Check your connection"),{id:e})}finally{Ts(!1)}},disabled:As,style:{width:"100%",padding:"14px",background:As?"rgba(255,255,255,0.1)":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",border:"none",borderRadius:"10px",color:"white",fontWeight:"600",fontSize:"0.95rem",cursor:As?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:As?a.jsxs(a.Fragment,{children:[a.jsx(oe,{size:16,className:"spin"}),"Mastering..."]}):a.jsxs(a.Fragment,{children:[a.jsx(P,{size:16}),"Export & Download"]})})]})]})})]}):a.jsx("div",{className:`studio-container ${mr}-theme`,style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-primary)"},children:a.jsxs("div",{style:{textAlign:"center",maxWidth:"420px",padding:"40px",background:"var(--bg-secondary)",borderRadius:"16px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[a.jsx(m,{size:48,style:{color:"#a855f7",marginBottom:"16px"}}),a.jsxs("h2",{style:{fontSize:"1.5rem",marginBottom:"8px",color:"var(--text-primary)"},children:["Welcome to Studio Agents V3.5",a.jsx("span",{style:{fontSize:"0.8rem",color:"var(--color-purple)",display:"block",marginTop:"4px",fontWeight:"bold",letterSpacing:"2px"},children:"PRO EDITION"})]}),a.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Sign in to access your AI-powered creative studio"}),a.jsxs("form",{onSubmit:Zo,style:{marginBottom:"20px"},children:[a.jsx("input",{type:"email",placeholder:"Email address",value:tr,onChange:e=>rr(e.target.value),required:!0,style:{width:"100%",padding:"12px 16px",marginBottom:"12px",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.3)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"1rem",outline:"none",boxSizing:"border-box"}}),a.jsx("input",{type:"password",placeholder:"Password",value:ir,onChange:e=>sr(e.target.value),required:!0,minLength:6,style:{width:"100%",padding:"12px 16px",marginBottom:"12px",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.3)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"1rem",outline:"none",boxSizing:"border-box"}}),a.jsxs("button",{type:"submit",disabled:ar,className:"btn-pill primary",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[a.jsx(h,{size:18}),ar?"Please wait...":"signup"===Zt?"Create Account":"Sign In with Email"]}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[a.jsx("button",{type:"button",onClick:()=>er("signup"===Zt?"login":"signup"),style:{background:"transparent",border:"none",color:"#a855f7",cursor:"pointer",fontSize:"0.85rem"},children:"signup"===Zt?"Already have an account? Sign in":"Need an account? Sign up"}),"login"===Zt&&a.jsx("button",{type:"button",onClick:en,style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.85rem"},children:"Forgot password?"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"16px 0",gap:"12px"},children:[a.jsx("div",{style:{flex:1,height:"1px",background:"rgba(139, 92, 246, 0.2)"}}),a.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"or"}),a.jsx("div",{style:{flex:1,height:"1px",background:"rgba(139, 92, 246, 0.2)"}})]}),a.jsxs("button",{onClick:Xo,disabled:ar,className:"btn-pill",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",background:"transparent",border:"1px solid rgba(139, 92, 246, 0.3)",color:"var(--text-primary)"},children:[a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),ar?"Signing in...":"Continue with Google"]}),a.jsx("button",{onClick:An,className:"btn-pill",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"16px",background:"transparent",border:"1px solid rgba(139, 92, 246, 0.15)",color:"var(--text-secondary)"},children:"Continue as Guest (Limited Features)"}),a.jsx("button",{onClick:r,style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem"},children:"â† Back to Home"})]})}):a.jsx("div",{className:`studio-container ${mr}-theme`,style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-primary)"},children:a.jsxs("div",{style:{textAlign:"center"},children:[a.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(168, 85, 247, 0.2)",borderTopColor:"#a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),a.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Studio..."})]})})}},Symbol.toStringTag,{value:"Module"}));export{Rt as S,ot as a,lt as b,nt as f};
