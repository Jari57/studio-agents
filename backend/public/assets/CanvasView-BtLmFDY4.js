import{r as e,j as t,R as r}from"./react-vendor-03wl4UEb.js";import{a8 as i,aa as s,k as a,S as o,aq as n,ak as l,e as d,M as c,N as p,P as x,p as g,$ as y,Q as u,g as h,J as b,X as m,am as f,ac as v,ad as j,U as w,B as k,O as S,ax as z,aw as C,Z as I}from"./icons-cSZgEuwX.js";import"./vendor-DPgDnBIk.js";function R({selectedProject:R,setSelectedProject:A,projects:U,setProjects:T,canvasPreviewAsset:W,setCanvasPreviewAsset:N,canvasAudioRef:L,isMobile:B,setActiveTab:E,setShowOrchestrator:O,setSelectedAgent:D,setShowAddAgentModal:$,AGENTS:F,getAgentHex:H,formatImageSrc:P,formatVideoSrc:M,formatAudioSrc:Y,safeOpenPreview:G,PRODUCTION_STAGES:V,socialConnections:q,SectionErrorBoundary:X,SafeAssetWrapper:J,toast:K}){const[Q,Z]=e.useState("all"),[_,ee]=e.useState(!1),[te,re]=e.useState(null),[ie,se]=e.useState(!1),[ae,oe]=e.useState(""),[ne,le]=e.useState(0),[de,ce]=e.useState(!1),pe=e.useRef(null),xe=W,ge=N,ye=e.useMemo(()=>{let e=Array.isArray(R?.assets)?R.assets.filter(Boolean):[];if(te){const t=V.find(e=>e.key===te);t&&t.assetTypes.length>0&&(e=e.filter(e=>t.assetTypes.includes((e.type||"").toLowerCase())))}if("all"!==Q&&!te){const t={audio:["audio"],vocal:["vocal"],visual:["image","visual"],video:["video"],text:["text","lyrics","script"],pro:["pro"]}[Q]||[];e=e.filter(e=>t.includes((e.type||"").toLowerCase()))}return e},[R?.assets,Q,te,V]),ue=e.useMemo(()=>{const e=Array.isArray(R?.assets)?R.assets.filter(Boolean):[];return V.map(t=>{if("idea"===t.key)return{...t,status:"complete",count:1};const r=e.filter(e=>t.assetTypes.includes((e.type||"").toLowerCase()));return{...t,status:r.length>0?"complete":"empty",count:r.length}})},[R?.assets,V]),he=e.useMemo(()=>{const e=ue.filter(e=>"complete"===e.status).length;return Math.round(e/V.length*100)},[ue,V.length]);e.useEffect(()=>{le(0)},[Q,te]),e.useEffect(()=>{ne>=ye.length&&ye.length>0&&le(ye.length-1)},[ye.length,ne]);const be=e=>{pe.current=e.touches[0].clientX},me=e=>{if(null===pe.current)return;const t=pe.current-e.changedTouches[0].clientX;Math.abs(t)>60&&(t>0&&ne<ye.length-1?le(e=>e+1):t<0&&ne>0&&le(e=>e-1)),pe.current=null};return R?t.jsx(X,{name:"Project Canvas",children:t.jsxs("div",{className:"project-canvas-view animate-fadeIn",style:{display:"flex",flexDirection:"column",minHeight:"100vh",position:"relative"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",padding:B?"16px":"20px 24px",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(255,255,255,0.02)",flexWrap:"wrap"},children:[t.jsx("button",{onClick:()=>E("hub"),className:"btn-icon-circle back-btn",style:{flexShrink:0},children:t.jsx(i,{size:20})}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[ie?t.jsx("input",{autoFocus:!0,value:ae,onChange:e=>oe(e.target.value),onBlur:()=>{if(ae.trim()){const e={...R,name:ae.trim()};A(e),T(t=>Array.isArray(t)?t.map(t=>t?.id===e.id?e:t):[])}se(!1)},onKeyDown:e=>{"Enter"===e.key&&e.target.blur(),"Escape"===e.key&&se(!1)},style:{background:"rgba(255,255,255,0.1)",border:"1px solid var(--color-purple)",borderRadius:"8px",padding:"6px 12px",color:"white",fontSize:"1.3rem",fontWeight:"700",width:"100%",outline:"none"}}):t.jsxs("h1",{onClick:()=>{oe(R.name||""),se(!0)},style:{margin:0,fontSize:B?"1.1rem":"1.3rem",fontWeight:"700",cursor:"pointer",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"flex",alignItems:"center",gap:"8px"},title:"Click to rename",children:[R.name||"Untitled Project",t.jsx(s,{size:14,style:{opacity:.4,flexShrink:0}})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"4px",flexWrap:"wrap"},children:[t.jsx("span",{className:"badge",style:{fontSize:"0.7rem"},children:R.category||"General"}),t.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:R.date||"Just now"}),t.jsxs("span",{style:{fontSize:"0.7rem",padding:"2px 10px",borderRadius:"20px",background:100===he?"rgba(16, 185, 129, 0.2)":"rgba(168, 85, 247, 0.15)",color:100===he?"#10b981":"var(--color-purple)",fontWeight:"600"},children:[he,"% complete"]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexShrink:0},children:[t.jsx("button",{onClick:()=>ee(!0),className:"btn-icon-circle glass",title:"Project Details",style:{background:_?"rgba(168,85,247,0.3)":void 0},children:t.jsx(a,{size:18})}),t.jsxs("button",{className:"btn-pill primary",onClick:()=>O(!0),style:{fontSize:"0.85rem"},children:[t.jsx(o,{size:16})," Open Orchestrator"]})]})]}),t.jsxs("div",{style:{padding:B?"16px 12px":"20px 24px",overflowX:"auto",overflowY:"hidden",borderBottom:"1px solid rgba(255,255,255,0.06)",background:"rgba(0,0,0,0.15)",WebkitOverflowScrolling:"touch"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0",minWidth:"max-content",justifyContent:B?"flex-start":"center"},children:ue.map((e,i)=>{const s=e.icon,a=te===e.key,o="complete"===e.status;return t.jsxs(r.Fragment,{children:[i>0&&t.jsx("div",{style:{width:B?"24px":"48px",height:"2px",background:"complete"===ue[i-1].status&&o?`linear-gradient(90deg, ${ue[i-1].color}, ${e.color})`:"rgba(255,255,255,0.1)",transition:"background 0.4s ease",flexShrink:0}}),t.jsxs("button",{onClick:()=>re(a?null:e.key),title:`${e.label}${e.count?` (${e.count})`:""}`,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"6px",background:"none",border:"none",cursor:"pointer",padding:"4px 8px",position:"relative",flexShrink:0,transition:"transform 0.2s ease",transform:a?"scale(1.1)":"scale(1)"},children:[t.jsx("div",{style:{width:B?"36px":"44px",height:B?"36px":"44px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:o?`rgba(${e.colorRgb}, 0.2)`:"rgba(255,255,255,0.05)",border:a?`2px solid ${e.color}`:o?`1.5px solid rgba(${e.colorRgb}, 0.5)`:"1.5px solid rgba(255,255,255,0.1)",boxShadow:o?`0 0 16px rgba(${e.colorRgb}, 0.3)`:"none",transition:"all 0.3s ease"},children:t.jsx(s,{size:B?16:20,style:{color:o?e.color:"rgba(255,255,255,0.3)"}})}),t.jsx("span",{style:{fontSize:"0.6rem",fontWeight:"700",letterSpacing:"0.05em",color:a?e.color:o?"rgba(255,255,255,0.7)":"rgba(255,255,255,0.3)",transition:"color 0.3s ease"},children:e.label}),e.count>0&&"idea"!==e.key&&t.jsx("span",{style:{position:"absolute",top:"-4px",right:"-2px",background:e.color,color:"white",fontSize:"0.55rem",fontWeight:"700",width:"16px",height:"16px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:`0 0 8px rgba(${e.colorRgb}, 0.5)`},children:e.count})]})]},e.key)})}),te&&t.jsx("div",{style:{textAlign:"center",marginTop:"8px"},children:t.jsx("button",{onClick:()=>re(null),style:{background:"none",border:"none",color:"var(--text-secondary)",fontSize:"0.75rem",cursor:"pointer",textDecoration:"underline"},children:"Clear filter — show all"})})]}),t.jsxs("div",{style:{display:"flex",flex:1,minHeight:B?"400px":"500px",position:"relative",overflow:"hidden"},children:[t.jsxs("div",{style:{flex:xe&&!B?"0 0 55%":"1",display:xe&&B?"none":"flex",flexDirection:"column",overflow:"hidden",transition:"flex 0.3s ease",borderRight:xe&&!B?"1px solid rgba(255,255,255,0.06)":"none"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:B?"12px":"14px 24px",overflowX:"auto",borderBottom:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.02)"},children:[[{key:"all",label:"ALL"},{key:"audio",label:"Audio"},{key:"vocal",label:"Vocals"},{key:"visual",label:"Visual"},{key:"video",label:"Video"},{key:"text",label:"Text"}].map(e=>t.jsx("button",{onClick:()=>{Z(e.key),re(null)},style:{padding:"6px 16px",borderRadius:"20px",fontSize:"0.78rem",fontWeight:Q!==e.key||te?"500":"600",background:Q!==e.key||te?"rgba(255,255,255,0.05)":"rgba(168, 85, 247, 0.2)",color:Q!==e.key||te?"var(--text-secondary)":"var(--color-purple)",border:"none",cursor:"pointer",whiteSpace:"nowrap",transition:"all 0.2s ease"},children:e.label},e.key)),t.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"8px",flexShrink:0},children:[t.jsxs("button",{className:"btn-pill",onClick:()=>O(!0),style:{fontSize:"0.78rem",padding:"6px 14px"},children:[t.jsx(o,{size:13})," Generate"]}),t.jsxs("label",{style:{padding:"6px 14px",borderRadius:"20px",fontSize:"0.78rem",background:"rgba(6, 182, 212, 0.15)",color:"var(--color-cyan)",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontWeight:"500"},children:[t.jsx("input",{type:"file",accept:"audio/*,image/*,video/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t),r=t.type.startsWith("audio")?"Audio":t.type.startsWith("video")?"Video":"Image",i={id:String(Date.now()),title:t.name,type:r,agent:"User Upload",date:"Just now",color:"agent-cyan",snippet:`Uploaded ${r} file`,audioUrl:t.type.startsWith("audio")?e:null,videoUrl:t.type.startsWith("video")?e:null,imageUrl:t.type.startsWith("image")?e:null},s={...R,assets:[i,...R.assets||[]]};A(s),T(e=>Array.isArray(e)?e.map(e=>e.id===s.id?s:e):[s])}}}),t.jsx(n,{size:13})," Upload"]})]})]}),B?t.jsx("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden"},children:ye.length>0?t.jsxs(t.Fragment,{children:[t.jsxs("div",{style:{padding:"8px 12px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid rgba(255,255,255,0.04)"},children:[t.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",fontWeight:"500"},children:[ne+1," of ",ye.length]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsx("button",{disabled:0===ne,onClick:()=>le(e=>e-1),style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",background:0===ne?"rgba(255,255,255,0.03)":"rgba(255,255,255,0.08)",color:0===ne?"rgba(255,255,255,0.2)":"white",cursor:0===ne?"default":"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(l,{size:16})}),t.jsx("button",{disabled:ne>=ye.length-1,onClick:()=>le(e=>e+1),style:{width:"32px",height:"32px",borderRadius:"8px",border:"none",background:ne>=ye.length-1?"rgba(255,255,255,0.03)":"rgba(255,255,255,0.08)",color:ne>=ye.length-1?"rgba(255,255,255,0.2)":"white",cursor:ne>=ye.length-1?"default":"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(d,{size:16})})]})]}),(()=>{const e=ye[ne];if(!e)return null;const r=void 0!==F&&F?F.find(t=>t.name===e.agent||t.id===e.agent):null,i=r?.color||"var(--color-purple)";return t.jsx("div",{style:{flex:1,overflowY:"auto",padding:"8px 10px 12px",WebkitOverflowScrolling:"touch"},onTouchStart:be,onTouchEnd:me,children:t.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.06)",overflow:"hidden",borderLeft:`3px solid ${i}`},children:[t.jsxs("div",{style:{padding:"12px 14px",display:"flex",alignItems:"center",gap:"8px",borderBottom:"1px solid rgba(255,255,255,0.05)",background:"rgba(255,255,255,0.02)"},children:[t.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:i,flexShrink:0}}),t.jsx("div",{style:{flex:1,fontWeight:600,fontSize:"0.95rem",color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||"Untitled"}),t.jsx("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",background:"rgba(255,255,255,0.05)",padding:"2px 8px",borderRadius:"8px",flexShrink:0},children:e.type})]}),e.videoUrl?t.jsx("video",{src:M(e.videoUrl),controls:!0,playsInline:!0,style:{width:"100%",maxHeight:"50vh",background:"#000"},onPlay:e=>{document.querySelectorAll("audio, video").forEach(t=>{t!==e.target&&t.pause()})}}):e.imageUrl?t.jsx("img",{src:P(e.imageUrl),alt:e.title||"Asset",style:{width:"100%",maxHeight:"50vh",objectFit:"contain",background:"#000"},onError:e=>{e.target.style.display="none"}}):e.audioUrl?t.jsxs("div",{style:{padding:"16px"},children:[t.jsxs("div",{style:{background:"rgba(0,0,0,0.3)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.08)",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{className:"pulse-icon",style:{flexShrink:0},children:t.jsx(c,{size:20,className:"text-purple"})}),t.jsx("audio",{src:Y(e.audioUrl),controls:!0,crossOrigin:"anonymous",style:{flex:1,height:"36px"},onPlay:e=>{document.querySelectorAll("audio, video").forEach(t=>{t!==e.target&&t.pause()})}})]}),(e.content||e.snippet)&&t.jsx("div",{style:{marginTop:"12px",whiteSpace:"pre-wrap",fontSize:"0.9rem",lineHeight:"1.7",color:"rgba(255,255,255,0.85)",wordWrap:"break-word"},children:e.content||e.snippet})]}):e.content||e.snippet?t.jsx("div",{style:{padding:"16px",whiteSpace:"pre-wrap",fontSize:"0.95rem",lineHeight:"1.8",color:"rgba(255,255,255,0.9)",fontFamily:"'Georgia', 'Times New Roman', serif",maxHeight:"55vh",overflowY:"auto",wordWrap:"break-word"},children:e.content||e.snippet}):t.jsx("div",{style:{padding:"40px",textAlign:"center",color:"var(--text-secondary)",fontStyle:"italic"},children:"No preview available"}),t.jsxs("div",{style:{padding:"10px 14px",borderTop:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("span",{style:{fontSize:"0.72rem",color:"var(--text-secondary)"},children:[e.agent," • ",e.date]}),t.jsx("div",{style:{display:"flex",gap:"6px"},children:(e.audioUrl||e.videoUrl||e.imageUrl)&&t.jsx("button",{onClick:()=>{const t=Y(e.audioUrl)||M(e.videoUrl)||P(e.imageUrl);if(t){const r=document.createElement("a");r.href=t,r.download=e.title||"asset",r.click()}},style:{width:"30px",height:"30px",borderRadius:"8px",border:"none",background:"rgba(255,255,255,0.06)",color:"var(--text-secondary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(p,{size:14})})})]})]})})})()]}):t.jsxs("div",{style:{padding:"40px 20px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"2px dashed rgba(255,255,255,0.05)",margin:"12px"},children:[t.jsx(a,{size:48,style:{opacity:.2,marginBottom:"16px"}}),t.jsx("h3",{style:{color:"var(--text-secondary)",marginBottom:"8px"},children:te||"all"!==Q?"No matching assets":"No generations yet"}),t.jsx("p",{style:{color:"var(--text-secondary)",opacity:.7,maxWidth:"400px",margin:"0 auto 24px auto"},children:te||"all"!==Q?"Try a different filter or generate new assets.":"Start by opening the Orchestrator or uploading files."}),t.jsxs("button",{className:"btn-pill primary",onClick:()=>O(!0),children:[t.jsx(o,{size:16})," Start Creating"]})]})}):t.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px 24px"},children:ye.length>0?t.jsx("div",{style:{display:"grid",gridTemplateColumns:xe&&!B?"repeat(auto-fill, minmax(180px, 1fr))":`repeat(auto-fill, minmax(${B?"160px":"220px"}, 1fr))`,gap:B?"12px":"16px"},children:ye.map((e,r)=>{if(!e||"object"!=typeof e)return null;const i=e.id||`asset-${r}`,s=void 0!==F&&F?F.find(t=>t.name===e.agent||t.id===e.agent):null,a=s?.color||"var(--color-purple)",o=xe?.id&&e.id&&xe.id===e.id;return t.jsx(J,{asset:e,children:t.jsxs("div",{onClick:()=>ge(e),style:{background:o?"rgba(168, 85, 247, 0.08)":"rgba(255,255,255,0.03)",borderRadius:"14px",overflow:"hidden",border:o?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.06)",borderLeft:`3px solid ${a}`,cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column"},onMouseEnter:e=>{o||(e.currentTarget.style.borderColor="rgba(255,255,255,0.15)",e.currentTarget.style.background="rgba(255,255,255,0.05)",e.currentTarget.style.transform="translateY(-2px)")},onMouseLeave:e=>{o||(e.currentTarget.style.borderColor="rgba(255,255,255,0.06)",e.currentTarget.style.background="rgba(255,255,255,0.03)"),e.currentTarget.style.transform="translateY(0)"},children:[t.jsxs("div",{style:{width:"100%",aspectRatio:"16/9",background:"rgba(0,0,0,0.3)",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.imageUrl?t.jsx("img",{src:P(e.imageUrl),alt:e.title||"Asset",style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.style.display="none"}}):e.videoUrl?t.jsxs(t.Fragment,{children:[t.jsx("video",{src:M(e.videoUrl),style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,playsInline:!0,preload:"auto",onLoadedMetadata:e=>{const t=Math.min(1,.1*e.target.duration||0);0===e.target.currentTime&&t>0&&(e.target.currentTime=t)},onError:e=>{e.target.style.display="none"}}),t.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"36px",height:"36px",borderRadius:"50%",background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:t.jsx(x,{size:18,style:{color:"white",marginLeft:"2px"}})})]}):e.audioUrl?t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"6px"},children:[t.jsx(c,{size:28,style:{color:"var(--color-purple)"}}),t.jsx("div",{style:{width:"50%",height:"3px",background:"rgba(255,255,255,0.1)",borderRadius:"2px"},children:t.jsx("div",{style:{width:"40%",height:"100%",background:"var(--color-purple)",borderRadius:"2px"}})})]}):t.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",padding:"8px"},children:[t.jsx(g,{size:24,style:{color:"var(--color-cyan)"}}),(e.content||e.snippet)&&t.jsx("div",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",textAlign:"center",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.3",maxWidth:"90%"},children:(e.content||e.snippet).substring(0,60)})]}),t.jsxs("div",{style:{position:"absolute",top:"6px",left:"6px",background:"rgba(0,0,0,0.65)",backdropFilter:"blur(4px)",padding:"3px 7px",borderRadius:"5px",fontSize:"0.6rem",color:"white",display:"flex",alignItems:"center",gap:"3px"},children:["video"===e.type?.toLowerCase()&&t.jsx(y,{size:9}),("audio"===e.type?.toLowerCase()||"vocal"===e.type?.toLowerCase())&&t.jsx(c,{size:9}),("image"===e.type?.toLowerCase()||"visual"===e.type?.toLowerCase())&&t.jsx(u,{size:9}),("text"===e.type?.toLowerCase()||"lyrics"===e.type?.toLowerCase()||"script"===e.type?.toLowerCase())&&t.jsx(g,{size:9}),"pro"===e.type?.toLowerCase()&&t.jsx(h,{size:9}),e.type]})]}),t.jsxs("div",{style:{padding:"10px 12px"},children:[t.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:"4px"},children:e.title}),t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:a,flexShrink:0}}),e.agent]}),t.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:e.date})]})]})]})},i)})}):t.jsxs("div",{style:{padding:B?"40px 20px":"60px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"2px dashed rgba(255,255,255,0.05)"},children:[t.jsx(a,{size:48,style:{opacity:.2,marginBottom:"16px"}}),t.jsx("h3",{style:{color:"var(--text-secondary)",marginBottom:"8px"},children:te||"all"!==Q?"No matching assets":"No generations yet"}),t.jsx("p",{style:{color:"var(--text-secondary)",opacity:.7,maxWidth:"400px",margin:"0 auto 24px auto"},children:te||"all"!==Q?"Try a different filter or generate new assets with the Orchestrator.":"Start by opening the Studio Orchestrator or uploading your own files."}),t.jsxs("button",{className:"btn-pill primary",onClick:()=>O(!0),children:[t.jsx(o,{size:16})," Start Creating"]})]})})]}),xe&&!B&&t.jsxs("div",{style:{flex:B?"1":"0 0 45%",display:"flex",flexDirection:"column",overflow:"hidden",background:"rgba(0,0,0,0.2)",animation:"detailSlideIn 0.3s ease",position:B?"absolute":"relative",inset:B?0:void 0,zIndex:B?20:1,backgroundColor:B?"var(--color-bg-secondary, #0d0d12)":void 0},children:[t.jsxs("div",{style:{padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.06)",display:"flex",alignItems:"center",gap:"12px",background:"rgba(255,255,255,0.02)",flexShrink:0},children:[B&&t.jsx("button",{onClick:()=>ge(null),className:"btn-icon-circle",style:{flexShrink:0},children:t.jsx(i,{size:18})}),t.jsxs("div",{style:{flex:1,minWidth:0},children:[t.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"white",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:xe.title}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx(b,{size:10})," ",xe.agent," • ",xe.date]})]}),!B&&t.jsx("button",{onClick:()=>ge(null),className:"btn-icon-circle glass",title:"Close",style:{flexShrink:0},children:t.jsx(m,{size:16})})]}),t.jsxs("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column"},children:[t.jsxs("div",{style:{minHeight:B?"250px":"300px",display:"flex",alignItems:"center",justifyContent:"center",background:"#000",position:"relative"},children:[xe.videoUrl&&t.jsx("video",{src:M(xe.videoUrl),controls:!0,playsInline:!0,style:{width:"100%",maxHeight:"400px",objectFit:"contain"},onError:e=>{e.target.style.display="none";const t=e.target.parentElement?.querySelector(".media-error-fallback");t&&(t.style.display="flex")}}),!xe.videoUrl&&xe.imageUrl&&t.jsx("img",{src:P(xe.imageUrl),alt:xe.title||"Asset",style:{width:"100%",maxHeight:"400px",objectFit:"contain"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"%3E%3Crect fill="%231a1a2e" width="200" height="200"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}),!xe.videoUrl&&!xe.imageUrl&&t.jsxs("div",{style:{width:"100%",padding:B?"20px":"32px",display:"flex",flexDirection:"column",background:"linear-gradient(180deg, rgba(6, 182, 212, 0.05) 0%, rgba(168, 85, 247, 0.05) 100%)",minHeight:"200px"},children:[xe.audioUrl&&t.jsxs("div",{style:{marginBottom:"16px",background:"rgba(0,0,0,0.4)",padding:"14px",borderRadius:"14px",border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",gap:"14px"},children:[t.jsx("div",{className:"pulse-icon",style:{flexShrink:0},children:t.jsx(c,{size:22,className:"text-purple"})}),t.jsx("audio",{ref:L,src:Y(xe.audioUrl),controls:!0,crossOrigin:"anonymous",style:{flex:1,height:"36px"},onPlay:e=>{document.querySelectorAll("audio, video").forEach(t=>{t!==e.target&&t.pause()})},onError:e=>{const t=xe.audioUrl;if(t&&!e.target.dataset.retried&&(e.target.dataset.retried="true",t.startsWith("http")))return e.target.removeAttribute("crossorigin"),void(e.target.src=t);K.error("Could not load audio file")}},xe.id||xe.audioUrl)]}),(xe.content||xe.snippet)&&t.jsx("div",{style:{flex:1,overflowY:"auto",padding:B?"14px":"20px",background:"rgba(0,0,0,0.3)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",boxShadow:"inset 0 2px 10px rgba(0,0,0,0.5)"},children:t.jsx("div",{style:{fontFamily:"'Georgia', 'Times New Roman', serif",fontSize:B?"0.95rem":"1.1rem",lineHeight:"1.8",color:"rgba(255,255,255,0.9)",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:xe.content||xe.snippet})}),!xe.audioUrl&&!(xe.content||xe.snippet)&&t.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",fontStyle:"italic"},children:"No preview content available."})]})]}),t.jsx("div",{style:{padding:"16px 20px",display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px"},children:[{label:"Type",value:xe.type||"Unknown"},{label:"Agent",value:xe.agent||"System"},{label:"Created",value:xe.date||"Unknown"}].map(e=>t.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"10px",borderRadius:"10px",textAlign:"center"},children:[t.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.05em"},children:e.label}),t.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"600",color:"white"},children:e.value})]},e.label))}),t.jsxs("div",{style:{padding:"12px 20px 20px",display:"flex",gap:"8px",flexWrap:"wrap",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[t.jsxs("button",{onClick:()=>{try{const e=xe.audioUrl||xe.videoUrl||xe.imageUrl;if(!e){if(xe.content||xe.snippet){const e=new Blob([xe.content||xe.snippet],{type:"text/plain"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`${xe.title||"asset"}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),K.success("Text file downloaded")}else K.error("No downloadable content");return}const t=document.createElement("a");t.href=e,t.download=xe.title||"download",document.body.appendChild(t),t.click(),document.body.removeChild(t),K.success("Download started")}catch(e){K.error("Download failed")}},className:"btn-pill",style:{flex:1,justifyContent:"center",fontSize:"0.8rem",padding:"8px 12px"},children:[t.jsx(p,{size:14})," Download"]}),t.jsxs("button",{onClick:()=>{const e=Array.isArray(R?.assets)?R.assets.filter(Boolean):[];G(xe,e)},className:"btn-pill",style:{flex:1,justifyContent:"center",fontSize:"0.8rem",padding:"8px 12px"},children:[t.jsx(f,{size:14})," Fullscreen"]}),(xe.content||xe.snippet)&&t.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(xe.content||xe.snippet||""),K.success("Text copied")},className:"btn-pill",style:{flex:1,justifyContent:"center",fontSize:"0.8rem",padding:"8px 12px"},children:[t.jsx(v,{size:14})," Copy Text"]}),t.jsx("button",{onClick:()=>{try{if(confirm(`Delete "${xe.title||"this asset"}"?`)){const e=(Array.isArray(R?.assets)?R.assets:[]).filter(e=>e?.id!==xe.id),t={...R,assets:e,updatedAt:(new Date).toISOString()};A(t),T(e=>Array.isArray(e)?e.map(e=>e.id===t.id?t:e):[t]),ge(e[0]||null),K.success("Asset deleted")}}catch(e){K.error("Could not delete asset")}},className:"btn-pill",style:{justifyContent:"center",fontSize:"0.8rem",padding:"8px 12px",background:"rgba(239,68,68,0.15)",color:"var(--color-red, #ef4444)"},children:t.jsx(j,{size:14})})]})]})]})]}),_&&t.jsxs(t.Fragment,{children:[t.jsx("div",{onClick:()=>ee(!1),style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",zIndex:90,backdropFilter:"blur(4px)"}}),t.jsxs("div",{style:{position:"fixed",top:0,right:0,bottom:0,width:B?"85vw":"380px",maxWidth:"420px",background:"var(--color-bg-secondary, #12121a)",borderLeft:"1px solid rgba(255,255,255,0.08)",zIndex:91,overflowY:"auto",padding:"24px",animation:"slideInFromRight 0.3s ease",display:"flex",flexDirection:"column",gap:"24px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[t.jsx("h2",{style:{margin:0,fontSize:"1.1rem",fontWeight:"700"},children:"Project Details"}),t.jsx("button",{onClick:()=>ee(!1),className:"btn-icon-circle glass",children:t.jsx(m,{size:18})})]}),t.jsxs("div",{children:[t.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",fontSize:"0.95rem"},children:[t.jsx(w,{size:16,className:"text-purple"})," The Team"]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[R.agents&&R.agents.length>0?R.agents.filter(Boolean).map((e,r)=>{const i="object"==typeof e?e.id||e.name:e,s=void 0!==F&&F?F.find(e=>e.id===i||e.name===i)||("object"==typeof e?e:F[0]||null):"object"==typeof e?e:null;if(!s)return null;const a=H(s);return t.jsxs("div",{className:"haptic-press",onClick:()=>D(s),style:{padding:"10px",background:"rgba(255,255,255,0.05)",borderRadius:"10px",display:"flex",alignItems:"center",gap:"10px",cursor:"pointer",border:"1px solid transparent",borderLeft:`3px solid ${a}`,transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.borderColor=a,e.currentTarget.style.borderLeftWidth="3px"},onMouseLeave:e=>{e.currentTarget.style.borderColor="transparent",e.currentTarget.style.borderLeft=`3px solid ${a}`},children:[t.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"50%",background:`${a}33`,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:"function"==typeof s.icon?t.jsx(s.icon,{size:18,color:a}):t.jsx(b,{size:18,color:a})}),t.jsxs("div",{style:{minWidth:0,flex:1},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx("span",{style:{fontWeight:"600",fontSize:"0.9rem"},children:s.name}),s.category&&t.jsx("span",{style:{padding:"1px 5px",background:`${a}1A`,color:a,borderRadius:"5px",fontSize:"0.55rem",fontWeight:"600"},children:s.category})]}),s.capabilities&&s.capabilities.length>0&&t.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"2px"},children:s.capabilities.slice(0,2).join(" · ")})]})]},s.id||r)}):t.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"No agents selected"}),t.jsx("button",{onClick:()=>$(!0),style:{width:"100%",padding:"10px",border:"1px dashed var(--text-secondary)",borderRadius:"10px",color:"var(--text-secondary)",background:"transparent",cursor:"pointer",fontSize:"0.85rem"},children:"+ Add Agent"})]})]}),t.jsxs("div",{children:[t.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",fontSize:"0.95rem"},children:[t.jsx(k,{size:16,className:"text-cyan"})," Narrative & Vision"]}),t.jsx("textarea",{value:R?.description||"",onChange:e=>{if(!R)return;const t={...R,description:e.target.value};A(t),T(e=>Array.isArray(e)?e.map(e=>e?.id===t.id?t:e):[])},className:"narrative-textarea",placeholder:"Describe your project vision here...",style:{width:"100%",minHeight:"120px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"10px",padding:"12px",color:"white",fontSize:"0.85rem",resize:"vertical"}})]}),t.jsxs("div",{children:[t.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",fontSize:"0.95rem"},children:[t.jsx(S,{size:16,className:"text-pink"})," Marketing"]}),R.socialHandle&&t.jsxs("div",{style:{background:"rgba(6, 182, 212, 0.1)",borderRadius:"10px",padding:"14px",marginBottom:"12px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[t.jsx(S,{size:16,className:"text-cyan"}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:R.socialHandle}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"capitalize"},children:[R.socialPlatform," • ",R.category]})]})]}),R.socialBio&&t.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",fontStyle:"italic",padding:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},children:["“",R.socialBio,"”"]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.78rem",background:q.twitter?"rgba(29, 161, 242, 0.2)":"rgba(255,255,255,0.1)",color:q.twitter?"#1DA1F2":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx(z,{size:13})," ",q.twitter?"Connected":"Link X"]}),t.jsxs("div",{style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.78rem",background:q.instagram?"rgba(225, 48, 108, 0.2)":"rgba(255,255,255,0.1)",color:q.instagram?"#E1306C":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[t.jsx(C,{size:13})," ",q.instagram?"Connected":"Link IG"]})]})]}),t.jsxs("div",{style:{padding:"16px",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)",marginTop:"auto"},children:[t.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",fontSize:"0.95rem",color:"var(--color-purple)"},children:[t.jsx(I,{size:16})," Studio Orchestrator"]}),t.jsx("p",{style:{fontSize:"0.78rem",color:"var(--text-secondary)",marginBottom:"12px"},children:"Generate lyrics, beats, visuals & more with one click."}),t.jsxs("button",{className:"btn-pill primary",style:{width:"100%",justifyContent:"center"},onClick:()=>{O(!0),ee(!1)},children:[t.jsx(o,{size:16})," Open Orchestrator"]})]})]})]})]})}):t.jsx("div",{className:"p-8 text-center animate-fadeIn",children:t.jsx("div",{style:{opacity:.6},children:"Loading project..."})})}export{R as default};
