import{r as e,j as t}from"./react-vendor-IsfVT3T0.js";import{B as n}from"./index-CXBP47Cm.js";import{a as i}from"./firebase-6G-aKvFP.js";import{Z as r,ae as o,S as a,r as s,aG as l,p as c,aw as d,$ as p,a6 as g}from"./icons-CvE9mhwa.js";import{t as h}from"./firebase-BSr-wbnk.js";import"./vendor-hWrmgIvi.js";function u({icon:n,title:i,color:r,output:o,isLoading:s,delay:l=0}){const[c,d]=e.useState(!1),{displayed:p,isTyping:g}=function(t,n=20,i=!1){const[r,o]=e.useState(""),[a,s]=e.useState(!1);return e.useEffect(()=>{if(!i||!t)return void o("");s(!0),o("");let e=0;const r=setInterval(()=>{e<t.length?(o(t.slice(0,e+1)),e++):(s(!1),clearInterval(r))},n);return()=>clearInterval(r)},[t,i,n]),{displayed:r,isTyping:a}}(o,15,c);return e.useEffect(()=>{if(o&&!s){const e=setTimeout(()=>d(!0),l);return()=>clearTimeout(e)}d(!1)},[o,s,l]),t.jsxs("div",{style:{background:"rgba(0,0,0,0.4)",borderRadius:"16px",padding:"16px",border:`1px solid ${r}22`,position:"relative",overflow:"hidden",minHeight:"140px"},children:[t.jsx("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:`radial-gradient(circle at center, ${r}08 0%, transparent 50%)`,pointerEvents:"none"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",position:"relative",zIndex:1},children:[t.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"10px",background:`${r}20`,border:`1px solid ${r}40`,display:"flex",alignItems:"center",justifyContent:"center"},children:n?t.jsx(n,{size:16,color:r}):t.jsx(a,{size:16,color:r})}),t.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:r,textTransform:"uppercase",letterSpacing:"0.05em"},children:i}),(s||g)&&t.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:r,marginLeft:"auto",animation:"pulse 1s infinite"}})]}),t.jsx("div",{style:{position:"relative",zIndex:1},children:s?t.jsx("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:t.jsxs("div",{className:"loading-dots",children:[t.jsx("span",{style:{background:r}}),t.jsx("span",{style:{background:r}}),t.jsx("span",{style:{background:r}})]})}):o?t.jsxs("p",{style:{fontSize:"0.9rem",lineHeight:"1.5",color:"rgba(255,255,255,0.9)",margin:0,whiteSpace:"pre-wrap"},children:[p,g&&t.jsx("span",{className:"cursor-blink",children:"|"})]}):t.jsx("p",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.3)",fontStyle:"italic",margin:0},children:"Waiting for input..."})})]})}function x({onCreateProject:x=null}){const m=e.useRef(null);(t=>{e.useEffect(()=>{if(!t?.current)return;const e=new IntersectionObserver(t=>{t.forEach(t=>{if(t.isIntersecting){const n=t.target;n.dataset.src&&(n.src=n.dataset.src,n.removeAttribute("data-src"),e.unobserve(n))}})},{rootMargin:"50px"});return t.current.querySelectorAll("img[data-src]").forEach(t=>e.observe(t)),()=>e.disconnect()},[t])})(m);const[y,f]=e.useState(""),[b,j]=e.useState("English"),[v,k]=e.useState("Modern Hip-Hop"),[S,w]=e.useState("Gemini 2.0 Flash"),[z,I]=e.useState(!1),[$,C]=e.useState(!1),[W,R]=e.useState({hook:null,caption:null,hashtags:null,pitch:null}),[E,T]=e.useState(null),[P,B]=e.useState(!1),G=e.useRef(null),H=async()=>{if(!y.trim())return;I(!0),T(null),R({hook:null,caption:null,hashtags:null,pitch:null});let e="";try{i.currentUser&&(e=await h(i.currentUser))}catch(r){}const t={hook:{prompt:`Write a 2-line viral song hook for: "${y}". Language: ${b}. Style: ${v}. Make it catchy, memorable, under 20 words total. Just the hook, no explanation.`,systemInstruction:`You are a hit songwriter. Write only the hook lyrics in ${b}, nothing else.`},caption:{prompt:`Write a short Instagram caption (max 15 words) for a new song about: "${y}". Style: ${v}. Include 1 emoji. Just the caption.`,systemInstruction:`You are a social media expert for musicians. Write in ${b}.`},hashtags:{prompt:`Generate 5 trending hashtags for a song about: "${y}". Style: ${v}. Format: #tag1 #tag2 #tag3 #tag4 #tag5`,systemInstruction:"You are a music marketing specialist."},pitch:{prompt:`Write a one-sentence elevator pitch for a song about: "${y}". Language: ${b}. Style: ${v}. Make it compelling for a record label. Under 25 words.`,systemInstruction:`You are a music industry A&R. Write in ${b}.`}};try{const i={"Gemini 2.0 Flash":"gemini-2.0-flash","Gemini 2.0 Pro (Exp)":"gemini-2.0-pro-exp-02-05","Gemini 1.5 Flash":"gemini-1.5-flash","Gemini 1.5 Pro":"gemini-1.5-pro"}[S]||"gemini-2.0-flash",r={...W},a=async(t,o,a)=>{try{const s={"Content-Type":"application/json"};e&&(s.Authorization=`Bearer ${e}`);const l=await fetch(`${n}/api/generate`,{method:"POST",headers:s,body:JSON.stringify({prompt:o,systemInstruction:a,model:i})});if(!l.ok)throw new Error(`API returned ${l.status}`);const c=await l.json();if(!c.output)throw new Error("No output in response");const d=c.output.trim();return r[t]=d,R(e=>({...e,[t]:d})),d}catch(s){const e={hook:"Feel the rhythm in your soul tonight\nWe're burning bright, we own the light",caption:"New heat dropping soon ðŸ”¥ Stay tuned",hashtags:"#NewMusic #ComingSoon #Vibes #HitSong #MusicLife",pitch:"A genre-defying anthem that captures the raw energy of chasing your dreams."}[t];return r[t]=e,R(n=>({...n,[t]:e})),e}},s=Object.entries(t).map(([e,{prompt:t,systemInstruction:n}])=>a(e,t,n));await Promise.all(s),I(!1),C(!0);try{const t=[{agent:"Ghostwriter",type:"hook",content:r.hook},{agent:"Social Copy",type:"caption",content:r.caption},{agent:"Hashtag Engine",type:"hashtags",content:r.hashtags},{agent:"Pitch Writer",type:"pitch",content:r.pitch}],i=await fetch(`${n}/api/orchestrate`,{method:"POST",headers:e?{"Content-Type":"application/json",Authorization:`Bearer ${e}`}:{"Content-Type":"application/json"},body:JSON.stringify({agentOutputs:t,projectName:y,projectDescription:`Multi-agent demo for song concept: ${y}`})}),o=await i.json();if(!i.ok||!o.output)throw new Error(o.error||"Orchestration failed");T(o.output)}catch(o){T(`## Production Summary: ${y}\n\nThis project combines a catchy ${v} hook with a strategic social media rollout. The creative direction focuses on the core theme of "${y}", ensuring consistency across the lyrics, marketing copy, and industry pitch.\n\n### NEXT STEPS:\n1. Record the hook with high-energy delivery.\n2. Use the generated social copy for your reveal post.\n3. Send the elevator pitch to targeted playlisters and labels.`)}finally{C(!1)}}catch(o){I(!1)}};return t.jsxs("div",{ref:m,className:"multi-agent-demo",style:{background:"linear-gradient(180deg, rgba(139, 92, 246, 0.05) 0%, rgba(6, 182, 212, 0.05) 100%)",borderRadius:"24px",padding:"32px 24px",border:"1px solid rgba(139, 92, 246, 0.2)",maxWidth:"800px",margin:"0 auto",boxSizing:"border-box",overflow:"hidden"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 14px",background:"rgba(139, 92, 246, 0.15)",borderRadius:"20px",marginBottom:"12px"},children:[t.jsx(r,{size:14,color:"#8b5cf6"}),t.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#8b5cf6",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Live Demo"})]}),t.jsxs("h3",{style:{fontSize:"1.5rem",fontWeight:"700",marginBottom:"8px"},children:["One Idea â†’ ",t.jsx("span",{style:{color:"#06b6d4"},children:"Four Agents"})]}),t.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Enter a song concept and watch our AI agents work in parallel."})]}),t.jsxs("div",{style:{marginBottom:"24px"},children:[t.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px",flexWrap:"wrap"},children:[t.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"4px",textTransform:"uppercase",fontWeight:"600"},children:"Language"}),t.jsx("select",{value:b,onChange:e=>j(e.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontSize:"0.85rem",outline:"none",cursor:"pointer"},children:["English","Spanish","French","German","Japanese","Korean","Portuguese","Italian","Chinese"].map(e=>t.jsx("option",{value:e,style:{background:"#1a1a1a"},children:e},e))})]}),t.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"4px",textTransform:"uppercase",fontWeight:"600"},children:"Style"}),t.jsx("select",{value:v,onChange:e=>k(e.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontSize:"0.85rem",outline:"none",cursor:"pointer"},children:["Modern Hip-Hop","90s Boom Bap","Trap","R&B / Soul","Pop","Rock","Electronic","Cinematic","Jazz","Lo-Fi"].map(e=>t.jsx("option",{value:e,style:{background:"#1a1a1a"},children:e},e))})]}),t.jsxs("div",{style:{flex:1,minWidth:"150px"},children:[t.jsx("label",{style:{display:"block",fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"4px",textTransform:"uppercase",fontWeight:"600"},children:"Model"}),t.jsx("select",{value:S,onChange:e=>w(e.target.value),style:{width:"100%",padding:"8px 12px",borderRadius:"8px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontSize:"0.85rem",outline:"none",cursor:"pointer"},children:["Gemini 2.0 Flash","Gemini 2.0 Pro (Exp)","Gemini 1.5 Flash","Gemini 1.5 Pro"].map(e=>t.jsx("option",{value:e,style:{background:"#1a1a1a"},children:e},e))})]})]}),t.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[t.jsx("input",{ref:G,type:"text",value:y,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"===e.key&&H(),placeholder:"Describe your song idea...",style:{flex:1,padding:"14px 18px",borderRadius:"12px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontSize:"1rem",outline:"none",transition:"border-color 0.2s"}}),t.jsx("button",{onClick:H,disabled:z||!y.trim(),style:{padding:"14px 24px",borderRadius:"12px",background:z?"rgba(139, 92, 246, 0.3)":"linear-gradient(135deg, #8b5cf6, #06b6d4)",border:"none",color:"white",fontWeight:"600",cursor:z||!y.trim()?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s",opacity:y.trim()?1:.5},children:z?t.jsxs(t.Fragment,{children:[t.jsx(o,{size:18,className:"spin"}),"Generating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(a,{size:18}),"Generate"]})})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[t.jsxs("button",{onClick:()=>B(!P),style:{padding:"6px 12px",borderRadius:"8px",background:P?"rgba(139, 92, 246, 0.2)":"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:P?"#a855f7":"var(--text-secondary)",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[t.jsx(s,{size:14}),P?"Hide Ideas":"Need Ideas?"]}),P&&t.jsx("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap",animation:"fadeIn 0.2s ease"},children:["Summer love in Brooklyn","Chasing dreams at midnight","Heartbreak on the highway","Rise from the struggle"].map((e,n)=>t.jsx("button",{onClick:()=>{(e=>{f(e),G.current?.focus()})(e),B(!1)},style:{padding:"4px 10px",borderRadius:"16px",background:"rgba(139, 92, 246, 0.15)",border:"1px solid rgba(139, 92, 246, 0.3)",color:"rgba(255,255,255,0.8)",fontSize:"0.75rem",cursor:"pointer",transition:"all 0.2s"},children:e},n))})]})]}),t.jsxs("div",{className:"agent-outputs-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:[t.jsx(u,{icon:l,title:"Ghostwriter",color:"#8b5cf6",output:W.hook,isLoading:z&&!W.hook,delay:0}),t.jsx(u,{icon:c,title:"Social Copy",color:"#06b6d4",output:W.caption,isLoading:z&&!W.caption,delay:50}),t.jsx(u,{icon:d,title:"Hashtag Engine",color:"#f59e0b",output:W.hashtags,isLoading:z&&!W.hashtags,delay:100}),t.jsx(u,{icon:p,title:"Pitch Writer",color:"#ec4899",output:W.pitch,isLoading:z&&!W.pitch,delay:150})]}),($||E)&&t.jsxs("div",{style:{marginTop:"24px",padding:"20px",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(6, 182, 212, 0.15) 100%)",borderRadius:"16px",border:"1px solid rgba(168, 85, 247, 0.3)",position:"relative",overflow:"hidden"},children:[t.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:"linear-gradient(90deg, #8b5cf6, #06b6d4, #ec4899, #8b5cf6)",backgroundSize:"200% 100%",animation:$?"shimmer 2s linear infinite":"none"}}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, #8b5cf6, #06b6d4)",display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(r,{size:20,color:"white"})}),t.jsxs("div",{children:[t.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"700",color:"white"},children:"AMO Master Output"}),t.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Agent Model Orchestrator â€¢ Combined Production"})]}),$&&t.jsxs("div",{style:{marginLeft:"auto",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(o,{size:16,className:"spin",color:"#8b5cf6"}),t.jsx("span",{style:{fontSize:"0.8rem",color:"#8b5cf6"},children:"Orchestrating..."})]})]}),$?t.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)"},children:t.jsx("p",{style:{margin:0},children:"Combining agent outputs into a cohesive master..."})}):E?t.jsx("div",{style:{background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"16px",maxHeight:"300px",overflowY:"auto"},children:t.jsx("p",{style:{fontSize:"0.9rem",lineHeight:"1.6",color:"rgba(255,255,255,0.9)",margin:0,whiteSpace:"pre-wrap"},children:E})}):null,E&&x&&t.jsxs("button",{onClick:()=>{if(!x||!y)return;const e={id:String(Date.now()),name:y,category:"music",description:`Multi-agent demo project: ${y}`,language:b,style:v,model:S,date:(new Date).toLocaleDateString(),status:"active",progress:25,assets:[{id:"hook-1",type:"text",title:"Song Hook",content:W.hook,agent:"Ghostwriter"},{id:"social-1",type:"text",title:"Social Copy",content:W.caption,agent:"Social Copy"},{id:"tags-1",type:"text",title:"Hashtags",content:W.hashtags,agent:"Hashtag Engine"},{id:"pitch-1",type:"text",title:"Elevator Pitch",content:W.pitch,agent:"Pitch Writer"},{id:"master-1",type:"text",title:"Master Orchestration",content:E,agent:"AMO"}].filter(e=>e.content)};x(e)},style:{marginTop:"16px",width:"100%",padding:"12px",borderRadius:"10px",background:"white",color:"black",fontWeight:"bold",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[t.jsx(g,{size:18}),"Create Project from these Results"]})]}),t.jsx("style",{children:"\n        .loading-dots {\n          display: flex;\n          gap: 4px;\n        }\n        .loading-dots span {\n          width: 6px;\n          height: 6px;\n          border-radius: 50%;\n          animation: bounce 1.4s infinite ease-in-out both;\n        }\n        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }\n        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }\n        .loading-dots span:nth-child(3) { animation-delay: 0s; }\n        \n        @keyframes bounce {\n          0%, 80%, 100% { transform: scale(0); opacity: 0.5; }\n          40% { transform: scale(1); opacity: 1; }\n        \n        @keyframes shimmer {\n          0% { background-position: -200% 0; }\n          100% { background-position: 200% 0; }\n        }\n        \n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.4; }\n        }\n        \n        .cursor-blink {\n          animation: blink 0.8s infinite;\n          color: #06b6d4;\n        }\n        \n        @keyframes blink {\n          0%, 50% { opacity: 1; }\n          51%, 100% { opacity: 0; }\n        }\n        \n        .spin {\n          animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})}export{x as default};
