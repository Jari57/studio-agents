const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StudioOrchestratorV2--2en8-Ef.js","assets/react-vendor-CjBIKxub.js","assets/vendor-BjQYSgJ0.js","assets/index-CsqmRd78.js","assets/icons-sm9AlQ1A.js","assets/firebase-CsHVfR93.js","assets/index-35ssocqH.css","assets/QuickWorkflow-9_1a38WV.js","assets/ProjectHubV3-B4w9JdiP.js","assets/NewsHub-CDC2AODL.js"])))=>i.map(i=>d[i]);
import{a as e,A as t,B as r,t as s,d as i,b as a,u as n,c as o,_ as l}from"./index-CsqmRd78.js";import{r as d,z as c,j as p,F as x,R as g}from"./react-vendor-CjBIKxub.js";import{o as u,k as m,n as h,p as y,h as b,j as v,l as f,m as j,G as w,s as k,q as S}from"./firebase-CsHVfR93.js";import{S as N,w as C,x as z,g as I,F as T,y as A,B as R,G as U,z as B,I as P,J as W,K as D,N as $,O as E,X as L,C as M,M as O,Q as _,W as F,Y as H,_ as V,$ as G,a0 as q,a1 as Y,V as J,a2 as Q,a3 as K,a4 as X,a5 as Z,P as ee,a6 as te,Z as re,a7 as se,e as ie,a8 as ae,a9 as ne,aa as oe,t as le,h as de,d as ce,ab as pe,ac as xe,ad as ge,ae as ue,b as me,a as he,af as ye,p as be,ag as ve,ah as fe,ai as je,aj as we,R as ke,i as Se,ak as Ne,v as Ce,j as ze,U as Ie,al as Te,r as Ae,am as Re,an as Ue,ao as Be,T as Pe,ap as We,aq as De,n as $e,m as Ee,ar as Le,as as Me,at as Oe,au as _e,A as Fe,av as He,aw as Ve,ax as Ge,ay as qe,az as Ye,aA as Je,aB as Qe,s as Ke}from"./icons-sm9AlQ1A.js";let Xe=!1;const Ze="pitch";function et(){Xe=!0,localStorage.setItem("demoMode","true")}function tt(){return Xe?(Xe=!1,localStorage.removeItem("demoMode")):et(),Xe}function rt(){return Xe}new URLSearchParams(window.location.search).get("demo")===Ze&&(Xe=!0,localStorage.setItem("demoMode","true")),"true"===localStorage.getItem("demoMode")&&(Xe=!0);const st={ghostwriter:"**Verse 1:**\nI came up from the basement, now I'm touching ceilings\nEvery scar on my heart, turned into healing\nThey said I wouldn't make it, look at me now\nStack my paper to the sky, take a bow\n\n**Hook:**\nStarted from the bottom, now we at the top\nDreams in my pocket, never gonna stop\nEvery door they closed, I kicked it down\nKing of my city, wear that crown\n\n**Verse 2:**\nMidnight sessions, pouring out my soul\nEvery word I write is making me whole\nThey tried to dim my light, but I shine brighter\nEvery struggle made me a fighter\n\n---\n*Generated in Demo Mode - Connect API for personalized lyrics*","release-strategist":"## Release Strategy Analysis\n\n**Commercial Viability: 8.5/10**\nYour track has strong commercial potential with its melodic hook and contemporary production.\n\n**Key Strengths:**\n- Catchy melodic structure that supports playlist placement\n- Production quality meets industry standards\n- Target demographic alignment: 18-34 urban/suburban\n\n**Recommended Release Strategy:**\n1. **Pre-save Campaign** (2 weeks before) - Build anticipation with teaser content\n2. **Playlist Pitching** - Target RapCaviar, Most Necessary, and genre-specific playlists\n3. **Content Rollout** - 3 TikTok clips, 2 Instagram Reels, 1 YouTube Short\n\n**Optimal Release Day:** Friday (maximizes first-week streaming)\n\n---\n*Generated in Demo Mode - Connect API for real analysis*","sample-hunter":'## Sample Recommendations\n\nBased on your vibe, here are hidden gems from the crates:\n\n**1. "Distant Dreams" - The Soul Searchers (1974)**\n- BPM: 92 | Key: Am\n- Flip potential: That string section at 1:45 is untouched\n- Clearance: Medium difficulty (independent label)\n\n**2. "Morning Light" - Sunrise Orchestra (1978)**\n- BPM: 88 | Key: Dm  \n- Flip potential: Piano loop at intro, drum break at 2:30\n- Clearance: Easy (public domain in most territories)\n\n**3. "Urban Poetry" - City Jazz Ensemble (1982)**\n- BPM: 95 | Key: Gm\n- Flip potential: Bass line throughout, horn stabs at chorus\n- Clearance: Contact rights holder directly\n\n---\n*Generated in Demo Mode - Connect API for real sample discovery*',"visual-director":'## Music Video Treatment\n\n**Concept: "Rise & Reign"**\n\n**Visual Theme:** Contrast between struggle and success, using split-screen storytelling\n\n**Key Scenes:**\n1. **Opening (0:00-0:15):** Artist in dimly lit room, writing lyrics by candlelight\n2. **Verse 1 (0:15-0:45):** Flashback montage - humble beginnings, rejection letters burning\n3. **Hook (0:45-1:15):** Transition to sold-out venue, crowd going crazy\n4. **Verse 2 (1:15-1:45):** Behind-the-scenes studio footage, team celebration\n5. **Outro (1:45-2:00):** Artist on rooftop at sunrise, city below\n\n**Color Palette:** Deep blues and blacks for past, gold and white for present\n\n**Estimated Budget:** $15,000 - $25,000\n\n---\n*Generated in Demo Mode - Connect API for full creative treatment*',"brand-architect":"## Brand Identity Blueprint\n\n**Artist Archetype:** The Visionary Pioneer\n\n**Core Brand Pillars:**\n1. **Authenticity** - Raw, unfiltered storytelling\n2. **Innovation** - Pushing sonic boundaries\n3. **Community** - Elevating the culture\n\n**Visual Identity:**\n- Primary Colors: Deep purple (#6B21A8), Gold (#F59E0B)\n- Typography: Bold sans-serif for headlines, clean serif for body\n- Logo Concept: Abstract crown merging with sound wave\n\n**Voice & Tone:**\n- Confident but not arrogant\n- Inspirational without being preachy\n- Street-smart with intellectual depth\n\n**Content Themes:**\n- Studio sessions & process\n- Community spotlights\n- Personal growth journey\n\n---\n*Generated in Demo Mode - Connect API for full brand strategy*","tour-architect":'## Tour Routing Proposal\n\n**Tour Name:** "The Ascension Tour"\n\n**Phase 1: Regional Circuit (8 dates)**\n- Week 1: Atlanta â†’ Charlotte â†’ Raleigh\n- Week 2: DC â†’ Philly â†’ NYC\n- Week 3: Boston â†’ Brooklyn\n\n**Venue Recommendations:**\n- 500-800 cap rooms for intimate energy\n- Focus on venues with strong local press relationships\n- Priority: Rooms with quality sound systems\n\n**Budget Estimate:**\n- Venue costs: $2,500/night avg\n- Travel: $1,200/week\n- Crew (2 people): $3,000/week\n- Merch investment: $5,000 upfront\n\n**Projected Revenue:**\n- Ticket sales (70% capacity): $28,000\n- Merch: $8,000\n- Net profit potential: $12,000-$15,000\n\n---\n*Generated in Demo Mode - Connect API for real tour planning*',default:"## AI Response\n\nThank you for your input! Here's a thoughtful response based on your request:\n\n**Key Insights:**\n- Your concept shows strong creative potential\n- There are several strategic angles to explore\n- The market conditions favor this type of content\n\n**Recommendations:**\n1. Focus on authenticity and unique voice\n2. Build consistent content around your core message  \n3. Engage your community early and often\n4. Measure results and iterate quickly\n\n**Next Steps:**\n- Refine your core concept\n- Test with a small audience\n- Scale what works\n\n---\n*Generated in Demo Mode - Connect API for personalized AI assistance*"};const it={container:{position:"fixed",bottom:"20px",right:"20px",padding:"12px 20px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"#000",borderRadius:"8px",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",zIndex:9999,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",cursor:"pointer"},icon:"ðŸŽ­",text:"Demo Mode Active"},at=e=>e?"object"==typeof e?e.url?e.url:e.b64_json?`data:image/png;base64,${e.b64_json}`:Array.isArray(e)&&e[0]?"string"==typeof e[0]?e[0]:e[0].url||null:null:"string"!=typeof e?null:e.startsWith("http")||e.startsWith("data:")?e:e.length>500?`data:image/png;base64,${e}`:e:null,nt=e=>{if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){if(e.url)return e.url;if(e.audio)return e.audio;if(Array.isArray(e)&&e[0])return"string"==typeof e[0]?e[0]:e[0].url||e[0].audio||""}return""},ot=e=>{if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){if(e.url)return e.url;if(e.video)return e.video;if(Array.isArray(e)&&e[0])return"string"==typeof e[0]?e[0]:e[0].url||e[0].video||""}return""},lt=Ie,dt=H,ct=d.lazy(()=>l(()=>import("./StudioOrchestratorV2--2en8-Ef.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),pt=d.lazy(()=>l(()=>import("./QuickWorkflow-9_1a38WV.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),xt=d.lazy(()=>l(()=>import("./ProjectHubV3-B4w9JdiP.js"),__vite__mapDeps([8,1,2,4,3,5,6]))),gt=d.lazy(()=>l(()=>import("./NewsHub-CDC2AODL.js"),__vite__mapDeps([9,1,2,4]))),ut=({children:e,asset:t,fallback:r=null})=>{try{return t&&"object"==typeof t?e:r||p.jsx("div",{style:{padding:"12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px",color:"rgba(239,68,68,0.8)",fontSize:"0.8rem"},children:"Invalid asset data"})}catch(s){return r||p.jsx("div",{style:{padding:"12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px",color:"rgba(239,68,68,0.8)",fontSize:"0.8rem"},children:"Failed to render asset"})}},mt=(e,t,r="")=>{try{if(!e||"object"!=typeof e)return r;const s=e[t];return null==s?r:s}catch{return r}},ht=e=>e&&"object"==typeof e?{...e,id:e.id||`proj_${Date.now()}`,title:"string"==typeof e.title?e.title:"Untitled Project",assets:Array.isArray(e.assets)?e.assets.filter(e=>e&&"object"==typeof e):[],agents:Array.isArray(e.agents)?e.agents:[],tags:Array.isArray(e.tags)?e.tags:[],createdAt:e.createdAt||(new Date).toISOString()}:null,yt=e=>Array.isArray(e)?e.map(ht).filter(Boolean):[];class bt extends g.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?p.jsxs("div",{style:{padding:"24px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"2rem",marginBottom:"12px"},children:"âš ï¸"}),p.jsxs("h3",{style:{margin:"0 0 8px",color:"var(--text-primary)"},children:[this.props.name||"Section"," temporarily unavailable"]}),p.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"16px"},children:"This section encountered an issue. Click below to reload it."}),p.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",cursor:"pointer"},children:"Try Again"})]}):this.props.children}}const vt=()=>p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",color:"var(--text-secondary)"},children:[p.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid rgba(168,85,247,0.2)",borderTopColor:"#a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}),"Loading..."]}),ft=["jari57@gmail.com","info@studioagentsai.com"],jt=[{id:"welcome",title:"Welcome to The Studio",content:"16 AI agents ready to help you write, produce, and grow your music career.",detail:"Pick an agent to start. That's it."}];const wt=Object.freeze(Object.defineProperty({__proto__:null,default:function({onBack:l,startWizard:g,startOrchestrator:Xe,startTour:ht,initialPlan:wt,initialTab:kt}){const St=()=>{const e=window.location.hash;return e.startsWith("#/studio/")?e.split("/")[2]:"agents"},[Nt,Ct]=d.useState(St());d.useEffect(()=>{const e=()=>{const e=St();e!==Nt&&Ct(e)};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[Nt]);const zt=e=>{e!==Nt&&(Ct(e),window.location.hash=`#/studio/${e}`,s(`/studio/${e}`,`Studio - ${e.charAt(0).toUpperCase()+e.slice(1)}`))},It=((e,t,r)=>{const s=d.useRef(null),i=d.useRef(null),a=d.useRef(null),n=d.useRef(null);return{onTouchStart:e=>{s.current=e.targetTouches[0].clientX,i.current=e.targetTouches[0].clientY,a.current=null,n.current=null},onTouchMove:e=>{a.current=e.targetTouches[0].clientX,n.current=e.targetTouches[0].clientY},onTouchEnd:()=>{if(!s.current||!a.current)return;const o=s.current-a.current,l=i.current-n.current;if(Math.abs(o)>Math.abs(l)&&Math.abs(o)>50){const s=e.indexOf(t);o>0?s<e.length-1&&r(e[s+1]):s>0&&r(e[s-1])}}}})(["agents","mystudio","activity","news","resources","marketing"],Nt,zt),[Tt,At]=d.useState(()=>localStorage.getItem("studio_theme")||"dark"),[Rt,Ut]=d.useState(null),[Bt,Pt]=d.useState(null),[Wt,Dt]=d.useState(null),[$t,Et]=d.useState(()=>!!localStorage.getItem("studio_user_id")),[Lt,Mt]=d.useState(()=>"true"===localStorage.getItem("studio_guest_mode")),[Ot,_t]=d.useState(!0),[Ft,Ht]=d.useState(0),[Vt,Gt]=d.useState(null),[qt,Yt]=d.useState(!1),[Jt,Qt]=d.useState(!1),[Kt,Xt]=d.useState(!1),[Zt,er]=d.useState(!1),[tr,rr]=d.useState(""),[sr,ir]=d.useState(()=>{try{const e=localStorage.getItem("studio_agents_projects");if(e){return JSON.parse(e).sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r})}return[]}catch(e){return[]}});d.useEffect(()=>{if(sr&&Array.isArray(sr))try{localStorage.setItem("studio_agents_projects",JSON.stringify(sr))}catch(e){}},[sr]);const[ar,nr]=d.useState(!1),[or,lr]=d.useState(null),dr=d.useRef(null),cr=d.useRef(null),pr=d.useRef(null),xr=d.useRef(null),gr=d.useRef(null),ur=async(t,s)=>{Date.now();if(!t||!s||!s.id)return!1;try{const n={};for(const[e,t]of Object.entries(s))if(void 0!==t&&"function"!=typeof t)try{n[e]=JSON.parse(JSON.stringify(t))}catch(i){}let o=null;if(e?.currentUser)try{o=await e.currentUser.getIdToken(!0)}catch(a){}if(!o)return!1;const l=await fetch(`${r}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json",...o?{Authorization:`Bearer ${o}`}:{}},body:JSON.stringify({userId:t,project:{...n,id:String(s.id),updatedAt:(new Date).toISOString(),syncedAt:(new Date).toISOString()}})});if(!l.ok){const e=await l.json().catch(()=>({}));throw new Error(e.error||`HTTP ${l.status}`)}await l.json();return!0}catch(n){return c.error(`Save failed: ${n.message||"Network error"}`),!1}},mr=async(e,t)=>{if(e&&Array.isArray(t)&&0!==t.length){nr(!0);try{let s=0;for(const i of t)if(i&&i.id)try{await ur(e,i)&&s++}catch(r){}s>0?lr(new Date):t.length>0&&c.error("Sync failed - check your internet connection")}catch(s){c.error("Cloud sync failed. Projects saved locally.")}finally{nr(!1)}}};d.useEffect(()=>{if(Wt?.uid&&0!==sr.length&&e?.currentUser)return dr.current&&clearTimeout(dr.current),dr.current=setTimeout(()=>{mr(Wt.uid,sr)},3e3),()=>{dr.current&&clearTimeout(dr.current)}},[sr,Wt?.uid,e?.currentUser]);const[hr,yr]=d.useState(!1),[br,vr]=d.useState(!1),[fr,jr]=d.useState({audio:null,vocal:null,visual:null,audioVolume:.8,vocalVolume:1,bpm:120,timeSignature:"4/4",key:"C Major",frameRate:30,aspectRatio:"16:9",sampleRate:48e3,bitDepth:24,syncLocked:!0,generateRealAssets:!1,renderCount:0,maxRenders:3,lastRenderTime:null,renderHistory:[]}),[wr,kr]=d.useState([]),[Sr,Nr]=d.useState(-1),[Cr,zr]=d.useState(!1),Ir=e=>{let t;t="function"==typeof e?e(fr):e;const r=wr.slice(0,Sr+1);r.push(t),kr(r),Nr(r.length-1),jr(t)},[Tr,Ar]=d.useState(new Set),[Rr,Ur]=d.useState(!1),[Br,Pr]=d.useState(null),[Wr,Dr]=d.useState(""),[$r,Er]=d.useState(!0),[Lr,Mr]=d.useState(null),[Or,_r]=d.useState(null),[Fr,Hr]=d.useState(""),[Vr,Gr]=d.useState("lyrics"),[qr,Yr]=d.useState(null),[Jr,Qr]=d.useState(!1),[Kr,Xr]=d.useState(!1),[Zr,es]=d.useState({}),[ts,rs]=d.useState("idle"),ss=d.useRef(null),is=d.useRef(new Set),[as,ns]=d.useState(!1),[os,ls]=d.useState(!1),[ds,cs]=d.useState(!1),[ps,xs]=d.useState(!1),[gs,us]=d.useState(!1),[ms,hs]=d.useState(""),[ys,bs]=d.useState(null),[vs,fs]=d.useState({gender:"male",region:"US",language:"English",style:"rapper",rapStyle:"aggressive",voiceName:"rapper-male-1"}),js=[{command:"open [agent]",description:"Launch an agent",example:'"Open Ghostwriter"',category:"Navigation"},{command:"go to [section]",description:"Navigate to dashboard, hub, news, agents",example:'"Go to hub"',category:"Navigation"},{command:"generate",description:"Start generation with current prompt",example:'"Generate"',category:"Actions"},{command:"clear",description:"Clear the prompt",example:'"Clear prompt"',category:"Actions"},{command:"read back",description:"Read the prompt aloud",example:'"Read back"',category:"Actions"},{command:"switch theme",description:"Toggle dark/light mode",example:'"Switch theme"',category:"Settings"},{command:"stop",description:"Stop listening",example:'"Stop listening"',category:"Voice"}],[ws,ks]=d.useState(!1),[Ss,Ns]=d.useState(null),[Cs,zs]=d.useState(()=>localStorage.getItem("studio_user_plan")||"Free"),[Is,Ts]=d.useState(()=>{const e=localStorage.getItem("studio_free_generations");return e?parseInt(e,10):0});d.useEffect(()=>{localStorage.setItem("studio_free_generations",Is.toString())},[Is]);const As=()=>{const e=Cs.toLowerCase();return"pro"===e||"lifetime access"===e?t:"monthly"===e?t.filter(e=>"free"===e.tier||"monthly"===e.tier):t.filter(e=>"free"===e.tier)},Rs=()=>{if(qt)return[];const e=Cs.toLowerCase();return"pro"===e||"lifetime access"===e?[]:"monthly"===e?t.filter(e=>"pro"===e.tier):t.filter(e=>"free"!==e.tier)};d.useEffect(()=>{localStorage.setItem("studio_user_plan",Cs)},[Cs]);const[Us,Bs]=d.useState(null),[Ps,Ws]=d.useState(!1),[Ds,$s]=d.useState(null),[Es,Ls]=d.useState(!1),[Ms,Os]=d.useState(null),[_s,Fs]=d.useState(!1);d.useEffect(()=>{_s&&Ms&&(zt("project_canvas"),Fs(!1))},[_s,Ms]);const[Hs,Vs]=d.useState(!1),[Gs,qs]=d.useState(0),[Ys,Js]=d.useState(null),[Qs,Ks]=d.useState(null),[Xs,Zs]=d.useState(null),[ei,ti]=d.useState(!1),[ri,si]=d.useState({}),[ii,ai]=d.useState(null),[ni,oi]=d.useState(!1),[li,di]=d.useState(null),[ci,pi]=d.useState(!1),[xi,gi]=d.useState(""),[ui,mi]=d.useState(!0),[hi,yi]=d.useState(!1),bi=ii||{},vi=Array.isArray(bi.assets)?bi.assets.filter(Boolean):[],fi="number"!=typeof bi.currentIndex||isNaN(bi.currentIndex)?0:bi.currentIndex,ji=vi.length>0?Math.max(0,Math.min(fi,vi.length-1)):0,wi=e=>e?e.audioUrl?"audio":e.videoUrl?"video":e.imageUrl?"image":(e.type||"text").toLowerCase():"text",ki=e=>{if(!e)return null;const t=e.content||e.snippet||e.output||e.description||e.title;return"string"==typeof t&&t.trim().length>0?t:null};d.useEffect(()=>()=>{Ci.current&&(Ci.current.pause(),Ci.current.src="")},[ii]);const Si=(e,t)=>{Ti.current&&clearTimeout(Ti.current),_r(null),Ti.current=setTimeout(()=>{try{if(!e)return void c.error("Unable to preview: asset not found");if(Ii.current)return;Ii.current=!0;const r=Array.isArray(t)?t.filter(e=>e&&(e.id||e.audioUrl||e.videoUrl||e.imageUrl||e.content)):[];if(0===r.length)return c.error("No assets available to preview"),void(Ii.current=!1);if(e.audioUrl||e.imageUrl||e.videoUrl){const t=r.filter(e=>e?.audioUrl||e?.imageUrl||e?.videoUrl);if(0===t.length)return c.error("No media content to preview. Generate some assets first."),void(Ii.current=!1);const s=t.findIndex(t=>t?.id===e?.id),i=s>=0&&s<t.length?s:0,a=t[i];if(!a)return c.error("Media asset not found. It may have been moved or deleted."),void(Ii.current=!1);ai({type:a.audioUrl?"audio":a.videoUrl?"video":"image",url:a.audioUrl||a.videoUrl||a.imageUrl,title:a.title||"Untitled",asset:a,assets:t,currentIndex:i})}else{const t=r.findIndex(t=>t?.id===e?.id),s=t>=0&&t<r.length?t:0;if(!r[s])return c.error("Asset not found. Try refreshing the page."),void(Ii.current=!1);ai({type:(e.type||"text").toLowerCase(),url:null,content:e.content||e.snippet||e.output||"",title:e.title||"Untitled",asset:e,assets:r,currentIndex:s})}setTimeout(()=>{Ii.current=!1},500)}catch(r){c.error("Preview failed: asset data is missing or corrupted. Try refreshing the page."),Ii.current=!1}},100)},Ni=e=>{e&&(mi(!0),ai(null),oi(!1),setTimeout(()=>{_r(e)},50))},Ci=d.useRef(null),zi=d.useRef(null),Ii=d.useRef(!1),Ti=d.useRef(null),[Ai,Ri]=d.useState(null),[Ui,Bi]=d.useState("streaming"),[Pi,Wi]=d.useState(!1),[Di,$i]=d.useState(null),[Ei,Li]=d.useState(""),[Mi,Oi]=d.useState("gemini-2.0-flash"),_i=[{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",provider:"Google",description:"Fastest responses, great for quick tasks",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜†"},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash-Lite",provider:"Google",description:"Ultra-fast, cost-effective",tier:"free",speed:"âš¡âš¡âš¡âš¡",quality:"â˜…â˜…â˜†â˜†"},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",provider:"Google",description:"Best quality for complex prompts",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",provider:"Google",description:"Balanced speed and quality",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜†"},{id:"gemini-1.5-flash-8b",name:"Gemini 1.5 Flash-8B",provider:"Google",description:"Lightweight, efficient",tier:"free",speed:"âš¡âš¡âš¡âš¡",quality:"â˜…â˜…â˜†â˜†"},{id:"gemini-2.5-pro-preview",name:"Gemini 2.5 Pro (Preview)",provider:"Google",description:"Latest capabilities, experimental",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"gemini-2.5-flash-preview",name:"Gemini 2.5 Flash (Preview)",provider:"Google",description:"Next-gen speed + quality",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"claude-3-5-sonnet",name:"Claude 3.5 Sonnet",provider:"Anthropic",description:"Excellent for creative writing",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"claude-3-5-haiku",name:"Claude 3.5 Haiku",provider:"Anthropic",description:"Fast and capable",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gpt-4o",name:"GPT-4o",provider:"OpenAI",description:"Multimodal powerhouse",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"OpenAI",description:"Affordable GPT-4 class",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",provider:"OpenAI",description:"High capability, larger context",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"llama-3.3-70b",name:"Llama 3.3 70B",provider:"Meta",description:"Open-source powerhouse",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"llama-3.2-90b-vision",name:"Llama 3.2 90B Vision",provider:"Meta",description:"Multimodal open model",tier:"pro",speed:"âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"mistral-large",name:"Mistral Large",provider:"Mistral",description:"European excellence",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"codestral",name:"Codestral",provider:"Mistral",description:"Optimized for code generation",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"deepseek-v3",name:"DeepSeek V3",provider:"DeepSeek",description:"Cost-effective reasoning",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"qwen-2.5-72b",name:"Qwen 2.5 72B",provider:"Alibaba",description:"Multilingual excellence",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"}];d.useEffect(()=>{localStorage.getItem("studio_onboarding_v3")||g||Vs(!0)},[g]);const[Fi,Hi]=d.useState(!1),[Vi,Gi]=d.useState(!1),[qi,Yi]=d.useState(1);d.useEffect(()=>{Xe&&yr(!0)},[Xe]),d.useEffect(()=>{kt&&["agents","mystudio","activity","news","resources","marketing"].includes(kt)&&zt(kt)},[kt]);const[Ji,Qi]=d.useState({status:"healthy",message:"All Systems Operational"});d.useEffect(()=>{const e=async()=>{try{const e=await fetch(`${r}/health`);if(!e.ok)throw new Error("Backend unreachable");const t=await e.json();Qi({status:"healthy",message:"All Systems Operational",details:t})}catch(e){Qi({status:"maintenance",message:"System Under Maintenance",details:e.message})}};e();const t=setInterval(e,6e4);return()=>clearInterval(t)},[]);const Ki=d.useRef(null),Xi=d.useRef(null);d.useEffect(()=>{wt&&Ki.current&&Ki.current(wt)},[wt]);const Zi=e=>{Xi.current&&Xi.current(e)};d.useEffect(()=>{if("project_canvas"===Nt&&!Rt&&Ms){const e=Array.isArray(Ms.assets)?Ms.assets.filter(Boolean):[];!li&&e.length>0&&e[0]&&di(e[0])}else if("project_canvas"!==Nt){zi.current&&zi.current.pause();const e=document.querySelector(".studio-monitor-panel video");e&&e.pause()}},[Nt,Rt,Ms,li]),d.useEffect(()=>{const e=e=>{if("Space"===e.code&&Or&&!ci){const t=e.target.tagName.toLowerCase();if("input"===t||"textarea"===t)return;e.preventDefault();const r=document.querySelector(".modal-content video")||document.querySelector(".modal-content audio");r&&(r.paused?r.play().catch(()=>{}):r.pause())}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[Or,ci]);const[ea,ta]=d.useState({name:"",category:"",description:"",language:"English",style:"Modern Hip-Hop",model:"Gemini 2.0 Flash",selectedAgents:[],socialHandle:"",socialBio:"",socialPlatform:"instagram"}),ra=[{id:"pro",label:"Pro Studio",icon:Se,desc:"Full production suite",color:"var(--color-purple)"},{id:"vybing",label:"Vybing",icon:O,desc:"Quick beat ideas",color:"var(--color-cyan)"},{id:"mixtapes",label:"Mixtapes",icon:V,desc:"Curated playlists",color:"var(--color-orange)"},{id:"video",label:"Video",icon:J,desc:"Visual content",color:"var(--color-pink)"},{id:"scores",label:"Scores",icon:G,desc:"Cinematic composition",color:"var(--color-emerald)"},{id:"moves",label:"Moves",icon:we,desc:"Dance & Choreo",color:"var(--color-yellow)"},{id:"music_videos",label:"Music Videos",icon:Ne,desc:"Full production clips",color:"var(--color-red)"},{id:"social",label:"Social Brand",icon:F,desc:"Grow your audience",color:"var(--color-blue)"}],sa=d.useCallback(e=>{rs(e),ss.current&&clearTimeout(ss.current),"saved"!==e&&"error"!==e||(ss.current=setTimeout(()=>{rs("idle")},3e3))},[]),ia=d.useCallback((e="light")=>{if("vibrate"in navigator)switch(e){case"light":default:navigator.vibrate(10);break;case"medium":navigator.vibrate(25);break;case"heavy":navigator.vibrate([30,10,30]);break;case"success":navigator.vibrate([10,50,20]);break;case"error":navigator.vibrate([50,30,50,30,50])}},[]),aa=d.useCallback((t,r)=>{const s=`save-asset-${r?.id||Date.now()}`;is.current.has(s)||(is.current.add(s),ia("light"),sa("saving"),ir(i=>{const a=i.map(e=>{if(e.id===t){const t=e.assets||[];return t.some(e=>e.id===r.id||e.content===r.content&&e.type===r.type&&e.agent===r.agent)?(is.current.delete(s),sa("idle"),e):{...e,assets:[...t,r],progress:Math.min(100,(e.progress||0)+10),updatedAt:(new Date).toISOString()}}return e}),n=a.find(e=>e.id===t);return n&&Wt&&e?.currentUser?ur(Wt.uid,n).then(e=>{e?(sa("saved"),ia("success")):sa("idle")}).catch(e=>{sa("error"),ia("error")}).finally(()=>{is.current.delete(s)}):(sa("saved"),ia("success"),is.current.delete(s)),a}),c.success("Asset saved to project"))},[Wt,ur,sa,ia]),na=(e,t)=>{if(("number"==typeof ya?ya:0)<2)return c.error("Not enough credits. You need 2 credits to create a project."),void un(!0);const r={id:String(Date.now()),name:e,category:"pro",description:`Created from ${t.agentName||t.agent||"AI Agent"}`,agents:[t.agent],workflow:"custom",date:(new Date).toLocaleDateString(),status:"Active",progress:10,assets:[t],context:{}};ba(e=>e-2),c.success("Project created! -2 credits",{icon:"âœ¨"}),ir(e=>e.find(e=>e.name===r.name&&Date.now()-parseInt(e.id)<1e4)?e:[r,...e]),Os(r),Wt&&ur(Wt.uid,r).catch(e=>{})};d.useEffect(()=>{if(e){const t=u(e,async t=>{if(t){if(t.providerData.some(e=>"password"===e.providerId)&&!t.emailVerified)return await m(e),localStorage.removeItem("studio_user_id"),Et(!1),Dt(null),void _t(!1);localStorage.setItem("studio_user_id",t.uid),Et(!0),_t(!1);try{const e=await t.getIdToken();Gt(e)}catch(a){}const o=!!(s=t.email)&&ft.includes(s.toLowerCase());if(Yt(o),o&&(zs("Lifetime Access"),ba(999999),c.success("Welcome, Administrator!",{icon:"ðŸ”"})),i&&!o)try{const s=h(i,"users",t.uid),n=await y(s);if(n.exists()){const e=n.data(),t=e.credits||0;if(ba(t),Qa(e=>({...e,credits:t})),"active"===e.subscriptionStatus&&e.tier){const t={creator:"monthly",studio:"pro",lifetime:"lifetime"}[e.tier]||e.tier;zs(t),localStorage.setItem("studio_user_plan",t)}else if(e.plan)zs(e.plan),localStorage.setItem("studio_user_plan",e.plan);else if("active"===e.subscription?.status){const t=e.subscription.plan||"monthly";zs(t),localStorage.setItem("studio_user_plan",t)}}const o=await(async t=>{if(Date.now(),!t)return[];try{let s=null;if(e?.currentUser)try{s=await e.currentUser.getIdToken(!0)}catch(a){}const i=await fetch(`${r}/api/projects?userId=${encodeURIComponent(t)}`,{method:"GET",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}}});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`HTTP ${i.status}`)}return((await i.json()).projects||[]).map(e=>({...e,id:e.id||String(Date.now()),createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString()}))}catch(s){return[]}})(t.uid);o.length>0?(ir(e=>{const t=((e,t)=>{const r=new Map,s=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[];for(const a of i)a&&a.id&&r.set(a.id,a);for(const a of s)if(a&&a.id)if(r.has(a.id)){const e=r.get(a.id);new Date(a.updatedAt||a.createdAt||0).getTime()>new Date(e.updatedAt||e.createdAt||0).getTime()&&r.set(a.id,a)}else r.set(a.id,a);return Array.from(r.values()).sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r})})(e,o);return t}),c.success(`Synced ${o.length} projects from cloud`)):sr.length>0&&mr(t.uid,sr)}catch(n){}}else{const e=localStorage.getItem("studio_user_id"),t="true"===localStorage.getItem("studio_guest_mode");e&&Ft<3?(Ht(e=>e+1),Et(!0),_t(!0),setTimeout(()=>{cr.current||(Dt(null),Gt(null),ba(3),localStorage.removeItem("studio_user_id"),Et(!1),_t(!1),Ht(0))},2e3)):t?(Dt(null),Gt(null),Et(!1),Mt(!0),_t(!1)):(Dt(null),Gt(null),ba(3),localStorage.removeItem("studio_user_id"),Et(!1),_t(!1),Ht(0))}var s});return()=>t()}_t(!1)},[]),d.useEffect(()=>{const e=()=>{Qt(!0)};return window.addEventListener("openAuthModal",e),()=>window.removeEventListener("openAuthModal",e)},[]);const oa=d.useRef(null),la=d.useCallback(()=>{oa.current&&clearTimeout(oa.current),Wt&&!Lt&&(oa.current=setTimeout(()=>{c("Session expired for security. Please sign in again.",{icon:"ðŸ”’"}),pr.current&&pr.current()},18e5))},[Wt,Lt]);d.useEffect(()=>{if(!Wt)return;const e=["mousedown","keydown","scroll","touchstart"],t=()=>la();return e.forEach(e=>{window.addEventListener(e,t,{passive:!0})}),la(),()=>{e.forEach(e=>{window.removeEventListener(e,t)}),oa.current&&clearTimeout(oa.current)}},[Wt,la]);const[da,ca]=d.useState("login"),[pa,xa]=d.useState(""),[ga,ua]=d.useState(""),[ma,ha]=d.useState(!1),[ya,ba]=d.useState(3),va=async()=>{try{e&&await m(e)}catch(t){}Dt(null),Gt(null),ba(3),Yt(!1),zs(""),localStorage.removeItem("studio_user_id"),localStorage.removeItem("studio_user_plan"),localStorage.removeItem("studio_guest_mode"),sessionStorage.clear(),Et(!1),Mt(!1),xa(""),ua(""),Qt(!1),c.success("Signed out securely",{icon:"ðŸ‘‹"}),l?.()};d.useEffect(()=>{cr.current=Wt},[Wt]),d.useEffect(()=>{pr.current=va},[]);const fa=async e=>{if(i)try{const t=h(i,"users",e),r=await y(t);r.exists()?(ba(r.data().credits||0),Qa(e=>({...e,credits:r.data().credits||0}))):(await S(t,{credits:3,tier:"free",createdAt:new Date}),ba(3))}catch(t){}},ja=async()=>{if(!e)return void c.error("Authentication service unavailable");ha(!0);const t=c.loading("Signing in with Google...");try{const r=new w,s=await k(e,r);Qt(!1),c.success("Welcome back!",{id:t}),a.login("google"),fa(s.user.uid).catch(e=>{}),Ss&&xr.current&&xr.current(Ss)}catch(r){c.dismiss(t),"auth/popup-closed-by-user"===r.code?c("Sign-in cancelled",{icon:"ðŸ‘‹"}):"auth/unauthorized-domain"===r.code?c.error(`Domain not authorized. Add ${window.location.hostname} in Firebase Console.`):c.error(r.message)}finally{ha(!1)}},wa=async t=>{if(t.preventDefault(),e)if(pa&&ga){if("signup"===da){const e=(e=>{const t=[];return e.length<8&&t.push("At least 8 characters"),/[A-Z]/.test(e)||t.push("One uppercase letter"),/[a-z]/.test(e)||t.push("One lowercase letter"),/[0-9]/.test(e)||t.push("One number"),t})(ga);if(e.length>0)return void c.error(`Password requires: ${e.join(", ")}`)}ha(!0);try{let t;if("signup"===da){t=await b(e,pa,ga);try{return await v(t.user),c.success("Account created! Please check your inbox and verify your email to log in.",{duration:8e3}),await m(e),ha(!1),void ca("login")}catch(r){return c.error("Account created, but could not send verification email. Please try logging in to resend."),await m(e),void ha(!1)}a.signUp("email")}else{if(t=await f(e,pa,ga),!t.user.emailVerified){c.error("Please verify your email address before logging in.",{duration:4e3});try{await v(t.user),c.success("A new verification link has been sent to your inbox.",{duration:5e3})}catch(s){}return await m(e),void ha(!1)}c.success("Welcome back!"),a.login("email")}await fa(t.user.uid),Qt(!1),xa(""),ua(""),Ss&&xr.current&&xr.current(Ss)}catch(i){"auth/email-already-in-use"===i.code?c.error("Email already in use. Try logging in."):"auth/wrong-password"===i.code||"auth/user-not-found"===i.code?c.error("Invalid email or password"):"auth/weak-password"===i.code?c.error("Password should be at least 8 characters with uppercase, lowercase, and numbers"):c.error(i.message)}finally{ha(!1)}}else c.error("Please enter email and password");else c.error("Authentication service unavailable")},ka=async()=>{if(pa){ha(!0);try{await j(e,pa),c.success("Password reset email sent!"),ca("login")}catch(t){c.error(t.message)}finally{ha(!1)}}else c.error("Please enter your email first")},[Sa,Na]=d.useState("overview"),[Ca,za]=d.useState(()=>{try{const e=localStorage.getItem("studio_managed_agents");if(e){return JSON.parse(e).map(e=>{const r=t.find(t=>t.name===e.name);return{...e,icon:r?r.icon:N}})}return void 0!==t?t.map(e=>({...e,visible:!0})):[]}catch(e){return void 0!==t?t.map(e=>({...e,visible:!0})):[]}}),[Ia,Ta]=d.useState(()=>{try{const e=localStorage.getItem("studio_app_settings"),t={showNews:!0,publicActivity:!0,autoSave:!0,highQualityPreviews:!1,streamerMode:!1};return e?{...t,...JSON.parse(e)}:t}catch(e){return{showNews:!0,publicActivity:!0,autoSave:!0,highQualityPreviews:!1,streamerMode:!1}}});d.useEffect(()=>{localStorage.setItem("studio_managed_agents",JSON.stringify(Ca))},[Ca]),d.useEffect(()=>{localStorage.setItem("studio_app_settings",JSON.stringify(Ia))},[Ia]);const Aa=e=>{Ta(t=>({...t,[e]:!t[e]}))},[Ra,Ua]=d.useState(1),[Ba,Pa]=d.useState(!1),[Wa,Da]=d.useState(!0),[$a,Ea]=d.useState([]),[La,Ma]=d.useState(()=>localStorage.getItem("musicHubSection")||"all"),[Oa,_a]=d.useState(1),[Fa,Ha]=d.useState(!1),[Va,Ga]=d.useState(!0),[qa,Ya]=d.useState([]),[Ja,Qa]=d.useState(()=>{try{const e=localStorage.getItem("studio_user_profile");return e?JSON.parse(e):{stageName:"",genre:"Hip Hop / Rap",targetDemographic:"Gen Z",language:"English",bio:"",credits:500,memberSince:(new Date).getFullYear(),plan:"Free",location:"Los Angeles, CA",website:""}}catch(e){return{stageName:"",genre:"Hip Hop / Rap",bio:"",credits:500,memberSince:(new Date).getFullYear(),plan:"Free",location:"Los Angeles, CA",website:""}}}),[Ka]=d.useState({listeners:12450,streams:45200,followers:890,growth:"+12%"});d.useEffect(()=>{localStorage.setItem("studio_user_profile",JSON.stringify(Ja))},[Ja]);const[Xa,Za]=d.useState(()=>{try{const e=localStorage.getItem("studio_agents_socials");return e?JSON.parse(e):{instagram:!1,tiktok:!1,twitter:!1,spotify:!1}}catch(e){return{instagram:!1,tiktok:!1,twitter:!1,spotify:!1}}}),[en,tn]=d.useState(()=>localStorage.getItem("studio_agents_twitter_user")),[rn,sn]=d.useState(()=>localStorage.getItem("studio_agents_meta_name")),[an,nn]=d.useState(()=>{try{const e=localStorage.getItem("studio_agents_storage");return e?JSON.parse(e):{googleDrive:!1,dropbox:!1,oneDrive:!1,localDevice:!0}}catch(e){return{googleDrive:!1,dropbox:!1,oneDrive:!1,localDevice:!0}}}),[on,ln]=d.useState(()=>{try{const e=localStorage.getItem("studio_agents_payments");return e?JSON.parse(e):[{id:"pm_1",type:"Visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:"pm_2",type:"Mastercard",last4:"8888",expiry:"09/25",isDefault:!1}]}catch(e){return[{id:"pm_1",type:"Visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:"pm_2",type:"Mastercard",last4:"8888",expiry:"09/25",isDefault:!1}]}}),[dn,cn]=d.useState(()=>{try{const e=localStorage.getItem("studio_agents_banks");return e?JSON.parse(e):[{id:"ba_1",bankName:"Chase Bank",last4:"1234",type:"Checking"}]}catch(e){return[{id:"ba_1",bankName:"Chase Bank",last4:"1234",type:"Checking"}]}}),[pn,xn]=d.useState(!1),[gn,un]=d.useState(!1),[mn,hn]=d.useState(null),[yn,bn]=d.useState("card"),[vn,fn]=d.useState(!1),[jn,wn]=d.useState([{id:1,title:"Welcome to Studio Agents",message:"Start creating your first track!",time:"Just now",read:!1},{id:2,title:"Pro Tip",message:"Try the Ghostwriter agent for lyrics.",time:"2m ago",read:!1}]);d.useEffect(()=>{localStorage.setItem("studio_agents_payments",JSON.stringify(on)),localStorage.setItem("studio_agents_banks",JSON.stringify(dn))},[on,dn]),d.useEffect(()=>{localStorage.setItem("studio_agents_socials",JSON.stringify(Xa)),localStorage.setItem("studio_agents_storage",JSON.stringify(an)),en&&localStorage.setItem("studio_agents_twitter_user",en),rn&&localStorage.setItem("studio_agents_meta_name",rn)},[Xa,en,rn,an]),d.useEffect(()=>{const e=new URLSearchParams(window.location.search);if("true"===e.get("twitter_connected")){const t=e.get("twitter_username");Za(e=>({...e,twitter:!0})),tn(t);const r=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,r),c.success(`Connected to X/Twitter as @${t}!`)}if("true"===e.get("meta_connected")){const t=e.get("meta_name");Za(e=>({...e,instagram:!0,facebook:!0})),sn(t);const r=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,r),c.success(`Connected to Meta as ${t}!`)}},[]);const kn=async e=>{if(!$t||!Wt)return c.error("Please log in first"),void Qt(!0);const t={Creator:"creator","Studio Pro":"studio","Lifetime Access":"lifetime"}[e.name]||"creator";try{c.loading("Redirecting to checkout...");const e=await fetch(`${r}/api/stripe/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tier:t,userId:Wt.uid,userEmail:Wt.email,successUrl:window.location.origin+"?payment=success",cancelUrl:window.location.origin+"?payment=cancelled"})}),s=await e.json();c.dismiss(),s.url?window.location.href=s.url:s.error?c.error(s.error):c.error("Could not create checkout session")}catch(s){c.dismiss(),c.error("Payment system unavailable. Please try again later.")}},Sn=e=>{Ns(e),$t?kn(e):Qt(!0)};Ki.current=Sn,xr.current=kn;const Nn=d.useRef(null),Cn=d.useRef(null),[zn,In]=d.useState(null);d.useEffect(()=>{zn&&Rt&&"agents"===Nt&&setTimeout(()=>{const e=Cn.current||document.querySelector(".studio-textarea");e&&(e.value=zn,e.focus()),In(null)},100)},[zn,Rt,Nt]);const Tn=()=>{if(as)return Nn.current&&Nn.current.stop(),ns(!1),void hs("");const e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e)return void c.error("Speech recognition not supported. Try Chrome or Safari.");const r=new e;r.lang="English"===vs.language?"en-US":"Spanish"===vs.language?"es-ES":"French"===vs.language?"fr-FR":"German"===vs.language?"de-DE":"Japanese"===vs.language?"ja-JP":"en-US",r.continuous=!0,r.interimResults=!0,r.onstart=()=>{ns(!0),c.success("ðŸŽ¤ Listening... Say a command or dictate your prompt",{duration:2e3})},r.onend=()=>{ns(!1),hs("")},r.onerror=e=>{ns(!1),hs(""),"aborted"!==e.error&&c.error(`Voice error: ${e.error}`)},r.onresult=e=>{let r="",s="";for(let t=e.resultIndex;t<e.results.length;t++){const i=e.results[t][0].transcript;e.results[t].isFinal?s+=i:r=i}if(r&&hs(r),!s)return;const i=s.toLowerCase().trim();if(hs(""),bs({text:s,time:(new Date).toLocaleTimeString()}),i.includes("stop listening")||i.includes("stop voice")||"stop"===i||"cancel"===i)return Nn.current&&Nn.current.stop(),ns(!1),void An("Voice control stopped.");if(i.includes("open")||i.includes("launch")){const e=i.replace("open","").replace("launch","").trim(),r=t.find(t=>t.name.toLowerCase().includes(e));if(r)return Ut(r),zt("agents"),c.success(`ðŸš€ Launching ${r.name}`),void An(`Launching ${r.name}.`)}if(i.includes("go to")||i.includes("show me")||i.includes("navigate")){let e=!1;if(i.includes("dashboard")||i.includes("studio")||i.includes("home")?(zt("mystudio"),c.success("ðŸ“Š Dashboard"),An("Navigating to your dashboard."),e=!0):i.includes("hub")||i.includes("projects")?(zt("hub"),c.success("ðŸ“ Project Hub"),An("Opening the Project Hub."),e=!0):i.includes("news")?(zt("news"),c.success("ðŸ“° Industry Pulse"),An("Checking the latest industry pulse."),e=!0):i.includes("help")||i.includes("support")?(zt("support"),c.success("ðŸ’¡ Help Center"),An("How can I help you today?"),e=!0):(i.includes("agents")||i.includes("tools"))&&(zt("agents"),c.success("ðŸ¤– Agents"),An("Viewing all available agents."),e=!0),e)return}if(i.includes("switch theme")||i.includes("toggle theme")||i.includes("light mode")||i.includes("dark mode")){const e="dark"===Tt?"light":"dark";return At(e),localStorage.setItem("studio_theme",e),c.success(`ðŸŽ¨ ${"dark"===e?"Dark":"Light"} mode`),void An(`Switching to ${e} mode.`)}if("generate"===i||i.includes("start generation")||i.includes("create now")||i.includes("make it")){const e=Cn.current||document.querySelector(".studio-textarea");return void(e&&e.value.trim()?(gr.current&&gr.current(),c.success("âš¡ Generating..."),An("Starting generation.")):(c.error("Please enter a prompt first"),An("Please enter a prompt first.")))}if(i.includes("clear prompt")||i.includes("clear text")||i.includes("start over")||"clear"===i){const e=Cn.current||document.querySelector(".studio-textarea");return void(e&&(e.value="",e.dispatchEvent(new Event("input",{bubbles:!0})),c.success("ðŸ—‘ï¸ Prompt cleared"),An("Prompt cleared.")))}if(i.includes("read back")||i.includes("read prompt")||i.includes("what did i write")||i.includes("read it")){const e=Cn.current||document.querySelector(".studio-textarea");return void(e&&e.value.trim()?An(e.value):An("The prompt is empty."))}if(i.includes("show commands")||i.includes("voice commands")||i.includes("what can i say")||i.includes("help commands"))return us(!0),void An("Here are the available voice commands.");if(i.includes("add payment")||i.includes("billing")||i.includes("manage card"))return zt("mystudio"),xn(!0),void An("Opening payment management.");const a=Cn.current||document.querySelector(".studio-textarea");if(a){const e=(a.value+" "+s).trim();a.value=e,a.dispatchEvent(new Event("input",{bubbles:!0})),c.success(`âœï¸ Added: "${s.substring(0,30)}${s.length>30?"...":""}"`,{duration:1500})}},Nn.current=r,r.start()};d.useEffect(()=>{if(Rt&&Es){const e=setTimeout(()=>{Tn(),Ls(!1)},500);return()=>clearTimeout(e)}},[Rt,Es]);const An=e=>{if(os&&(!e||"string"!=typeof e))return window.speechSynthesis.cancel(),void ls(!1);const t="string"==typeof e?e:Cn.current?.value||document.querySelector(".studio-textarea")?.value;if(!t)return;window.speechSynthesis.cancel();const r=e=>{const r=new SpeechSynthesisUtterance(t);let s=null;const i="English"===vs.language?"en":"Spanish"===vs.language?"es":"French"===vs.language?"fr":"German"===vs.language?"de":"Japanese"===vs.language?"ja":"en",a=e.filter(e=>e.lang.startsWith(i));"UK"===vs.region?s=a.find(e=>e.name.includes("UK")||e.name.includes("British")):"AU"===vs.region?s=a.find(e=>e.name.includes("Australia")):"IN"===vs.region&&(s=a.find(e=>e.name.includes("India"))),s||(s="female"===vs.gender?a.find(e=>e.name.toLowerCase().includes("female")||e.name.toLowerCase().includes("samantha")||e.name.toLowerCase().includes("victoria")):a.find(e=>e.name.toLowerCase().includes("male")||e.name.toLowerCase().includes("alex")||e.name.toLowerCase().includes("daniel"))),s&&(r.voice=s),r.lang=i,r.rate=.9,r.pitch="female"===vs.gender?1.1:.9,r.onstart=()=>ls(!0),r.onend=()=>ls(!1),r.onerror=e=>{ls(!1)},window.speechSynthesis.speak(r)};let s=window.speechSynthesis.getVoices();s.length>0?r(s):window.speechSynthesis.onvoiceschanged=()=>{s=window.speechSynthesis.getVoices(),r(s),window.speechSynthesis.onvoiceschanged=null}};Xi.current=An;const[Rn,Un]=d.useState(!1),Bn=async(t,s="Ghostwriter")=>{if(!t||0===t.trim().length)return void c.error("No text content to vocalize");const i=Ms;Un(!0);const a=c.loading("Creating AI vocal (~60s)...");try{const o={"Content-Type":"application/json"};if($t&&e?.currentUser)try{const t=await e.currentUser.getIdToken();o.Authorization=`Bearer ${t}`}catch(n){}const l=t.substring(0,1500),d=await fetch(`${r}/api/generate-speech`,{method:"POST",headers:o,body:JSON.stringify({prompt:l,voice:vs.voiceName||"rapper-male-1",style:vs.style||"rapper",rapStyle:vs.rapStyle||"aggressive",genre:vs.genre||"hip-hop"})}),p=await d.json();if(p.audioUrl){if(Or){const e={...Or,audioUrl:p.audioUrl,mimeType:p.mimeType||"audio/wav",type:"vocal",vocalSnippet:"ðŸŽ¤ AI Vocal created from lyrics",projectSnapshot:i,updatedAt:(new Date).toISOString()};return _r(e),Rt?.id&&es(t=>({...t,[Rt.id]:e})),c.success("AI vocal added to your creation!",{id:a}),e}{const e={id:String(Date.now()),title:`AI Vocal - ${s}`,agent:s,type:"vocal",audioUrl:p.audioUrl,mimeType:p.mimeType||"audio/wav",snippet:`ðŸŽ¤ AI Vocal: "${l.substring(0,50)}..."`,projectSnapshot:i,createdAt:(new Date).toISOString()};return Ni(e),c.success("AI vocal created!",{id:a}),e}}throw p.error?new Error(p.error):new Error("No audio URL returned")}catch(o){return c.error(o.message||"Failed to create AI vocal",{id:a}),null}finally{Un(!1)}},Pn=(e,t)=>{window.confirm("Are you sure you want to remove this payment method?")&&("card"===t?ln(t=>t.filter(t=>t.id!==e)):cn(t=>t.filter(t=>t.id!==e)),An("Payment method removed."))},Wn=e=>{e.preventDefault();const t=new FormData(e.target);if("card"===yn){const e=t.get("cardNumber"),r=t.get("expiry");if(e.length<12)return void c.error("Please enter a valid card number");const s={id:mn?mn.item.id:`pm_${Date.now()}`,type:"Visa",last4:e.slice(-4),expiry:r,isDefault:!!mn&&mn.item.isDefault};mn?(ln(e=>e.map(e=>e.id===s.id?s:e)),An("Card updated successfully.")):(ln(e=>[...e,s]),An(`Successfully added your card ending in ${s.last4}.`))}else{const e=t.get("bankName"),r=t.get("accountNumber"),s={id:mn?mn.item.id:`ba_${Date.now()}`,bankName:e,last4:r.slice(-4),type:"Checking"};mn?(cn(e=>e.map(e=>e.id===s.id?s:e)),An("Bank account updated successfully.")):(cn(e=>[...e,s]),An(`Successfully linked your ${s.bankName} account.`))}xn(!1),hn(null)},Dn=async()=>{const e=Cn.current||document.querySelector(".studio-textarea");if(e&&e.value&&"English"!==vs.language)try{const t=await fetch(`${r}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.value,targetLanguage:"English",sourceLanguage:vs.language})}),s=await t.json();s.translatedText&&(e.value=s.translatedText,c.success("Prompt translated to English!"))}catch(t){}},$n=async()=>{const t=Ms;if(!Rt)return void c.error("Please select an agent first.");if(Rt.comingSoon)return void c.error(`${Rt.name} is coming soon! Try Ghostwriter or Beat Maker instead.`,{icon:"ðŸš§"});const s=Cn.current||document.querySelector(".studio-textarea");if(!s||!s.value)return void c.error("Please enter a prompt first.");if((i=s.value)&&i.toLowerCase().trim()===Ze&&(et(),1))return Kn(!0),s.value="",void c.success('ðŸŽ­ Demo mode activated! Type "pitch" again to generate a demo response.',{duration:5e3,icon:"ðŸŽ¬"});var i;if(rt()){Xr(!0);const e=c.loading(`${Rt.name} is working... (Demo Mode)`);try{const t=await async function(e="default",t=""){const r=500+1500*Math.random();await new Promise(e=>setTimeout(e,r));const s=e.toLowerCase().replace(/\s+/g,"-");return(st[s]||st.default)+(t?`\n\n> Your input: "${t.slice(0,100)}${t.length>100?"...":""}"`:"")}(Rt.id,s.value);es(e=>({...e,[Rt.id]:{output:t,timestamp:Date.now(),isDemo:!0}})),zt("result"),c.success("Demo response generated!",{id:e})}catch(o){c.error("Demo error: "+o.message,{id:e})}finally{Xr(!1)}return}if(!(()=>{if(qt)return!0;const e=Cs.toLowerCase();return"monthly"===e||"pro"===e||"lifetime access"===e||!!($t&&ya>0)||Is<3})())return void($t?(c.error("Out of credits! Please upgrade your plan."),Na("subscription"),zt("mystudio")):(c.error("You've used your 3 free generations! Sign in to continue."),Qt(!0)));if($t&&ya<=0&&"free"===Cs.toLowerCase())return c.error("Out of credits! Please upgrade your plan."),Na("subscription"),void zt("mystudio");Xr(!0);const n=c.loading(`${Rt.name} is working...`);try{let i=s.value;if("English"!==vs.language){const e=await fetch(`${r}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:i,targetLanguage:"English",sourceLanguage:vs.language})}),t=await e.json();t.translatedText&&(i=t.translatedText)}let d="/api/generate",p={prompt:i,systemInstruction:`You are ${Rt?.name||"AI Assistant"}, a professional AI agent in a high-end music studio. \n          Category: ${Rt?.category||"General"}. \n          Capabilities: ${(Rt?.capabilities||[]).join(", ")}.\n          ${Rt?.explanation||""}`,model:Mi};const x=Rt?.id||"",g="album"===x,u="video-creator"===x,m="beat"===x||"sample"===x,h="podcast"===x||"voiceover"===x||"vocal-arch"===x;g?(d="/api/generate-image",p={prompt:i,model:Mi}):u?(d="/api/generate-video",p={prompt:i,model:Mi},Bt&&(Bt.isUpload||(p.audioUrl=Bt.audioUrl))):m?(d="/api/generate-audio",p={prompt:i,bpm:90,genre:"beat"===x?"hip-hop":"sample",mood:"creative",durationSeconds:15}):h&&(d="/api/generate-speech",p={prompt:i,voice:vs.voiceName||"Kore",style:"natural"},Bt&&(p.backingTrackUrl=Bt.audioUrl,p.bpm=Bt.bpm));const y={"Content-Type":"application/json"};if($t&&e?.currentUser)try{const t=await e.currentUser.getIdToken();y.Authorization=`Bearer ${t}`}catch(o){}const b=await fetch(`${r}${d}`,{method:"POST",headers:y,body:JSON.stringify(p)});let v=await b.json();if((g||u)&&(v.error||!b.ok)){const e={prompt:g?`Describe in vivid detail what album artwork would look like for: "${i}". Include colors, imagery, composition, mood, and style.`:`Describe in vivid detail what a music video would look like for: "${i}". Include scenes, camera movements, visual effects, and mood.`,systemInstruction:`You are a creative director providing detailed visual descriptions for ${g?"album artwork":"music videos"}.`},t=await fetch(`${r}/api/generate`,{method:"POST",headers:y,body:JSON.stringify(e)});v=await t.json(),v._isFallback=!0,v._fallbackType=g?"image":"video"}if((m||h)&&(v.error||!b.ok)&&!v.audioUrl&&!v.description&&!v.output){const e={prompt:`Describe in vivid detail what a ${"beat"===x?"beat/instrumental":"audio sample"} would sound like for: "${i}". Include instruments, rhythm, tempo, mood, and production style.`,systemInstruction:"You are a music producer providing detailed audio descriptions."},t=await fetch(`${r}/api/generate`,{method:"POST",headers:y,body:JSON.stringify(e)});v=await t.json(),v._isFallback=!0,v._fallbackType="audio"}let f={id:String(Date.now()),title:`${Rt?.name||"AI"} Result`,type:Rt?.category||"text",agent:Rt?.name||"Unknown Agent",date:"Just now",color:Rt?.colorClass||"",snippet:i,projectSnapshot:t};if(v._isFallback&&v.output)f.snippet=v.output,f.isFallback=!0,f.fallbackNote="image"===v._fallbackType?"ðŸŽ¨ Visual concept (image generation coming soon)":"ðŸŽ¬ Video concept (video generation coming soon)";else if("album"===x&&(v.predictions||v.images||v.output))if(v.output&&"string"==typeof v.output&&v.output.startsWith("http"))f.imageUrl=v.output,f.snippet=`ðŸŽ¨ Generated artwork for: "${i}"`,f.type="image";else{const e=v.predictions?.[0]?.bytesBase64Encoded||v.images?.[0],t=v.mimeType||"image/png";e&&(f.imageUrl=e.startsWith("data:")?e:`data:${t};base64,${e}`,f.snippet=`ðŸŽ¨ Generated artwork for: "${i}"`,f.type="image")}else if("video-creator"===x&&(v.predictions||v.video||v.output&&("video"===v.type||"image"===v.type))){if("image"===v.type&&v.output){const e=v.output,t=v.mimeType||"image/png";f.imageUrl=e.startsWith("data:")?e:`data:${t};base64,${e}`,f.snippet=`ðŸŽ¨ Generated visual concept for: "${i}" (Video unavailable)`,f.type="image"}else if(v.output&&"string"==typeof v.output)v.output.startsWith("data:")||v.output.startsWith("http")?f.videoUrl=v.output:f.videoUrl=`data:video/mp4;base64,${v.output}`,f.type="video",f.snippet=`ðŸŽ¬ Generated video for: "${i}"`;else{const e=v.predictions?.[0]||v.video;e&&(e.bytesBase64Encoded?(f.videoUrl=`data:video/mp4;base64,${e.bytesBase64Encoded}`,f.type="video"):e.videoUri&&(f.videoUrl=e.videoUri,f.type="video"),f.snippet=`ðŸŽ¬ Generated video for: "${i}"`)}Bt&&(f.audioUrl=Bt.audioUrl,f.audioTitle=Bt.title,f.snippet=`ðŸŽ¬ Music Video for: "${Bt.title}"`,Pt(null))}else if((m||h)&&(v.audioUrl||v.audio||"synthesis"===v.type||v.description||v.message)){if(v.audioUrl){if(v.audioUrl.startsWith("http")||v.audioUrl.startsWith("data:")?f.audioUrl=v.audioUrl:f.audioUrl=`data:${v.mimeType||"audio/wav"};base64,${v.audioUrl}`,f.mimeType=v.mimeType||"audio/wav",v.isRealGeneration?(f.snippet=`ðŸŽµ AI Generated Beat: "${i}"`,c.success("Beat generated with MusicGen AI!")):v.isSample?(f.snippet="ðŸŽµ Sample Beat (Preview)",f.billingMessage=v.message,c.info(v.message||"Using sample - configure Replicate for custom beats",{duration:5e3,icon:"âš ï¸"})):f.snippet=`ðŸŽµ Generated audio for: "${i}"`,f.type="audio",f.isRealGeneration=v.isRealGeneration,f.isSample=v.isSample,f.bpm=v.bpm,f.genre=v.genre,"beat"===x)try{const e=await fetch(`${r}/api/generate-image`,{method:"POST",headers:y,body:JSON.stringify({prompt:`Album cover art for a ${v.genre||"hip-hop"} beat. ${i}. High quality, abstract, vibrant.`,aspectRatio:"1:1"})}),t=await e.json();(t.imageUrl||t.images?.[0])&&(f.imageUrl=t.imageUrl||t.images[0])}catch(l){}}else if(v.audio){const e=v.mimeType||"audio/wav";f.audioUrl=`data:${e};base64,${v.audio}`,f.mimeType=e,f.snippet=`ðŸŽµ Generated audio for: "${i}"`,f.type="audio"}else"synthesis"===v.type&&v.params?(f.synthesisParams=v.params,f.snippet=v.description||`Beat synthesis parameters for: "${i}"`,f.bpm=v.bpm,f.genre=v.genre,f.type="synthesis"):(f.snippet=v.description||v.message||v.output||`Audio concept for: "${i}"`,f.type="text");h&&Bt&&(f.backingTrackUrl=Bt.audioUrl,f.backingTrackTitle=Bt.title,f.snippet=`ðŸŽ¤ Vocals synced to: "${Bt.title}"`,f.type="vocal",Pt(null))}else if(v.output){let e=v.output;if("English"!==vs.language){const t=await fetch(`${r}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,targetLanguage:vs.language,sourceLanguage:"English"})}),s=await t.json();s.translatedText&&(e=s.translatedText)}f.snippet=e}else v.description||v.message?(f.snippet=v.description||v.message,f.type="text"):v.error?(f.snippet=`Unable to generate content: ${v.error}. Please try again with a different prompt.`,f.type="text",f.isError=!0):Object.keys(v).length>0?(f.snippet=JSON.stringify(v,null,2),f.type="text"):(f.snippet="The AI returned an empty response. Please try again with a more detailed prompt.",f.type="text",f.isError=!0);Yr(null),Ni(f),Hr(i),Gr("lyrics"),es(e=>({...e,[Rt.id]:f})),c.success("Generation complete! Review your result.",{id:n}),a.contentGenerated(Rt.id,f.type||"text")}catch(d){c.error(d.message||"Generation failed. Check your connection and try again.",{id:n}),a.errorOccurred("generation_failed",d.message)}finally{Xr(!1)}};gr.current=$n;const En=async(t="hub",s=null)=>{if(!Or)return;if(Jr)return;Qr(!0),pi(!1);const i=c.loading("Syncing to cloud...",{icon:"â˜ï¸"}),a=new Promise((e,t)=>setTimeout(()=>t(new Error("Save timed out after 3 minutes")),18e4));try{const p={...Or,agent:Or.agent||Rt?.name||"Unknown Agent",savedAt:(new Date).toISOString()};let x=s||Or.projectSnapshot||Ms;if("string"==typeof s&&s.startsWith("new:")){const e=s.substring(4),t={id:String(Date.now()),name:e,category:"Music Creation",description:"",agents:[],workflow:"custom",date:(new Date).toLocaleDateString(),status:"Active",progress:0,assets:[p],createdAt:(new Date).toISOString()};ir(e=>[t,...e]),Os(t),x=t,c.success(`Project "${e}" created!`)}else if(x){const e=Array.isArray(x.assets)?x.assets:[],t={...x,assets:[p,...e.filter(e=>e.id!==p.id)]};Os(t),ir(e=>(Array.isArray(e)?e:[]).map(e=>e?.id===t.id?t:e)),x=t}else{const e={id:String(Date.now()),name:p.title||`Asset: ${p.agent}`,category:p.agent||"AI Generated",description:p.prompt||"",agents:[p.agent],workflow:"standalone",date:(new Date).toLocaleDateString(),status:"Completed",progress:100,assets:[p],createdAt:(new Date).toISOString()};ir(t=>[e,...t]),c.success("Saved to your collection"),x=e}if($t){const t=localStorage.getItem("studio_user_id");if(t){try{if(p.imageUrl&&(p.imageUrl.startsWith("data:")||p.imageUrl.startsWith("blob:")))if(p.imageUrl.startsWith("data:")){const e=await n(p.imageUrl,t,"images","image/png");p.imageUrl=e.url,p.imageStoragePath=e.path}else if(p.imageUrl.startsWith("blob:")){const e=await fetch(p.imageUrl),r=await e.blob(),s=await o(r,t,"images",`${Date.now()}.png`);p.imageUrl=s.url,p.imageStoragePath=s.path}if(p.audioUrl&&(p.audioUrl.startsWith("data:")||p.audioUrl.startsWith("blob:")))if(p.audioUrl.startsWith("data:")){const e=await n(p.audioUrl,t,"audio","audio/mp3");p.audioUrl=e.url,p.audioStoragePath=e.path}else if(p.audioUrl.startsWith("blob:")){const e=await fetch(p.audioUrl),r=await e.blob(),s=await o(r,t,"audio",`${Date.now()}.mp3`);p.audioUrl=s.url,p.audioStoragePath=s.path}if(p.videoUrl&&(p.videoUrl.startsWith("data:")||p.videoUrl.startsWith("blob:")))if(p.videoUrl.startsWith("data:")){const e=await n(p.videoUrl,t,"video","video/mp4");p.videoUrl=e.url,p.videoStoragePath=e.path}else if(p.videoUrl.startsWith("blob:")){const e=await fetch(p.videoUrl),r=await e.blob(),s=await o(r,t,"video",`${Date.now()}.mp4`);p.videoUrl=s.url,p.videoStoragePath=s.path}}catch(l){}const s={"Content-Type":"application/json"};if(e?.currentUser)try{const t=await e.currentUser.getIdToken();s.Authorization=`Bearer ${t}`}catch(d){}const x=[];x.push(fetch(`${r}/api/projects`,{method:"POST",headers:s,body:JSON.stringify({userId:t,project:p})}).then(e=>{if(!e.ok)throw new Error(`Project save failed: ${e.status}`);return e.json()})),x.push(fetch(`${r}/api/user/generations`,{method:"POST",headers:s,body:JSON.stringify({type:p.type||"text",agent:p.agent,prompt:Fr||p.snippet,output:p.content||p.snippet,metadata:{projectId:p.id,imageUrl:p.imageUrl,audioUrl:p.audioUrl,videoUrl:p.videoUrl}})}).then(e=>(e.ok,e.json().catch(()=>({}))))),await Promise.race([Promise.all(x),a]),ba(e=>Math.max(0,e-1)),c.success("âœ… Saved & synced to cloud!",{id:i})}else c.success("Saved locally!",{id:i})}else Ts(e=>e+1),c.success("Saved to your Hub!",{id:i});_r(null),Hr(""),Gr("lyrics"),zt(t),"hub"===t&&Ut(null)}catch(p){p.message.includes("timed out")?c.error("Save timed out after 3 minutes. Your work is saved locally - it will sync when connection improves.",{id:i}):c.error(`Save failed: ${p.message}. Your work is saved locally.`,{id:i}),_r(null),Hr("")}finally{Qr(!1)}},Ln=()=>{Mt(!0),localStorage.setItem("studio_guest_mode","true"),c.success("Welcome! Sign in anytime to save your work.",{icon:"ðŸ‘‹"})},Mn=async(e=1,t=null)=>{if(Ba||!Wa&&1!==e)return;const s=t||La||"all";t&&(Ma(t),localStorage.setItem("musicHubSection",t)),Pa(!0);try{const t=await fetch(`${r}/api/music-hub?section=${s}&page=${e}&per_page=20`),i=await t.json();i.items&&i.items.length>0?(Ea(t=>1===e?i.items:[...t,...i.items]),Ua(e),i.items.length<20||20*e>=200?Da(!1):Da(!0)):(1===e&&Ea([]),Da(!1))}catch(i){}finally{Pa(!1)}},On=async(e=1,t="",s=!1)=>{if(!s&&(Fa||!Va&&1!==e))return{success:!1};Ha(!0);try{const s=new URLSearchParams({page:e.toString(),per_page:"20"});t&&s.set("q",t);const i=await fetch(`${r}/api/news?${s}`),a=await i.json();return a.articles&&a.articles.length>0?(Ya(t=>1===e?a.articles:[...t,...a.articles]),_a(e),a.articles.length<20?Ga(!1):Ga(!0),{success:!0,count:a.articles.length}):(1===e&&Ya([]),Ga(!1),{success:!0,count:0})}catch(i){return{success:!1,error:i}}finally{Ha(!1)}},[_n,Fn]=d.useState(null);d.useEffect(()=>{_n&&clearTimeout(_n);const e=setTimeout(async()=>{if("news"===Nt&&tr.trim()){const e=c.loading(`Searching: "${tr.trim()}"...`);Ga(!0);const t=await On(1,tr.trim());t?.success?t.count>0?c.success(`Found ${t.count} results`,{id:e}):c(`No results for "${tr.trim()}"`,{id:e,icon:"ðŸ”"}):c.error("Search failed. Check your connection and try again.",{id:e})}else"news"!==Nt||tr.trim()||0!==qa.length||On(1)},500);return Fn(e),()=>clearTimeout(e)},[tr]),d.useEffect(()=>{"activity"===Nt&&0===$a.length&&Mn(1),"news"===Nt&&0===qa.length&&On(1)},[Nt]),d.useEffect(()=>{Rt&&Er(!0)},[Rt]),d.useEffect(()=>{const t=localStorage.getItem("studio_user_id"),s=localStorage.getItem("studio_agents_projects");let i=[];if(s)try{const e=JSON.parse(s);Array.isArray(e)&&(i=yt(e))}catch(a){}if($t&&t){(async()=>{try{const a={"Content-Type":"application/json"};if(e?.currentUser)try{const t=await e.currentUser.getIdToken();a.Authorization=`Bearer ${t}`}catch(s){}const n=await fetch(`${r}/api/projects?userId=${t}`,{headers:a});if(!n.ok)return void ir(i);const o=await n.json();if(o.projects){const e=[...yt(o.projects),...i],t=Array.from(new Map(e.map(e=>[e.id,e])).values());t.sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r}),ir(t)}else ir(i)}catch(a){ir(i)}})()}else ir(i)},[$t]),d.useEffect(()=>{if(sr&&sr.length>0){const e=sr.slice(0,50);((e,t)=>{try{return localStorage.setItem(e,t),!0}catch(r){if("QuotaExceededError"===r.name)try{if("studio_agents_projects"===e){const r=JSON.parse(t);if(Array.isArray(r)&&r.length>20){const t=r.slice(0,20);return localStorage.setItem(e,JSON.stringify(t)),!0}}return localStorage.removeItem("studio_theme"),localStorage.removeItem("studio_onboarding_v3"),localStorage.setItem(e,t),!0}catch(s){return!1}return!1}})("studio_agents_projects",JSON.stringify(e))}},[sr]);const Hn=e=>{if(!e)return;const t=e.videoUrl||e.audioUrl||e.imageUrl;if(!t)return void c(`${"Download"} coming soon!`,{icon:"ðŸš§"});const r=document.createElement("a");r.href=t,r.setAttribute("download",`${e.title.replace(/\s+/g,"_")}_studio_agents`),r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},Vn=async e=>{const t=encodeURIComponent(window.location.href);if("twitter"!==e)"instagram"!==e&&"facebook"!==e?c(`${e.charAt(0).toUpperCase()+e.slice(1)} coming soon!`,{icon:"ðŸš§"}):window.location.href=`${r}/api/meta/auth?returnUrl=${t}`;else try{const e=await fetch(`${r}/api/twitter/status`);if(e.ok){(await e.json()).configured?window.location.href=`${r}/api/twitter/auth?returnUrl=${t}`:c.error("Twitter/X integration not yet configured. Contact support.")}else window.location.href=`${r}/api/twitter/auth?returnUrl=${t}`}catch(s){c.error("Cannot connect to server. Please check your internet connection.")}},Gn=async(t,s)=>{if(s?.stopPropagation(),!t)return;if(!window.confirm("Are you sure you want to delete this project?"))return;const i=sr||[],a=i.find(e=>e?.id===t),n=a?.name||"Unknown";if(ir(i.filter(e=>e?.id!==t)),$t&&Wt)try{let s=null;if(e?.currentUser)try{s=await e.currentUser.getIdToken(!0)}catch(o){}const i=await fetch(`${r}/api/projects/${encodeURIComponent(String(t))}?userId=${encodeURIComponent(Wt.uid)}&projectName=${encodeURIComponent(n)}`,{method:"DELETE",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}}});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`HTTP ${i.status}`)}c.success("Project deleted")}catch(l){c.error("Could not delete from cloud, but removed from this device")}else c.success("Project deleted")},qn=d.useMemo(()=>"news"!==Nt?[]:qa.filter(e=>e.title.toLowerCase().includes(tr.toLowerCase())||e.source.toLowerCase().includes(tr.toLowerCase())||e.content.toLowerCase().includes(tr.toLowerCase())),[Nt,qa,tr]),Yn=()=>{Ga(!0),_a(1),rr(""),On(1,"",!0),c.success("Refreshing news...",{icon:"ðŸ”„",duration:1500})};d.useEffect(()=>{localStorage.setItem("studio_theme",Tt)},[Tt]);const Jn=(()=>{if(!Ms)return null;if(Ms.agents&&Ms.agents.length>0)return Ms.agents.map((e,r)=>{const s=t.find(t=>t.id===e);return{id:`step-${r}`,label:s?`Consult ${s.name}`:"Agent Task",desc:s?s.description||s.category:"Execute task",agentId:e,icon:s?s.icon:re,completed:!1}});if("custom"===Ms.workflow)return[{id:"add-agent",label:"Add Your First Agent",agentId:null,icon:oe,desc:"Select an agent to start working"}];switch(Ms.category){case"pro":return[{id:"lyrics",label:"Draft Lyrics",agentId:"ghost",icon:Y,desc:"Generate verses & hooks"},{id:"beat",label:"Compose Beat",agentId:"beat",icon:O,desc:"Create instrumental backing"},{id:"art",label:"Cover Art",agentId:"album",icon:re,desc:"Design album artwork"}];case"vybing":return[{id:"beat",label:"Generate Vibe",agentId:"beat",icon:O,desc:"Quick beat generation"},{id:"lyrics",label:"Freestyle Lyrics",agentId:"ghost",icon:Y,desc:"Write over the beat"}];default:return[{id:"plan",label:"Create Plan",agentId:"release",icon:Pe,desc:"Outline your project goals"}]}})(),[Qn,Kn]=d.useState(rt());return Ot&&!$t?p.jsx("div",{className:`studio-container ${Tt}-theme`,style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-primary)"},children:p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(168, 85, 247, 0.2)",borderTopColor:"#a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),p.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Studio..."})]})}):$t||Ot||Lt?p.jsxs("div",{className:`studio-container ${Tt}-theme`,...It,children:[Qn&&p.jsxs("div",{onClick:()=>{tt(),Kn(!1),c.success("Demo mode disabled - using real API")},style:it.container,title:"Click to disable demo mode",children:[p.jsx("span",{children:it.icon}),p.jsx("span",{children:it.text})]}),p.jsx(x,{position:"top-center",toastOptions:{duration:4e3,style:{background:"light"===Tt?"#ffffff":"#1a1a2e",color:"light"===Tt?"#0f172a":"#fff",border:"light"===Tt?"1px solid rgba(15, 23, 42, 0.1)":"1px solid rgba(139, 92, 246, 0.3)",boxShadow:"light"===Tt?"0 4px 20px rgba(0,0,0,0.1)":"none"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}}),p.jsxs("aside",{className:"studio-nav",children:[p.jsxs("div",{className:"studio-nav-logo",onClick:()=>l?.(),children:[p.jsx("div",{className:"logo-box studio-logo",children:p.jsx(N,{size:20,color:"white"})}),p.jsxs("div",{className:"logo-text",children:[p.jsx("span",{className:"studio-name",children:"STUDIO AGENTS"}),p.jsx("span",{className:"studio-sub",children:"AI ECOSYSTEM"}),p.jsx("span",{className:"studio-domain",children:"studioagentsai.com"})]})]}),p.jsxs("nav",{className:"studio-nav-links",children:[p.jsxs("button",{className:"nav-link "+("mystudio"===Nt?"active":""),onClick:()=>{zt("mystudio"),Ut(null)},children:[p.jsx(z,{size:20}),p.jsx("span",{children:"My Studio"})]}),p.jsxs("button",{className:"nav-link "+("agents"===Nt?"active":""),onClick:()=>{zt("agents"),Ut(null)},children:[p.jsx(I,{size:20}),p.jsx("span",{children:"Agents Team"})]}),p.jsxs("button",{className:"nav-link "+("hub"===Nt?"active":""),onClick:()=>{zt("hub"),Ut(null)},children:[p.jsx(T,{size:20}),p.jsx("span",{children:"Project Hub"})]}),p.jsxs("button",{className:"nav-link "+("activity"===Nt?"active":""),onClick:()=>{zt("activity"),Ut(null)},children:[p.jsx(A,{size:20}),p.jsx("span",{children:"Music Hub"})]}),p.jsxs("button",{className:"nav-link "+("resources"===Nt?"active":""),onClick:()=>{zt("resources"),Ut(null)},children:[p.jsx(R,{size:20}),p.jsx("span",{children:"Resources"})]}),p.jsxs("button",{className:"nav-link "+("news"===Nt?"active":""),onClick:()=>{zt("news"),Ut(null)},children:[p.jsx(U,{size:20}),p.jsx("span",{children:"Industry Pulse"})]}),p.jsxs("button",{className:"nav-link "+("support"===Nt?"active":""),onClick:()=>{zt("support"),Ut(null)},children:[p.jsx(B,{size:20}),p.jsx("span",{children:"Support"})]})]}),p.jsx("div",{className:"studio-nav-footer",children:p.jsxs("div",{className:"user-profile-mini haptic-press",onClick:()=>{zt("profile"),Ut(null)},style:{cursor:"pointer"},children:[p.jsx("div",{className:"user-avatar",children:Wt?.photoURL?p.jsx("img",{src:Wt.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%",borderRadius:"50%"}}):p.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:Wt?.displayName?.charAt(0)||"U"})}),p.jsxs("div",{className:"user-info",children:[p.jsx("p",{className:"user-name",children:$t?Wt?.displayName||"Pro Creator":"Guest Creator"}),p.jsx("p",{className:"user-status",children:$t?"Pro Plan":"Free Account"}),$t?p.jsx("button",{className:"sign-out-link",style:{fontSize:"0.7rem",color:"var(--color-red)",background:"none",border:"none",padding:0,cursor:"pointer",marginTop:"4px",textAlign:"left"},onClick:e=>{e.stopPropagation(),va()},children:"Sign Out"}):p.jsx("button",{className:"sign-in-link",style:{fontSize:"0.7rem",color:"var(--color-purple)",background:"none",border:"none",padding:0,cursor:"pointer",marginTop:"4px",textAlign:"left"},onClick:e=>{e.stopPropagation(),Qt(!0)},children:"Sign In"})]})]})})]}),p.jsxs("main",{className:"studio-main",onScroll:e=>{const{scrollTop:t,scrollHeight:r,clientHeight:s}=e.target;r-t<=s+150&&("activity"===Nt&&!Ba&&Wa?Mn(Ra+1):"news"===Nt&&!Fa&&Va&&On(Oa+1))},children:[p.jsxs("header",{className:"studio-header",children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("h2",{className:"studio-title",children:Rt?Rt.name:"mystudio"===Nt?"Dashboard":Nt.charAt(0).toUpperCase()+Nt.slice(1)}),"idle"!==ts&&p.jsxs("div",{className:"save-status-indicator animate-fadeIn",style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",background:"saving"===ts?"rgba(168, 85, 247, 0.15)":"saved"===ts?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",color:"saving"===ts?"var(--color-purple)":"saved"===ts?"var(--color-green)":"var(--color-red)",transition:"all 0.3s ease"},children:["saving"===ts&&p.jsx(P,{size:12,className:"spin"}),"saved"===ts&&p.jsx(W,{size:12}),"error"===ts&&p.jsx(D,{size:12}),p.jsx("span",{children:"saving"===ts?"Saving...":"saved"===ts?"Saved":"Save failed"})]})]}),p.jsxs("div",{className:"studio-header-actions",children:[p.jsx("button",{className:"action-button secondary haptic-press",onClick:()=>l?.(),title:"Back to Landing Page",children:p.jsx(z,{size:20})}),p.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>zt("profile"),title:"User Profile",children:[p.jsx($,{size:20}),p.jsx("span",{className:"desktop-only",children:"Profile"})]}),p.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>{qs(0),Vs(!0)},title:"Welcome Tour",children:[p.jsx(N,{size:20}),p.jsx("span",{className:"desktop-only",children:"Tour"})]}),p.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>{zt("support"),Ut(null)},title:"Help Center",children:[p.jsx(B,{size:20}),p.jsx("span",{className:"desktop-only",children:"Help"})]}),p.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>fn(!vn),style:{position:"relative"},children:[p.jsx(E,{size:20}),jn.some(e=>!e.read)&&p.jsx("span",{style:{position:"absolute",top:"-2px",right:"-2px",width:"8px",height:"8px",background:"var(--color-red)",borderRadius:"50%",border:"1px solid var(--card-bg)"}})]}),$t?p.jsx("div",{className:"user-avatar-header",style:{width:"32px",height:"32px",borderRadius:"50%",overflow:"hidden",marginLeft:"0.5rem",border:"1px solid var(--border-color)"},children:Wt?.photoURL?p.jsx("img",{src:Wt.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%"}}):p.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:Wt?.displayName?.charAt(0)||"U"})}):p.jsx("button",{className:"cta-button-sm haptic-press",onClick:()=>Qt(!0),style:{marginLeft:"0.5rem",padding:"0.4rem 0.8rem",fontSize:"0.8rem"},children:"Sign In"}),vn&&p.jsxs("div",{className:"notification-dropdown animate-fadeInUp",children:[p.jsxs("div",{className:"notif-header",children:[p.jsx("h3",{children:"Notifications"}),p.jsx("button",{onClick:()=>wn(e=>e.map(e=>({...e,read:!0}))),children:"Mark all read"})]}),p.jsx("div",{className:"notif-list",children:0===jn.length?p.jsx("div",{className:"notif-empty",children:"No new notifications"}):jn.map(e=>p.jsxs("div",{className:"notif-item "+(e.read?"read":"unread"),children:[p.jsxs("div",{className:"notif-item-header",children:[p.jsx("span",{className:"notif-title",children:e.title}),p.jsx("span",{className:"notif-time",children:e.time})]}),p.jsx("p",{className:"notif-message",children:e.message})]},e.id))})]}),$t?p.jsx("div",{className:"user-projects-dropdown",children:p.jsxs("button",{className:"action-button primary haptic-press",onClick:()=>Hi(!0),children:["New Project (",sr?.length||0,")"]})}):p.jsx("button",{className:"action-button primary haptic-press",onClick:()=>Qt(!0),children:"New Project"})]})]}),p.jsx("div",{className:"studio-content",children:(()=>{if("project_canvas"===Nt&&!Rt)return Ms?p.jsx(bt,{name:"Project Canvas",children:p.jsxs("div",{className:"project-canvas-view animate-fadeIn",children:[p.jsxs("div",{className:"canvas-header",children:[p.jsx("button",{onClick:()=>zt("hub"),className:"btn-icon-circle back-btn",children:p.jsx(ne,{size:20})}),p.jsxs("div",{children:[p.jsx("h1",{className:"project-title",children:Ms.name||"Untitled Project"}),p.jsxs("div",{className:"project-meta",children:[p.jsx("span",{className:"badge",children:Ms.category||"General"}),p.jsxs("span",{className:"date",children:["Created ",Ms.date||"Just now"]})]})]}),p.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[p.jsxs("button",{className:"btn-pill",style:{background:"rgba(168, 85, 247, 0.15)",color:"var(--color-purple)"},onClick:()=>yr(!0),children:[p.jsx(N,{size:16})," Add Assets"]}),p.jsxs("button",{className:"btn-pill primary",onClick:()=>zt("agents"),children:[p.jsx(re,{size:16})," Browse Agents"]})]})]}),p.jsxs("div",{className:"studio-monitor-panel",style:{background:"rgba(20, 20, 25, 0.6)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:"24px",overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[p.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.02)"},children:[p.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px",fontSize:"1rem",color:"var(--color-cyan)"},children:[p.jsx(we,{size:18})," Studio Monitor"]}),li?p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:li.title}),p.jsx("span",{className:"badge "+("Audio"===li.type?"bg-purple":"Video"===li.type?"bg-cyan":"bg-pink"),style:{fontSize:"0.7rem",padding:"2px 8px"},children:li.type})]}):p.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"No asset selected"})]}),p.jsx("div",{style:{minHeight:"360px",display:"flex",alignItems:"center",justifyContent:"center",background:"#000",position:"relative"},children:li?p.jsxs(p.Fragment,{children:["Video"===li.type&&li.videoUrl&&p.jsx("video",{src:ot(li.videoUrl),controls:!0,style:{width:"100%",maxHeight:"500px",objectFit:"contain"},onError:e=>{e.target.style.display="none",e.target.parentElement?.querySelector(".media-error-fallback")?.style?.setProperty("display","flex")}}),"Image"===li.type&&li.imageUrl&&p.jsx("img",{src:at(li.imageUrl),alt:li.title||"Asset",style:{width:"100%",maxHeight:"500px",objectFit:"contain"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"%3E%3Crect fill="%231a1a2e" width="200" height="200"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}),"Audio"===li.type&&li.audioUrl&&p.jsxs("div",{style:{width:"100%",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",gap:"24px"},children:[p.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 40px rgba(168, 85, 247, 0.3)"},children:p.jsx(O,{size:48,color:"white"})}),p.jsx("audio",{ref:zi,src:nt(li.audioUrl),controls:!0,style:{width:"100%",maxWidth:"600px"},onError:()=>{c.error("Audio file could not be loaded")},onPlay:()=>{},onPause:e=>{},onEnded:()=>{},onLoadedData:()=>{}},li.id||li.audioUrl)]}),("Text"===li.type||"Lyrics"===li.type||"Script"===li.type||!li.videoUrl&&!li.audioUrl&&!li.imageUrl&&li.content)&&p.jsxs("div",{style:{width:"100%",height:"100%",minHeight:"360px",padding:"32px",display:"flex",flexDirection:"column",background:"linear-gradient(180deg, rgba(6, 182, 212, 0.05) 0%, rgba(168, 85, 247, 0.05) 100%)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, var(--color-cyan), var(--color-purple))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 20px rgba(6, 182, 212, 0.3)"},children:p.jsx(ce,{size:24,color:"white"})}),p.jsxs("div",{children:[p.jsx("h4",{style:{margin:0,color:"white",fontSize:"1.1rem"},children:li.title}),p.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[li.agent," â€¢ ",li.date]})]}),p.jsx("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:p.jsx("button",{onClick:()=>{navigator.clipboard.writeText(li.content||"")},className:"btn-icon-circle glass",title:"Copy to clipboard",style:{background:"rgba(255,255,255,0.1)"},children:p.jsx(ge,{size:16})})})]}),p.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px",background:"rgba(0,0,0,0.3)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:p.jsx("pre",{style:{margin:0,fontFamily:"'SF Mono', 'Fira Code', monospace",fontSize:"0.95rem",lineHeight:"1.8",color:"rgba(255,255,255,0.9)",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:li.content||li.snippet||"No text content available"})})]}),p.jsxs("div",{style:{position:"absolute",top:"16px",right:"16px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[p.jsx("button",{onClick:()=>{try{const e=li.audioUrl||li.videoUrl||li.imageUrl;if(!e){if(li.content||li.snippet){const e=new Blob([li.content||li.snippet],{type:"text/plain"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`${li.title||"asset"}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),c.success("Text file downloaded")}else c.error("No downloadable content available");return}const t=document.createElement("a");t.href=e,t.download=li.title||"download",document.body.appendChild(t),t.click(),document.body.removeChild(t),c.success("Download started")}catch(e){c.error("Download failed. Try right-clicking and saving directly.")}},className:"btn-icon-circle glass",title:"Download",children:p.jsx(_,{size:18})}),p.jsx("button",{onClick:()=>{const e=Array.isArray(Ms?.assets)?Ms.assets.filter(Boolean):[];li&&Si(li,e)},className:"btn-icon-circle glass",title:"Fullscreen",children:p.jsx(Ue,{size:18})})]})]}):p.jsxs("div",{style:{textAlign:"center",color:"var(--text-secondary)",opacity:.5},children:[p.jsx(we,{size:48,style:{marginBottom:"16px"}}),p.jsx("p",{children:"Select an asset to preview"})]})})]}),p.jsxs("div",{className:"canvas-grid",children:[p.jsxs("div",{className:"canvas-column",children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[p.jsx(Ie,{size:18,className:"text-purple"})," The Team"]}),p.jsxs("div",{className:"team-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[Ms.agents&&Ms.agents.length>0?Ms.agents.filter(Boolean).map((e,r)=>{const s="object"==typeof e&&e?.id?e:t.find(t=>t.id===e||t.name===e)||t[0]||null;return s?p.jsxs("div",{className:"agent-card-mini haptic-press",onClick:()=>Ut(s),style:{padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"1px solid transparent",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:e=>e.currentTarget.style.borderColor="transparent",children:[p.jsx("div",{className:"agent-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:s.color,display:"flex",alignItems:"center",justifyContent:"center"},children:s.icon?p.jsx(s.icon,{size:20,color:"white"}):p.jsx($,{size:20,color:"white"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600"},children:s.name}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:s.role})]})]},s.id||r):null}):p.jsx("div",{className:"text-muted text-sm",children:"No agents selected"}),p.jsx("button",{className:"btn-dashed",style:{width:"100%",padding:"12px",border:"1px dashed var(--text-secondary)",borderRadius:"12px",color:"var(--text-secondary)",background:"transparent",cursor:"pointer"},onClick:()=>Ws(!0),children:"+ Add Agent"})]}),p.jsxs("div",{className:"orchestration-panel",style:{marginTop:"24px",padding:"16px",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",fontSize:"1rem",color:"var(--color-purple)"},children:[p.jsx(re,{size:16})," Studio Orchestrator"]}),p.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"12px"},children:"Generate lyrics, beats, visuals & more with one click."}),p.jsxs("button",{className:"btn-pill primary",style:{width:"100%",justifyContent:"center"},onClick:()=>{yr(!0),An("Opening Studio Orchestrator.")},children:[p.jsx(N,{size:16})," Open Orchestrator"]})]})]}),p.jsxs("div",{className:"canvas-column",children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[p.jsx(R,{size:18,className:"text-cyan"})," Narrative & Vision"]}),p.jsx("div",{className:"narrative-editor",children:p.jsx("textarea",{value:Ms?.description||"",onChange:e=>{if(!Ms)return;const t={...Ms,description:e.target.value};Os(t),ir(e=>Array.isArray(e)?e.map(e=>e?.id===t.id?t:e):[])},className:"narrative-textarea",placeholder:"Describe your project vision here..."})})]}),p.jsxs("div",{className:"canvas-column",children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[p.jsx(F,{size:18,className:"text-pink"})," Marketing"]}),Ms.socialHandle&&p.jsxs("div",{className:"marketing-card",style:{background:"rgba(6, 182, 212, 0.1)",borderRadius:"12px",padding:"16px",marginBottom:"16px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:[p.jsxs("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--color-cyan)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[p.jsx("span",{children:"Active Campaign"}),p.jsx("span",{style:{fontSize:"0.7rem",background:"var(--color-cyan)",color:"black",padding:"2px 6px",borderRadius:"4px"},children:"LIVE"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--color-bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--color-cyan)"},children:p.jsx(F,{size:20,className:"text-cyan"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600"},children:Ms.socialHandle}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textTransform:"capitalize"},children:[Ms.socialPlatform," â€¢ ",Ms.category]})]})]}),Ms.socialBio&&p.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",fontStyle:"italic",padding:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},children:['"',Ms.socialBio,'"']})]}),p.jsxs("div",{className:"marketing-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:[p.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--text-secondary)"},children:"Social Status"}),p.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[p.jsxs("div",{className:"social-pill "+(Xa.twitter?"active":""),style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.8rem",background:Xa.twitter?"rgba(29, 161, 242, 0.2)":"rgba(255,255,255,0.1)",color:Xa.twitter?"#1DA1F2":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[p.jsx(We,{size:14})," ",Xa.twitter?"Connected":"Link X"]}),p.jsxs("div",{className:"social-pill "+(Xa.instagram?"active":""),style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.8rem",background:Xa.instagram?"rgba(225, 48, 108, 0.2)":"rgba(255,255,255,0.1)",color:Xa.instagram?"#E1306C":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[p.jsx(De,{size:14})," ",Xa.instagram?"Connected":"Link IG"]})]})]}),p.jsxs("div",{className:"marketing-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"16px"},children:[p.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--text-secondary)"},children:"Quick Actions"}),p.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[p.jsx("button",{className:"btn-text",style:{fontSize:"0.8rem",color:"var(--color-purple)",background:"none",border:"none",cursor:"pointer",padding:0},onClick:()=>{yr(!0)},children:"+ Generate Assets"}),p.jsxs("label",{className:"btn-text",style:{fontSize:"0.8rem",color:"var(--color-cyan)",background:"none",border:"none",cursor:"pointer",padding:0,display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx("input",{type:"file",accept:"audio/*,image/*,video/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t),r=t.type.startsWith("audio")?"Audio":t.type.startsWith("video")?"Video":"Image",s={id:String(Date.now()),title:t.name,type:r,agent:"User Upload",date:"Just now",color:"agent-cyan",snippet:`Uploaded ${r} file`,audioUrl:t.type.startsWith("audio")?e:null,videoUrl:t.type.startsWith("video")?e:null,imageUrl:t.type.startsWith("image")?e:null},i={...Ms,assets:[s,...Ms.assets||[]]};Os(i),ir(e=>Array.isArray(e)?e.map(e=>e.id===i.id?i:e):[i])}}}),"+ Upload File"]})]})]})]})]}),p.jsxs("div",{className:"project-generations-section",style:{marginTop:"32px",paddingBottom:"40px",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"24px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[p.jsxs("h3",{style:{fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx($e,{size:20,className:"text-purple"}),"Project Generations",p.jsx("span",{style:{fontSize:"0.8rem",background:"rgba(255,255,255,0.1)",padding:"2px 8px",borderRadius:"12px",color:"var(--text-secondary)"},children:Ms.assets?.length||0})]}),p.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[p.jsxs("button",{className:"btn-pill",style:{fontSize:"0.85rem",padding:"8px 16px"},onClick:()=>yr(!0),children:[p.jsx(N,{size:14})," Generate New"]}),p.jsxs("button",{className:"btn-pill",style:{fontSize:"0.85rem",padding:"8px 16px",background:"rgba(6, 182, 212, 0.15)",color:"var(--color-cyan)"},onClick:()=>zt("agents"),children:[p.jsx(lt,{size:14})," Use Agent"]})]})]}),Ms.assets&&Ms.assets.length>0?p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px"},children:Ms.assets.filter(Boolean).map((e,t)=>{if(!e||"object"!=typeof e)return null;const r=mt(e,"id",`asset-${t}`);return mt(e,"title","Untitled"),mt(e,"type","text"),p.jsx(ut,{asset:e,children:p.jsxs("div",{className:"asset-card-canvas",style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",padding:"16px",border:"1px solid rgba(255,255,255,0.08)",transition:"all 0.2s ease",display:"flex",flexDirection:"column",gap:"12px",position:"relative",height:"100%"},onMouseEnter:e=>{e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.background="rgba(255,255,255,0.05)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.08)",e.currentTarget.style.background="rgba(255,255,255,0.03)",e.currentTarget.style.transform="translateY(0)"},children:[p.jsxs("div",{onClick:()=>{const t=Array.isArray(Ms?.assets)?Ms.assets:[];Si(e,t)},style:{width:"100%",aspectRatio:"16/9",background:"rgba(0,0,0,0.3)",borderRadius:"12px",overflow:"hidden",cursor:"pointer",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",border:li?.id&&e?.id&&li.id===e.id?"2px solid var(--color-cyan)":"none"},children:[e.imageUrl?p.jsx("img",{src:at(e.imageUrl),alt:e.title||"Asset image",style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="150" viewBox="0 0 200 150"%3E%3Crect fill="%231a1a2e" width="200" height="150"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-size="12" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}):e.videoUrl?p.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[p.jsx("video",{src:ot(e.videoUrl),style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,preload:"metadata",onLoadedData:e=>{0===e.target.currentTime&&(e.target.currentTime=1)},onError:e=>{e.target.style.display="none"}}),p.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"44px",height:"44px",borderRadius:"50%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:p.jsx(ee,{size:22,style:{color:"white",marginLeft:"3px"}})})]}):e.audioUrl?p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px"},children:[p.jsx(O,{size:32,style:{color:"var(--color-purple)"}}),p.jsx("div",{style:{width:"60%",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px"},children:p.jsx("div",{style:{width:"40%",height:"100%",background:"var(--color-purple)",borderRadius:"2px"}})}),p.jsx("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Click to play"})]}):p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",height:"100%",padding:"12px"},children:[p.jsx(ce,{size:28,style:{color:"var(--color-cyan)",flexShrink:0}}),(e.content||e.snippet)&&p.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textAlign:"center",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.4",maxWidth:"90%"},children:[(e.content||e.snippet).substring(0,80),"..."]}),p.jsx("span",{style:{fontSize:"0.65rem",color:"var(--color-cyan)",marginTop:"4px"},children:"Click to view"})]}),p.jsxs("div",{style:{position:"absolute",top:"8px",left:"8px",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"4px 8px",borderRadius:"6px",fontSize:"0.65rem",color:"white",display:"flex",alignItems:"center",gap:"4px"},children:["Video"===e.type&&p.jsx(J,{size:10}),"Audio"===e.type&&p.jsx(O,{size:10}),"Image"===e.type&&p.jsx(H,{size:10}),("Text"===e.type||"Lyrics"===e.type||"Script"===e.type)&&p.jsx(ce,{size:10}),e.type]})]}),p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"white",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[p.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx($,{size:10})," ",e.agent]}),p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.date})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"auto",paddingTop:"12px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[(e.audioUrl||e.videoUrl)&&p.jsx("button",{onClick:t=>{t.stopPropagation();const r=Array.isArray(Ms?.assets)?Ms.assets:[];Si(e,r)},className:"btn-icon-sm",title:e.audioUrl?"Play Audio":"Play Video",style:{flex:1,background:e.audioUrl?"rgba(168, 85, 247, 0.15)":"rgba(34, 211, 238, 0.15)",color:e.audioUrl?"var(--color-purple)":"var(--color-cyan)"},children:e.audioUrl?p.jsx(xe,{size:14}):p.jsx(ee,{size:14})}),p.jsx("button",{onClick:t=>{t.stopPropagation(),di(e)},className:"btn-icon-sm",title:"View in Monitor",style:{flex:1,background:"rgba(255,255,255,0.05)"},children:p.jsx(we,{size:14})}),p.jsx("button",{onClick:t=>{t.stopPropagation();const r=Array.isArray(Ms?.assets)?Ms.assets:[];Si(e,r)},className:"btn-icon-sm",title:"Fullscreen",style:{flex:1,background:"rgba(255,255,255,0.05)"},children:p.jsx(Ue,{size:14})}),p.jsx("button",{onClick:r=>{r.stopPropagation();try{if(confirm(`Delete "${e.title||"this asset"}"?`)){const r=(Array.isArray(Ms?.assets)?Ms.assets:[]).filter((e,r)=>r!==t),s={...Ms,assets:r,updatedAt:(new Date).toISOString()};Os(s),ir(e=>Array.isArray(e)?e.map(e=>e.id===s.id?s:e):[s]),li?.id===e.id&&di(r[0]||null),c.success("Asset deleted")}}catch(s){c.error("Could not delete asset. Please try again.")}},className:"btn-icon-sm",title:"Delete",style:{flex:1,background:"rgba(239, 68, 68, 0.1)",color:"var(--color-red)"},children:p.jsx(ue,{size:14})})]})]})},r)})}):p.jsxs("div",{style:{padding:"60px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"2px dashed rgba(255,255,255,0.05)"},children:[p.jsx($e,{size:48,style:{opacity:.2,marginBottom:"16px"}}),p.jsx("h3",{style:{color:"var(--text-secondary)",marginBottom:"8px"},children:"No generations yet"}),p.jsx("p",{style:{color:"var(--text-secondary)",opacity:.7,maxWidth:"400px",margin:"0 auto 24px auto"},children:"Start by opening the Studio Orchestrator or uploading your own files."}),p.jsxs("button",{className:"btn-pill primary",onClick:()=>yr(!0),children:[p.jsx(N,{size:16})," Start Creating"]})]})]})]})}):p.jsx("div",{className:"p-8 text-center animate-fadeIn",children:p.jsx("div",{style:{opacity:.6},children:"Loading project..."})});if("mystudio"===Nt)return p.jsx("div",{className:"studio-dashboard animate-fadeInUp",children:p.jsxs("div",{className:"dashboard-sidebar-layout",children:[p.jsxs("div",{className:"dashboard-sidebar",children:[p.jsx("div",{className:"sidebar-header",children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("h2",{children:"Studio"}),p.jsx("span",{className:"pro-badge",children:"PRO"})]}),p.jsx("div",{className:"status-indicator",title:Ji.message,style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"healthy"===Ji.status?"var(--color-emerald)":"var(--color-red)",boxShadow:"healthy"===Ji.status?"0 0 8px var(--color-emerald)":"0 0 8px var(--color-red)"}})]})}),p.jsxs("nav",{className:"sidebar-nav",children:[p.jsxs("button",{className:"sidebar-link "+("overview"===Sa?"active":""),onClick:()=>Na("overview"),children:[p.jsx(I,{size:18})," Overview"]}),p.jsxs("button",{className:"sidebar-link "+("agents"===Sa?"active":""),onClick:()=>Na("agents"),children:[p.jsx(Ie,{size:18})," Manage Agents"]}),p.jsxs("button",{className:"sidebar-link "+("billing"===Sa?"active":""),onClick:()=>Na("billing"),children:[p.jsx(ve,{size:18})," Billing & Wallet"]}),p.jsxs("button",{className:"sidebar-link "+("settings"===Sa?"active":""),onClick:()=>Na("settings"),children:[p.jsx(ze,{size:18})," App Settings"]})]})]}),p.jsxs("div",{className:"dashboard-main-content",children:["overview"===Sa&&p.jsxs("div",{className:"dashboard-view-overview animate-fadeIn",children:[p.jsxs("div",{className:"artist-profile-header",style:{background:"linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[p.jsx("div",{className:"profile-avatar",style:{width:"80px",height:"80px",borderRadius:"50%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem",color:"white",boxShadow:"0 4px 20px rgba(168, 85, 247, 0.3)"},children:Wt?.photoURL?p.jsx("img",{src:Wt.photoURL,alt:"Profile",loading:"lazy",style:{width:"100%",height:"100%",borderRadius:"50%"}}):p.jsx($,{size:40})}),p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"4px"},children:[p.jsx("h1",{style:{fontSize:"1.8rem",margin:0,fontWeight:"700"},children:Wt?.displayName||"Guest Creator"}),$t&&p.jsx("span",{className:"pro-badge",children:"PRO"})]}),p.jsx("p",{style:{color:"var(--text-secondary)",margin:0,display:"flex",alignItems:"center",gap:"6px"},children:Wt?.email||"Sign in to save your work"}),Ms&&p.jsxs("div",{style:{marginTop:"8px",display:"flex",alignItems:"center",gap:"6px",fontSize:"0.9rem",color:"var(--color-cyan)"},children:[p.jsx(V,{size:14}),p.jsxs("span",{children:["Current Session: ",p.jsx("strong",{children:Ms.name})]})]})]})]}),p.jsxs("div",{className:"profile-stats",style:{display:"flex",gap:"24px"},children:[p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--text-primary)"},children:sr.length}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1px"},children:"Projects"})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--color-cyan)"},children:Ja.credits}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1px"},children:"Credits"})]}),p.jsxs("div",{style:{textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"700",color:"var(--color-purple)"},children:Ca.filter(e=>e.visible).length}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1px"},children:"Agents"})]})]})]}),!Ja.stageName&&p.jsxs("div",{className:"profile-nudge-card animate-fadeInUp",style:{background:"linear-gradient(90deg, rgba(168, 85, 247, 0.2) 0%, rgba(168, 85, 247, 0.05) 100%)",border:"1px solid var(--color-purple)",borderRadius:"12px",padding:"16px 24px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[p.jsx("div",{style:{background:"var(--color-purple)",padding:"10px",borderRadius:"50%",color:"white"},children:p.jsx($,{size:24})}),p.jsxs("div",{children:[p.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"1.1rem"},children:"Complete Your Creator Profile"}),p.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Set your stage name and genre to get personalized AI results."})]})]}),p.jsx("button",{className:"cta-button-premium",onClick:()=>zt("profile"),children:"Setup Profile"})]}),p.jsx("div",{className:"audience-overview",children:[{label:"Monthly Listeners",value:Ka.listeners.toLocaleString(),icon:Ie,color:"var(--color-blue)"},{label:"Total Streams",value:Ka.streams.toLocaleString(),icon:M,color:"var(--color-emerald)"},{label:"Followers",value:Ka.followers.toLocaleString(),icon:Se,color:"var(--color-purple)"},{label:"Growth",value:Ka.growth,icon:Ee,color:"var(--color-cyan)"}].map((e,t)=>p.jsxs("div",{className:"audience-stat-card",children:[p.jsx("div",{className:"audience-stat-icon",style:{background:`${e.color}20`,color:e.color},children:p.jsx(e.icon,{size:20})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:e.value}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:e.label})]})]},t))}),p.jsxs("div",{className:"dashboard-card orchestrator-promo-card animate-fadeInUp",style:{marginBottom:"24px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"24px",padding:"24px",position:"relative",overflow:"hidden"},children:[p.jsx("div",{style:{position:"absolute",top:"-20px",right:"-20px",opacity:.1},children:p.jsx(re,{size:120,color:"var(--color-purple)"})}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[p.jsxs("div",{style:{flex:1,minWidth:"280px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[p.jsx("div",{style:{background:"linear-gradient(135deg, #8b5cf6, #06b6d4)",padding:"10px",borderRadius:"12px",color:"white"},children:p.jsx(re,{size:24})}),p.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"800",letterSpacing:"-0.5px"},children:"AI Production Pipeline"})]}),p.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1rem",lineHeight:"1.5",margin:"0 0 20px 0"},children:"Transform a single idea into a complete release package. Our multi-agent orchestrator handles lyrics, beats, visuals, and marketing in one automated flow."}),p.jsxs("div",{style:{display:"flex",gap:"12px"},children:[p.jsx("button",{className:"cta-button-premium",onClick:()=>yr(!0),style:{padding:"12px 24px"},children:"Start AI Production"}),p.jsx("button",{className:"btn-pill glass",onClick:()=>zt("resources"),children:"Watch Demo"})]})]}),p.jsxs("div",{className:"orchestrator-stats",style:{display:"flex",gap:"20px"},children:[p.jsxs("div",{style:{textAlign:"center",background:"rgba(255,255,255,0.03)",padding:"16px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[p.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-purple)"},children:"4"}),p.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase"},children:"Agents"})]}),p.jsxs("div",{style:{textAlign:"center",background:"rgba(255,255,255,0.03)",padding:"16px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[p.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-cyan)"},children:"1-Click"}),p.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase"},children:"Workflow"})]})]})]})]}),p.jsxs("div",{className:"dashboard-card workflow-card",style:{marginBottom:"24px",background:"var(--color-bg-secondary)",border:"1px solid var(--border-color)"},children:[p.jsx("div",{className:"card-header",children:p.jsxs("h3",{children:[p.jsx(N,{size:18,className:"text-cyan"})," Studio Workflow"]})}),p.jsx("div",{className:"workflow-steps-mini",style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"16px"},children:[{step:1,title:"Define Your Vision",desc:"Use the Project Wizard to name your masterpiece and select your studio vibe.",icon:N,color:"var(--color-cyan)"},{step:2,title:"Assemble Your Team",desc:"Choose from 16 specialized AI agents for lyrics, beats, and production.",icon:Ie,color:"var(--color-purple)"},{step:3,title:"Launch & Amplify",desc:"Use Marketing agents to build your rollout plan and sync socials.",icon:ke,color:"var(--color-pink)"}].map((e,t)=>p.jsxs("div",{className:"workflow-step-item",style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[p.jsx("div",{className:"step-number",style:{minWidth:"24px",height:"24px",borderRadius:"50%",background:e.color,color:"black",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:e.step}),p.jsxs("div",{children:[p.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"0.95rem"},children:e.title}),p.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:e.desc})]})]},t))}),p.jsxs("div",{className:"workflow-actions",style:{marginTop:"20px",display:"flex",gap:"12px"},children:[p.jsxs("button",{className:"btn-pill primary",onClick:()=>Hi(!0),children:[p.jsx(oe,{size:14})," New Project"]}),p.jsxs("button",{className:"btn-pill glass",onClick:()=>zt("hub"),children:[p.jsx(T,{size:14})," Open Existing"]})]})]}),p.jsxs("section",{className:"dashboard-card recent-projects-card",style:{marginBottom:"24px"},children:[p.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(T,{size:18,className:"text-cyan"})," Your Projects"]}),p.jsxs("button",{className:"btn-pill glass",onClick:()=>zt("hub"),style:{fontSize:"0.75rem",padding:"6px 12px"},children:["View All ",p.jsx(Ae,{size:14})]})]}),0===sr.length?p.jsxs("div",{className:"empty-projects-state",style:{textAlign:"center",padding:"40px 20px",background:"rgba(255,255,255,0.02)",borderRadius:"12px",marginTop:"16px"},children:[p.jsx(T,{size:40,style:{color:"var(--text-secondary)",marginBottom:"12px"}}),p.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--text-primary)"},children:"No Projects Yet"}),p.jsx("p",{style:{margin:"0 0 16px 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Start your first project and track your creative journey."}),p.jsxs("button",{className:"btn-pill primary",onClick:()=>Hi(!0),children:[p.jsx(oe,{size:14})," Create First Project"]})]}):p.jsxs("div",{className:"projects-list-view",style:{marginTop:"16px"},children:[(sr||[]).slice(0,5).map((e,t)=>{const r=e.createdAt?new Date(e.createdAt):e.date?new Date(e.date):new Date,s=r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:r.getFullYear()!==(new Date).getFullYear()?"numeric":void 0});return p.jsxs("div",{className:"project-list-item touch-feedback",onClick:()=>{Os(e),zt("hub")},style:{display:"grid",gridTemplateColumns:"48px 1fr auto",gap:"16px",alignItems:"center",padding:"16px",background:Ms?.id===e.id?"rgba(168, 85, 247, 0.1)":"rgba(255,255,255,0.02)",borderRadius:"12px",marginBottom:"8px",border:Ms?.id===e.id?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.05)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:t=>{Ms?.id!==e.id&&(t.currentTarget.style.borderColor="rgba(255,255,255,0.05)")},children:[p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"10px",background:"music"===e.category?"linear-gradient(135deg, var(--color-purple) 0%, var(--color-pink) 100%)":"visual"===e.category?"linear-gradient(135deg, var(--color-cyan) 0%, var(--color-blue) 100%)":"marketing"===e.category?"linear-gradient(135deg, var(--color-orange) 0%, var(--color-red) 100%)":"linear-gradient(135deg, var(--color-emerald) 0%, var(--color-cyan) 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.2rem",fontWeight:"700",flexShrink:0},children:"music"===e.category?p.jsx(V,{size:22}):"visual"===e.category?p.jsx(H,{size:22}):"marketing"===e.category?p.jsx(F,{size:22}):p.jsx(T,{size:22})}),p.jsxs("div",{style:{minWidth:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[p.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),p.jsx("span",{style:{padding:"2px 8px",background:"completed"===e.status?"rgba(16, 185, 129, 0.2)":"archived"===e.status?"rgba(100, 116, 139, 0.2)":"rgba(168, 85, 247, 0.2)",color:"completed"===e.status?"var(--color-emerald)":"archived"===e.status?"var(--text-secondary)":"var(--color-purple)",borderRadius:"20px",fontSize:"0.65rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",flexShrink:0},children:e.status||"Active"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--text-secondary)",fontSize:"0.8rem"},children:[p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx($,{size:12}),Wt?.displayName||"You"]}),p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(de,{size:12}),s]}),e.agents?.length>0&&p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(Ie,{size:12}),e.agents.length," agent",1!==e.agents.length?"s":""]})]}),e.description&&p.jsx("p",{style:{margin:"6px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.description})]}),p.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:p.jsx("button",{className:"btn-icon-sm",onClick:t=>{t.stopPropagation(),Os(e),e.agents?.[0]&&(Ut(e.agents[0]),zt("agents"))},title:"Open Project",style:{width:"32px",height:"32px",borderRadius:"8px",background:"var(--color-purple)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(ee,{size:14})})})]},e.id||t)}),sr.length>5&&p.jsxs("button",{className:"btn-pill glass",onClick:()=>zt("hub"),style:{width:"100%",marginTop:"8px"},children:["View All ",sr.length," Projects ",p.jsx(Ae,{size:14})]})]})]}),p.jsxs("section",{className:"dashboard-card brand-strategy-card",style:{marginBottom:"24px"},children:[p.jsxs("div",{className:"card-header",children:[p.jsxs("h3",{children:[p.jsx(Pe,{size:18})," Build Your Legacy"]}),p.jsx(re,{size:18,className:"text-yellow-400"})]}),p.jsxs("div",{className:"strategy-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px"},children:[p.jsxs("div",{className:"strategy-item",style:{background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"8px"},children:[p.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"4px",color:"var(--color-purple)"},children:"Output"}),p.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Don't just make music, build a brand."})]}),p.jsxs("div",{className:"strategy-item",style:{background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"8px"},children:[p.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"4px",color:"var(--color-cyan)"},children:"Hit Ready"}),p.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Production quality that stands out."})]}),p.jsxs("div",{className:"strategy-item",style:{background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"8px"},children:[p.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"4px",color:"var(--color-pink)"},children:"Viral Videos"}),p.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Visuals designed for social impact."})]}),p.jsxs("div",{className:"strategy-item",style:{background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"8px"},children:[p.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"4px",color:"var(--color-orange)"},children:"Marketing"}),p.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Content strategy that converts."})]})]})]}),p.jsxs("div",{className:"dashboard-grid",children:[p.jsxs("div",{className:"dashboard-card onboarding-card",style:{border:"1px solid rgba(168, 85, 247, 0.3)",background:"linear-gradient(145deg, rgba(168, 85, 247, 0.05) 0%, rgba(0,0,0,0) 100%)"},children:[p.jsxs("div",{className:"card-header",children:[p.jsxs("h3",{children:[p.jsx(ke,{size:18,className:"text-purple"}),Ms?`Project Roadmap: ${Ms.name}`:"Studio Setup Checklist"]}),p.jsx("span",{className:"status-badge",style:{background:"var(--color-purple)",color:"white"},children:Ms?"In Progress":(on.length>0?1:0)+" / 1 Complete"})]}),p.jsx("div",{className:"checklist-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:Ms&&Jn?Jn.map((e,r)=>p.jsxs("div",{className:"checklist-item",style:{padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",gap:"8px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{const r=t.find(t=>t.id===e.agentId);r&&(r.isPro&&!$t?(Qt(!0),An(`Unlock ${r.name} with a Pro account.`)):(Ut(r),zt("agents"),An(`Opening ${r.name} for project ${Ms.name}.`)))},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:e=>e.currentTarget.style.borderColor="rgba(255,255,255,0.05)",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("span",{style:{fontWeight:"600",color:"var(--text-primary)"},children:[r+1,". ",e.label]}),p.jsx(e.icon,{size:16,className:"text-purple"})]}),p.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:e.desc}),p.jsx("button",{className:"btn-pill glass",style:{fontSize:"0.75rem",padding:"4px 12px",marginTop:"auto"},children:"Launch"})]},r)):p.jsxs("div",{className:"checklist-item "+(on.length>0?"completed":""),style:{padding:"16px",background:on.length>0?"rgba(16, 185, 129, 0.05)":"rgba(255,255,255,0.03)",borderRadius:"12px",border:on.length>0?"1px solid rgba(16, 185, 129, 0.2)":"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",gap:"8px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsx("span",{style:{fontWeight:"600",color:on.length>0?"var(--color-emerald)":"var(--text-primary)"},children:"Setup Wallet"}),on.length>0?p.jsx(Ce,{size:16,className:"text-emerald"}):p.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:"2px solid var(--text-secondary)"}})]}),p.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Add payment method."}),!on.length&&p.jsx("button",{className:"btn-pill glass",style:{fontSize:"0.75rem",padding:"4px 12px",marginTop:"auto"},onClick:()=>Na("billing"),children:"Add Card"})]})})]}),p.jsxs("section",{className:"dashboard-card",children:[p.jsxs("div",{className:"card-header",children:[p.jsxs("h3",{children:[p.jsx(F,{size:18})," Social Ecosystem"]}),p.jsx("span",{className:"status-badge online",children:"Live"})]}),p.jsxs("div",{className:"connection-list",children:[p.jsxs("div",{className:"connection-item",children:[p.jsxs("div",{className:"connection-info",children:[p.jsx("div",{className:"icon-box twitter-bg",children:p.jsx(We,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"connection-name",children:"X (Twitter)"}),p.jsx("p",{className:"connection-status",children:Xa.twitter?`@${en||"Connected"}`:"Not Connected"})]})]}),p.jsx("button",{className:"btn-connect "+(Xa.twitter?"connected":""),onClick:()=>Vn("twitter"),children:Xa.twitter?"Manage":"Connect"})]}),p.jsxs("div",{className:"connection-item",children:[p.jsxs("div",{className:"connection-info",children:[p.jsx("div",{className:"icon-box instagram-bg",children:p.jsx(De,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"connection-name",children:"Instagram"}),p.jsx("p",{className:"connection-status",children:Xa.instagram?rn||"Connected":"Not Connected"})]})]}),p.jsx("button",{className:"btn-connect "+(Xa.instagram?"connected":""),onClick:()=>Vn("instagram"),children:Xa.instagram?"Manage":"Connect"})]})]})]}),p.jsxs("section",{className:"dashboard-card",children:[p.jsxs("div",{className:"card-header",children:[p.jsxs("h3",{children:[p.jsx(se,{size:18})," Cloud Storage"]}),p.jsx("span",{className:"storage-usage",children:"72% Full"})]}),p.jsx("div",{className:"connection-list",children:p.jsxs("div",{className:"connection-item",children:[p.jsxs("div",{className:"connection-info",children:[p.jsx("div",{className:"icon-box storage-bg",children:p.jsx(Le,{size:20})}),p.jsxs("div",{children:[p.jsx("p",{className:"connection-name",children:"Google Drive"}),p.jsx("p",{className:"connection-status",children:an.googleDrive?"Connected":"Disconnected"})]})]}),p.jsx("button",{className:"btn-connect "+(an.googleDrive?"connected":""),onClick:()=>nn(e=>({...e,googleDrive:!e.googleDrive})),children:an.googleDrive?"Disconnect":"Connect"})]})})]})]})]}),"agents"===Sa&&p.jsxs("div",{className:"dashboard-view-agents animate-fadeIn",children:[p.jsxs("div",{className:"section-header-simple",children:[p.jsx("h2",{children:"Agent Management"}),p.jsx("p",{children:"Show or hide agents from your main grid. Hidden agents are still accessible via search."})]}),p.jsx("div",{className:"agent-management-list",children:Ca.map((e,t)=>p.jsxs("div",{className:"agent-manage-row "+(e.visible?"":"hidden-agent"),children:[p.jsxs("div",{className:"agent-manage-info",children:[p.jsx("div",{className:`agent-mini-icon ${e.colorClass}`,children:p.jsx(e.icon,{size:18})}),p.jsx("span",{children:e.name})]}),p.jsx("div",{className:"agent-manage-actions",children:p.jsxs("button",{className:"toggle-btn "+(e.visible?"active":""),onClick:()=>{return t=e.name,void za(e=>e.map(e=>e.name===t?{...e,visible:!e.visible}:e));var t},children:[e.visible?p.jsx(ae,{size:16}):p.jsx(Me,{size:16}),e.visible?"Visible":"Hidden"]})})]},t))})]}),"billing"===Sa&&p.jsxs("div",{className:"dashboard-view-billing animate-fadeIn",children:[p.jsxs("div",{className:"section-header-simple",children:[p.jsx("h2",{children:"Billing & Wallet"}),p.jsx("p",{children:"Manage your payment methods and subscription plan."})]}),p.jsxs("div",{className:"wallet-balance-card",children:[p.jsxs("div",{className:"balance-info",children:[p.jsx("div",{className:"balance-label",children:"Current Balance"}),p.jsxs("div",{className:"balance-amount",children:["500 ",p.jsx("span",{className:"currency",children:"Credits"})]})]}),p.jsxs("button",{className:"btn-pill primary",onClick:()=>un(!0),children:[p.jsx(oe,{size:16})," Top Up Wallet"]})]}),p.jsxs("div",{className:"payment-methods-container",children:[p.jsxs("div",{className:"payment-header",children:[p.jsx("h3",{children:"Saved Payment Methods"}),p.jsxs("button",{className:"add-payment-btn",onClick:()=>xn(!0),children:[p.jsx(oe,{size:16})," Add New"]})]}),0===on.length&&0===dn.length?p.jsxs("div",{className:"empty-payments",children:[p.jsx(ve,{size:32}),p.jsx("p",{children:"No payment methods saved yet."})]}):p.jsxs("div",{className:"payment-list",children:[on.map(e=>p.jsxs("div",{className:"payment-method-card",children:[p.jsx("div",{className:"pm-icon",children:p.jsx(ve,{size:20})}),p.jsxs("div",{className:"pm-details",children:[p.jsxs("p",{className:"pm-name",children:[e.type," ending in ",e.last4]}),p.jsxs("p",{className:"pm-sub",children:["Expires ",e.expiry]})]}),p.jsxs("div",{className:"pm-actions",children:[p.jsx("button",{onClick:()=>{hn(e),bn("card"),xn(!0)},children:"Edit"}),p.jsx("button",{className:"delete",onClick:()=>Pn(e.id,"card"),children:"Remove"})]})]},e.id)),dn.map(e=>p.jsxs("div",{className:"payment-method-card",children:[p.jsx("div",{className:"pm-icon",children:p.jsx(fe,{size:20})}),p.jsxs("div",{className:"pm-details",children:[p.jsx("p",{className:"pm-name",children:e.bankName}),p.jsxs("p",{className:"pm-sub",children:["****",e.last4]})]}),p.jsxs("div",{className:"pm-actions",children:[p.jsx("button",{onClick:()=>{hn(e),bn("bank"),xn(!0)},children:"Edit"}),p.jsx("button",{className:"delete",onClick:()=>Pn(e.id,"bank"),children:"Remove"})]})]},e.id))]})]}),p.jsxs("div",{className:"plans-section",style:{marginTop:"2rem"},children:[p.jsx("div",{className:"payment-header",children:p.jsx("h3",{children:"Available Plans"})}),p.jsxs("div",{className:"plans-grid",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginTop:"1rem"},children:[p.jsxs("div",{className:"pricing-card-native",children:[p.jsxs("div",{className:"plan-header-native",children:[p.jsx("h3",{className:"plan-name-native",children:"Free"}),p.jsx("div",{className:"plan-price-box-native",children:p.jsx("span",{className:"plan-price-native",children:"$0"})})]}),p.jsxs("ul",{className:"plan-features-native",children:[p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"Up to 3 agents"})]}),p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"3 uses per agent"})]}),p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"10s audio output"})]})]}),p.jsx("button",{className:"plan-button-native secondary",disabled:!0,style:{opacity:.5,cursor:"default"},children:"Current Plan"})]}),p.jsxs("div",{className:"pricing-card-native popular",children:[p.jsx("div",{className:"popular-badge-native",children:"Most Popular"}),p.jsxs("div",{className:"plan-header-native",children:[p.jsx("h3",{className:"plan-name-native",children:"Creator"}),p.jsxs("div",{className:"plan-price-box-native",children:[p.jsx("span",{className:"plan-price-native",children:"$4.99"}),p.jsx("span",{className:"plan-period-native",children:"/mo"})]})]}),p.jsxs("ul",{className:"plan-features-native",children:[p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"Up to 5 agents"})]}),p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"100 uses/month"})]}),p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"30s audio output"})]})]}),p.jsx("button",{className:"plan-button-native primary",onClick:()=>Sn({name:"Creator",price:"$4.99",period:"/month"}),children:"Subscribe"})]}),p.jsxs("div",{className:"pricing-card-native",children:[p.jsxs("div",{className:"plan-header-native",children:[p.jsx("h3",{className:"plan-name-native",children:"Studio Pro"}),p.jsxs("div",{className:"plan-price-box-native",children:[p.jsx("span",{className:"plan-price-native",children:"$14.99"}),p.jsx("span",{className:"plan-period-native",children:"/mo"})]})]}),p.jsxs("ul",{className:"plan-features-native",children:[p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"All 16 agents"})]}),p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"Unlimited uses"})]}),p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"60s audio output"})]})]}),p.jsx("button",{className:"plan-button-native primary",onClick:()=>Sn({name:"Studio Pro",price:"$14.99",period:"/month"}),children:"Subscribe"})]}),p.jsxs("div",{className:"pricing-card-native ltd-card",children:[p.jsx("div",{className:"ltd-badge-native",children:"Limited Time Offer"}),p.jsxs("div",{className:"plan-header-native",children:[p.jsx("h3",{className:"plan-name-native",children:"Lifetime"}),p.jsxs("div",{className:"plan-price-box-native",children:[p.jsx("span",{className:"plan-price-native",children:"$99"}),p.jsx("span",{className:"plan-period-native",children:"one-time"})]})]}),p.jsxs("ul",{className:"plan-features-native",children:[p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"500 Credits / Month"})]}),p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"All 16 Agents"})]}),p.jsxs("li",{className:"plan-feature-item-native",children:[p.jsx("div",{className:"feature-check-native",children:p.jsx(re,{size:12})}),p.jsx("span",{children:"Commercial License"})]})]}),p.jsx("button",{className:"plan-button-native primary",onClick:()=>Sn({name:"Lifetime Access",price:"$99",period:"one-time"}),children:"Get Lifetime"})]})]})]})]}),"settings"===Sa&&p.jsxs("div",{className:"dashboard-view-settings animate-fadeIn",children:[p.jsxs("div",{className:"section-header-simple",children:[p.jsx("h2",{children:"Application Settings"}),p.jsx("p",{children:"Customize your Studio Agents experience."})]}),p.jsxs("div",{className:"settings-list",children:[p.jsxs("div",{className:"setting-row",children:[p.jsxs("div",{className:"setting-info",children:[p.jsx("h4",{children:"Show Industry Pulse"}),p.jsx("p",{children:"Display the latest music industry news in your dashboard."})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:Ia.showNews,onChange:()=>Aa("showNews")}),p.jsx("span",{className:"slider round"})]})]}),p.jsxs("div",{className:"setting-row",children:[p.jsxs("div",{className:"setting-info",children:[p.jsx("h4",{children:"Public Activity Wall"}),p.jsx("p",{children:"Allow your shared creations to be seen by the community."})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:Ia.publicActivity,onChange:()=>Aa("publicActivity")}),p.jsx("span",{className:"slider round"})]})]}),p.jsxs("div",{className:"setting-row",children:[p.jsxs("div",{className:"setting-info",children:[p.jsx("h4",{children:"Auto-Save Projects"}),p.jsx("p",{children:"Automatically save your work to local storage every 5 minutes."})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:Ia.autoSave,onChange:()=>Aa("autoSave")}),p.jsx("span",{className:"slider round"})]})]}),p.jsxs("div",{className:"setting-row",children:[p.jsxs("div",{className:"setting-info",children:[p.jsx("h4",{children:"High Quality Previews"}),p.jsx("p",{children:"Generate higher fidelity audio previews (may take longer)."})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:Ia.highQualityPreviews,onChange:()=>Aa("highQualityPreviews")}),p.jsx("span",{className:"slider round"})]})]}),p.jsxs("div",{className:"setting-row",children:[p.jsxs("div",{className:"setting-info",children:[p.jsx("h4",{children:"Streamer Mode"}),p.jsx("p",{children:"Hide sensitive personal information like email and billing details."})]}),p.jsxs("label",{className:"switch",children:[p.jsx("input",{type:"checkbox",checked:Ia.streamerMode,onChange:()=>Aa("streamerMode")}),p.jsx("span",{className:"slider round"})]})]}),p.jsxs("div",{className:"setting-row",children:[p.jsxs("div",{className:"setting-info",children:[p.jsx("h4",{children:"Reset Onboarding"}),p.jsx("p",{children:'View the "Welcome to The Studio" introduction again.'})]}),p.jsxs("button",{className:"secondary-button",onClick:()=>{localStorage.removeItem("studio_onboarding_v2"),qs(0),Vs(!0)},style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(me,{size:16}),"Reset Tour"]})]})]})]})]})]})});if(Rt&&"agents"!==Nt){const e=Rt.icon;return p.jsxs("div",{className:"agent-active-view animate-fadeInUp",style:{position:"relative",paddingBottom:"80px"},children:[$r&&Rt.onboarding&&p.jsxs("div",{className:"agent-nudge-overlay animate-fadeInDown",children:[p.jsxs("div",{className:"nudge-header",children:[p.jsxs("h4",{children:[p.jsx(N,{size:16})," Quick Start Guide"]}),p.jsx("button",{className:"nudge-close",onClick:()=>Er(!1),children:p.jsx(L,{size:16})})]}),p.jsx("div",{className:"nudge-steps",children:Rt.onboarding.map((e,t)=>p.jsxs("div",{className:"nudge-step",children:[p.jsx("span",{className:"step-num",children:t+1}),p.jsx("p",{children:e})]},t))}),p.jsx("div",{className:"nudge-footer",children:p.jsx("button",{className:"nudge-cta",onClick:()=>Er(!1),children:"Got it, let's go!"})})]}),p.jsxs("button",{className:"back-to-grid",onClick:()=>Ut(null),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"none",border:"none",color:"#9ca3af",cursor:"pointer",marginBottom:"2rem"},children:[p.jsx(ne,{size:20}),p.jsx("span",{children:"project_canvas"===Nt?"Back to Project":"Back to Agents"})]}),p.jsxs("div",{className:"agent-detail-layout",children:[p.jsxs("div",{className:"agent-main-panel",children:[p.jsxs("div",{className:"agent-hero-card",children:[p.jsx("div",{className:`agent-icon-large ${Rt.colorClass}`,children:p.jsx(e,{size:40})}),p.jsxs("div",{className:"agent-hero-info",children:[p.jsx("span",{className:"agent-badge",children:Rt.category}),p.jsx("h2",{children:Rt.name}),p.jsx("p",{children:Rt.description||Rt.desc})]})]}),p.jsxs("div",{className:"agent-utility-box",children:[p.jsxs("div",{className:"utility-controls",children:[p.jsxs("div",{className:"control-group",children:[p.jsx("label",{children:"Genre / Style"}),p.jsxs("select",{className:"studio-select",children:[p.jsx("option",{children:"Hip Hop / Rap"}),p.jsx("option",{children:"Pop / Modern"}),p.jsx("option",{children:"R&B / Soul"}),p.jsx("option",{children:"Electronic / Dance"}),p.jsx("option",{children:"Rock / Alternative"}),p.jsx("option",{children:"Lo-Fi / Chill"})]})]}),p.jsxs("div",{className:"control-group",children:[p.jsx("label",{children:"Intensity / Mood"}),p.jsx("input",{type:"range",className:"studio-slider",min:"1",max:"10",defaultValue:"5"})]})]}),p.jsxs("div",{className:"prompt-area",children:[p.jsxs("div",{className:"prompt-header",children:[p.jsx("label",{children:"Creative Prompt"}),p.jsxs("div",{className:"voice-controls",children:["English"!==vs.language&&p.jsx("button",{className:"btn-pill glass translate-btn",onClick:Dn,title:"Translate to English",children:p.jsx(Oe,{size:16})}),p.jsx("button",{className:"btn-pill "+(as?"primary":"glass"),onClick:Tn,title:"Voice to Text",children:p.jsx(Y,{size:16})}),p.jsx("button",{className:"btn-pill "+(os?"primary":"glass"),onClick:An,title:"Text to Voice",children:p.jsx(xe,{size:16})}),p.jsxs("div",{className:"voice-settings-container",children:[p.jsx("button",{className:"btn-pill "+(ps?"primary":"glass"),onClick:()=>{xs(!ps),cs(!1)},title:"How to use Voice Controls",children:p.jsx(B,{size:16})}),ps&&p.jsxs("div",{className:"voice-settings-dropdown animate-fadeInUp",style:{width:"280px",right:"40px"},children:[p.jsxs("div",{className:"settings-group",children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(Y,{size:14,className:"text-purple"})," Voice to Text"]}),p.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Click the microphone to dictate your prompt. Speak clearly. Click again to stop."})]}),p.jsxs("div",{className:"settings-group",children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(xe,{size:14,className:"text-cyan"})," Text to Voice"]}),p.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Click the speaker to hear the AI read the current text. Useful for reviewing lyrics."})]}),p.jsxs("div",{className:"settings-group",children:[p.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(ze,{size:14})," Settings"]}),p.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Customize the AI voice gender, accent (US/UK/AU), and language."})]})]})]}),p.jsxs("div",{className:"voice-settings-container",children:[p.jsx("button",{className:"btn-pill "+(ds?"primary":"glass"),onClick:()=>{cs(!ds),xs(!1)},title:"Voice Settings",children:p.jsx(ze,{size:16})}),ds&&p.jsxs("div",{className:"voice-settings-dropdown animate-fadeInUp",children:[p.jsxs("div",{className:"settings-group",children:[p.jsx("label",{children:"ðŸŽ¤ AI Voice Type (Real Vocals, Not TTS)"}),p.jsxs("select",{value:vs.style||"rapper",onChange:e=>fs({...vs,style:e.target.value}),className:"settings-select",children:[p.jsxs("optgroup",{label:"ðŸ”¥ AI Rappers (Suno/Bark)",children:[p.jsx("option",{value:"rapper",children:"ðŸŽ¤ Male Rapper"}),p.jsx("option",{value:"rapper-female",children:"ðŸ’œ Female Rapper"})]}),p.jsxs("optgroup",{label:"ðŸŽµ AI Singers",children:[p.jsx("option",{value:"singer",children:"ðŸŽ¤ Male Singer (R&B/Soul)"}),p.jsx("option",{value:"singer-female",children:"ðŸ’« Female Singer (Pop/R&B)"})]}),p.jsxs("optgroup",{label:"ðŸ—£ï¸ Speech/Narration",children:[p.jsx("option",{value:"narrator",children:"ðŸ“¢ Narrator (Deep Voice)"}),p.jsx("option",{value:"spoken",children:"ðŸ’¬ Spoken Word"})]})]})]}),("rapper"===vs.style||"rapper-female"===vs.style)&&p.jsxs("div",{className:"settings-group",children:[p.jsx("label",{children:"ðŸŽ¯ Rap Flow & Delivery"}),p.jsxs("select",{value:vs.rapStyle||"aggressive",onChange:e=>fs({...vs,rapStyle:e.target.value}),className:"settings-select",children:[p.jsx("option",{value:"aggressive",children:"ðŸ’¥ Aggressive (Hard-hitting)"}),p.jsx("option",{value:"melodic",children:"ðŸŽµ Melodic (Singing flow)"}),p.jsx("option",{value:"trap",children:"ðŸ”¥ Trap (Triplets + Ad-libs)"}),p.jsx("option",{value:"drill",children:"ðŸ‡¬ðŸ‡§ Drill (UK style)"}),p.jsx("option",{value:"boom-bap",children:"ðŸ“» Boom-Bap (Classic hip-hop)"}),p.jsx("option",{value:"fast",children:"âš¡ Fast Flow (Technical)"}),p.jsx("option",{value:"chill",children:"ðŸ˜Ž Chill (Laid-back)"}),p.jsx("option",{value:"hype",children:"ðŸ”Š Hype (High energy)"})]})]}),("singer"===vs.style||"singer-female"===vs.style)&&p.jsxs("div",{className:"settings-group",children:[p.jsx("label",{children:"ðŸŽ¶ Music Genre"}),p.jsxs("select",{value:vs.genre||"r&b",onChange:e=>fs({...vs,genre:e.target.value}),className:"settings-select",children:[p.jsx("option",{value:"r&b",children:"ðŸ’œ R&B / Soul"}),p.jsx("option",{value:"pop",children:"ðŸŒŸ Pop"}),p.jsx("option",{value:"hip-hop",children:"ðŸ”¥ Hip-Hop"}),p.jsx("option",{value:"soul",children:"ðŸŽ· Soul / Gospel"})]})]}),p.jsx("p",{className:"settings-info",style:{marginTop:"8px",opacity:.8},children:["rapper","rapper-female","singer","singer-female"].includes(vs.style)?p.jsxs(p.Fragment,{children:["ðŸš€ ",p.jsx("strong",{children:"AI Vocals Mode"})," â€” Real rapper/singer voices via Suno AI & Bark (30-60s generation time).",("rapper"===vs.style||"rapper-female"===vs.style)&&` Flow: ${vs.rapStyle||"aggressive"}`,("singer"===vs.style||"singer-female"===vs.style)&&` Genre: ${vs.genre||"r&b"}`]}):p.jsxs(p.Fragment,{children:["âš¡ ",p.jsx("strong",{children:"Instant TTS Mode"})," â€” Browser voices for quick preview. Switch to rapper/singer for real AI vocals."]})})]})]})]})]}),p.jsx("div",{className:"model-picker-card",style:{marginBottom:"12px",padding:"12px",background:"var(--color-bg-secondary)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.06)"},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2))",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(le,{size:18,style:{color:"var(--color-purple)"}})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"2px"},children:"AI Model"}),p.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"white"},children:_i.find(e=>e.id===Mi)?.name||"Gemini Flash"})]})]}),p.jsxs("select",{value:Mi,onChange:e=>Oi(e.target.value),style:{padding:"8px 32px 8px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"0.75rem",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",backgroundSize:"14px"},children:[_i.filter(e=>"Google"===e.provider).map(e=>p.jsx("option",{value:e.id,children:e.name},e.id)),_i.filter(e=>"Anthropic"===e.provider).map(e=>p.jsx("option",{value:e.id,children:e.name},e.id)),_i.filter(e=>"OpenAI"===e.provider).map(e=>p.jsx("option",{value:e.id,children:e.name},e.id))]})]})}),("beat"===Rt?.id||"video-creator"===Rt?.id||"video-scorer"===Rt?.id)&&p.jsxs("div",{className:"reference-upload-card",style:{marginBottom:"12px",padding:"12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"12px",border:"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(6, 182, 212, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:"video-creator"===Rt?.id?p.jsx(O,{size:16,color:"var(--color-cyan)"}):p.jsx(_e,{size:16,color:"var(--color-cyan)"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"video-creator"===Rt?.id?"Attach Song (for Sync)":"Reference Track"}),p.jsx("div",{style:{fontSize:"0.85rem",color:"white",fontWeight:"500"},children:Bt?Bt.title:"Upload Audio..."})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[Bt&&p.jsx("button",{onClick:()=>Pt(null),style:{padding:"6px",background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer"},children:p.jsx(L,{size:16})}),p.jsxs("label",{style:{padding:"6px 12px",background:"rgba(255, 255, 255, 0.1)",borderRadius:"6px",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",color:"white"},children:[p.jsx("input",{type:"file",accept:"audio/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t);Pt({title:t.name,audioUrl:e,type:"audio",isUpload:!0}),c.success(`Attached "${t.name}"`)}}}),"Select File"]})]})]}),p.jsx("textarea",{ref:Cn,placeholder:`Describe what you want ${Rt.name} to create...`,className:"studio-textarea"}),p.jsxs("div",{className:"generation-actions",children:[p.jsxs("button",{className:"cta-button-secondary",onClick:$n,disabled:Kr,title:"Generate a preview",children:[p.jsx(ee,{size:16}),"Preview"]}),p.jsx("button",{className:"cta-button-premium "+(Kr?"loading":""),style:{flex:1},onClick:$n,disabled:Kr,children:Kr?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"spinner-mini"}),p.jsx("span",{children:"Processing..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(re,{size:18}),p.jsxs("span",{children:["Generate ",Rt.name]})]})}),p.jsxs("button",{className:"cta-button-secondary",onClick:()=>ks(!0),title:"Save to Cloud Storage",children:[p.jsx(W,{size:18}),p.jsx("span",{children:"Save to Cloud"})]})]}),(()=>{const e=Rt?.id?Zr[Rt.id]:null;return e?p.jsxs("div",{className:"agent-preview-mini animate-fadeIn",style:{marginTop:"16px",padding:"12px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[p.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",fontWeight:"600"},children:"Last Generated"}),p.jsx("div",{style:{display:"flex",gap:"8px"},children:p.jsxs("button",{onClick:()=>_r(e),style:{background:"none",border:"none",color:"var(--color-cyan)",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(Ue,{size:12})," View Full"]})})]}),"image"===e.type&&e.imageUrl?p.jsx("img",{src:at(e.imageUrl),alt:"Preview",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"4px",cursor:"pointer"},onClick:()=>_r(e),onError:e=>{e.target.style.display="none"}}):"video"===e.type&&e.videoUrl?p.jsxs("div",{style:{position:"relative"},children:[p.jsx("video",{src:ot(e.videoUrl),style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"4px",cursor:"pointer"},onClick:()=>_r(e)}),e.audioUrl&&p.jsxs("div",{style:{position:"absolute",bottom:"4px",right:"4px",background:"rgba(0,0,0,0.6)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.65rem",color:"var(--color-cyan)",display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(O,{size:10})," Synced"]})]}):"audio"!==e.type&&"vocal"!==e.type||!e.audioUrl?p.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-primary)",padding:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"4px",maxHeight:"80px",overflow:"hidden"},children:e.snippet}):p.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"4px",padding:"8px",display:"flex",gap:"12px",alignItems:"center"},children:[e.imageUrl&&p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"6px",background:`url(${at(e.imageUrl)}) center/cover`,flexShrink:0}}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[e.backingTrackUrl?p.jsxs(p.Fragment,{children:[p.jsx("div",{style:{fontSize:"0.65rem",color:"var(--color-pink)",marginBottom:"2px",fontWeight:"bold"},children:"Synced Vocals"}),p.jsx("audio",{controls:!0,src:nt(e.audioUrl),style:{width:"100%",height:"32px",marginBottom:"4px"},onPlay:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&(t.currentTime=e.target.currentTime,t.play())},onPause:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&t.pause()},onTimeUpdate:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&Math.abs(t.currentTime-e.target.currentTime)>.5&&(t.currentTime=e.target.currentTime)}}),p.jsx("audio",{className:"preview-backing-audio",src:nt(e.backingTrackUrl),style:{display:"none"}})]}):p.jsx("audio",{controls:!0,src:nt(e.audioUrl),style:{width:"100%",height:"32px",marginBottom:"4px"}}),p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.snippet})]})]}),p.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[p.jsxs("button",{className:"btn-pill primary",style:{flex:1,fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{Ms?(aa(Ms.id,e),c.success(`Saved to ${Ms.name}`)):na(`New ${Rt?.name||"AI"} Project`,e)},children:[p.jsx(ie,{size:14})," Save to Project"]}),e.snippet&&!e.audioUrl&&p.jsxs("button",{className:"btn-pill secondary",style:{fontSize:"0.75rem"},disabled:Rn,onClick:()=>{const t=e.snippet||e.content||"";["rapper","rapper-female","singer","singer-female"].includes(vs.style)?Bn(t,Rt?.name||"AI"):window.speechSynthesis.speaking?window.speechSynthesis.cancel():An(t)},title:["rapper","rapper-female","singer","singer-female"].includes(vs.style)?`Read aloud using AI ${vs.style} voice (takes 30-60 seconds)`:"Read text aloud using browser TTS",children:[p.jsx(xe,{size:14})," ",Rn?"Creating...":"Read Aloud"]})]})]}):null})(),p.jsxs("p",{className:"studio-disclaimer",children:[p.jsx(he,{size:12}),"AI-generated content may require manual review for platform compliance."]})]})]}),p.jsxs("div",{className:"agent-history-section",style:{marginTop:"24px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:"1.1rem",color:"white"},children:[p.jsx(T,{size:18,style:{color:"var(--color-purple)"}}),Rt.name," Inventory",p.jsxs("span",{style:{fontSize:"0.7rem",padding:"3px 8px",background:"rgba(139, 92, 246, 0.2)",borderRadius:"10px",color:"var(--color-purple)",fontWeight:"600"},children:[(sr||[]).filter(e=>e.agent===Rt.name).length," items"]})]}),p.jsxs("button",{onClick:()=>zt("mystudio"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",color:"var(--text-secondary)",fontSize:"0.8rem",cursor:"pointer"},children:["View All",p.jsx(Fe,{size:14})]})]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxHeight:"400px",overflowY:"auto",paddingRight:"8px"},children:(()=>{const e=sr.flatMap(e=>e.assets||[]).filter(e=>e.agent===Rt.name||e.agentId===Rt.id).sort((e,t)=>new Date(t.date||0)-new Date(e.date||0));return e.length>0?e.map((e,t)=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 16px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"14px",border:"1px solid rgba(255, 255, 255, 0.08)",transition:"all 0.2s ease",cursor:"pointer"},onClick:()=>_r(e),onMouseOver:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.1)",e.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.03)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.08)"},children:[p.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"10px",background:e.imageUrl?`url(${e.imageUrl}) center/cover`:e.audioUrl?"linear-gradient(135deg, var(--color-cyan), var(--color-green))":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,position:"relative",overflow:"hidden"},children:[!e.imageUrl&&!e.audioUrl&&p.jsx(ce,{size:20,style:{color:"white"}}),e.audioUrl&&!e.imageUrl&&p.jsx(xe,{size:20,style:{color:"white"}}),e.imageUrl&&e.audioUrl&&p.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"rgba(0,0,0,0.6)",padding:"2px",borderTopLeftRadius:"6px"},children:p.jsx(O,{size:12,color:"white"})})]}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"white",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled Creation"}),p.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e.snippet?.substring(0,60)||"No prompt saved","..."]}),p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"6px"},children:p.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(de,{size:10}),e.date||"Recent"]})})]}),p.jsx("div",{style:{display:"flex",gap:"6px",flexShrink:0},children:p.jsx("button",{onClick:t=>{t.stopPropagation(),_r(e)},title:"View",style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:p.jsx(ae,{size:14})})})]},t)):p.jsxs("div",{style:{padding:"32px",textAlign:"center",color:"var(--text-secondary)",background:"rgba(255,255,255,0.02)",borderRadius:"12px"},children:[p.jsx(N,{size:24,style:{opacity:.3,marginBottom:"8px"}}),p.jsx("p",{children:"No creations yet. Start generating!"})]})})()}),Rt&&(sr||[]).filter(e=>e.agent===Rt.name).length>0&&p.jsxs("div",{style:{marginTop:"16px",padding:"14px 16px",background:"rgba(139, 92, 246, 0.08)",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.15)"},children:[p.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:p.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"white",display:"flex",alignItems:"center",gap:"6px"},children:[p.jsx(de,{size:14,style:{color:"var(--color-purple)"}}),"Recent Prompts"]})}),p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:(sr||[]).filter(e=>e.agent===Rt?.name&&e.snippet).slice(0,5).map((e,t)=>p.jsxs("button",{onClick:()=>{const t=Cn.current||document.querySelector(".studio-textarea");t&&(t.value=e.snippet,t.dispatchEvent(new Event("input",{bubbles:!0})),c.success("Prompt loaded!"))},style:{padding:"6px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"0.7rem",cursor:"pointer",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.2)",e.currentTarget.style.borderColor="rgba(139, 92, 246, 0.4)",e.currentTarget.style.color="white"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)",e.currentTarget.style.color="var(--text-secondary)"},title:e.snippet,children:[e.snippet?.substring(0,25),"..."]},t))})]})]})]}),p.jsxs("div",{className:"agent-side-panel",children:[Rt.hasSocials&&p.jsxs("div",{className:"side-info-card social-connect-card",children:[p.jsx("h3",{children:"Connect Socials"}),p.jsxs("div",{className:"social-connect-grid",children:[p.jsxs("button",{className:"social-connect-btn "+(Xa.instagram?"connected":""),onClick:()=>Vn("instagram"),children:[p.jsx(U,{size:16}),p.jsx("span",{children:Xa.instagram?rn?`Insta: ${rn}`:"Instagram Linked":"Link Instagram"})]}),p.jsxs("button",{className:"social-connect-btn "+(Xa.facebook?"connected":""),onClick:()=>Vn("facebook"),children:[p.jsx(re,{size:16}),p.jsx("span",{children:Xa.facebook?rn?`FB: ${rn}`:"Facebook Linked":"Link Facebook"})]}),p.jsxs("button",{className:"social-connect-btn "+(Xa.tiktok?"connected":""),onClick:()=>Vn("tiktok"),children:[p.jsx(re,{size:16}),p.jsx("span",{children:Xa.tiktok?"TikTok Linked":"Link TikTok"})]}),p.jsxs("button",{className:"social-connect-btn "+(Xa.twitter?"connected":""),onClick:()=>Vn("twitter"),children:[p.jsx(A,{size:16}),p.jsx("span",{children:Xa.twitter?en?`@${en}`:"X/Twitter Linked":"Link X/Twitter"})]}),("collab"===Rt?.id||"release"===Rt?.id)&&p.jsxs("button",{className:"social-connect-btn "+(Xa.spotify?"connected":""),onClick:()=>Vn("spotify"),children:[p.jsx(O,{size:16}),p.jsx("span",{children:Xa.spotify?"Spotify Linked":"Link Spotify"})]})]}),p.jsx("p",{className:"help-text mini",children:"One-click secure OAuth connection."})]}),p.jsxs("div",{className:"side-info-card",children:[p.jsx("h3",{children:"Capabilities"}),p.jsx("ul",{className:"capability-list",children:(Rt?.capabilities||[]).map((e,t)=>p.jsxs("li",{children:[p.jsx(N,{size:14})," ",e]},t))})]}),p.jsxs("div",{className:"side-info-card",children:[p.jsx("h3",{children:"How to Use"}),p.jsx("p",{className:"help-text",children:Rt?.howToUse||"Enter your prompt and generate content."})]}),p.jsxs("div",{className:"side-info-card agent-intelligence-card",children:[p.jsxs("div",{className:"card-header-with-icon",children:[p.jsx(B,{size:18,className:"text-purple"}),p.jsx("h3",{children:"Agent Intelligence"})]}),p.jsxs("div",{className:"intelligence-content",children:[p.jsxs("div",{className:"intel-section",children:[p.jsx("h4",{children:'The "How"'}),p.jsx("p",{className:"help-text small",children:Rt?.explanation||""})]}),p.jsxs("div",{className:"intel-section",children:[p.jsx("h4",{children:"Pro Tips"}),p.jsx("p",{className:"help-text small",children:Rt?.helpTips||""})]})]})]}),p.jsxs("div",{className:"side-info-card",children:[p.jsx("h3",{children:"Examples"}),p.jsx("div",{className:"example-chips",children:(Rt?.examples||[]).map((e,t)=>p.jsxs("div",{className:"example-chip",onClick:()=>{const t=Cn.current||document.querySelector(".studio-textarea");t&&(t.value=e,t.dispatchEvent(new Event("input",{bubbles:!0})),t.focus(),t.style.borderColor="var(--color-purple)",setTimeout(()=>t.style.borderColor="",300))},style:{cursor:"pointer"},children:['"',e,'"']},t))})]})]})]})]})}switch(Nt){case"agents":{const e=As(),r=Rs(),s=[...e,...r],i=()=>{if(!Rt)return null;const e=Rt.icon;return p.jsxs("div",{className:"agent-workspace-content",children:[$r&&Rt.onboarding&&p.jsxs("div",{className:"agent-nudge-overlay animate-fadeInDown",style:{marginBottom:"24px"},children:[p.jsxs("div",{className:"nudge-header",children:[p.jsxs("h4",{children:[p.jsx(N,{size:16})," Quick Start Guide"]}),p.jsx("button",{className:"nudge-close",onClick:()=>Er(!1),children:p.jsx(L,{size:16})})]}),p.jsx("div",{className:"nudge-steps",children:Rt.onboarding.map((e,t)=>p.jsxs("div",{className:"nudge-step",children:[p.jsx("span",{className:"step-num",children:t+1}),p.jsx("p",{children:e})]},t))}),p.jsx("div",{className:"nudge-footer",children:p.jsx("button",{className:"nudge-cta",onClick:()=>Er(!1),children:"Got it, let's go!"})})]}),p.jsxs("div",{className:"agent-detail-layout",style:{gridTemplateColumns:"1fr 300px"},children:[p.jsxs("div",{className:"agent-main-panel",children:[p.jsxs("div",{className:"agent-hero-card",children:[p.jsx("div",{className:`agent-icon-large ${Rt.colorClass}`,children:p.jsx(e,{size:40})}),p.jsxs("div",{className:"agent-hero-info",children:[p.jsx("span",{className:"agent-badge",children:Rt.category}),p.jsx("h2",{children:Rt.name}),p.jsx("p",{children:Rt.description||Rt.desc})]})]}),p.jsxs("div",{className:"agent-utility-box",children:[p.jsxs("div",{className:"utility-controls",children:[p.jsxs("div",{className:"control-group",children:[p.jsx("label",{children:"Genre / Style"}),p.jsxs("select",{className:"studio-select",children:[p.jsx("option",{children:"Hip Hop / Rap"}),p.jsx("option",{children:"Pop / Modern"}),p.jsx("option",{children:"R&B / Soul"}),p.jsx("option",{children:"Electronic / Dance"}),p.jsx("option",{children:"Rock / Alternative"}),p.jsx("option",{children:"Lo-Fi / Chill"})]})]}),p.jsxs("div",{className:"control-group",children:[p.jsx("label",{children:"Intensity / Mood"}),p.jsx("input",{type:"range",className:"studio-slider",min:"1",max:"10",defaultValue:"5"})]})]}),p.jsxs("div",{className:"prompt-area",children:[p.jsxs("div",{className:"prompt-header",children:[p.jsx("label",{children:"Creative Prompt"}),p.jsxs("div",{className:"voice-controls",children:[p.jsx("button",{className:"btn-pill "+(as?"primary":"glass"),onClick:Tn,title:"Voice to Text",children:p.jsx(Y,{size:16})}),p.jsx("button",{className:"btn-pill "+(os?"primary":"glass"),onClick:An,title:"Text to Voice",children:p.jsx(xe,{size:16})}),p.jsx("button",{className:"btn-pill "+(ds?"primary":"glass"),onClick:()=>cs(!ds),title:"Voice Settings",children:p.jsx(ze,{size:16})})]})]}),p.jsx("textarea",{ref:Cn,placeholder:`Describe what you want ${Rt.name} to create...`,className:"studio-textarea"}),p.jsxs("div",{className:"generation-actions",style:{display:"flex",gap:"12px",marginTop:"16px"},children:[p.jsxs("button",{className:"btn-pill glass",onClick:()=>$s(Rt),children:[p.jsx(re,{size:16}),"Quick Generate"]}),p.jsx("button",{className:"btn-pill primary "+(Kr?"loading":""),style:{flex:1},onClick:$n,disabled:Kr,children:Kr?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"spinner-mini"}),p.jsx("span",{children:"Processing..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(re,{size:18}),p.jsx("span",{children:"Generate"})]})})]})]})]}),p.jsxs("div",{className:"side-info-card",style:{marginTop:"16px"},children:[p.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(de,{size:16,className:"text-purple"}),"Recent Creations"]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:(()=>{const e=(sr||[]).filter(e=>e.agent===Rt.name).slice(0,3);return e.length>0?e.map((e,t)=>p.jsxs("div",{onClick:()=>_r(e),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",cursor:"pointer",transition:"all 0.2s ease"},children:[p.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:e.imageUrl?`url(${e.imageUrl}) center/cover`:"rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:!e.imageUrl&&p.jsx(ce,{size:14,style:{opacity:.5}})}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled"}),p.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:e.date||"Recent"})]}),p.jsx(ae,{size:14,style:{opacity:.5}})]},e.id||t)):p.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)",fontSize:"0.8rem"},children:"No creations yet. Start generating!"})})()})]})]}),p.jsxs("div",{className:"agent-side-panel",children:[p.jsxs("div",{className:"side-info-card",children:[p.jsx("h3",{children:"Capabilities"}),p.jsx("ul",{className:"capability-list",children:(Rt?.capabilities||[]).map((e,t)=>p.jsxs("li",{children:[p.jsx(N,{size:14})," ",e]},t))})]}),p.jsxs("div",{className:"side-info-card",children:[p.jsx("h3",{children:"How to Use"}),p.jsx("p",{className:"help-text",children:Rt?.howToUse||"Enter your prompt and generate content."})]}),p.jsxs("div",{className:"side-info-card",children:[p.jsx("h3",{children:"Examples"}),p.jsx("div",{className:"example-chips",children:(Rt?.examples||[]).slice(0,3).map((e,t)=>p.jsxs("div",{className:"example-chip",onClick:()=>{const t=Cn.current;t&&(t.value=e,t.focus())},children:['"',e.length>50?e.substring(0,50)+"...":e,'"']},t))})]})]})]})]})};return p.jsxs("div",{className:"agents-split-layout",children:[p.jsxs("div",{className:"agents-sidebar",children:[p.jsxs("div",{className:"agents-sidebar-header",children:[p.jsxs("h3",{children:[p.jsx(N,{size:18,className:"text-purple"})," Agents"]}),p.jsxs("p",{children:[e.length," available"]})]}),p.jsxs("div",{className:"agents-sidebar-list",children:[p.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",borderRadius:"8px",borderLeft:"3px solid rgba(34, 197, 94, 0.6)"},children:p.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#22c55e",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[p.jsx(N,{size:12})," Free Tier",p.jsxs("span",{style:{marginLeft:"auto",background:"rgba(34, 197, 94, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[t.filter(e=>"free"===e.tier).length," agents"]})]})}),t.filter(e=>"free"===e.tier).map(t=>{const r=t.icon,s=Rt?.id===t.id,i=!e.find(e=>e.id===t.id);return p.jsx("button",{className:`agent-sidebar-item ${t.colorClass} ${s?"active":""} ${i?"locked":""}`,"data-name":t.name,onClick:()=>{i?$t?(Na("subscription"),zt("mystudio")):Qt(!0):t.comingSoon?c.error(`${t.name} is coming soon!`,{icon:"ðŸš§"}):(Ut(t),a.agentUsed(t.id))},children:p.jsx("div",{className:`agent-sidebar-icon ${t.colorClass}`,children:p.jsx(r,{size:18})})},t.id)}),p.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(139, 92, 246, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",marginTop:"12px",borderRadius:"8px",borderLeft:"3px solid rgba(139, 92, 246, 0.6)"},children:p.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#a855f7",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[p.jsx(re,{size:12})," Monthly â€” $4.99/mo",p.jsxs("span",{style:{marginLeft:"auto",background:"rgba(139, 92, 246, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[t.filter(e=>"monthly"===e.tier).length," agents"]})]})}),t.filter(e=>"monthly"===e.tier).map(t=>{const r=t.icon,s=Rt?.id===t.id,i=!e.find(e=>e.id===t.id);return p.jsx("button",{className:`agent-sidebar-item ${t.colorClass} ${s?"active":""} ${i?"locked":""}`,"data-name":t.name,onClick:()=>{i?$t?(Na("subscription"),zt("mystudio")):Qt(!0):t.comingSoon?c.error(`${t.name} is coming soon!`,{icon:"ðŸš§"}):(Ut(t),a.agentUsed(t.id))},children:p.jsx("div",{className:`agent-sidebar-icon ${t.colorClass}`,style:i?{background:"rgba(255,255,255,0.05)"}:{},children:p.jsx(r,{size:18,style:i?{opacity:.5}:{}})})},t.id)}),p.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(234, 179, 8, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",marginTop:"12px",borderRadius:"8px",borderLeft:"3px solid rgba(234, 179, 8, 0.6)"},children:p.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#eab308",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[p.jsx(Ke,{size:12})," Pro â€” $9.99/mo",p.jsxs("span",{style:{marginLeft:"auto",background:"rgba(234, 179, 8, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[t.filter(e=>"pro"===e.tier).length," agents"]})]})}),t.filter(e=>"pro"===e.tier).map(t=>{const r=t.icon,s=Rt?.id===t.id,i=!e.find(e=>e.id===t.id);return p.jsx("button",{className:`agent-sidebar-item ${t.colorClass} ${s?"active":""} ${i?"locked":""}`,"data-name":t.name,onClick:()=>{i?$t?(Na("subscription"),zt("mystudio")):Qt(!0):t.comingSoon?c.error(`${t.name} is coming soon!`,{icon:"ðŸš§"}):(Ut(t),a.agentUsed(t.id))},children:p.jsx("div",{className:`agent-sidebar-icon ${t.colorClass}`,style:i?{background:"rgba(255,255,255,0.05)"}:{},children:p.jsx(r,{size:18,style:i?{opacity:.5}:{}})})},t.id)})]})]}),p.jsx("div",{className:"agents-main-panel",children:Rt?i():p.jsxs("div",{className:"agents-cards-view",style:{padding:"16px",overflowY:"auto"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[p.jsxs("div",{children:[p.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"800",marginBottom:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(N,{size:24,className:"text-purple"}),"AI Agents Studio"]}),p.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[s.length," specialized agents â€¢ Click any card to start creating"]})]}),p.jsxs("div",{style:{display:"flex",gap:"12px"},children:[p.jsxs("button",{onClick:()=>Xt(!0),className:"btn-pill glass haptic-press",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",color:"#06b6d4"},children:[p.jsx(ce,{size:16}),"Whitepapers"]}),p.jsxs("button",{onClick:()=>er(!0),className:"btn-pill glass haptic-press",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",color:"#a855f7"},children:[p.jsx(he,{size:16}),"Legal"]})]})]}),!$t&&p.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",maxWidth:"400px"},children:[p.jsx(re,{size:20,className:"text-purple"}),p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:[qt?999999:Math.max(0,3-Is)," free generations left"]}),p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Sign in to unlock more"})]}),p.jsx("button",{className:"btn-pill primary",onClick:()=>Qt(!0),style:{padding:"8px 16px",fontSize:"0.8rem"},children:"Sign In"})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[p.jsx(N,{size:16,style:{color:"#22c55e"}}),p.jsx("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Free Tier"}),p.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",t.filter(e=>"free"===e.tier).length," agents included"]})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:t.filter(e=>"free"===e.tier).map(t=>{const r=t.icon,s=!e.find(e=>e.id===t.id);return p.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?$t?(Na("subscription"),zt("mystudio")):Qt(!0):(Ut(t),a.agentUsed(t.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(34, 197, 94, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&p.jsx(be,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(34, 197, 94, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:p.jsx(r,{size:20,style:{color:"#22c55e"}})}),p.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:t.name}),p.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:t.category}),p.jsx("span",{style:{padding:"2px 6px",background:"rgba(34, 197, 94, 0.15)",color:"#22c55e",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"FREE"})]},t.id)})}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(251, 191, 36, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[p.jsx(re,{size:16,style:{color:"#fbbf24"}}),p.jsx("span",{style:{fontWeight:"700",color:"#fbbf24",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Monthly â€” $4.99/mo"}),p.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",t.filter(e=>"monthly"===e.tier).length," agents"]})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:t.filter(e=>"monthly"===e.tier).map(t=>{const r=t.icon,s=!e.find(e=>e.id===t.id);return p.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?$t?(Na("subscription"),zt("mystudio")):Qt(!0):(Ut(t),a.agentUsed(t.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(251, 191, 36, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(251, 191, 36, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&p.jsx(be,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:p.jsx(r,{size:20,style:{color:"#fbbf24"}})}),p.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:t.name}),p.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:t.category}),p.jsx("span",{style:{padding:"2px 6px",background:"rgba(251, 191, 36, 0.15)",color:"#fbbf24",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"MONTHLY"})]},t.id)})}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(168, 85, 247, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[p.jsx(Ke,{size:16,style:{color:"#a855f7"}}),p.jsx("span",{style:{fontWeight:"700",color:"#a855f7",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Pro â€” $9.99/mo"}),p.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",t.filter(e=>"pro"===e.tier).length," agents"]})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:t.filter(e=>"pro"===e.tier).map(t=>{const r=t.icon,s=!e.find(e=>e.id===t.id);return p.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{s?$t?(Na("subscription"),zt("mystudio")):Qt(!0):(Ut(t),a.agentUsed(t.id))},style:{padding:"16px",background:s?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(168, 85, 247, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:s?.6:1},children:[s&&p.jsx(be,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(168, 85, 247, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:p.jsx(r,{size:20,style:{color:"#a855f7"}})}),p.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:t.name}),p.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:t.category}),p.jsx("span",{style:{padding:"2px 6px",background:"rgba(168, 85, 247, 0.15)",color:"#a855f7",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"PRO"})]},t.id)})})]})]})})]})}case"hub":return p.jsx(d.Suspense,{fallback:p.jsx(vt,{}),children:p.jsx(xt,{projects:sr,setProjects:ir,onSelectProject:e=>{if(!e||"object"!=typeof e||!e.id)return void c.error("Unable to open project - invalid data");const t={...e,id:e.id,name:e.name||"Untitled Project",description:e.description||"",category:e.category||"general",assets:Array.isArray(e.assets)?e.assets.filter(Boolean):[],agents:Array.isArray(e.agents)?e.agents.filter(Boolean):[],date:e.date||(new Date).toLocaleDateString(),createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString()};di(null),Os(t),Fs(!0)},onCreateProject:e=>{if(("number"==typeof ya?ya:0)<2)return c.error("Not enough credits. You need 2 credits to save."),void un(!0);ba(e=>e-2),ir(t=>t.some(t=>t.id===e.id)?t.map(t=>t.id===e.id?e:t):[e,...t]),$t&&Wt&&ur(Wt.uid,e).then(e=>{}).catch(e=>{}),di(null),Os(e),Fs(!0),c.success(`Saved "${e.name}" with ${e.assets?.length||0} assets!`)},onDeleteProject:Gn,onSaveProject:e=>$t&&Wt?ur(Wt.uid,e):Promise.resolve(!0),setActiveTab:zt,setSelectedAgent:Ut,setQuickWorkflowAgent:$s,setPreviewItem:_r,setPlayingItem:Mr})});case"project_canvas":return Ms?p.jsxs("div",{className:"project-canvas animate-fadeIn",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[p.jsxs("div",{className:"canvas-header",style:{marginBottom:"32px"},children:[p.jsxs("button",{onClick:()=>zt("hub"),className:"back-btn",style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",marginBottom:"16px",fontSize:"0.9rem"},children:[p.jsx(ne,{size:18})," Back to Hub"]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"20px"},children:[p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[p.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",margin:0},children:Ms.name}),p.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",background:"rgba(139, 92, 246, 0.1)",color:"var(--color-purple)",fontSize:"0.75rem",fontWeight:"600",border:"1px solid rgba(139, 92, 246, 0.2)"},children:Ms.category?.toUpperCase()||"PROJECT"})]}),p.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"600px",margin:0},children:Ms.description||"No description provided."})]}),p.jsxs("div",{style:{display:"flex",gap:"12px"},children:[p.jsxs("button",{className:"btn-secondary",onClick:()=>Ws(!0),style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(lt,{size:18})," Add Agents"]}),p.jsxs("button",{className:"btn-primary",onClick:()=>{if(Ms.agents&&Ms.agents.length>0){const e=Ms.agents[0],r="string"==typeof e?e:e?.id,s=t.find(e=>e.id===r)||("object"==typeof e?e:null);s?Ut(s):Ws(!0)}else Ws(!0)},style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(re,{size:18})," Open Studio"]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"24px",marginTop:"24px",padding:"16px",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(de,{size:16,className:"text-cyan"}),p.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Created: ",p.jsx("span",{style:{color:"white"},children:Ms.date})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(I,{size:16,className:"text-purple"}),p.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Assets: ",p.jsx("span",{style:{color:"white"},children:Ms.assets?.length||0})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(lt,{size:16,className:"text-green"}),p.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Team: ",p.jsxs("span",{style:{color:"white"},children:[Ms.agents?.length||0," Agents"]})]})]})]})]}),p.jsxs("div",{className:"canvas-content",children:[p.jsxs("div",{style:{marginBottom:"40px"},children:[p.jsxs("h3",{style:{fontSize:"1.2rem",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(lt,{size:20,className:"text-purple"})," Active Agents"]}),Ms.agents&&Ms.agents.length>0?p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"16px"},children:[Ms.agents.map((e,r)=>{const s="string"==typeof e?e:e?.id,i=t.find(e=>e.id===s)||("object"==typeof e?e:null);if(!i)return null;const a="function"==typeof i.icon?i.icon:N;return p.jsxs("div",{onClick:()=>Ut(i),style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",padding:"16px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"12px"},onMouseOver:e=>{e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.transform="translateY(-2px)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(0)"},children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(139, 92, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(a,{size:20,className:"text-purple"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600"},children:i.name}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:i.category})]}),p.jsx(Fe,{size:16,style:{marginLeft:"auto",opacity:.5}})]},s||r)}),p.jsxs("button",{onClick:()=>Ws(!0),style:{background:"transparent",border:"1px dashed var(--border-color)",borderRadius:"12px",padding:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",color:"var(--text-secondary)",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.borderColor="var(--color-cyan)",e.currentTarget.style.color="var(--color-cyan)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.color="var(--text-secondary)"},children:[p.jsx(oe,{size:20}),p.jsx("span",{children:"Add Agent"})]})]}):p.jsxs("div",{style:{padding:"32px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px dashed var(--border-color)"},children:[p.jsx(lt,{size:32,style:{opacity:.3,marginBottom:"12px"}}),p.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:"No agents assigned to this project yet."}),p.jsx("button",{className:"btn-secondary",onClick:()=>Ws(!0),children:"Assign Agents"})]})]}),p.jsxs("div",{children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[p.jsxs("h3",{style:{fontSize:"1.2rem",margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(I,{size:20,className:"text-cyan"})," Project Generations"]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("button",{className:"btn-icon-sm",title:"Grid View",children:p.jsx(I,{size:16})}),p.jsx("button",{className:"btn-icon-sm",title:"List View",children:p.jsx(Qe,{size:16})})]})]}),Ms.assets&&Ms.assets.length>0?p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:Ms.assets.filter(Boolean).map((e,t)=>e&&"object"==typeof e?p.jsx(ut,{asset:e,children:p.jsxs("div",{className:"asset-card",style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s ease"},children:[p.jsxs("div",{style:{height:"160px",background:e.imageUrl?`url(${at(e.imageUrl)}) center/cover`:"linear-gradient(135deg, #1e1e2e, #2d2d44)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{const t={id:e.id,title:e.title,snippet:e.snippet,content:e.content,type:e.type,agent:e.agent,imageUrl:e.imageUrl,audioUrl:e.audioUrl,videoUrl:e.videoUrl,createdAt:e.createdAt,date:e.date,model:e.model,description:e.description,isExistingAsset:!0};_r(t)},children:[!e.imageUrl&&("audio"===e.type?p.jsx(O,{size:48,style:{opacity:.2}}):"video"===e.type?p.jsx(J,{size:48,style:{opacity:.2}}):p.jsx(ce,{size:48,style:{opacity:.2}})),p.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",fontSize:"0.7rem",fontWeight:"600",color:"white",textTransform:"uppercase"},children:e.type||"Text"}),("audio"===e.type||"video"===e.type)&&p.jsx("div",{className:"play-overlay",style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:p.jsx(ee,{size:24,fill:"white",color:"white"})})]}),p.jsxs("div",{style:{padding:"16px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[p.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-purple)",fontWeight:"600"},children:e.agent||"AI Generated"}),p.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.date||"Just now"})]}),p.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled Asset"}),p.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)",height:"40px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.snippet||e.description||"No description available."}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[p.jsxs("button",{className:"btn-secondary-sm",style:{flex:1},onClick:()=>{const t={id:e.id,title:e.title,snippet:e.snippet,content:e.content,type:e.type,agent:e.agent,imageUrl:e.imageUrl,audioUrl:e.audioUrl,videoUrl:e.videoUrl,createdAt:e.createdAt,date:e.date,model:e.model,description:e.description,isExistingAsset:!0};_r(t)},children:[p.jsx(ae,{size:14})," View"]}),p.jsxs("button",{className:"btn-secondary-sm",style:{flex:1},onClick:()=>{e.snippet&&(navigator.clipboard.writeText(e.snippet),c.success("Copied to clipboard"))},children:[p.jsx(ge,{size:14})," Copy"]})]})]})]},e.id||t)},`hub-asset-${e?.id||t}`):null)}):p.jsxs("div",{style:{padding:"48px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px dashed var(--border-color)"},children:[p.jsx(I,{size:48,style:{opacity:.2,marginBottom:"16px"}}),p.jsx("h3",{style:{marginBottom:"8px"},children:"No generations yet"}),p.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Launch an agent to start creating content for this project."}),p.jsx("button",{className:"btn-primary",onClick:()=>{if(Ms.agents&&Ms.agents.length>0){const e=Ms.agents[0],r="string"==typeof e?e:e?.id,s=t.find(e=>e.id===r)||("object"==typeof e?e:null);s?Ut(s):Ws(!0)}else Ws(!0)},children:"Start Creating"})]})]})]})]}):p.jsx("div",{className:"p-8 text-center animate-fadeIn",children:p.jsx("div",{style:{opacity:.6},children:"Loading project..."})});case"resources":{const e=[{id:"agents",icon:N,label:"AI Agents",desc:"Your creative team",color:"var(--color-purple)"},{id:"mystudio",icon:T,label:"My Studio",desc:"Projects & assets",color:"var(--color-cyan)"},{id:"activity",icon:O,label:"Music Hub",desc:"Reddit, YouTube & Releases",color:"var(--color-pink)"},{id:"news",icon:U,label:"Industry Pulse",desc:"Latest music & tech news",color:"var(--color-emerald)"},{id:"support",icon:B,label:"Help & Support",desc:"FAQ & contact us",color:"var(--color-orange)"},{id:"marketing",icon:Ee,label:"About Us",desc:"Our mission & vision",color:"var(--color-yellow)"},{id:"hub",icon:ie,label:"Project Hub",desc:"Manage all projects",color:"var(--color-blue)"},{id:"profile",icon:$,label:"My Profile",desc:"Account settings",color:"var(--color-purple)"}];return p.jsxs("div",{className:"resources-view animate-fadeInUp",children:[p.jsxs("div",{className:"resources-header",children:[p.jsx("h1",{children:"Creator Resources"}),p.jsx("p",{children:"Quick access to all studio features and tools."})]}),p.jsx("div",{className:"resources-cards-grid",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",marginBottom:"32px"},children:e.map(e=>{const t=e.icon;return p.jsxs("div",{onClick:()=>zt(e.id),role:"button",tabIndex:0,className:"haptic-press",style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"28px 20px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"16px",minHeight:"180px"},onMouseEnter:t=>{t.currentTarget.style.borderColor=e.color,t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow=`0 8px 24px ${e.color}20`},onMouseLeave:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[p.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"18px",background:`${e.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(t,{size:34,style:{color:e.color}})}),p.jsxs("div",{children:[p.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:e.label}),p.jsx("p",{style:{margin:"6px 0 0",fontSize:"0.75rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:e.desc})]})]},e.id)})})]})}case"marketing":return p.jsxs("div",{className:"marketing-view animate-fadeInUp",style:{paddingBottom:"80px"},children:[p.jsxs("div",{className:"marketing-hero",style:{textAlign:"center",padding:"60px 20px",background:"linear-gradient(180deg, rgba(124, 58, 237, 0.1) 0%, rgba(0,0,0,0) 100%)",marginBottom:"40px"},children:[p.jsxs("div",{className:"hero-badge",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(124, 58, 237, 0.2)",borderRadius:"20px",color:"#a78bfa",fontSize:"0.85rem",marginBottom:"20px",border:"1px solid rgba(124, 58, 237, 0.3)"},children:[p.jsx(N,{size:14}),p.jsx("span",{children:"The Future of Music Creation"})]}),p.jsxs("h1",{style:{fontSize:"3rem",fontWeight:"800",marginBottom:"16px",lineHeight:"1.1"},children:["The Studio ",p.jsx("span",{className:"text-gradient-purple",children:"Agents"})]}),p.jsx("p",{style:{fontSize:"1.2rem",color:"var(--text-secondary)",maxWidth:"600px",margin:"0 auto"},children:"An AI-powered record label in your pocket. 16 specialized agents working 24/7 to build your career."})]}),p.jsxs("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:[p.jsxs("div",{className:"section-header",style:{marginBottom:"30px"},children:[p.jsx("h2",{style:{fontSize:"2rem",marginBottom:"10px"},children:"The Story"}),p.jsx("div",{style:{width:"60px",height:"4px",background:"var(--color-purple)",borderRadius:"2px"}})]}),p.jsxs("div",{className:"story-card",style:{background:"var(--color-bg-secondary)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)",position:"relative",overflow:"hidden"},children:[p.jsxs("div",{style:{position:"relative",zIndex:2},children:[p.jsx("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"var(--text-primary)",marginBottom:"20px"},children:"For decades, the music industry has been a walled garden. Only the top 1% of artists had access to world-class producers, marketing teams, and A&R strategy."}),p.jsxs("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"var(--text-primary)"},children:[p.jsx("strong",{children:"The Studio changes that."})," We've distilled the expertise of industry veterans into 16 specialized AI agents. Whether you need a lyricist at 3 AM, a marketing strategy for your release, or a visual identity for your brand, The Studio is always open."]})]}),p.jsx("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"200px",height:"200px",background:"radial-gradient(circle, rgba(124, 58, 237, 0.15) 0%, rgba(0,0,0,0) 70%)",borderRadius:"50%"}})]})]}),p.jsx("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:p.jsxs("div",{className:"grid-2-col",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[p.jsxs("div",{className:"vision-card",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[p.jsx("div",{className:"icon-box",style:{width:"50px",height:"50px",background:"rgba(59, 130, 246, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:p.jsx(Pe,{size:24,className:"text-cyan"})}),p.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"12px"},children:"Our Vision"}),p.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"To democratize the entire music supply chain. We believe every artist deserves a team that cares as much about their music as they do."})]}),p.jsxs("div",{className:"vision-card",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[p.jsx("div",{className:"icon-box",style:{width:"50px",height:"50px",background:"rgba(236, 72, 153, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:p.jsx(Ie,{size:24,className:"text-pink"})}),p.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"12px"},children:"For Creators"}),p.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"Built for the bedroom producers, the songwriters, and the independent artists who are ready to take their career to the next level."})]})]})}),p.jsx("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:p.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px"},children:[p.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-purple)",marginBottom:"5px"},children:"16"}),p.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Specialized Agents"})]}),p.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-cyan)",marginBottom:"5px"},children:"24/7"}),p.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Availability"})]}),p.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-green)",marginBottom:"5px"},children:"âˆž"}),p.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Creative Potential"})]}),p.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[p.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-orange)",marginBottom:"5px"},children:"100%"}),p.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Royalty Free"})]})]})}),p.jsx("div",{className:"marketing-cta",style:{padding:"0 20px 40px",textAlign:"center"},children:p.jsxs("button",{className:"cta-button-primary haptic-press",style:{width:"100%",padding:"16px",fontSize:"1.1rem"},onClick:()=>Hi(!0),children:["Create New Project ",p.jsx(Fe,{size:20,style:{marginLeft:"8px"}})]})})]});case"activity":return p.jsxs("div",{className:"music-hub-view animate-fadeInUp",style:{paddingBottom:"100px"},children:[p.jsxs("div",{className:"orchestrator-header",style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(6, 182, 212, 0.15) 50%, rgba(236, 72, 153, 0.15) 100%)",borderRadius:"24px",padding:"32px",marginBottom:"24px",border:"1px solid rgba(255,255,255,0.1)",position:"relative",overflow:"hidden"},children:[p.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 50%, rgba(168, 85, 247, 0.2) 0%, transparent 50%)",pointerEvents:"none"}}),p.jsxs("div",{style:{position:"relative",zIndex:1},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px"},children:[p.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(168, 85, 247, 0.4)"},children:p.jsx(O,{size:28,color:"white"})}),p.jsxs("div",{children:[p.jsx("h1",{style:{margin:0,fontSize:"2rem",fontWeight:"700",background:"linear-gradient(90deg, white, rgba(255,255,255,0.8))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Music Hub"}),p.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.95rem"},children:"Reddit â€¢ YouTube â€¢ New Releases â€” All things music in one place"})]})]}),p.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"20px",flexWrap:"wrap"},children:[{id:"all",label:"All",icon:re},{id:"reddit",label:"Reddit",icon:A},{id:"youtube",label:"YouTube",icon:M},{id:"releases",label:"New Releases",icon:Je}].map(e=>p.jsxs("button",{onClick:()=>{Ma?.(e.id)||localStorage.setItem("musicHubSection",e.id),Mn(1,e.id)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"12px",border:"none",background:(La||localStorage.getItem("musicHubSection")||"all")===e.id?"linear-gradient(135deg, var(--color-purple), var(--color-cyan))":"rgba(255,255,255,0.08)",color:"white",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:[p.jsx(e.icon,{size:16}),e.label]},e.id))})]})]}),p.jsx("div",{className:"music-hub-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"20px"},children:$a.map((e,t)=>p.jsxs("div",{className:"music-hub-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.08)",overflow:"hidden",transition:"all 0.3s ease",cursor:"pointer"},onClick:()=>window.open(e.url,"_blank"),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.boxShadow="0 12px 40px rgba(168, 85, 247, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.borderColor="rgba(255,255,255,0.08)",e.currentTarget.style.boxShadow="none"},children:[e.imageUrl&&p.jsxs("div",{className:"activity-media-preview",style:{position:"relative",aspectRatio:"16/9",overflow:"hidden"},children:[p.jsx("img",{src:e.imageUrl,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"},loading:"lazy"}),p.jsx("div",{className:"media-overlay",children:p.jsxs("button",{className:"preview-indicator",onClick:t=>{t.stopPropagation(),Mr({...e,type:e.isVideo?"video":"image",url:e.videoUrl||e.imageUrl||e.url})},children:[p.jsx(ae,{size:20}),p.jsx("span",{children:"Quick Preview"})]})}),e.isVideo&&!e.imageUrl&&p.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"56px",height:"56px",borderRadius:"50%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:p.jsx(M,{size:28,color:"white"})}),p.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",padding:"6px 12px",borderRadius:"8px",background:"youtube"===e.type?"rgba(255, 0, 0, 0.9)":"reddit"===e.type?"rgba(255, 69, 0, 0.9)":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",color:"white",fontSize:"0.7rem",fontWeight:"700",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"6px",zIndex:2},children:["youtube"===e.type&&p.jsx(M,{size:12}),"reddit"===e.type&&p.jsx(A,{size:12}),"release"===e.type&&p.jsx(Je,{size:12}),e.source]})]}),p.jsxs("div",{style:{padding:"16px"},children:[p.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"6px",background:`var(--${e.color?.replace("agent-","color-")||"color-purple"})`,opacity:.8,fontSize:"0.7rem",fontWeight:"600",marginBottom:"10px",textTransform:"uppercase"},children:e.category}),p.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1rem",fontWeight:"600",color:"white",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),p.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.snippet||e.author}),p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[void 0!==e.likes&&p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[p.jsx(re,{size:14,style:{color:"var(--color-purple)"}}),e.likes>1e3?`${(e.likes/1e3).toFixed(1)}k`:e.likes]}),void 0!==e.comments&&p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[p.jsx(A,{size:14}),e.comments]})]}),p.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.time})]})]})]},`${e.id}-${t}`))}),$a.filter(e=>!e.imageUrl).length>0&&p.jsxs("div",{style:{marginTop:"32px"},children:[p.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-secondary)",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Upcoming & Recent Releases"}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:$a.filter(e=>!e.imageUrl&&"release"===e.type).slice(0,10).map((e,t)=>p.jsxs("div",{onClick:()=>window.open(e.url,"_blank"),style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.06)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255,255,255,0.06)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.03)",children:[p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:0===e.daysUntil?"linear-gradient(135deg, var(--color-emerald), var(--color-cyan))":e.daysUntil>0?"linear-gradient(135deg, var(--color-purple), var(--color-pink))":"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:p.jsx(Je,{size:22,color:"white"})}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("div",{style:{fontWeight:"600",color:"white",marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),p.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:e.snippet})]}),p.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",background:0===e.daysUntil?"var(--color-emerald)":e.daysUntil>0?"rgba(168, 85, 247, 0.2)":"rgba(255,255,255,0.1)",color:0===e.daysUntil?"black":"white",fontSize:"0.75rem",fontWeight:"700",whiteSpace:"nowrap"},children:e.time})]},`release-${e.id}-${t}`))})]}),Ba&&p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"40px",color:"var(--text-secondary)"},children:[p.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),p.jsx("span",{children:"Loading music content..."})]}),!Ba&&0===$a.length&&p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 24px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[p.jsx(O,{size:48,style:{color:"var(--color-purple)",marginBottom:"16px",opacity:.6}}),p.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1.2rem",color:"var(--text-primary)"},children:"No Music Content Available"}),p.jsx("p",{style:{margin:"0 0 20px 0",color:"var(--text-secondary)",maxWidth:"400px"},children:"Unable to load music content from Reddit, YouTube, or new releases. Make sure the backend server is running."}),p.jsxs("button",{onClick:()=>Mn(1),style:{padding:"12px 24px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",color:"white",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(me,{size:16})," Try Again"]})]}),!Ba&&Wa&&$a.length>0&&p.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:"32px"},children:p.jsx("button",{onClick:()=>Mn(Ra+1),style:{padding:"14px 32px",borderRadius:"12px",border:"1px solid var(--color-purple)",background:"transparent",color:"var(--color-purple)",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="var(--color-purple)",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="var(--color-purple)"},children:"Load More"})}),!Wa&&$a.length>0&&p.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:p.jsx("p",{children:"ðŸŽµ You've explored all the latest music content. Check back soon!"})})]});case"news":return p.jsx(d.Suspense,{fallback:p.jsx(vt,{}),children:p.jsx(gt,{newsItems:qn,newsSearch:tr,setNewsSearch:rr,isLoadingNews:Fa,onRefresh:Yn,hasMoreNews:Va,onLoadMore:()=>On(Oa+1),setPlayingItem:Mr})});case"profile":return p.jsxs("div",{className:"studio-profile-view animate-fadeInUp",style:{padding:"24px",maxWidth:"800px",margin:"0 auto"},children:[p.jsxs("div",{className:"profile-header",style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"32px"},children:[p.jsxs("div",{className:"profile-avatar-large",style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",border:"2px solid var(--color-purple)",position:"relative"},children:[Wt?.photoURL?p.jsx("img",{src:Wt.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%"}}):p.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:Wt?.displayName?.charAt(0)||"U"}),p.jsx("button",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.6)",border:"none",color:"white",fontSize:"0.7rem",padding:"4px",cursor:"pointer"},children:"Edit"})]}),p.jsxs("div",{children:[p.jsx("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:Ja.stageName||Wt?.displayName||"Guest Creator"}),p.jsx("p",{style:{color:"var(--text-secondary)"},children:Wt?.email||"No email linked"}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[p.jsxs("span",{className:"badge",style:{background:"var(--color-purple)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:[Ja.plan," Plan"]}),p.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.1)",color:"var(--text-secondary)",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:["Member since ",Ja.memberSince]}),p.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.1)",color:"var(--color-cyan)",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:[Ja.credits," Credits"]})]})]})]}),p.jsxs("div",{className:"profile-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[p.jsxs("div",{className:"stat-card",style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center"},children:[p.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-purple)",marginBottom:"4px"},children:(sr||[]).length}),p.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Projects"})]}),p.jsxs("div",{className:"stat-card",style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center"},children:[p.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-cyan)",marginBottom:"4px"},children:new Set((sr||[]).map(e=>e.agent)).size}),p.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Agents Used"})]}),p.jsxs("div",{className:"stat-card haptic-press",onClick:()=>un(!0),style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer"},children:[p.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-orange)",marginBottom:"4px"},children:Ja.credits}),p.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Credits Left"})]})]}),p.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[p.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx($,{size:20})," Creator Profile"]}),p.jsxs("div",{className:"form-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Stage Name"}),p.jsx("input",{type:"text",value:Ja.stageName,onChange:e=>Qa({...Ja,stageName:e.target.value}),placeholder:Wt?.displayName||"Enter stage name",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Primary Genre"}),p.jsxs("select",{value:Ja.genre,onChange:e=>Qa({...Ja,genre:e.target.value}),className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"},children:[p.jsx("option",{children:"Hip Hop / Rap"}),p.jsx("option",{children:"R&B"}),p.jsx("option",{children:"Pop"}),p.jsx("option",{children:"Electronic"}),p.jsx("option",{children:"Rock"}),p.jsx("option",{children:"Afrobeats"}),p.jsx("option",{children:"Latin"})]})]}),p.jsxs("div",{className:"form-group",style:{gridColumn:"span 2"},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Creator Bio"}),p.jsx("textarea",{rows:"4",value:Ja.bio,onChange:e=>Qa({...Ja,bio:e.target.value}),placeholder:"Tell your story...",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px",resize:"vertical"}})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Location"}),p.jsx("input",{type:"text",value:Ja.location,onChange:e=>Qa({...Ja,location:e.target.value}),placeholder:"City, Country",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Website"}),p.jsx("input",{type:"text",value:Ja.website,onChange:e=>Qa({...Ja,website:e.target.value}),placeholder:"https://",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]})]})]}),p.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[p.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(F,{size:20})," Social Connections"]}),p.jsx("div",{className:"social-connect-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{id:"instagram",label:"Instagram",icon:De,color:"#E1306C"},{id:"twitter",label:"X / Twitter",icon:We,color:"#1DA1F2"},{id:"spotify",label:"Spotify for Artists",icon:O,color:"#1DB954"},{id:"tiktok",label:"TikTok",icon:J,color:"#00f2ea"}].map(e=>p.jsxs("div",{className:"social-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx(e.icon,{size:20,color:e.color}),p.jsx("span",{children:e.label})]}),p.jsx("button",{className:"btn-sm",onClick:()=>Za(t=>{const r={...t,[e.id]:!t[e.id]};return localStorage.setItem("studio_agents_socials",JSON.stringify(r)),r}),style:{background:Xa[e.id]?"rgba(16, 185, 129, 0.2)":"transparent",border:"1px solid "+(Xa[e.id]?"#10b981":"var(--border-color)"),color:Xa[e.id]?"#10b981":"white",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",minWidth:"100px"},children:Xa[e.id]?"Connected":"Connect"})]},e.id))})]}),p.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[p.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(ze,{size:20})," Preferences"]}),p.jsx("div",{className:"preferences-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:p.jsxs("div",{className:"preference-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["dark"===Tt?p.jsx(Ve,{size:20}):p.jsx(Ge,{size:20}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600"},children:"Appearance"}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"dark"===Tt?"Dark Mode":"Light Mode"})]})]}),p.jsxs("button",{className:"btn-sm",onClick:()=>At("dark"===Tt?"light":"dark"),style:{background:"transparent",border:"1px solid var(--border-color)",color:"var(--text-primary)",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",minWidth:"100px"},children:["Switch to ","dark"===Tt?"Light":"Dark"]})]})})]}),p.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[p.jsx("button",{className:"cta-button-secondary",onClick:()=>zt("mystudio"),children:"Cancel"}),p.jsx("button",{className:"cta-button-premium",onClick:()=>{localStorage.setItem("studio_user_profile",JSON.stringify(Ja)),c.success("Profile saved!"),zt("mystudio")},children:"Save Changes"})]})]});case"support":{const e=[{icon:R,title:"Getting Started",desc:"Learn the basics of the Studio Agents workflow.",details:'To get started, select an agent from the "Agents" tab. Each agent specializes in a different part of the music creation process. For example, Ghostwriter can help you write lyrics, while Beat Lab can generate drum patterns. Once you\'ve selected an agent, enter a prompt describing what you want to create. You can then save your creation as a new project, which will appear in your Project Hub for later recall.'},{icon:re,title:"Agent Mastery",desc:"Deep dives into each agent's unique capabilities.",details:'Mastering our agents requires understanding their specific strengths. Ghostwriter responds best to emotional cues and genre-specific keywords. Album Artist can interpret complex visual metaphors. Trend Hunter scans real-time social data to give you a competitive edge. Experiment with different "Intensity" settings to see how the AI\'s creativity shifts from subtle to experimental.'},{icon:M,title:"Video Tutorials",desc:"Watch step-by-step guides on making hits.",details:'Our video library includes tutorials on: "Writing Your First Hit with Ghostwriter", "Advanced Beat Making with Beat Lab", and "Strategic Rollouts with Release Manager". Each video is under 5 minutes and designed to get you creating immediately. Pro members get access to exclusive masterclasses from industry-leading producers who use Studio Agents in their daily workflow.'},{icon:A,title:"Community Tips",desc:"See how other creators are using the studio.",details:'Join our Discord community and check out the "Activity Wall" to share prompts, collaborate with other creators, and get feedback on your AI-assisted tracks. Many users have found success by combining outputs from multiple agentsâ€”for example, using Ghostwriter for lyrics and then feeding those lyrics into a vocal synth. The possibilities are endless when you collaborate with the community.'}],r=[{keywords:["download","save","export","phone","photos"],issue:"Cannot download or save to device",solution:'Ensure you have granted storage permissions to your browser. On mobile, long-press the image or use the "Save to Files" option in the share menu. If using cloud storage, verify your Google Drive or OneDrive connection is active.'},{keywords:["audio","sound","hear","play","silent"],issue:"No sound during playback",solution:"Check if your device is on silent mode. Ensure the volume slider in the Media Player is turned up. Some browsers block auto-play audio; try clicking the play button manually."},{keywords:["slow","stuck","loading","generate","wait"],issue:"Generation is taking too long",solution:"High-quality models like Imagen 3 and Veo can take up to 30 seconds. Check your internet connection. If the progress bar is stuck, try refreshing the page; your project will be saved in the Project Hub."},{keywords:["login","account","pro","subscription","access"],issue:"Cannot access Pro agents",solution:"Pro agents require an active Studio Pro subscription. Ensure you are logged in with the correct account. If you just subscribed, try logging out and back in to refresh your status."},{keywords:["voice","mic","microphone","speak","listen","gender","male","female","accent","translate","language"],issue:"Voice controls and translation settings",solution:"Use the Mic icon for Voice-to-Text and the Speaker icon for Text-to-Voice. Click the Settings (gear) icon to change voice gender (Male/Female), region (US/UK/AU/IN), or to enable automatic translation to your preferred language."},{keywords:["privacy","data","security","safe","private"],issue:"Is my data and music private?",solution:"Yes. We use end-to-end encryption for your prompts and creations. We do not share your personal studio data with third parties or use it to train public models without your permission."},{keywords:["copyright","rights","own","legal","truth"],issue:"Do I own the AI-generated music?",solution:"You own the rights to the output you generate. However, for full copyright protection, we recommend adding human elements (vocals, live instruments) to make the work uniquely yours."},{keywords:["quality","professional","pro","industry","standard"],issue:"How to get professional quality results?",solution:"Use high-quality reference tracks, layer AI stems with live recordings, and always perform a final manual mix. Our Mastering Lab agent can help with the final industry-standard polish."},{keywords:["multi","agent","chain","workflow","project","pro"],issue:"How to use multiple agents in one project?",solution:'Pro users can "chain" agents by taking the output of one (e.g., Ghostwriter lyrics) and feeding it into another (e.g., Vocal Architect). Check "The Come Up" section for detailed Multi-Agent Workflow guides.'}],s=[{keywords:["billing","payment","card","subscription","plan","wallet","money","cost","price"],label:"Billing & Wallet",action:()=>{zt("mystudio"),Na("billing")}},{keywords:["settings","config","preferences","dark mode","theme","language","voice"],label:"App Settings",action:()=>{zt("mystudio"),Na("settings")}},{keywords:["profile","account","user","avatar","login","logout","email"],label:"User Profile",action:()=>{zt("mystudio"),Na("overview")}},{keywords:["news","feed","updates","industry","trends","pulse"],label:"Industry Pulse",action:()=>zt("news")},{keywords:["hub","projects","files","saved","library","creations"],label:"Project Hub",action:()=>zt("hub")},{keywords:["activity","wall","community","social","share","feed","music","hub","reddit","youtube","releases"],label:"Music Hub",action:()=>zt("activity")},{keywords:["agents","tools","create","make","generate"],label:"Agent Studio",action:()=>zt("agents")}],i=Wr.length>1?[...s.filter(e=>e.keywords.some(e=>e.includes(Wr.toLowerCase()))||e.label.toLowerCase().includes(Wr.toLowerCase())).map(e=>({type:"Action",title:`Go to ${e.label}`,description:"Navigate to this section",icon:Fe,action:e.action})),...r.filter(e=>e.keywords.some(e=>Wr.toLowerCase().includes(e))||e.issue.toLowerCase().includes(Wr.toLowerCase())).map(e=>({type:"Troubleshooting",title:e.issue,description:e.solution,icon:he})),...e.filter(e=>e.title.toLowerCase().includes(Wr.toLowerCase())||e.desc.toLowerCase().includes(Wr.toLowerCase())||e.details.toLowerCase().includes(Wr.toLowerCase())).map(e=>({type:"Guide",title:e.title,description:e.desc,icon:R})),...t.filter(e=>e.name.toLowerCase().includes(Wr.toLowerCase())||e.description.toLowerCase().includes(Wr.toLowerCase())||e.category.toLowerCase().includes(Wr.toLowerCase())).map(e=>({type:"Agent",title:e.name,description:e.description,icon:re,action:()=>{zt("agents"),Ut(e)}})),...[{q:"How do I export my creations?",a:"You can export any creation from the Project Hub using the download icon."},{q:"Can I use the lyrics commercially?",a:"Yes, all content generated by Studio Agents is royalty-free for Pro users."},{q:"How do I change the agent's genre?",a:"Use the Genre dropdown in the agent's detail view to shift styles."}].filter(e=>e.q.toLowerCase().includes(Wr.toLowerCase())||e.a.toLowerCase().includes(Wr.toLowerCase())).map(e=>({type:"FAQ",title:e.q,description:e.a,icon:B}))]:[];return p.jsxs("div",{className:"help-center-view animate-fadeInUp",children:[p.jsxs("div",{className:"help-hero",children:[p.jsx("h1",{children:"Support Center"}),p.jsx("p",{className:"text-muted",style:{marginTop:"8px"},children:"Guides, troubleshooting, and expert assistance."}),p.jsxs("div",{className:"search-box large",style:{marginTop:"24px"},children:[p.jsx(qe,{size:20}),p.jsx("input",{type:"text",placeholder:"Search for agents, guides, or troubleshooting...",value:Wr,onChange:e=>Dr(e.target.value)})]})]}),i.length>0?p.jsxs("div",{className:"smart-suggestions animate-fadeIn",children:[p.jsxs("div",{className:"suggestions-header",children:[p.jsx(N,{size:18,className:"text-purple"}),p.jsx("h3",{children:"Search Results"})]}),p.jsx("div",{className:"suggestions-list",children:i.map((e,t)=>{const r=e.icon;return p.jsxs("div",{className:"suggestion-item",onClick:e.action?e.action:void 0,style:{cursor:e.action?"pointer":"default"},children:[p.jsx("div",{className:"suggestion-icon",children:p.jsx(r,{size:20})}),p.jsxs("div",{className:"suggestion-content",children:[p.jsx("div",{className:"suggestion-type",children:e.type}),p.jsx("h4",{children:e.title}),p.jsx("p",{children:e.description})]}),e.action&&p.jsx(Fe,{size:16,className:"suggestion-arrow"})]},t)})})]}):Wr.length>1?p.jsxs("div",{className:"empty-search-state animate-fadeIn",style:{textAlign:"center",padding:"4rem 2rem",color:"var(--text-secondary)"},children:[p.jsx(qe,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),p.jsx("h3",{children:"No results found"}),p.jsx("p",{children:'Try searching for "Billing", "Ghostwriter", or "Export".'})]}):null,p.jsx("div",{className:"help-grid-main",children:e.map((e,t)=>{const r=e.icon,s=Br===t;return p.jsxs("div",{className:"help-card-item "+(s?"expanded":""),children:[p.jsx("div",{className:"help-card-icon",children:p.jsx(r,{size:24})}),p.jsx("h3",{children:e.title}),p.jsx("p",{children:e.desc}),s&&p.jsx("div",{className:"help-card-details animate-fadeIn",children:p.jsx("p",{children:e.details})}),p.jsxs("button",{className:"help-card-link",onClick:()=>Pr(s?null:t),children:[s?"Show Less":"Read More",s?p.jsx(Ye,{size:16}):p.jsx(Fe,{size:16})]})]},t)})}),p.jsxs("div",{className:"faq-section",children:[p.jsx("h2",{children:"Frequently Asked Questions"}),p.jsx("div",{className:"faq-list",children:[{q:"How do I export my creations?",a:"You can export any creation from the Project Hub using the download icon."},{q:"Can I use the lyrics commercially?",a:"Yes, all content generated by Studio Agents is royalty-free for Pro users."},{q:"How do I change the agent's genre?",a:"Use the Genre dropdown in the agent's detail view to shift styles."}].map((e,t)=>p.jsxs("div",{className:"faq-item",children:[p.jsx("h4",{children:e.q}),p.jsx("p",{children:e.a})]},t))})]}),p.jsxs("div",{className:"contact-support-section",style:{marginTop:"40px",padding:"32px",background:"var(--card-bg)",borderRadius:"24px",border:"1px solid var(--border-color)",textAlign:"center"},children:[p.jsx("div",{className:"icon-box",style:{width:"64px",height:"64px",margin:"0 auto 16px",background:"rgba(168, 85, 247, 0.1)",color:"var(--color-purple)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(A,{size:32})}),p.jsx("h2",{children:"Still need help?"}),p.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"500px",margin:"12px auto 24px"},children:"Our support team is available 24/7 to assist with technical issues, billing inquiries, or creative blocks."}),p.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[p.jsx("button",{className:"cta-button-premium",onClick:()=>window.open("mailto:support@studioagents.com?subject=Support Request","_blank"),children:"Email Support"}),p.jsx("button",{className:"cta-button-secondary",onClick:()=>window.open("https://discord.gg/studioagents","_blank"),children:"Join Discord Community"})]})]})]})}case"more":{const e=[{id:"activity",icon:O,label:"Music Hub",desc:"Reddit, YouTube & Releases",color:"var(--color-purple)"},{id:"news",icon:U,label:"Industry Pulse",desc:"Latest music & tech news",color:"var(--color-cyan)"},{id:"resources",icon:R,label:"Resources",desc:"Guides & tutorials",color:"var(--color-orange)"},{id:"support",icon:B,label:"Help & Support",desc:"FAQ & contact us",color:"var(--color-pink)"},{id:"marketing",icon:Ee,label:"About Us",desc:"Our mission & vision",color:"var(--color-emerald)"},{id:"profile",icon:$,label:"My Profile",desc:"Account settings",color:"var(--color-yellow)"}];return p.jsxs("div",{className:"more-menu-view animate-fadeInUp",style:{padding:"20px"},children:[p.jsx("h2",{style:{marginBottom:"24px",fontSize:"1.5rem"},children:"More Options"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"32px"},children:e.map(e=>{const t=e.icon;return p.jsxs("div",{onClick:()=>zt(e.id),role:"button",tabIndex:0,style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"20px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",gap:"12px"},onKeyDown:t=>"Enter"===t.key&&zt(e.id),children:[p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:`${e.color}20`,display:"flex",alignItems:"center",justifyContent:"center",color:e.color},children:p.jsx(t,{size:24})}),p.jsxs("div",{children:[p.jsx("h3",{style:{fontSize:"1rem",marginBottom:"4px"},children:e.label}),p.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:e.desc})]})]},e.id)})}),p.jsxs("div",{style:{background:"var(--card-bg)",borderRadius:"16px",padding:"20px",border:"1px solid var(--border-color)"},children:[p.jsx("h3",{style:{marginBottom:"16px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Quick Actions"}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[p.jsxs("button",{onClick:()=>Hi(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"12px",color:"var(--color-purple)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[p.jsx(oe,{size:20}),"Create New Project"]}),$t?p.jsxs("button",{onClick:va,style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",color:"var(--color-red)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[p.jsx(He,{size:20}),"Sign Out"]}):p.jsxs("button",{onClick:()=>Qt(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"12px",color:"var(--color-cyan)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[p.jsx($,{size:20}),"Sign In / Create Account"]})]})]}),p.jsxs("div",{style:{marginTop:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card-bg)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["dark"===Tt?p.jsx(Ve,{size:20}):p.jsx(Ge,{size:20}),p.jsx("span",{children:"Dark Mode"})]}),p.jsx("button",{onClick:()=>At("dark"===Tt?"light":"dark"),style:{width:"50px",height:"28px",borderRadius:"14px",background:"dark"===Tt?"var(--color-purple)":"var(--border-color)",border:"none",cursor:"pointer",position:"relative",transition:"background 0.2s"},children:p.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"50%",background:"white",position:"absolute",top:"3px",left:"dark"===Tt?"25px":"3px",transition:"left 0.2s"}})})]})]})}default:return null}})()}),Lr&&p.jsx("div",{className:"media-player-overlay animate-fadeIn",onClick:()=>Mr(null),onTouchEnd:()=>Mr(null),children:p.jsxs("div",{className:"media-player-container animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:[p.jsx("button",{className:"player-close",onClick:()=>Mr(null),onTouchEnd:e=>{e.preventDefault(),Mr(null)},children:p.jsx(L,{size:24})}),p.jsxs("div",{className:"player-content",children:[p.jsxs("div",{className:"player-header",children:[p.jsx("div",{className:`player-icon-box ${Lr.color||"agent-purple"}`,children:Lr.videoUrl?p.jsx(M,{size:32}):(Lr.imageUrl,p.jsx(O,{size:32}))}),p.jsxs("div",{className:"player-info",children:[p.jsx("h2",{children:Lr.title}),p.jsxs("p",{children:[Lr.agent," â€¢ ",Lr.user||"Your Creation"]})]})]}),p.jsx("div",{className:"player-visualizer",style:{position:"relative"},children:Lr.videoUrl&&(Lr.videoUrl.includes("youtube.com")||Lr.videoUrl.includes("youtu.be"))?p.jsx("iframe",{width:"100%",height:"100%",src:Lr.videoUrl.replace("watch?v=","embed/"),title:Lr.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"player-video",style:{border:"none"}}):p.jsxs(p.Fragment,{children:[Lr.videoUrl?p.jsx("video",{src:Lr.videoUrl,controls:!Lr.audioUrl,autoPlay:!0,muted:!!Lr.audioUrl,className:"player-video"}):Lr.imageUrl?p.jsx("img",{src:Lr.imageUrl,alt:Lr.title,className:"player-video",loading:"lazy",style:{objectFit:"contain",background:"#000"}}):Lr.audioUrl?p.jsx("div",{className:"audio-visualizer-placeholder",children:p.jsx("div",{className:"visualizer-bars",children:[...Array(20)].map((e,t)=>p.jsx("div",{className:"v-bar",style:{animationDelay:.1*t+"s"}},t))})}):p.jsx("div",{style:{width:"100%",height:"100%",minHeight:"200px",padding:"2rem",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.05))",display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto"},children:p.jsx("div",{style:{maxWidth:"600px",fontSize:"1rem",lineHeight:"1.8",color:"var(--text-primary)",whiteSpace:"pre-wrap",textAlign:"left"},children:ki(Lr)||p.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic",textAlign:"center"},children:"No content to display"})})}),Lr.audioUrl&&p.jsx("div",{style:{position:"absolute",bottom:"20px",left:"0",right:"0",padding:"0 20px",zIndex:10},children:p.jsx("audio",{src:Lr.audioUrl,controls:!0,autoPlay:!0,className:"player-audio",style:{width:"100%",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",borderRadius:"30px"}})})]})}),p.jsx("div",{className:"player-footer",children:p.jsxs("div",{className:"player-actions",children:[p.jsxs("button",{className:"player-btn primary",onClick:()=>Hn(Lr),children:[p.jsx(_,{size:18}),p.jsx("span",{children:"Download to Device"})]}),p.jsxs("button",{className:"player-btn secondary",onClick:()=>(e=>{if(!e)return;const t={...e,id:String(Date.now()),user:$t?"Pro Creator":"Guest Creator",time:"Just now",likes:0,remixes:0,snippet:e.snippet||`Just created this amazing ${e.type||e.agent} output in the Studio!`};Ea([t,...$a]),c.success("Shared to Activity Wall!"),zt("activity"),Mr(null)})(Lr),children:[p.jsx(F,{size:18}),p.jsx("span",{children:"Share to Feed"})]})]})})]})]})}),br&&p.jsxs("div",{className:"studio-session-overlay animate-fadeIn",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",zIndex:2e3,display:"flex",flexDirection:"column"},children:[p.jsxs("div",{style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(I,{size:24,color:"white"})}),p.jsxs("div",{children:[p.jsx("h2",{style:{margin:0,fontSize:"1.2rem"},children:"Studio Session"}),p.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Multi-Agent Orchestration"})]}),p.jsx("button",{onClick:()=>c("1. Select Beat (Track 1)\n2. Select Vocals (Track 2)\n3. Add a Visual\n4. Press Play to preview\n5. Click Render Master to save",{duration:6e3,icon:"ðŸŽ›ï¸"}),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:"8px"},children:p.jsx(B,{size:14,color:"var(--text-secondary)"})})]}),p.jsx("button",{onClick:()=>{vr(!1),zr(!1)},style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:p.jsx(L,{size:24})})]}),p.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"20px",gap:"20px",overflowY:"auto"},children:[p.jsxs("div",{style:{flex:2,background:"#000",borderRadius:"16px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px"},children:[fr.visual?fr.visual.videoUrl?p.jsx("video",{src:fr.visual.videoUrl,style:{width:"100%",height:"100%",objectFit:"contain"},muted:!0,loop:!0,ref:e=>{e&&(Cr?e.play().catch(e=>{}):e.pause())}}):p.jsx("img",{src:fr.visual.imageUrl,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain"}}):p.jsxs("div",{style:{color:"var(--text-secondary)",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[p.jsx(H,{size:48}),p.jsx("span",{children:"No Visual Selected"})]}),fr.audio&&p.jsx("audio",{src:fr.audio.audioUrl,ref:e=>{e&&(e.volume=fr.audioVolume||.8,Cr?e.play().catch(e=>{}):e.pause())},loop:!0}),fr.vocal&&p.jsx("audio",{src:fr.vocal.audioUrl,ref:e=>{e&&(e.volume=fr.vocalVolume||1,Cr?e.play().catch(e=>{}):e.pause())},loop:!0})]}),p.jsxs("div",{style:{flex:1,background:"rgba(255,255,255,0.05)",borderRadius:"16px",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"12px 16px"},children:[p.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[p.jsxs("div",{onClick:()=>Ir(e=>({...e,generateRealAssets:!e.generateRealAssets})),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",background:fr.generateRealAssets?"linear-gradient(135deg, var(--color-purple), var(--color-pink))":"rgba(255,255,255,0.1)",padding:"6px 12px",borderRadius:"20px",transition:"all 0.3s ease"},children:[p.jsx("div",{style:{width:"32px",height:"18px",borderRadius:"9px",background:fr.generateRealAssets?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",position:"relative",transition:"all 0.3s ease"},children:p.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:fr.generateRealAssets?"16px":"2px",transition:"left 0.3s ease"}})}),p.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600},children:fr.generateRealAssets?"âš¡ Real Assets":"ðŸ“ Text Mode"})]}),p.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[p.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"BPM"}),p.jsx("input",{type:"number",value:fr.bpm||120,onChange:e=>Ir(t=>({...t,bpm:parseInt(e.target.value)||120})),style:{width:"50px",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"var(--color-cyan)",fontSize:"0.85rem",fontWeight:600,textAlign:"center"}})]}),p.jsxs("select",{value:fr.frameRate||30,onChange:e=>Ir(t=>({...t,frameRate:parseInt(e.target.value)})),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"0.8rem",cursor:"pointer"},children:[p.jsx("option",{value:"24",children:"24fps"}),p.jsx("option",{value:"30",children:"30fps"}),p.jsx("option",{value:"60",children:"60fps"})]}),p.jsxs("select",{value:fr.aspectRatio||"16:9",onChange:e=>Ir(t=>({...t,aspectRatio:e.target.value})),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"0.8rem",cursor:"pointer"},children:[p.jsx("option",{value:"16:9",children:"16:9"}),p.jsx("option",{value:"9:16",children:"9:16"}),p.jsx("option",{value:"1:1",children:"1:1"})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("div",{style:{display:"flex",gap:"4px"},children:[1,2,3].map(e=>p.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:e<=(fr.renderCount||0)?"var(--color-purple)":"rgba(255,255,255,0.2)"}},e))}),p.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[3-(fr.renderCount||0)," renders left"]})]})]}),fr.generateRealAssets&&p.jsxs("div",{style:{padding:"10px 16px",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(236, 72, 153, 0.2))",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.3)",fontSize:"0.85rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{children:[p.jsx("strong",{children:"âš¡ Real Asset Mode"})," â€” AI will generate actual audio, images & video"]}),p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Uses Imagen 4.0 â€¢ Veo 3.0 â€¢ MusicGen"})]}),p.jsxs("div",{style:{padding:"12px",background:"rgba(168, 85, 247, 0.1)",borderRadius:"8px",borderLeft:"4px solid var(--color-purple)",fontSize:"0.9rem",display:"flex",gap:"12px",alignItems:"center"},children:[p.jsx(N,{size:18,className:"text-purple"}),p.jsxs("div",{children:[p.jsx("strong",{children:"Agent Insight:"}),"Beat Architect"===fr.audio?.agent?" This beat has a strong transient profile. Keep vocals dry to cut through.":"Ghostwriter"===fr.vocal?.agent?" These lyrics are dense. Ensure the beat leaves room for the flow.":" Combine assets from different agents to create a unique sound."]})]}),p.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:fr.audio?"1px solid var(--color-cyan)":"1px solid rgba(255,255,255,0.1)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:fr.audio?"12px":0},children:[p.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:p.jsx(V,{size:24,className:"text-cyan"})}),p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[p.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 1"}),p.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-cyan)",fontSize:"0.75rem",cursor:"pointer"},value:fr.audioOutputType||"waveform",onChange:e=>Ir(t=>({...t,audioOutputType:e.target.value})),children:[p.jsx("option",{value:"waveform",children:"ðŸŽµ Waveform"}),p.jsx("option",{value:"file",children:"ðŸ“ File"}),p.jsx("option",{value:"stems",children:"ðŸŽ›ï¸ Stems"}),p.jsx("option",{value:"midi",children:"ðŸŽ¹ MIDI"})]})]}),p.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:fr.audio?.id||"",onChange:e=>{const t=(Array.isArray(Ms?.assets)?Ms.assets:[]).find(t=>t?.id?.toString()===e.target.value);Ir(e=>({...e,audio:t||null}))},children:[p.jsx("option",{value:"",children:"Select Audio Asset..."}),(Ms?.assets||[]).filter(e=>e?.audioUrl||"audio"===e?.type||e?.agent?.includes("Beat")||e?.agent?.includes("Sound")).map(e=>p.jsxs("option",{value:e.id,children:["ðŸŽµ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(Ms?.assets||[]).filter(e=>!e?.audioUrl&&"audio"!==e?.type).map(e=>p.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]}),p.jsxs("div",{style:{width:"80px",textAlign:"center"},children:[p.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Vol"}),p.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:fr.audioVolume||.8,onChange:e=>Ir(t=>({...t,audioVolume:parseFloat(e.target.value)})),style:{width:"100%"}}),p.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-cyan)"},children:[Math.round(100*(fr.audioVolume||.8)),"%"]})]})]}),fr.audio&&p.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"waveform"!==fr.audioOutputType&&fr.audioOutputType?"file"===fr.audioOutputType?p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-cyan)",fontSize:"0.85rem"},children:[p.jsx(G,{size:24}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:600},children:fr.audio.title||"Audio File"}),p.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:[fr.audio.agent," â€¢ WAV/MP3"]})]}),p.jsx("div",{style:{marginLeft:"auto",fontSize:"0.75rem",opacity:.5},children:"~3:24"})]}):"stems"===fr.audioOutputType?p.jsx("div",{style:{display:"flex",gap:"8px"},children:["Drums","Bass","Melody","FX"].map((e,t)=>p.jsxs("div",{style:{flex:1,background:`rgba(6, 182, 212, ${.2+.1*t})`,borderRadius:"6px",padding:"6px",textAlign:"center",fontSize:"0.7rem"},children:[p.jsx("div",{style:{color:"var(--color-cyan)"},children:e}),p.jsx("div",{style:{width:"100%",height:"16px",background:"rgba(0,0,0,0.3)",borderRadius:"4px",marginTop:"4px",overflow:"hidden"},children:p.jsx("div",{style:{width:60+10*t+"%",height:"100%",background:"var(--color-cyan)",borderRadius:"4px"}})})]},e))}):p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--color-cyan)",fontSize:"0.8rem"},children:[p.jsx(q,{size:20}),p.jsx("div",{style:{display:"flex",gap:"2px",flex:1},children:[...Array(16)].map((e,t)=>p.jsx("div",{style:{width:"8px",height:8+t%3*6+"px",background:t%2==0?"var(--color-cyan)":"transparent",border:"1px solid var(--color-cyan)",borderRadius:"2px"}},t))}),p.jsx("div",{style:{fontSize:"0.7rem",opacity:.5},children:"128 BPM â€¢ C Major"})]}):p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",height:"40px"},children:[...Array(48)].map((e,t)=>p.jsx("div",{style:{flex:1,background:"linear-gradient(to top, var(--color-cyan), rgba(6, 182, 212, 0.3))",borderRadius:"2px",height:Cr?20+20*Math.sin(.5*t+Date.now()/200)+"px":10+15*Math.sin(.3*t)+"px",transition:"height 0.1s ease",animation:Cr?`waveform${t%4} 0.5s ease-in-out infinite`:"none"}},t))})})]}),p.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:fr.vocal?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.1)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:fr.vocal?"12px":0},children:[p.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:p.jsx(Y,{size:24,className:"text-purple"})}),p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[p.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 2"}),p.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-purple)",fontSize:"0.75rem",cursor:"pointer"},value:fr.vocalOutputType||"waveform",onChange:e=>Ir(t=>({...t,vocalOutputType:e.target.value})),children:[p.jsx("option",{value:"waveform",children:"ðŸŽµ Waveform"}),p.jsx("option",{value:"file",children:"ðŸ“ File"}),p.jsx("option",{value:"lyrics",children:"ðŸ“ Lyrics"}),p.jsx("option",{value:"adlibs",children:"ðŸŽ¤ Adlibs"})]})]}),p.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:fr.vocal?.id||"",onChange:e=>{const t=(Array.isArray(Ms?.assets)?Ms.assets:[]).find(t=>t?.id?.toString()===e.target.value);Ir(e=>({...e,vocal:t||null}))},children:[p.jsx("option",{value:"",children:"Select Vocal/Lyrics Asset..."}),(Ms?.assets||[]).filter(e=>e?.agent?.includes("Ghost")||e?.agent?.includes("Vocal")||"lyrics"===e?.type).map(e=>p.jsxs("option",{value:e.id,children:["ðŸŽ¤ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(Ms?.assets||[]).filter(e=>!e?.agent?.includes("Ghost")&&!e?.agent?.includes("Vocal")&&"lyrics"!==e?.type).map(e=>p.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]}),p.jsxs("div",{style:{width:"80px",textAlign:"center"},children:[p.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Vol"}),p.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:fr.vocalVolume||1,onChange:e=>Ir(t=>({...t,vocalVolume:parseFloat(e.target.value)})),style:{width:"100%"}}),p.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-purple)"},children:[Math.round(100*(fr.vocalVolume||1)),"%"]})]})]}),fr.vocal&&p.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"waveform"!==fr.vocalOutputType&&fr.vocalOutputType?"file"===fr.vocalOutputType?p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-purple)",fontSize:"0.85rem"},children:[p.jsx(G,{size:24}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:600},children:fr.vocal.title||"Vocal File"}),p.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:[fr.vocal.agent," â€¢ WAV"]})]}),p.jsx("div",{style:{marginLeft:"auto",fontSize:"0.75rem",opacity:.5},children:"~2:48"})]}):"lyrics"===fr.vocalOutputType?p.jsxs("div",{style:{color:"rgba(255,255,255,0.9)",fontSize:"0.85rem",lineHeight:1.6,maxHeight:"80px",overflow:"auto"},children:[p.jsx("div",{style:{color:"var(--color-purple)",marginBottom:"4px",fontSize:"0.7rem"},children:"ðŸ“ Lyrics Preview"}),fr.vocal.content?.substring(0,200)||fr.vocal.snippet?.substring(0,200)||"No lyrics content...",(fr.vocal.content?.length>200||fr.vocal.snippet?.length>200)&&"..."]}):p.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["Yeah!","Uh","Let's go","Woo!","Ayy"].map(e=>p.jsx("div",{style:{background:"rgba(168, 85, 247, 0.2)",border:"1px solid var(--color-purple)",borderRadius:"16px",padding:"4px 12px",fontSize:"0.75rem",color:"var(--color-purple)"},children:e},e))}):p.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",height:"40px"},children:[...Array(48)].map((e,t)=>p.jsx("div",{style:{flex:1,background:"linear-gradient(to top, var(--color-purple), rgba(168, 85, 247, 0.3))",borderRadius:"2px",height:Cr?15+25*Math.cos(.4*t+Date.now()/180)+"px":8+12*Math.cos(.3*t)+"px",transition:"height 0.1s ease"}},t))})})]}),p.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:fr.visual?"1px solid var(--color-pink)":"1px solid rgba(255,255,255,0.1)"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:fr.visual?"12px":0},children:[p.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:p.jsx(J,{size:24,className:"text-pink"})}),p.jsxs("div",{style:{flex:1},children:[p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[p.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 3"}),p.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-pink)",fontSize:"0.75rem",cursor:"pointer"},value:fr.visualOutputType||"video",onChange:e=>Ir(t=>({...t,visualOutputType:e.target.value})),children:[p.jsx("option",{value:"video",children:"ðŸŽ¬ Video"}),p.jsx("option",{value:"image",children:"ðŸ–¼ï¸ Image"}),p.jsx("option",{value:"animation",children:"âœ¨ Animation"}),p.jsx("option",{value:"thumbnail",children:"ðŸ“· Thumbnail"})]})]}),p.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:fr.visual?.id||"",onChange:e=>{const t=(Array.isArray(Ms?.assets)?Ms.assets:[]).find(t=>t?.id?.toString()===e.target.value);Ir(e=>({...e,visual:t||null}))},children:[p.jsx("option",{value:"",children:"Select Visual Asset..."}),(Ms?.assets||[]).filter(e=>e?.imageUrl||e?.videoUrl||"image"===e?.type||"video"===e?.type).map(e=>p.jsxs("option",{value:e.id,children:[e.videoUrl?"ðŸŽ¬":"ðŸ–¼ï¸"," ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(Ms?.assets||[]).filter(e=>!e?.imageUrl&&!e?.videoUrl&&"image"!==e?.type&&"video"!==e?.type).map(e=>p.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]})]}),fr.visual&&p.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"video"!==fr.visualOutputType&&fr.visualOutputType?"image"===fr.visualOutputType?fr.visual.imageUrl?p.jsx("img",{src:fr.visual.imageUrl,alt:"Visual",loading:"lazy",style:{width:"100%",maxHeight:"120px",objectFit:"cover",borderRadius:"6px"}}):p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-pink)",fontSize:"0.85rem"},children:[p.jsx(H,{size:24}),p.jsx("div",{children:"Image will be generated"})]}):"animation"===fr.visualOutputType?p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--color-pink)"},children:[p.jsx("div",{style:{display:"flex",gap:"4px"},children:[...Array(6)].map((e,t)=>p.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, var(--color-pink), var(--color-purple))",borderRadius:"4px",opacity:.3+.14*t,transform:`rotate(${15*t}deg)`}},t))}),p.jsxs("div",{style:{fontSize:"0.8rem",marginLeft:"12px"},children:[p.jsx("div",{style:{fontWeight:600},children:"Animation Sequence"}),p.jsx("div",{style:{fontSize:"0.7rem",opacity:.7},children:"6 keyframes â€¢ 30fps"})]})]}):p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("div",{style:{width:"80px",height:"45px",background:"linear-gradient(135deg, var(--color-pink), var(--color-purple))",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(Q,{size:20,color:"white"})}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-pink)"},children:[p.jsx("div",{style:{fontWeight:600},children:"Cover Thumbnail"}),p.jsx("div",{style:{fontSize:"0.7rem",opacity:.7},children:"1280x720 â€¢ YouTube Ready"})]})]}):fr.visual.videoUrl?p.jsx("video",{src:fr.visual.videoUrl,style:{width:"100%",maxHeight:"120px",objectFit:"cover",borderRadius:"6px"},muted:!0}):p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-pink)",fontSize:"0.85rem"},children:[p.jsx(J,{size:24}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:600},children:fr.visual.title||"Video Asset"}),p.jsx("div",{style:{fontSize:"0.75rem",opacity:.7},children:"Video will be generated on render"})]})]})})]})]})]}),p.jsxs("div",{style:{padding:"20px",background:"rgba(0,0,0,0.5)",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[p.jsxs("div",{style:{display:"flex",gap:"8px",marginRight:"16px"},children:[p.jsx("button",{onClick:()=>{if(Sr>0){const e=Sr-1;Nr(e),jr(wr[e])}},disabled:Sr<=0,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:Sr>0?"pointer":"not-allowed",opacity:Sr>0?1:.3},title:"Undo",children:p.jsx(K,{size:20,color:"white"})}),p.jsx("button",{onClick:()=>{if(Sr<wr.length-1){const e=Sr+1;Nr(e),jr(wr[e])}},disabled:Sr>=wr.length-1,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:Sr<wr.length-1?"pointer":"not-allowed",opacity:Sr<wr.length-1?1:.3},title:"Redo",children:p.jsx(X,{size:20,color:"white"})})]}),p.jsx("button",{className:"btn-circle","aria-label":Cr?"Pause Session":"Play Session",style:{width:"56px",height:"56px",borderRadius:"50%",background:"var(--color-purple)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>zr(!Cr),children:Cr?p.jsx(Z,{size:24,fill:"white"}):p.jsx(ee,{size:24,fill:"white"})})]}),p.jsxs("div",{style:{display:"flex",gap:"12px"},children:[p.jsxs("button",{className:"btn-pill secondary",onClick:()=>{const e={...Ms,sessionState:fr,lastModified:Date.now()};Os(e),ir(t=>Array.isArray(t)?t.map(t=>t.id===e.id?e:t):[e]),An("Project session saved."),c.success("Session saved!")},children:[p.jsx(te,{size:18})," Save Project"]}),p.jsxs("button",{className:"btn-pill primary",disabled:(fr.renderCount||0)>=3,style:{opacity:(fr.renderCount||0)>=3?.5:1},onClick:async()=>{if((fr.renderCount||0)>=3)return void c.error("Maximum 3 renders reached. Pro users can reset.");const t=[fr.audio,fr.vocal,fr.visual].filter(Boolean);if(0===t.length)return void c.error("Select at least one asset to render");const s=(fr.renderCount||0)+1;An(`Render pass ${s} of 3. Orchestrating your agents.`),c.loading(`AMO Render ${s}/3...`,{id:"amo-render"});try{const a={"Content-Type":"application/json"};if(e?.currentUser){const t=await e.currentUser.getIdToken();a.Authorization=`Bearer ${t}`}const n=await fetch(`${r}/api/orchestrate`,{method:"POST",headers:a,body:JSON.stringify({agentOutputs:t.map(e=>({id:e.id,agent:e.agent||e.type,type:e.type,content:e.snippet||e.content||e.text,audioUrl:e.audioUrl,imageUrl:e.imageUrl,videoUrl:e.videoUrl})),projectName:Ms.name,projectDescription:Ms.description,syncSettings:{bpm:fr.bpm||120,timeSignature:fr.timeSignature||"4/4",key:fr.key||"C Major",frameRate:fr.frameRate||30,sampleRate:fr.sampleRate||48e3,bitDepth:fr.bitDepth||24,aspectRatio:fr.aspectRatio||"16:9"},renderPass:s,generateRealAssets:fr.generateRealAssets||!1})}),o=await n.json();if(!n.ok)throw new Error(o.error||"Orchestration failed");let l=fr.audio?.audioUrl,d=fr.visual?.imageUrl,p=fr.visual?.videoUrl;if(fr.generateRealAssets){if(c.loading("Generating real assets...",{id:"amo-assets"}),fr.visual&&!fr.visual.imageUrl)try{const e=fr.visual.snippet||fr.visual.content||`Album artwork for ${Ms.name}`,t=await fetch(`${r}/api/generate-image`,{method:"POST",headers:a,body:JSON.stringify({prompt:e.substring(0,500),aspectRatio:fr.aspectRatio||"16:9"})}),s=await t.json();s.imageUrl&&(d=s.imageUrl)}catch(i){}if(fr.audio&&!fr.audio.audioUrl)try{const e=fr.audio.snippet||fr.audio.content||`${fr.bpm||120} BPM beat`,t=await fetch(`${r}/api/generate-audio`,{method:"POST",headers:a,body:JSON.stringify({prompt:e.substring(0,200)})}),s=await t.json();s.audioUrl&&(l=s.audioUrl)}catch(i){}c.dismiss("amo-assets")}Ir(e=>({...e,renderCount:s,lastRenderTime:(new Date).toISOString(),renderHistory:[...e.renderHistory||[],{pass:s,timestamp:Date.now()}]}));const x=o.masterAsset||{id:`master-${Date.now()}`,title:`Studio Master ${s}/3 - ${Ms.name}`,type:"Master",agent:"AMO Orchestrator",date:"Just now",color:"agent-purple",snippet:o.output?.slice(0,200)||"Orchestrated Master Composition.",content:o.output,audioUrl:l,stems:{audio:l,vocal:fr.vocal?.audioUrl},imageUrl:d,videoUrl:p,metadata:{audioVolume:fr.audioVolume,vocalVolume:fr.vocalVolume,agentsProcessed:t.length,renderedAt:(new Date).toISOString(),renderPass:s,bpm:fr.bpm||120,frameRate:fr.frameRate||30,aspectRatio:fr.aspectRatio||"16:9",realAssets:fr.generateRealAssets||!1}},g={...Ms,assets:[x,...Ms.assets]};if(Os(g),ir(e=>Array.isArray(e)?e.map(e=>e.id===g.id?g:e):[g]),$t){const e=localStorage.getItem("studio_user_id");e&&fetch(`${r}/api/projects`,{method:"POST",headers:a,body:JSON.stringify({userId:e,project:g})}).catch(e=>{})}c.dismiss("amo-render"),vr(!1),zr(!1),An("Master render complete. Your orchestrated production is ready."),c.success("Master rendered and saved to your Hub!")}catch(a){c.dismiss("amo-render"),c.error(a.message||"Orchestration failed. Check your internet connection and try again."),An("Orchestration failed. Please try again.")}},children:[p.jsx(re,{size:18})," Render Master"]})]})]})]}),ws&&p.jsx("div",{className:"modal-overlay",onClick:()=>ks(!1),onTouchEnd:()=>ks(!1),children:p.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:[p.jsx("button",{className:"modal-close",onClick:()=>ks(!1),onTouchEnd:e=>{e.preventDefault(),ks(!1)},children:p.jsx(L,{size:20})}),p.jsxs("div",{className:"modal-header",children:[p.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem"},children:p.jsx(W,{size:24,color:"white"})}),p.jsx("h2",{children:"Save to Cloud"}),p.jsx("p",{children:"Sync your projects to the Studio Agents cloud or connect external storage."})]}),p.jsxs("div",{className:"modal-body",children:[p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsxs("button",{className:"storage-btn",style:{width:"100%",padding:"16px 20px",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",border:"none",justifyContent:"center",gap:"12px",fontSize:"1rem",fontWeight:"600"},onClick:async()=>{if(!Wt?.uid)return c.error("Please sign in to save to cloud"),void ks(!1);const e=c.loading("Syncing projects to cloud...");try{let r=0;const s=sr.filter(e=>e&&e.id);for(const e of s)try{await ur(Wt.uid,e)&&r++}catch(t){}r>0?(c.success(`âœ… Synced ${r} project${r>1?"s":""} to cloud!`,{id:e}),lr(new Date)):c.error("No projects to sync",{id:e})}catch(t){c.error("Cloud sync failed - check your connection",{id:e})}ks(!1)},children:[p.jsx(se,{size:20}),p.jsx("span",{children:"Save to Studio Agents Cloud"})]}),p.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"8px"},children:Wt?`Signed in as ${Wt.email||Wt.displayName}`:"Sign in to enable cloud sync"})]}),p.jsx("div",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.8rem",margin:"16px 0"},children:"â€” or connect external storage â€”"}),p.jsxs("div",{className:"external-storage-grid",children:[p.jsxs("button",{className:"storage-btn",onClick:()=>{nn(e=>({...e,googleDrive:!0})),ks(!1)},children:[p.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/12/Google_Drive_icon_%282020%29.svg",alt:"Google Drive",width:"24",loading:"lazy"}),p.jsx("span",{children:"Google Drive"})]}),p.jsxs("button",{className:"storage-btn",onClick:()=>{c("OneDrive coming soon!",{icon:"ðŸš§"}),ks(!1)},children:[p.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/3/3c/Microsoft_Office_OneDrive_%282019%E2%80%93present%29.svg",alt:"OneDrive",width:"24",loading:"lazy"}),p.jsx("span",{children:"OneDrive"})]}),p.jsxs("button",{className:"storage-btn",onClick:()=>{c("Dropbox coming soon!",{icon:"ðŸš§"}),ks(!1)},children:[p.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Dropbox_Icon.svg",alt:"Dropbox",width:"24",loading:"lazy"}),p.jsx("span",{children:"Dropbox"})]}),p.jsxs("button",{className:"storage-btn",onClick:()=>{c("iCloud coming soon!",{icon:"ðŸš§"}),ks(!1)},children:[p.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/1c/ICloud_logo.svg",alt:"iCloud",width:"24",loading:"lazy"}),p.jsx("span",{children:"iCloud"})]})]})]}),p.jsx("div",{className:"modal-footer",children:p.jsx("p",{children:"Your files will be synced automatically after generation."})})]})}),Di&&p.jsx("div",{className:"modal-overlay",onClick:()=>{$i(null),Li("")},children:p.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),style:{maxWidth:"440px"},children:[p.jsx("button",{className:"modal-close",onClick:()=>{$i(null),Li("")},children:p.jsx(L,{size:20})}),p.jsxs("div",{className:"modal-header",children:[p.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:p.jsx(ie,{size:28,color:"white"})}),p.jsx("h2",{style:{textAlign:"center",marginBottom:"8px"},children:"Save to Project"}),p.jsxs("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Add ",p.jsxs("strong",{children:['"',Di.title||Di.snippet?.substring(0,30)+"...",'"']})," to a project"]})]}),p.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsxs("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"8px",display:"block"},children:[p.jsx(ie,{size:14,style:{verticalAlign:"middle",marginRight:"6px"}}),"Create new project"]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("input",{type:"text",value:Ei,onChange:e=>Li(e.target.value),placeholder:"Project name...",style:{flex:1,padding:"12px 14px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white",fontSize:"0.95rem"}}),p.jsx("button",{onClick:()=>{Ei.trim()&&(na(Ei,Di),$i(null),Li(""),c.success("Project created with asset!"))},disabled:!Ei.trim(),className:"cta-button-premium",style:{padding:"12px 20px",opacity:Ei.trim()?1:.5},children:"Create"})]})]}),sr.length>0&&p.jsxs("div",{children:[p.jsx("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"10px",display:"block"},children:"Or add to existing project"}),p.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},children:sr.slice(0,10).map(e=>p.jsxs("button",{onClick:()=>{aa(e.id,Di),$i(null),c.success(`Added to "${e.name}"!`)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},onMouseOver:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseOut:e=>e.currentTarget.style.borderColor="var(--border-color)",children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(T,{size:18,style:{color:"var(--color-purple)"}}),p.jsx("span",{style:{fontWeight:"500"},children:e.name})]}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[e.assets?.length||0," assets"]})]},e.id))})]}),0===sr.length&&p.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem",marginTop:"8px"},children:"Create your first project above to organize your work!"})]}),p.jsx("div",{className:"modal-footer",style:{padding:"16px 20px",borderTop:"1px solid var(--border-color)"},children:p.jsx("button",{onClick:()=>{$i(null),Li("")},className:"cta-button-secondary",style:{width:"100%"},children:"Skip for Now"})})]})}),Or&&"object"==typeof Or&&p.jsx(bt,{name:"Preview Modal",children:p.jsx("div",{className:"modal-overlay",onClick:()=>{Yr(null),Ii.current=!1,pi(!1),gi(""),_r(null)},children:p.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>{e.stopPropagation()},style:{maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[p.jsx("button",{className:"modal-close",onClick:e=>{e.stopPropagation(),Yr(null),Ii.current=!1,pi(!1),gi(""),_r(null)},style:{position:"absolute",top:"1rem",right:"1rem",zIndex:9999},children:p.jsx(L,{size:20})}),p.jsxs("div",{className:"modal-header",style:{flexShrink:0,paddingBottom:"0.5rem"},children:[p.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem",background:Or.isExistingAsset?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"linear-gradient(135deg, #10b981, #059669)"},children:p.jsx(ae,{size:24,color:"white"})}),p.jsx("h2",{children:Or.isExistingAsset?"View Asset":"Preview Your Creation"}),p.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:Or.isExistingAsset?"Your saved project asset.":"Review your AI-generated content before saving to your Hub."})]}),p.jsx("div",{className:"modal-body",style:{flex:1,overflow:"auto",padding:"1rem"},children:ci&&!Or.isExistingAsset?p.jsxs("div",{style:{padding:"1rem"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[p.jsx("button",{onClick:()=>pi(!1),style:{padding:"8px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",cursor:"pointer",color:"var(--text-secondary)"},children:p.jsx(ne,{size:18})}),p.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Save to..."})]}),p.jsxs("button",{onClick:()=>En("hub",null),disabled:Jr,style:{width:"100%",padding:"16px",borderRadius:"12px",border:"2px solid var(--border-color)",background:"rgba(16, 185, 129, 0.1)",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",marginBottom:"1rem",textAlign:"left",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.borderColor="var(--color-green)",onMouseOut:e=>e.currentTarget.style.borderColor="var(--border-color)",children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(W,{size:20,color:"white"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:"Save to Hub Only"}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Quick save without adding to a project"})]})]}),p.jsxs("div",{style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border-color)",marginBottom:"1rem"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[p.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(oe,{size:20,color:"white"})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:"Create New Project"}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Start a new project with this asset"})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("input",{type:"text",value:xi,onChange:e=>gi(e.target.value),placeholder:"Enter project name...",style:{flex:1,padding:"10px 12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.9rem"},onKeyPress:e=>{"Enter"===e.key&&xi.trim()&&(En("hub",`new:${xi.trim()}`),gi(""))}}),p.jsx("button",{onClick:()=>{xi.trim()&&(En("hub",`new:${xi.trim()}`),gi(""))},disabled:!xi.trim()||Jr,className:"cta-button-premium",style:{padding:"10px 16px",opacity:!xi.trim()||Jr?.5:1},children:"Create"})]})]}),Array.isArray(sr)&&sr.filter(e=>e&&e.name&&e.id).length>0&&p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"12px",fontWeight:"600"},children:"Or add to existing project:"}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"200px",overflowY:"auto"},children:sr.filter(e=>e&&e.name&&e.id).slice(0,10).map(e=>p.jsxs("button",{onClick:()=>En("hub",e),disabled:Jr,style:{width:"100%",padding:"12px 16px",borderRadius:"10px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.background="rgba(139, 92, 246, 0.15)",onMouseOut:e=>e.currentTarget.style.background="var(--bg-secondary)",children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(T,{size:18,style:{color:"var(--color-purple)"}}),p.jsx("span",{style:{fontWeight:"500",color:"var(--text-primary)"},children:e.name})]}),p.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[e.assets?.length||0," assets"]})]},e.id))})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[p.jsx("span",{style:{background:"image"===Or.type?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"audio"===Or.type||"vocal"===Or.type?"linear-gradient(135deg, #f59e0b, #d97706)":"video"===Or.type?"linear-gradient(135deg, #ef4444, #dc2626)":"linear-gradient(135deg, #3b82f6, #2563eb)",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"600",color:"white",textTransform:"uppercase"},children:Or.type||"Text"}),p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(139, 92, 246, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-purple)"},children:[p.jsx(N,{size:12}),Or.agent||"AI Generated"]}),(Or.model||Mi)&&p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(6, 182, 212, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-cyan)"},children:[p.jsx(le,{size:12}),Or.model||Mi]}),p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[p.jsx(de,{size:12}),Or.createdAt?new Date(Or.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Just now"]}),Or.snippet&&"string"==typeof Or.snippet&&p.jsxs(p.Fragment,{children:[p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(16, 185, 129, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-emerald)"},children:[p.jsx(ce,{size:12}),(Or.snippet||"").split(/\s+/).filter(e=>e).length," words"]}),p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(249, 115, 22, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-orange)"},children:[(Or.snippet||"").length," chars"]}),p.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(236, 72, 153, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-pink)"},children:[(Or.snippet||"").split("\n").filter(e=>e.trim()).length," lines"]})]})]}),Or.title&&p.jsxs("div",{style:{marginBottom:"1rem",padding:"0.5rem 0.75rem",background:"rgba(255,255,255,0.03)",borderRadius:"8px",borderLeft:"3px solid var(--color-purple)"},children:[p.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Title"}),p.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:Or.title})]}),p.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border-color)",maxHeight:"65vh",overflow:"auto",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",minHeight:"260px"},children:[ui&&!qr&&!ci&&p.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",zIndex:10,borderRadius:"12px"},children:[p.jsx(P,{size:32,className:"animate-spin",color:"var(--color-purple)"}),p.jsx("span",{style:{marginTop:"12px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Loading media..."})]}),"image"===Or.type&&Or.imageUrl?p.jsxs("div",{style:{position:"relative",width:"100%",display:"flex",justifyContent:"center"},children:[p.jsx("img",{src:at(Or.imageUrl),alt:"Generated",onLoad:()=>mi(!1),onClick:e=>{"90vh"===e.target.style.maxHeight?(e.target.style.maxHeight="60vh",e.target.style.cursor="zoom-in"):(e.target.style.maxHeight="90vh",e.target.style.cursor="zoom-out")},style:{maxWidth:"100%",maxHeight:"60vh",width:"auto",height:"auto",borderRadius:"8px",objectFit:"contain",cursor:"zoom-in",transition:"max-height 0.3s ease",opacity:ui?0:1},title:"Click to expand",onError:e=>{e.target.style.display="none",mi(!1),Yr({type:"image",url:Or.imageUrl})}}),!ui&&p.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0,0,0,0.6)",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",pointerEvents:"none"},children:"Click to zoom"})]}):"audio"!==Or.type&&"vocal"!==Or.type||!Or.audioUrl?"video"===Or.type&&Or.videoUrl?p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Or.audioUrl?p.jsxs(p.Fragment,{children:[p.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-cyan)",marginBottom:"4px",fontWeight:"bold"},children:["ðŸŽµ Music Video Mode (Synced to: ",Or.audioTitle||"Audio",")"]}),p.jsx("video",{controls:!0,muted:!!Or.audioUrl,src:ot(Or.videoUrl),style:{width:"100%",borderRadius:"8px",background:"#000",opacity:ui?0:1},onLoadedData:()=>mi(!1),onCanPlay:()=>mi(!1),onPlay:e=>{yi(!0);const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.currentTime=e.target.currentTime,t.volume=e.target.volume,t.play().catch(e=>{}))},onPause:e=>{yi(!1);const t=e.target.parentElement.querySelector(".sync-audio");t&&t.pause()},onEnded:()=>yi(!1),onVolumeChange:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.volume=e.target.volume)},onTimeUpdate:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&Math.abs(t.currentTime-e.target.currentTime)>.3&&(t.currentTime=e.target.currentTime)},onSeeking:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.currentTime=e.target.currentTime)},onError:e=>{Yr({type:"video",url:Or.videoUrl}),mi(!1)}}),p.jsx("audio",{className:"sync-audio",src:nt(Or.audioUrl),style:{display:"none"}})]}):p.jsx("video",{controls:!0,src:ot(Or.videoUrl),style:{width:"100%",borderRadius:"8px",background:"#000",opacity:ui?0:1},onLoadedData:()=>mi(!1),onCanPlay:()=>mi(!1),onPlay:()=>yi(!0),onPause:()=>yi(!1),onEnded:()=>yi(!1),onError:e=>{Yr({type:"video",url:Or.videoUrl}),mi(!1)}}),Or.videoUrl?.startsWith("http")&&p.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"ðŸ”— External video URL (may expire)"})]}):p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Or.audioUrl&&p.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1))",borderRadius:"12px",padding:"24px",border:"1px solid rgba(139, 92, 246, 0.2)",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",boxShadow:hi?"0 0 20px rgba(139, 92, 246, 0.2)":"none",transition:"all 0.3s ease"},children:[p.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:hi?"linear-gradient(135deg, #8b5cf6, #ec4899)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",animation:hi?"pulse 2s infinite":"none"},children:p.jsx(Y,{size:32,color:hi?"white":"var(--text-secondary)"})}),p.jsx("div",{style:{fontSize:"0.85rem",color:hi?"var(--color-pink)":"var(--text-secondary)",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:hi?"Playing AI Vocal...":"AI Vocal Ready"}),p.jsx("audio",{controls:!0,src:Or.audioUrl,style:{width:"100%",height:"40px"},onPlay:()=>yi(!0),onPause:()=>yi(!1),onEnded:()=>yi(!1)})]}),Fr&&p.jsxs("div",{style:{display:"flex",gap:"4px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"4px"},children:[p.jsxs("button",{onClick:()=>Gr("lyrics"),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",background:"lyrics"===Vr?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"transparent",color:"lyrics"===Vr?"white":"var(--text-secondary)",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[p.jsx(ce,{size:14})," Lyrics"]}),p.jsxs("button",{onClick:()=>Gr("prompt"),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",background:"prompt"===Vr?"linear-gradient(135deg, #3b82f6, #2563eb)":"transparent",color:"prompt"===Vr?"white":"var(--text-secondary)",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[p.jsx(pe,{size:14})," Prompt"]})]}),p.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.8",color:"var(--text-primary)",background:"lyrics"===Vr?"rgba(139, 92, 246, 0.1)":"rgba(59, 130, 246, 0.1)",border:"lyrics"===Vr?"1px solid rgba(139, 92, 246, 0.2)":"1px solid rgba(59, 130, 246, 0.2)",padding:"1.25rem",borderRadius:"12px",maxHeight:"50vh",minHeight:"200px",overflow:"auto",transition:"all 0.2s",fontSize:"1rem",fontFamily:"inherit"},children:"lyrics"===Vr?Or.snippet||Or.title||"No content generated":Fr||"No prompt recorded"})]}):p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:"audio"===qr?.type?p.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[p.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"ðŸŽµ"}),p.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"0.5rem"},children:"Audio Unavailable"}),p.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"This audio file has expired or is no longer available. Replicate URLs are temporary."}),p.jsx("button",{onClick:()=>{Yr(null),_r(null)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.3)",background:"transparent",color:"var(--text-primary)",cursor:"pointer"},children:"Close"})]}):p.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[p.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:hi?"linear-gradient(135deg, #f59e0b, #d97706)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",animation:hi?"pulse 2s infinite":"none",boxShadow:hi?"0 0 30px rgba(245, 158, 11, 0.3)":"none",transition:"all 0.3s ease"},children:p.jsx(O,{size:40,color:hi?"white":"var(--text-secondary)"})}),p.jsx("audio",{controls:!0,src:nt(Or.audioUrl),style:{width:"100%",opacity:ui?0:1},onLoadedData:()=>mi(!1),onCanPlay:()=>mi(!1),onPlay:()=>yi(!0),onPause:()=>yi(!1),onEnded:()=>yi(!1),onError:e=>{Yr({type:"audio",url:Or.audioUrl}),mi(!1)}}),Or.audioUrl?.startsWith("http")&&p.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textAlign:"center"},children:"ðŸ”— External audio URL (may expire)"})]})})]})]})}),p.jsxs("div",{style:{display:"flex",gap:"0.75rem",padding:"1rem 1.5rem",borderTop:"1px solid var(--border-color)",flexShrink:0,flexWrap:"wrap"},children:[!Or.audioUrl&&!Or.imageUrl&&!Or.videoUrl&&(Or.snippet||Or.content)&&p.jsxs("button",{disabled:Rn,onClick:()=>{const e="lyrics"===Vr?Or.snippet||Or.content||"":Fr||"";["rapper","rapper-female","singer","singer-female"].includes(vs.style)?Bn(e,Rt?.name||"AI"):window.speechSynthesis.speaking?window.speechSynthesis.cancel():An(e)},title:["rapper","rapper-female","singer","singer-female"].includes(vs.style)?`Read aloud using AI ${vs.style} voice (takes 30-60 seconds)`:"Read text aloud using browser TTS",style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(34, 211, 238, 0.3)",background:Rn?"rgba(34, 211, 238, 0.3)":"rgba(34, 211, 238, 0.1)",color:"var(--color-cyan)",cursor:Rn?"not-allowed":"pointer",opacity:Rn?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[p.jsx(xe,{size:16,className:Rn?"animate-pulse":""}),Rn?"Creating AI Voice...":"Read Aloud"]}),!Or.audioUrl&&!Or.imageUrl&&!Or.videoUrl&&(Or.snippet||Or.content)&&p.jsxs("button",{onClick:()=>{const e=Or.snippet||Or.content||"";Bn(e,Rt?.name||"Ghostwriter")},disabled:Rn,title:"Create AI vocal using rapper voices (Uberduck/Replicate)",style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(236, 72, 153, 0.3)",background:Rn?"rgba(236, 72, 153, 0.3)":"rgba(236, 72, 153, 0.1)",color:"var(--color-pink)",cursor:Rn?"not-allowed":"pointer",opacity:Rn?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[p.jsx(Y,{size:16,className:Rn?"animate-pulse":""}),Rn?"Creating...":"Create Vocal"]}),Or.isExistingAsset?p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{const e=Or.snippet||Or.content||"";e?(navigator.clipboard.writeText(e),c.success("Copied to clipboard!")):(Or.imageUrl||Or.audioUrl||Or.videoUrl)&&(navigator.clipboard.writeText(Or.imageUrl||Or.audioUrl||Or.videoUrl),c.success("URL copied to clipboard!"))},style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[p.jsx(ge,{size:16})," Copy"]}),p.jsxs("button",{onClick:()=>_r(null),style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[p.jsx(L,{size:16})," Close"]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("button",{onClick:()=>{_r(null),Hr(""),pi(!1),gi("")},disabled:Jr,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-secondary)",cursor:Jr?"not-allowed":"pointer",opacity:Jr?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[p.jsx(ue,{size:16})," Discard"]}),p.jsxs("button",{onClick:()=>{if(!Fr)return void c.error("No prompt to regenerate");_r(null);const e=Cn.current||document.querySelector(".studio-textarea");e&&(e.value=Fr),$n()},disabled:Kr||Jr,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-primary)",cursor:Kr||Jr?"not-allowed":"pointer",opacity:Kr||Jr?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[p.jsx(me,{size:16,className:Kr?"animate-spin":""}),Kr?"Generating...":"Regenerate"]}),p.jsx("button",{onClick:()=>En("project_canvas"),disabled:Jr,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:Jr?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.1)",color:"var(--color-purple)",cursor:Jr?"not-allowed":"pointer",opacity:Jr?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:Jr?p.jsxs(p.Fragment,{children:[p.jsx(me,{size:16,className:"animate-spin"})," Syncing..."]}):p.jsxs(p.Fragment,{children:[p.jsx(pe,{size:16})," Edit"]})}),p.jsx("button",{onClick:()=>pi(!0),disabled:Jr,className:"cta-button-premium",style:{flex:1.5,padding:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:Jr?.8:1,cursor:Jr?"wait":"pointer"},children:Jr?p.jsxs(p.Fragment,{children:[p.jsx(me,{size:16,className:"animate-spin"}),p.jsx("span",{children:"Syncing to Cloud..."})]}):p.jsxs(p.Fragment,{children:[p.jsx(te,{size:16})," Save"]})})]})]})]})})}),p.jsx(d.Suspense,{fallback:p.jsx(vt,{}),children:p.jsx(ct,{isOpen:hr,onClose:()=>yr(!1),authToken:Vt,existingProject:Ms,onSaveToProject:e=>{Date.now();const t=sr.findIndex(t=>t.id===e.id);if(t>=0){const r=sr[t],s=new Set((r.assets||[]).map(e=>e.id)),i=(e.assets||[]).filter(e=>!s.has(e.id)),a={...r,...e,assets:[...r.assets||[],...i],updatedAt:(new Date).toISOString()},n=[...sr];n[t]=a,ir(n),Os(a),$t&&Wt&&ur(Wt.uid,a)}},onCreateProject:e=>{Date.now();const t=sr.findIndex(t=>t.id===e.id);let r;if(t>=0){const s=sr[t],i=new Set((s.assets||[]).map(e=>e.id)),a=(e.assets||[]).filter(e=>!i.has(e.id));r={...s,...e,assets:[...s.assets||[],...a],updatedAt:(new Date).toISOString()};const n=[...sr];n[t]=r,ir(n)}else r={...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},ir(e=>[r,...e]);Os(r),$t&&Wt&&ur(Wt.uid,r).then(e=>{}).catch(e=>{}),Fs(!0),c.success(`Project "${r.name}" saved with ${r.assets?.length||0} assets!`)},onUpdateCreations:(e,t)=>{si(r=>({...r,[e]:t}))}})}),Jt&&p.jsx("div",{className:"modal-overlay",onClick:()=>{Qt(!1),Ns(null),ca("login"),xa(""),ua("")},onTouchEnd:()=>{Qt(!1),Ns(null)},children:p.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{maxWidth:"400px"},children:[p.jsx("button",{className:"modal-close",onClick:()=>{Qt(!1),Ns(null),ca("login")},onTouchEnd:e=>{e.preventDefault(),Qt(!1),Ns(null)},children:p.jsx(L,{size:20})}),p.jsxs("div",{className:"modal-header",children:[p.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem"},children:p.jsx(N,{size:24,color:"white"})}),p.jsx("h2",{children:"reset"===da?"Reset Password":"signup"===da?"Create Account":Ss?"Complete Your Subscription":"Welcome Back"}),p.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"reset"===da?"Enter your email to receive a reset link.":Ss?`Sign in to activate ${Ss.name} (${Ss.price}${Ss.period||""}).`:"signup"===da?"Create an account to save your work.":"Sign in to access your studio."})]}),p.jsxs("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:["reset"!==da&&p.jsxs("button",{className:"cta-button-premium",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:ja,disabled:ma,children:[p.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:[p.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),p.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),p.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),p.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),ma?"Signing in...":"Continue with Google"]}),"reset"!==da&&p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",margin:"0.5rem 0"},children:[p.jsx("div",{style:{flex:1,height:"1px",background:"var(--border-color)"}}),p.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"or"}),p.jsx("div",{style:{flex:1,height:"1px",background:"var(--border-color)"}})]}),p.jsxs("form",{onSubmit:wa,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[p.jsx("input",{type:"email",placeholder:"Email address",value:pa,onChange:e=>xa(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text-primary)",fontSize:"0.875rem"},required:!0}),"reset"!==da&&p.jsx("input",{type:"password",placeholder:"Password",value:ga,onChange:e=>ua(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text-primary)",fontSize:"0.875rem"},required:!0,minLength:6}),"reset"===da?p.jsx("button",{type:"button",className:"cta-button-secondary",style:{width:"100%"},onClick:ka,disabled:ma,children:ma?"Sending...":"Send Reset Link"}):p.jsxs("button",{type:"submit",className:"cta-button-secondary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},disabled:ma,children:[p.jsx(C,{size:16}),ma?"Please wait...":"signup"===da?"Create Account":"Sign In with Email"]})]}),p.jsxs("div",{style:{textAlign:"center",marginTop:"0.5rem"},children:["login"===da&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>ca("reset"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontSize:"0.8rem"},children:"Forgot password?"}),p.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginTop:"0.5rem"},children:["Don't have an account?"," ",p.jsx("button",{onClick:()=>ca("signup"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"Sign up"})]})]}),"signup"===da&&p.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:["Already have an account?"," ",p.jsx("button",{onClick:()=>ca("login"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"Sign in"})]}),"reset"===da&&p.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:p.jsx("button",{onClick:()=>ca("login"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"â† Back to sign in"})})]})]}),p.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",marginTop:"1rem"},children:p.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-tertiary)",textAlign:"center"},children:"By continuing, you agree to our Terms of Service."})})]})}),Kt&&p.jsx("div",{className:"modal-overlay",onClick:()=>Xt(!1),children:p.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),style:{maxWidth:"900px",width:"95%",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"16px",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("div",{style:{background:"linear-gradient(135deg, #06b6d4, #8b5cf6)",padding:"12px",borderRadius:"12px"},children:p.jsx(ce,{size:24,color:"white"})}),p.jsxs("div",{children:[p.jsx("h2",{style:{margin:0,fontSize:"1.4rem"},children:"Agent Whitepapers"}),p.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Technical documentation for each AI agent"})]})]}),p.jsx("button",{className:"modal-close",onClick:()=>Xt(!1),children:p.jsx(L,{size:20})})]}),p.jsx("div",{className:"modal-body",style:{overflowY:"auto",padding:"24px",flex:1},children:p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:"16px"},children:t.map(e=>{const t=e.icon,r="free"===e.tier?"#22c55e":"monthly"===e.tier?"#fbbf24":"#a855f7";return p.jsxs("div",{className:"resource-card whitepaper haptic-press",style:{padding:"20px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"16px",cursor:"pointer",position:"relative"},onClick:()=>{Xt(!1),(e=>{Ks({key:e.id,icon:e.icon,title:e.name,subtitle:e.category,description:e.explanation||e.description,whoFor:e.helpTips||`Artists and creators looking to leverage AI for ${e.category.toLowerCase()}.`,howTo:e.howToUse||e.howTo||`Enter your prompt and let ${e.name} generate results instantly.`})})(e)},children:[p.jsx("div",{style:{position:"absolute",top:"12px",right:"12px",padding:"3px 8px",background:`${r}20`,color:r,borderRadius:"6px",fontSize:"0.65rem",fontWeight:"700",textTransform:"uppercase"},children:e.tier}),p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:`${r}20`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"12px"},children:p.jsx(t,{size:24,style:{color:r}})}),p.jsx("h3",{style:{fontSize:"1rem",fontWeight:"700",marginBottom:"6px"},children:e.name}),p.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",lineHeight:"1.4",marginBottom:"12px"},children:e.description||e.desc}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#06b6d4",fontSize:"0.8rem",fontWeight:"600"},children:[p.jsx(ce,{size:14}),"View Whitepaper"]})]},e.id)})})})]})}),Zt&&p.jsx("div",{className:"modal-overlay",onClick:()=>er(!1),children:p.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),style:{maxWidth:"900px",width:"95%",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"16px",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx("div",{style:{background:"linear-gradient(135deg, #8b5cf6, #ec4899)",padding:"12px",borderRadius:"12px"},children:p.jsx(he,{size:24,color:"white"})}),p.jsxs("div",{children:[p.jsx("h2",{style:{margin:0,fontSize:"1.4rem"},children:"Legal & Business"}),p.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.85rem"},children:"Protect your art. Understand your rights."})]})]}),p.jsx("button",{className:"modal-close",onClick:()=>er(!1),children:p.jsx(L,{size:20})})]}),p.jsx("div",{className:"modal-body",style:{overflowY:"auto",padding:"24px",flex:1},children:p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:[{title:"Music Copyright 101",desc:"Understanding your rights as a creator - ownership, registration, and protection.",icon:he,type:"Guide"},{title:"Split Sheet Template",desc:"Standard agreement for co-writing sessions. Define ownership before you create.",icon:ce,type:"Template"},{title:"Sync Licensing Guide",desc:"Step-by-step guide to getting your music placed in TV, Film & Ads.",icon:ye,type:"Guide"},{title:"AI & IP Rights",desc:"Navigating the legal landscape of AI-assisted music creation.",icon:be,type:"Whitepaper"},{title:"Label Deal Breakdown",desc:"Understanding record deals, advances, recoupment, and points.",icon:ce,type:"Guide"},{title:"Publishing 101",desc:"PROs, mechanical royalties, sync fees, and how to collect what you are owed.",icon:ve,type:"Guide"}].map((e,t)=>p.jsxs("div",{className:"resource-card legal haptic-press",style:{padding:"20px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"16px",cursor:"pointer",position:"relative"},onClick:()=>{er(!1),zt("resources"),c.success(`Opening ${e.title}...`)},children:[p.jsx("div",{style:{position:"absolute",top:"12px",right:"12px",padding:"3px 8px",background:"Whitepaper"===e.type?"rgba(168, 85, 247, 0.2)":"rgba(6, 182, 212, 0.2)",color:"Whitepaper"===e.type?"#a855f7":"#06b6d4",borderRadius:"6px",fontSize:"0.65rem",fontWeight:"700",textTransform:"uppercase"},children:e.type}),p.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"rgba(139, 92, 246, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"12px"},children:p.jsx(e.icon,{size:24,style:{color:"#a855f7"}})}),p.jsx("h3",{style:{fontSize:"1rem",fontWeight:"700",marginBottom:"6px"},children:e.title}),p.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",lineHeight:"1.4",marginBottom:"12px"},children:e.desc}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#a855f7",fontSize:"0.8rem",fontWeight:"600"},children:[p.jsx(he,{size:14}),"Read ",e.type]})]},t))})})]})}),pn&&p.jsx("div",{className:"modal-overlay",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>{xn(!1),hn(null)},onTouchEnd:()=>{xn(!1),hn(null)},children:p.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 700px)",width:"100%",margin:"1rem auto",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",flexShrink:0},children:[p.jsxs("div",{className:"modal-title-group",children:[p.jsx("div",{className:"agent-mini-icon",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",color:"white"},children:p.jsx(ve,{size:20})}),p.jsx("h2",{style:{margin:0},children:mn?"Edit Payment Method":"Payment Methods"})]}),p.jsx("button",{className:"modal-close",onClick:()=>{xn(!1),hn(null)},onTouchEnd:e=>{e.preventDefault(),xn(!1),hn(null)},children:p.jsx(L,{size:20})})]}),p.jsxs("div",{className:"modal-body",style:{padding:"1.5rem",overflow:"visible",flex:1},children:[!mn&&on.length>0&&p.jsxs("div",{style:{marginBottom:"1.5rem"},children:[p.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Saved Cards"}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:on.map((e,t)=>p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",transition:"all 0.2s ease"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[p.jsx("div",{style:{width:"48px",height:"32px",background:"visa"===e.brand?"linear-gradient(135deg, #1a1f71, #00579f)":"mastercard"===e.brand?"linear-gradient(135deg, #eb001b, #f79e1b)":"linear-gradient(135deg, #333, #555)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.6rem",fontWeight:"bold",textTransform:"uppercase"},children:e.brand||"Card"}),p.jsxs("div",{children:[p.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:["â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ ",e.last4]}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Expires ",e.expiry]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[p.jsxs("button",{onClick:()=>{hn({item:e,type:"card"}),bn("card")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(pe,{size:14})," Edit"]}),p.jsx("button",{onClick:()=>{ln(t=>t.filter(t=>t.id!==e.id)),c.success("Card removed")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:p.jsx(ue,{size:14})})]})]},e.id||t))})]}),!mn&&dn.length>0&&p.jsxs("div",{style:{marginBottom:"1.5rem"},children:[p.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Bank Accounts"}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:dn.map((e,t)=>p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",transition:"all 0.2s ease"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[p.jsx("div",{style:{width:"48px",height:"32px",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:p.jsx(fe,{size:16})}),p.jsxs("div",{children:[p.jsx("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:e.bankName}),p.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[e.type," â€¢â€¢â€¢â€¢ ",e.last4]})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[p.jsxs("button",{onClick:()=>{hn({item:e,type:"bank"}),bn("bank")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(pe,{size:14})," Edit"]}),p.jsx("button",{onClick:()=>{cn(t=>t.filter(t=>t.id!==e.id)),c.success("Bank account removed")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:p.jsx(ue,{size:14})})]})]},e.id||t))})]}),p.jsxs("div",{children:[!mn&&p.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Add New Payment Method"}),p.jsxs("div",{className:"modal-tabs",style:{marginBottom:"1rem"},children:[p.jsxs("button",{className:"modal-tab "+("card"===yn?"active":""),onClick:()=>bn("card"),disabled:!!mn,style:{flex:1},children:[p.jsx(ve,{size:16,style:{marginRight:"6px"}})," Card"]}),p.jsxs("button",{className:"modal-tab "+("bank"===yn?"active":""),onClick:()=>bn("bank"),disabled:!!mn,style:{flex:1},children:[p.jsx(fe,{size:16,style:{marginRight:"6px"}})," Bank"]})]}),"card"===yn?p.jsxs("form",{className:"payment-form",onSubmit:Wn,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Cardholder Name"}),p.jsx("input",{type:"text",name:"cardName",placeholder:"Name on card",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Card Number"}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx(ve,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),p.jsx("input",{type:"text",name:"cardNumber",placeholder:"0000 0000 0000 0000",defaultValue:mn?`**** **** **** ${mn.item.last4}`:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.75rem"},children:[p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Expiry"}),p.jsx("input",{type:"text",name:"expiry",placeholder:"MM/YY",defaultValue:mn?mn.item.expiry:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"CVC"}),p.jsx("input",{type:"text",name:"cvc",placeholder:"123",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Zip"}),p.jsx("input",{type:"text",name:"zip",placeholder:"10001",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[mn&&p.jsx("button",{type:"button",className:"cta-button-secondary",style:{flex:1},onClick:()=>hn(null),children:"Cancel"}),p.jsx("button",{type:"submit",className:"cta-button-premium",style:{flex:1},children:mn?"Update Card":"Add Card"})]})]}):p.jsxs("form",{className:"payment-form",onSubmit:Wn,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Account Holder Name"}),p.jsx("input",{type:"text",name:"accountName",placeholder:"Full Name",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Bank Name"}),p.jsxs("div",{style:{position:"relative"},children:[p.jsx(fe,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),p.jsx("input",{type:"text",name:"bankName",placeholder:"e.g. Chase, Wells Fargo",defaultValue:mn?mn.item.bankName:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Routing Number"}),p.jsx("input",{type:"text",name:"routingNumber",placeholder:"9 digits",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),p.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[p.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Account Number"}),p.jsx("input",{type:"text",name:"accountNumber",placeholder:"Account Number",defaultValue:mn?`****${mn.item.last4}`:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),p.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[mn&&p.jsx("button",{type:"button",className:"cta-button-secondary",style:{flex:1},onClick:()=>hn(null),children:"Cancel"}),p.jsx("button",{type:"submit",className:"cta-button-premium",style:{flex:1},children:mn?"Update Account":"Link Account"})]})]})]})]}),p.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--glass-border)",padding:"1rem 1.5rem",flexShrink:0},children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"var(--text-secondary)",fontSize:"0.8rem"},children:[p.jsx(be,{size:14}),p.jsx("span",{children:"256-bit encryption â€¢ Secured by Stripe"})]})})]})}),p.jsxs("nav",{className:"bottom-nav",children:[p.jsxs("div",{className:"bottom-nav-item "+("agents"===Nt?"active":""),onClick:()=>{zt("agents"),Ut(null)},role:"button",tabIndex:0,children:[p.jsx(I,{size:22}),p.jsx("span",{children:"Team"})]}),p.jsxs("div",{className:"bottom-nav-item "+("hub"===Nt?"active":""),onClick:()=>{zt("hub"),Ut(null)},role:"button",tabIndex:0,children:[p.jsx(T,{size:22}),p.jsx("span",{children:"Projects"})]}),p.jsx("div",{className:"bottom-nav-item create-btn",onClick:()=>Hi(!0),role:"button",tabIndex:0,children:p.jsx("div",{style:{background:"var(--color-purple)",width:"52px",height:"52px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 16px rgba(124, 58, 237, 0.5)",marginTop:"-20px",border:"3px solid var(--color-bg-primary)"},children:p.jsx(oe,{size:26,color:"white"})})}),p.jsxs("div",{className:"bottom-nav-item "+("mystudio"===Nt?"active":""),onClick:()=>{zt("mystudio"),Ut(null)},role:"button",tabIndex:0,children:[p.jsx(z,{size:22}),p.jsx("span",{children:"Studio"})]}),p.jsxs("div",{className:"bottom-nav-item "+("more"===Nt?"active":""),onClick:()=>{zt("more"),Ut(null)},role:"button",tabIndex:0,children:[p.jsx(je,{size:22}),p.jsx("span",{children:"More"})]})]})]}),"maintenance"===Ji.status&&!ei&&p.jsx("div",{className:"modal-overlay",style:{zIndex:9999,backdropFilter:"blur(10px)",background:"rgba(0,0,0,0.85)"},children:p.jsxs("div",{className:"modal-content animate-fadeInUp",style:{textAlign:"center",border:"1px solid var(--color-red)",position:"relative"},children:[p.jsx("button",{onClick:()=>ti(!0),style:{position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"4px"},"aria-label":"Dismiss maintenance message",children:p.jsx(L,{size:20})}),p.jsx("div",{className:"logo-box",style:{width:"64px",height:"64px",margin:"0 auto 1.5rem",background:"rgba(239, 68, 68, 0.1)"},children:p.jsx(we,{size:32,color:"var(--color-red)"})}),p.jsx("h2",{style:{color:"var(--color-red)",marginBottom:"1rem"},children:"System Maintenance"}),p.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:["The Studio is currently undergoing critical updates or experiencing connectivity issues.",p.jsx("br",{}),"Please check back in a few minutes."]}),p.jsxs("div",{style:{padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"8px",fontSize:"0.85rem",fontFamily:"monospace"},children:["Status: ",Ji.details||"Backend Unreachable"]}),p.jsxs("button",{className:"cta-button-secondary",style:{marginTop:"2rem",width:"100%"},onClick:()=>window.location.reload(),children:[p.jsx(me,{size:16,style:{marginRight:"8px"}})," Retry Connection"]})]})}),gn&&p.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>un(!1),children:p.jsxs("div",{className:"modal-content credits-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 560px)",width:"100%",margin:"1rem auto",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",flexShrink:0},children:[p.jsxs("div",{className:"modal-title-group",children:[p.jsx("div",{className:"agent-mini-icon",style:{background:"linear-gradient(135deg, #facc15, #f59e0b)",color:"#000"},children:p.jsx(re,{size:20,fill:"currentColor"})}),p.jsxs("div",{children:[p.jsx("h2",{style:{margin:0},children:"Studio Credits"}),p.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Balance: ",p.jsxs("strong",{style:{color:"#facc15"},children:[ya," credits"]})]})]})]}),p.jsx("button",{className:"modal-close",onClick:()=>un(!1),children:p.jsx(L,{size:20})})]}),p.jsxs("div",{className:"modal-body",style:{padding:"1.25rem",flex:1},children:[p.jsxs("div",{style:{marginBottom:"1.25rem"},children:[p.jsx("h4",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Quick Add Credits"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem"},children:[{amount:5,price:"$0.99"},{amount:25,price:"$3.99"},{amount:50,price:"$6.99"},{amount:100,price:"$9.99"}].map(({amount:e,price:t})=>p.jsxs("button",{onClick:()=>{ba(t=>t+e),c.success(`+${e} credits added!`)},style:{padding:"0.75rem 0.5rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"10px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"2px",transition:"all 0.2s ease",color:"var(--text-primary)"},onMouseOver:e=>{e.currentTarget.style.borderColor="#facc15",e.currentTarget.style.background="rgba(250, 204, 21, 0.1)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--glass-border)",e.currentTarget.style.background="var(--glass-bg)"},children:[p.jsxs("span",{style:{fontWeight:"bold",fontSize:"1.1rem",color:"#facc15"},children:["+",e]}),p.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:t})]},e))})]}),p.jsxs("div",{style:{marginBottom:"1rem"},children:[p.jsx("h4",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Credit Costs"}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[{action:"Create Project",cost:2,icon:T},{action:"Text Generation",cost:5,icon:ce},{action:"Image Generation",cost:15,icon:dt},{action:"Audio Processing",cost:25,icon:O}].map(({action:e,cost:t,icon:r})=>p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.6rem 0.75rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"8px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem"},children:[p.jsx(r,{size:16,style:{color:"var(--text-secondary)"}}),p.jsx("span",{style:{fontSize:"0.9rem"},children:e})]}),p.jsxs("span",{style:{fontWeight:"600",color:"#facc15",fontSize:"0.9rem"},children:[t," credits"]})]},e))})]}),p.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(250, 204, 21, 0.08)",border:"1px solid rgba(250, 204, 21, 0.2)",borderRadius:"10px",display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[p.jsx(N,{size:18,style:{color:"#facc15",flexShrink:0,marginTop:"2px"}}),p.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[p.jsx("strong",{style:{color:"var(--text-primary)"},children:"Pro Tip:"})," Credits are used when you create projects or generate content with any agent."]})]})]}),p.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--glass-border)",padding:"1rem 1.25rem",flexShrink:0,display:"flex",gap:"0.75rem"},children:[p.jsxs("button",{className:"cta-button-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{un(!1),Na("billing"),zt("mystudio")},children:[p.jsx(oe,{size:18,style:{marginRight:"6px"}})," Add Credits"]}),p.jsxs("button",{className:"cta-button-premium",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{un(!1),Hi(!0)},children:[p.jsx(ke,{size:18,style:{marginRight:"6px"}})," Create Project"]})]})]})}),Vi&&p.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Gi(!1),style:{display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsxs("div",{className:"modal-content project-wizard-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px",width:"100%",margin:"0 12px",boxSizing:"border-box",maxHeight:"none",overflow:"visible"},children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("div",{className:"modal-title-group",children:[p.jsx("div",{className:"agent-mini-icon bg-purple",children:p.jsx(ke,{size:20})}),p.jsx("h2",{children:"Create New Project"})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[p.jsx("button",{className:"btn-text",onClick:()=>(e=>{if(("number"==typeof ya?ya:0)<2)return c.error("Not enough credits. You need 2 credits to create a project."),void un(!0);const t={id:String(Date.now()),name:`Untitled Project ${sr.length+1}`,category:"music",description:"Quick start project",agents:[],workflow:"custom",date:(new Date).toLocaleDateString(),status:"Active",progress:0,assets:[],context:{}};ba(e=>e-2),c.success("Quick project created! -2 credits",{icon:"âœ¨"}),ir(e=>[t,...e]),Os(t),Wt&&ur(Wt.uid,t).catch(e=>{}),Gi(!1),Yi(1),zt(e),Zi("Quick project created.")})("agents"),style:{fontSize:"0.9rem",color:"var(--text-secondary)",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Skip Wizard"}),p.jsx("button",{className:"modal-close",onClick:()=>Gi(!1),children:p.jsx(L,{size:20})})]})]}),p.jsxs("div",{className:"modal-body",style:{padding:"24px"},children:[p.jsx("div",{className:"wizard-progress",style:{display:"flex",gap:"8px",marginBottom:"24px"},children:[1,2,3].map(e=>p.jsx("div",{style:{flex:1,height:"4px",background:e<=qi?"var(--color-purple)":"var(--color-bg-tertiary)",borderRadius:"2px",transition:"all 0.3s ease"}},e))}),1===qi&&p.jsxs("div",{className:"wizard-step animate-slideIn",children:[p.jsx("h3",{style:{marginBottom:"16px"},children:"Define Your Vision"}),p.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Project Name"}),p.jsx("input",{type:"text",className:"search-input",placeholder:"e.g. Summer Vibes 2025",value:ea.name,onChange:e=>ta({...ea,name:e.target.value}),autoFocus:!0,style:{width:"100%",padding:"12px",fontSize:"1rem"}})]}),p.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[p.jsxs("div",{style:{flex:1},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Language"}),p.jsx("select",{value:ea.language,onChange:e=>ta({...ea,language:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["English","Spanish","French","German","Japanese","Korean","Portuguese","Italian","Chinese"].map(e=>p.jsx("option",{value:e,children:e},e))})]}),p.jsxs("div",{style:{flex:1},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Style / Genre"}),p.jsx("select",{value:ea.style,onChange:e=>ta({...ea,style:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["Modern Hip-Hop","90s Boom Bap","Trap","R&B / Soul","Pop","Rock","Electronic","Cinematic","Jazz","Lo-Fi"].map(e=>p.jsx("option",{value:e,children:e},e))})]}),p.jsxs("div",{style:{flex:1},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"AI Model"}),p.jsx("select",{value:ea.model,onChange:e=>ta({...ea,model:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["Gemini 2.0 Flash","Gemini 2.0 Pro (Exp)","Gemini 1.5 Flash","Gemini 1.5 Pro"].map(e=>p.jsx("option",{value:e,children:e},e))})]})]}),p.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[p.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Project Category"}),p.jsx("div",{className:"category-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:ra.map(e=>p.jsxs("div",{className:"category-card haptic-press "+(ea.category===e.id?"selected":""),onClick:()=>ta({...ea,category:e.id}),style:{padding:"12px",background:ea.category===e.id?"rgba(168, 85, 247, 0.1)":"var(--color-bg-tertiary)",border:ea.category===e.id?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[p.jsx(e.icon,{size:20,style:{color:e.color}}),p.jsx("div",{children:p.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:e.label})})]},e.id))})]}),"social"===ea.category&&p.jsxs("div",{className:"social-inputs animate-fadeIn",style:{marginBottom:"24px",padding:"16px",background:"rgba(6, 182, 212, 0.05)",borderRadius:"12px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:[p.jsxs("h4",{style:{marginBottom:"12px",color:"var(--color-cyan)",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(F,{size:16})," Social Profile Setup"]}),p.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[p.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Platform Focus"}),p.jsx("div",{style:{display:"flex",gap:"8px"},children:["instagram","tiktok","youtube","twitter"].map(e=>p.jsx("button",{className:"platform-btn "+(ea.socialPlatform===e?"active":""),onClick:()=>ta({...ea,socialPlatform:e}),style:{flex:1,padding:"8px",borderRadius:"8px",border:ea.socialPlatform===e?"1px solid var(--color-cyan)":"1px solid var(--border-color)",background:ea.socialPlatform===e?"rgba(6, 182, 212, 0.1)":"transparent",color:ea.socialPlatform===e?"var(--color-cyan)":"var(--text-secondary)",textTransform:"capitalize",fontSize:"0.85rem",cursor:"pointer"},children:e},e))})]}),p.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[p.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Handle / Username"}),p.jsx("input",{type:"text",className:"search-input",placeholder:"@yourname",value:ea.socialHandle,onChange:e=>ta({...ea,socialHandle:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"0.9rem"}})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Bio / Vibe"}),p.jsx("textarea",{className:"search-input",placeholder:"Describe your brand voice...",value:ea.socialBio,onChange:e=>ta({...ea,socialBio:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"0.9rem",minHeight:"60px",resize:"vertical"}})]})]})]}),2===qi&&p.jsxs("div",{className:"wizard-step animate-slideIn",children:[p.jsx("h3",{style:{marginBottom:"16px"},children:"Choose Your Workflow"}),p.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"16px",fontSize:"0.9rem"},children:"How do you want to work? Select a preset workflow or build your own team."}),p.jsxs("div",{className:"workflow-presets",style:{display:"grid",gap:"12px",marginBottom:"24px"},children:[p.jsxs("div",{className:"workflow-card haptic-press "+("full_song"===ea.workflow?"selected":""),onClick:()=>ta({...ea,workflow:"full_song",selectedAgents:["ghost","beat","album"]}),style:{padding:"16px",background:"full_song"===ea.workflow?"rgba(168, 85, 247, 0.15)":"var(--color-bg-tertiary)",border:"full_song"===ea.workflow?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[p.jsx("div",{style:{background:"var(--color-purple)",padding:"10px",borderRadius:"50%",color:"white"},children:p.jsx(O,{size:20})}),p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Full Song Creation"}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Lyrics â†’ Beat â†’ Cover Art"})]}),"full_song"===ea.workflow&&p.jsx(Ce,{size:20,className:"text-purple"})]}),p.jsxs("div",{className:"workflow-card haptic-press "+("social_promo"===ea.workflow?"selected":""),onClick:()=>ta({...ea,workflow:"social_promo",selectedAgents:["video-creator","trend","collab","social"]}),style:{padding:"16px",background:"social_promo"===ea.workflow?"rgba(6, 182, 212, 0.15)":"var(--color-bg-tertiary)",border:"social_promo"===ea.workflow?"1px solid var(--color-cyan)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[p.jsx("div",{style:{background:"var(--color-cyan)",padding:"10px",borderRadius:"50%",color:"white"},children:p.jsx(F,{size:20})}),p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Social Promotion"}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Video â†’ Trends â†’ Social Pilot"})]}),"social_promo"===ea.workflow&&p.jsx(Ce,{size:20,className:"text-cyan"})]}),p.jsxs("div",{className:"workflow-card haptic-press "+("custom"===ea.workflow?"selected":""),onClick:()=>ta({...ea,workflow:"custom",selectedAgents:[]}),style:{padding:"16px",background:"custom"===ea.workflow?"rgba(255, 255, 255, 0.1)":"var(--color-bg-tertiary)",border:"custom"===ea.workflow?"1px solid var(--text-secondary)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[p.jsx("div",{style:{background:"var(--text-secondary)",padding:"10px",borderRadius:"50%",color:"var(--color-bg-primary)"},children:p.jsx(ze,{size:20})}),p.jsxs("div",{style:{flex:1},children:[p.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Custom Team"}),p.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Manually select your agents"})]}),"custom"===ea.workflow&&p.jsx(Ce,{size:20,className:"text-white"})]})]}),"custom"===ea.workflow&&p.jsx("div",{className:"agents-grid-selection animate-fadeIn",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"12px"},children:t.map(e=>{const t=ea.selectedAgents?.includes(e.id);return p.jsxs("div",{className:"agent-select-card haptic-press "+(t?"selected":""),onClick:()=>{const t=ea.selectedAgents||[],r=t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id];ta({...ea,selectedAgents:r})},style:{padding:"12px",background:t?"rgba(168, 85, 247, 0.15)":"var(--color-bg-tertiary)",border:t?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px",transition:"all 0.2s ease",position:"relative"},children:[p.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:t?"var(--color-purple)":"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:t?"white":"var(--text-secondary)"},children:p.jsx(e.icon,{size:16})}),p.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"500"},children:e.name}),t&&p.jsx(Ce,{size:14,className:"text-purple",style:{position:"absolute",top:"8px",right:"8px"}})]},e.id)})})]}),3===qi&&p.jsxs("div",{className:"wizard-step animate-slideIn",children:[p.jsx("h3",{style:{marginBottom:"16px"},children:"Ready to Launch?"}),p.jsxs("div",{className:"review-card",style:{padding:"24px",background:"var(--color-bg-tertiary)",borderRadius:"16px",textAlign:"center"},children:[p.jsx("div",{style:{width:"64px",height:"64px",background:"var(--color-bg-secondary)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:p.jsx(ke,{size:32,className:"text-purple"})}),p.jsx("h2",{style:{marginBottom:"8px"},children:ea.name}),p.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:[ra.find(e=>e.id===ea.category)?.label," â€¢ ",(new Date).toLocaleDateString()]}),p.jsxs("div",{className:"selected-team-preview",style:{display:"flex",justifyContent:"center",gap:"8px",flexWrap:"wrap",marginBottom:"24px"},children:[(ea.selectedAgents||[]).map(e=>{const r=t.find(t=>t.id===e||t.name===e);return r?p.jsx("div",{title:r.name,style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--color-bg-primary)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--color-border)"},children:p.jsx(r.icon,{size:16})},e):null}),0===(ea.selectedAgents||[]).length&&p.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"No specific agents selected"})]}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Your studio environment is being prepared."})]})]})]}),p.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"},children:[qi>1?p.jsx("button",{className:"btn-ghost",onClick:()=>Yi(e=>e-1),children:"Back"}):p.jsx("div",{}),qi<3?p.jsx("button",{className:"cta-button-premium",disabled:1===qi&&(!ea.name||!ea.category)||2===qi&&!ea.workflow,onClick:()=>Yi(e=>e+1),children:"Next Step"}):p.jsx("button",{className:"cta-button-premium",onClick:()=>{if(!ea.name||!ea.category)return void c.error("Please fill in project name and category");if(("number"==typeof ya?ya:0)<2)return c.error("Not enough credits. You need 2 credits to create a project."),void un(!0);const e={id:String(Date.now()),name:ea.name,category:ea.category,description:ea.description||"",language:ea.language||"English",style:ea.style||"Modern Hip-Hop",model:ea.model||"Gemini 2.0 Flash",agents:ea.selectedAgents||[],workflow:ea.workflow||"custom",socialHandle:ea.socialHandle||"",socialBio:ea.socialBio||"",socialPlatform:ea.socialPlatform||"instagram",date:(new Date).toLocaleDateString(),status:"Active",progress:0,assets:[],context:{}};ba(e=>e-2),ir(t=>[e,...t]),Os(e),$t&&Wt&&ur(Wt.uid,e).then(e=>{}).catch(e=>{}),c.success("Project created! -2 credits",{icon:"âœ¨"}),Gi(!1),Yi(1),a.projectCreated(e.category),ta({name:"",category:"",description:"",selectedAgents:[],workflow:"",socialHandle:"",socialBio:"",socialPlatform:"instagram"}),Zi(`Project ${e.name} created. Loading your production checklist.`),zt("mystudio")},children:"Create Project"})]})]})}),Hs&&p.jsx("div",{className:"modal-overlay animate-fadeIn",style:{zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsxs("div",{className:"modal-content onboarding-modal",style:{maxWidth:"500px",width:"90%",padding:"40px",textAlign:"center"},children:[p.jsx("button",{onClick:()=>{localStorage.setItem("studio_onboarding_v3","true"),Vs(!1),zt("agents")},style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",padding:0},children:p.jsx(L,{size:20})}),p.jsxs("div",{style:{marginBottom:"32px"},children:[p.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"ðŸŽ§"}),p.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"12px"},children:jt[0].title}),p.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-primary)",marginBottom:"8px",lineHeight:"1.6"},children:jt[0].content}),p.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-secondary)"},children:jt[0].detail})]}),p.jsx("button",{className:"cta-button-premium",onClick:()=>{localStorage.setItem("studio_onboarding_v3","true"),Vs(!1),zt("agents"),Zi("Welcome to your studio. Pick an agent to start creating.")},style:{width:"100%",padding:"16px",fontSize:"1.1rem"},children:"Enter Studio â†’"})]})}),Fi&&p.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Hi(!1),style:{zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"550px",width:"90%",padding:"32px"},children:[p.jsx("button",{onClick:()=>Hi(!1),style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",padding:0},children:p.jsx(L,{size:20})}),p.jsxs("div",{style:{textAlign:"center",marginBottom:"28px"},children:[p.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:"Create New Project"}),p.jsx("p",{style:{color:"var(--text-secondary)"},children:"Choose how you want to build your project"})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[p.jsxs("button",{onClick:()=>{Hi(!1),Gi(!0)},style:{display:"flex",alignItems:"flex-start",gap:"16px",padding:"20px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",cursor:"pointer",textAlign:"left",color:"inherit",transition:"all 0.2s ease"},className:"haptic-press",children:[p.jsx("div",{style:{background:"var(--color-purple)",padding:"12px",borderRadius:"12px",color:"white",flexShrink:0},children:p.jsx(ie,{size:24})}),p.jsxs("div",{children:[p.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",color:"var(--text-primary)"},children:"Studio Creation"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Build your project step by step. Choose name, type, and select agents manually."})]})]}),p.jsxs("button",{onClick:()=>{Hi(!1),yr(!0)},style:{display:"flex",alignItems:"flex-start",gap:"16px",padding:"20px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"16px",cursor:"pointer",textAlign:"left",color:"inherit",transition:"all 0.2s ease"},className:"haptic-press",children:[p.jsx("div",{style:{background:"var(--color-cyan)",padding:"12px",borderRadius:"12px",color:"white",flexShrink:0},children:p.jsx(N,{size:24})}),p.jsxs("div",{children:[p.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",color:"var(--text-primary)"},children:"AI Production Pipeline"}),p.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Let AI orchestrate your creative workflow. Describe your vision and get a complete production plan."})]})]})]})]})}),Qs&&p.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Ks(null),style:{zIndex:2e3},children:p.jsxs("div",{className:"modal-content whitepaper-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"1rem",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[p.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-primary)"},children:p.jsx(Qs.icon,{size:22})}),p.jsxs("div",{children:[p.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:Qs.title}),p.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.9rem"},children:Qs.subtitle})]})]}),p.jsx("button",{className:"modal-close",onClick:()=>Ks(null),children:p.jsx(L,{size:20})})]}),p.jsxs("div",{className:"modal-body",style:{padding:"1.25rem",flex:1,overflow:"auto"},children:[p.jsxs("div",{style:{marginBottom:"1.25rem"},children:[p.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--color-purple)",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(N,{size:16})," The Vision"]}),p.jsx("p",{style:{fontSize:"0.95rem",lineHeight:"1.6",color:"var(--text-primary)",margin:0},children:Qs.description})]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[p.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px"},children:[p.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px",fontSize:"0.9rem"},children:[p.jsx(Ie,{size:16,className:"text-cyan"})," Who It's For"]}),p.jsx("p",{style:{fontSize:"0.85rem",lineHeight:"1.5",color:"var(--text-secondary)",margin:0},children:Qs.whoFor})]}),p.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px"},children:[p.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px",fontSize:"0.9rem"},children:[p.jsx(re,{size:18,className:"text-orange"})," How It Works"]}),p.jsx("p",{style:{fontSize:"0.85rem",lineHeight:"1.5",color:"var(--text-secondary)",margin:0},children:Qs.howTo})]})]}),ri[Qs.key]&&Object.values(ri[Qs.key]).some(e=>e)&&p.jsxs("div",{style:{marginBottom:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--glass-border)"},children:[p.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"1rem",fontSize:"0.95rem",color:"var(--color-purple)"},children:[p.jsx(ae,{size:16})," Generated Creations"]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[ri[Qs.key].video&&p.jsxs("div",{style:{background:"rgba(236, 72, 153, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(236, 72, 153, 0.3)"},children:[p.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(236, 72, 153, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽ¬ Video"}),p.jsx("video",{src:ri[Qs.key].video,controls:!0,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",background:"#000"},controlsList:"nodownload"}),p.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e={id:String(Date.now()),title:`${Qs.title} Video`,type:"Video",agent:Qs.title,date:"Just now",color:"agent-pink",snippet:"Generated Video",videoUrl:ri[Qs.key].video};Ms?(aa(Ms.id,e),c.success(`Saved to ${Ms.name}`)):na(`New ${Qs.title} Project`,e)},children:[p.jsx(ie,{size:14})," Save"]})]}),ri[Qs.key].image&&"string"==typeof ri[Qs.key].image&&p.jsxs("div",{style:{background:"rgba(168, 85, 247, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.3)"},children:[p.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(168, 85, 247, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽ¨ Image"}),p.jsx("img",{src:ri[Qs.key].image.startsWith?.("data:")||ri[Qs.key].image.startsWith?.("http")?ri[Qs.key].image:`data:image/png;base64,${ri[Qs.key].image}`,alt:"Generated",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="120" viewBox="0 0 200 120"%3E%3Crect fill="%231a1a2e" width="200" height="120"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-size="12" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}),p.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e=ri[Qs.key]?.image;if(!e||"string"!=typeof e)return;const t=e.startsWith?.("data:")||e.startsWith?.("http")?e:`data:image/png;base64,${e}`,r={id:String(Date.now()),title:`${Qs.title} Image`,type:"Image",agent:Qs.title,date:"Just now",color:"agent-purple",snippet:"Generated Image",imageUrl:t};Ms?(aa(Ms.id,r),c.success(`Saved to ${Ms.name}`)):na(`New ${Qs.title} Project`,r)},children:[p.jsx(ie,{size:14})," Save"]})]}),ri[Qs.key].audio&&p.jsxs("div",{style:{background:"rgba(6, 182, 212, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(6, 182, 212, 0.3)",gridColumn:"span 1"},children:[p.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(6, 182, 212, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽµ Audio"}),p.jsx("audio",{src:ri[Qs.key].audio,controls:!0,style:{width:"100%",height:"32px"},controlsList:"nodownload"}),p.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e={id:String(Date.now()),title:`${Qs.title} Audio`,type:"Audio",agent:Qs.title,date:"Just now",color:"agent-cyan",snippet:"Generated Audio",audioUrl:ri[Qs.key].audio};Ms?(aa(Ms.id,e),c.success(`Saved to ${Ms.name}`)):na(`New ${Qs.title} Project`,e)},children:[p.jsx(ie,{size:14})," Save"]})]})]})]})]}),p.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",display:"flex",justifyContent:"flex-end",flexShrink:0},children:p.jsx("button",{className:"cta-button-premium",onClick:()=>{const e=t.find(e=>e.id===Qs.key);e&&(Ut(e),Ks(null),zt("agents"))},children:"Launch Agent"})})]})}),Xs&&p.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Zs(null),style:{zIndex:2e3},children:p.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"1rem",flexShrink:0},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[p.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-purple)"},children:p.jsx(Xs.icon,{size:22})}),p.jsxs("div",{children:[p.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:Xs.title}),p.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.9rem"},children:Xs.type})]})]}),p.jsx("button",{className:"modal-close",onClick:()=>Zs(null),children:p.jsx(L,{size:20})})]}),p.jsx("div",{className:"modal-body",style:{padding:"1.5rem",flex:1,overflowY:"auto"},children:p.jsx("div",{style:{whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:"0.95rem",lineHeight:"1.7",color:"var(--text-primary)"},dangerouslySetInnerHTML:{__html:Xs.content.replace(/^# (.*$)/gm,'<h1 style="font-size: 1.5rem; margin: 1.5rem 0 1rem; color: var(--text-primary);">$1</h1>').replace(/^## (.*$)/gm,'<h2 style="font-size: 1.2rem; margin: 1.25rem 0 0.75rem; color: var(--color-cyan);">$1</h2>').replace(/^### (.*$)/gm,'<h3 style="font-size: 1rem; margin: 1rem 0 0.5rem; color: var(--color-purple);">$1</h3>').replace(/^\*\*(.*?)\*\*/gm,"<strong>$1</strong>").replace(/^- (.*$)/gm,'<li style="margin-left: 1.5rem; margin-bottom: 0.25rem;">$1</li>').replace(/^\d+\. (.*$)/gm,'<li style="margin-left: 1.5rem; margin-bottom: 0.25rem;">$1</li>').replace(/\n\n/g,"<br/><br/>")}})}),p.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",display:"flex",justifyContent:"flex-end",gap:"12px",flexShrink:0},children:[p.jsx("button",{className:"btn-secondary",onClick:()=>{navigator.clipboard.writeText(Xs.content),c.success("Copied to clipboard!")},children:"Copy Text"}),p.jsx("button",{className:"cta-button-premium",onClick:()=>Zs(null),children:"Done"})]})]})}),ii&&p.jsxs("div",{className:"modal-overlay animate-fadeIn",onClick:()=>{Ci.current&&(Ci.current.pause(),Ci.current.src=""),ai(null),oi(!1)},style:{zIndex:2e3,position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",padding:ni?"0":"20px"},children:[vi.length>1&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:e=>{if(e.stopPropagation(),0===vi.length||Ii.current)return;Ii.current=!0;const t=ji>0?ji-1:vi.length-1;if(t<0||t>=vi.length)return void(Ii.current=!1);const r=vi[t];r?(ai({type:wi(r),url:r.audioUrl||r.videoUrl||r.imageUrl||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:vi,currentIndex:t}),setTimeout(()=>{Ii.current=!1},300)):Ii.current=!1},style:{position:"fixed",left:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",backdropFilter:"blur(8px)",zIndex:2001,transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.4)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",children:p.jsx(Te,{size:24})}),p.jsx("button",{onClick:e=>{if(e.stopPropagation(),0===vi.length||Ii.current)return;Ii.current=!0;const t=ji<vi.length-1?ji+1:0;if(t<0||t>=vi.length)return void(Ii.current=!1);const r=vi[t];r?(ai({type:wi(r),url:r.audioUrl||r.videoUrl||r.imageUrl||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:vi,currentIndex:t}),setTimeout(()=>{Ii.current=!1},300)):Ii.current=!1},style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",backdropFilter:"blur(8px)",zIndex:2001,transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.4)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",children:p.jsx(Ae,{size:24})})]}),p.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:ni?"98vw":"image"===bi.type?"90vw":"85vw",maxHeight:ni?"98vh":"85vh",width:ni?"98vw":"image"===bi.type?"auto":"100%",height:ni?"98vh":"auto",overflow:"hidden",display:"flex",flexDirection:"column",background:"rgba(10,10,15,0.99)",borderRadius:ni?"8px":"16px",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)",transition:"all 0.3s ease"},children:[p.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid rgba(255,255,255,0.1)",padding:"1rem 1.5rem",flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[p.jsxs("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"image"===bi.type?"rgba(236, 72, 153, 0.2)":"video"===bi.type?"rgba(6, 182, 212, 0.2)":"audio"===bi.type?"rgba(168, 85, 247, 0.2)":"rgba(34, 197, 94, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:["image"===bi.type&&p.jsx(H,{size:18,style:{color:"var(--color-pink)"}}),"video"===bi.type&&p.jsx(J,{size:18,style:{color:"var(--color-cyan)"}}),"audio"===bi.type&&p.jsx(O,{size:18,style:{color:"var(--color-purple)"}}),("text"===bi.type||"lyrics"===bi.type||"hook"===bi.type||"verse"===bi.type||"concept"===bi.type)&&p.jsx(ce,{size:18,style:{color:"var(--color-green)"}})]}),p.jsxs("div",{children:[p.jsx("h2",{style:{fontSize:"1rem",margin:0,fontWeight:"600"},children:bi.title||"Preview"}),vi.length>1&&p.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",margin:"2px 0 0"},children:[ji+1," of ",vi.length," assets"]})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("button",{onClick:e=>{e.stopPropagation(),oi(e=>!e)},style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.3)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",title:ni?"Minimize":"Maximize",children:ni?p.jsx(Re,{size:18}):p.jsx(Ue,{size:18})}),bi.asset&&p.jsxs("button",{onClick:()=>{const e=bi.asset,t=e.audioUrl?"audio":e.videoUrl||e.imageUrl?"visual":null;if(t&&Ms){const r={...Ms.sessionState||{},[t]:e};Os({...Ms,sessionState:r}),ir(e=>e.map(e=>e.id===Ms.id?{...e,sessionState:r}:e)),ai(null),oi(!1),yr(!0),c.success(`âœ¨ Added "${e.title}" to Studio Orchestrator`)}},className:"btn-pill primary",style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",padding:"8px 16px"},children:[p.jsx(re,{size:16}),"Use in Orchestrator"]}),p.jsx("button",{className:"modal-close",onClick:()=>{Ci.current&&(Ci.current.pause(),Ci.current.src=""),Ii.current=!1,ai(null),oi(!1)},style:{color:"#fff",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer"},children:p.jsx(L,{size:20})})]})]}),p.jsxs("div",{className:"modal-body",style:{padding:ni?"2rem":"1.5rem",flex:1,overflow:"auto",display:"flex",alignItems:"center",justifyContent:"center",background:"image"===bi.type?"transparent":"rgba(0,0,0,0.3)"},children:["audio"===bi.type&&bi.url&&p.jsxs("div",{style:{width:"100%",maxWidth:ni?"700px":"500px",textAlign:"center"},children:[p.jsx("div",{style:{width:ni?"150px":"120px",height:ni?"150px":"120px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 0 40px rgba(168, 85, 247, 0.4)",transition:"all 0.3s ease"},children:p.jsx(O,{size:ni?60:48,style:{color:"white"}})}),p.jsx("audio",{ref:Ci,src:bi.url,controls:!0,style:{width:"100%"},autoPlay:!0,controlsList:"nodownload",onError:e=>{const t=e.target.parentElement;if(t&&!t.querySelector(".audio-error-msg")){const e=document.createElement("div");e.className="audio-error-msg",e.style.cssText="color: var(--color-red); font-size: 0.85rem; margin-top: 12px;",e.textContent="âš ï¸ Audio failed to load. Try downloading instead.",t.appendChild(e)}},onCanPlay:()=>{},onLoadedData:()=>{},onPlay:()=>{},onPause:e=>{},onEnded:()=>{},onStalled:()=>{},onWaiting:()=>{}},bi.asset?.id||bi.url||"audio-preview"),p.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"12px",opacity:.6},children:bi.url?.startsWith("data:")?"Base64 Audio":bi.url?.startsWith("http")?"Remote Audio":"Unknown Format"})]}),"image"===bi.type&&bi.url&&p.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[p.jsxs("div",{className:"image-loading-placeholder",style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--text-secondary)"},children:[p.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),p.jsx("span",{style:{fontSize:"0.85rem"},children:"Loading image..."})]}),p.jsx("img",{src:bi.url,alt:bi.title||"Image preview",onLoad:e=>{const t=e.target.previousElementSibling;t&&(t.style.display="none"),e.target.style.opacity=1},onError:e=>{const t=e.target.previousElementSibling;t&&(t.innerHTML='<div style="text-align:center;color:var(--color-red)"><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg><p style="margin-top:8px">Failed to load image</p></div>')},style:{maxWidth:"100%",maxHeight:ni?"90vh":"80vh",objectFit:"contain",borderRadius:"8px",boxShadow:"0 8px 40px rgba(0,0,0,0.5)",opacity:0,transition:"all 0.3s ease"}})]}),"video"===bi.type&&bi.url&&p.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"100%"},children:[p.jsxs("div",{className:"video-loading-placeholder",style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--text-secondary)",background:"rgba(0,0,0,0.5)",borderRadius:"8px",zIndex:1},children:[p.jsx("div",{className:"spinner",style:{width:"50px",height:"50px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-cyan)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),p.jsx("span",{style:{fontSize:"0.85rem"},children:"Loading video..."})]}),p.jsx("video",{src:bi.url,controls:!0,autoPlay:!0,playsInline:!0,loop:!0,onCanPlay:e=>{const t=e.target.previousElementSibling;t&&(t.style.display="none")},onError:e=>{const t=e.target.previousElementSibling;t&&(t.innerHTML='<div style="text-align:center;color:var(--color-red)"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg><p style="margin-top:12px;font-size:0.9rem">Failed to load video</p><p style="font-size:0.75rem;opacity:0.7;margin-top:4px">Try downloading instead</p></div>')},style:{width:"100%",maxWidth:"100%",maxHeight:ni?"90vh":"80vh",objectFit:"contain",borderRadius:"8px",background:"black"}})]}),("text"===bi.type||"lyrics"===bi.type||"hook"===bi.type||"verse"===bi.type||"concept"===bi.type)&&p.jsx("div",{style:{width:"100%",maxWidth:ni?"800px":"600px",maxHeight:ni?"85vh":"70vh",overflow:"auto",padding:"2rem",background:"rgba(20, 20, 30, 0.8)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)"},children:p.jsx("div",{style:{fontSize:ni?"1.1rem":"1rem",lineHeight:"1.8",color:"var(--text-primary)",whiteSpace:"pre-wrap",fontFamily:"inherit"},children:(()=>{const e=bi.content||ki(bi.asset);return e||p.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[p.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic",marginBottom:"1rem"},children:"No text content available"}),p.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.85rem"},children:"This asset may be audio, video, or image-only."})]})})()})})]}),vi.length>1&&p.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"12px 16px",display:"flex",gap:"8px",overflowX:"auto",justifyContent:"center",background:"rgba(0,0,0,0.3)"},children:vi.map((e,t)=>e?p.jsxs("button",{onClick:e=>{if(e.stopPropagation(),Ii.current)return;if(t<0||t>=vi.length)return;const r=vi[t];if(r){Ii.current=!0;try{ai({type:wi(r),url:nt(r.audioUrl)||ot(r.videoUrl)||at(r.imageUrl)||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:vi,currentIndex:t})}catch(s){}setTimeout(()=>{Ii.current=!1},300)}},style:{width:"60px",height:"60px",borderRadius:"8px",border:t===ji?"2px solid var(--color-purple)":"2px solid transparent",background:e.imageUrl?`url(${at(e.imageUrl)}) center/cover`:"rgba(255,255,255,0.1)",cursor:"pointer",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:t===ji?1:.6,transition:"all 0.2s ease",overflow:"hidden",position:"relative"},children:[e.videoUrl&&!e.imageUrl&&p.jsx("video",{src:ot(e.videoUrl),style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,preload:"metadata",onLoadedData:e=>{0===e.target.currentTime&&(e.target.currentTime=1)}}),e.audioUrl&&!e.imageUrl&&p.jsx(O,{size:20,style:{color:"var(--color-purple)"}}),!e.imageUrl&&!e.videoUrl&&!e.audioUrl&&p.jsx(ce,{size:20,style:{color:"var(--text-secondary)"}})]},e?.id||t):null)}),p.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"12px 16px",display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap",background:"rgba(0,0,0,0.4)"},children:[bi.asset?.agent&&"User Upload"!==bi.asset.agent&&p.jsxs("button",{onClick:e=>{e.stopPropagation();const r=t.find(e=>e.name===bi.asset?.agent);r&&(Ut(r),In(bi.asset?.snippet||bi.title||""),zt("agents"),ai(null),oi(!1),c.success(`Opened ${r.name} - edit prompt and regenerate!`))},style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, var(--color-cyan), var(--color-purple))",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"0.85rem"},children:[p.jsx(me,{size:16})," Re-run with ",bi.asset?.agent]}),p.jsxs("button",{onClick:e=>{if(e.stopPropagation(),Ms){const e=bi.asset,t={...Ms,sessionState:{...Ms.sessionState,...e?.audioUrl&&{audio:{audioUrl:e.audioUrl,title:e.title}},...e?.imageUrl&&{visual:{...Ms.sessionState?.visual,imageUrl:e.imageUrl,title:e.title}},...e?.videoUrl&&{visual:{...Ms.sessionState?.visual,videoUrl:e.videoUrl,title:e.title}}}};Os(t),ir(e=>Array.isArray(e)?e.map(e=>e.id===t.id?t:e):[t])}ai(null),oi(!1),yr(!0),c.success("Asset loaded into Orchestrator!")},style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.5)",background:"rgba(168, 85, 247, 0.2)",color:"var(--color-purple)",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"0.85rem"},children:[p.jsx(N,{size:16})," Use in Orchestrator"]}),bi.url&&p.jsxs("button",{onClick:e=>{e.stopPropagation();try{const e=document.createElement("a");e.href=bi.url,e.download=bi.title||"download",document.body.appendChild(e),e.click(),document.body.removeChild(e),c.success("Download started!")}catch(t){c.error("Download failed. Try right-click and save.")}},style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem"},children:[p.jsx(_,{size:16})," Download"]})]})]})]}),Us&&p.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Bs(null),children:p.jsxs("div",{className:"modal-content agent-help-modal",onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("div",{className:"modal-title-group",children:[p.jsx("div",{className:`agent-mini-icon ${Us.colorClass}`,children:p.jsx(Us.icon,{size:20})}),p.jsxs("h2",{children:[Us.name," Guide"]})]}),p.jsx("button",{className:"modal-close",onClick:()=>Bs(null),children:p.jsx(L,{size:20})})]}),p.jsxs("div",{className:"modal-body help-modal-body",children:[p.jsxs("div",{className:"help-section",children:[p.jsxs("h3",{children:[p.jsx(re,{size:16,className:"text-cyan"})," How to Use"]}),p.jsx("p",{children:Us.howToUse})]}),Us.onboarding&&p.jsxs("div",{className:"help-section",children:[p.jsxs("h3",{children:[p.jsx(ke,{size:16,className:"text-purple"})," Quick Start Steps"]}),p.jsx("div",{className:"onboarding-steps-list",children:Us.onboarding.map((e,t)=>p.jsxs("div",{className:"onboarding-step-item",children:[p.jsx("span",{className:"step-number",children:t+1}),p.jsx("p",{children:e})]},t))})]}),Us.examples&&p.jsxs("div",{className:"help-section",children:[p.jsxs("h3",{children:[p.jsx(N,{size:16,className:"text-orange"})," Example Prompts"]}),p.jsx("div",{className:"example-chips",children:Us.examples.map((e,t)=>p.jsxs("button",{className:"example-chip",onClick:()=>{navigator.clipboard.writeText(e),An("Copied to clipboard")},children:['"',e,'"']},t))}),p.jsx("p",{className:"tiny-hint",children:"Click an example to copy"})]}),Us.helpTips&&p.jsxs("div",{className:"help-section pro-tip-box",children:[p.jsxs("h3",{children:[p.jsx(Se,{size:16,className:"text-yellow"})," Pro Tip"]}),p.jsx("p",{children:Us.helpTips})]})]}),p.jsx("div",{className:"modal-footer",children:p.jsxs("button",{className:"cta-button-premium",onClick:()=>{Ut(Us),Bs(null)},children:["Launch ",Us.name]})})]})}),Ds&&p.jsx(d.Suspense,{fallback:p.jsx(vt,{}),children:p.jsx(pt,{agent:Ds,onClose:()=>$s(null),projects:sr,onSaveToProject:aa,onCreateProject:na,user:Wt})}),Ps&&p.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>Ws(!1),children:p.jsxs("div",{className:"modal-content",style:{maxWidth:"min(92vw, 700px)",width:"100%",margin:"1rem auto"},onClick:e=>e.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Ie,{size:20,className:"text-purple"}),"Add Agent to Project"]}),p.jsx("button",{className:"modal-close",onClick:()=>Ws(!1),children:p.jsx(L,{size:20})})]}),p.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[p.jsxs("div",{style:{marginBottom:"24px"},children:[p.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:"600",marginBottom:"12px",color:"var(--text-secondary)"},children:["Your Agents (",As().length,")"]}),p.jsx("div",{className:"agents-studio-grid",style:{maxWidth:"100%",margin:0},children:As().map((e,t)=>{const r=e.icon,s=Ms?.agents?.some(t=>t.id===e.id);return p.jsxs("div",{className:`agent-studio-card ${e.colorClass} ${s?"opacity-50":""}`,style:{animationDelay:.05*t+"s",position:"relative",cursor:s?"not-allowed":"pointer"},onClick:()=>!s&&(e=>{if(!Ms||!e)return;const t=Array.isArray(Ms.agents)?Ms.agents:[];let r=qt?999:3;if(qt||("Creator"===Cs&&(r=5),"Studio Pro"!==Cs&&"Lifetime Access"!==Cs||(r=16)),t.length>=r)return void c.error(`Agent limit reached for ${Cs} plan. Please upgrade.`);if(t.some(t=>t.id===e.id))return void Zi(`${e.name} is already in this project.`);const s={...Ms,agents:[...t,e]};Os(s),ir(e=>e.map(e=>e.id===s.id?s:e)),Ws(!1),Zi(`${e.name} added to project.`)})(e),children:[s&&p.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",background:"var(--color-purple)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:p.jsx(Be,{size:12,color:"white"})}),p.jsx("div",{className:"agent-studio-icon",children:p.jsx(r,{size:24})}),p.jsxs("div",{className:"agent-studio-info",children:[p.jsx("h3",{children:e.name}),p.jsx("p",{children:e.category})]}),p.jsx("button",{className:"agent-launch-btn",disabled:s,style:{opacity:s?.5:1,pointerEvents:s?"none":"auto"},children:s?"Added":"Add to Project"})]},e.id)})})]}),Rs().length>0&&p.jsxs("div",{children:[p.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:"600",marginBottom:"12px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx(be,{size:14}),"Upgrade to Unlock (",Rs().length,")"]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:Rs().map(e=>{const t=e.icon,r="monthly"===e.tier?"Monthly":"Pro",s="monthly"===e.tier?"var(--color-cyan)":"var(--color-purple)";return p.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.02)",border:"1px solid rgba(255, 255, 255, 0.06)",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"10px",opacity:.6,cursor:"pointer"},onClick:()=>{Ws(!1),$t?(Na("subscription"),zt("mystudio")):Qt(!0)},children:[p.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:p.jsx(t,{size:16,style:{opacity:.5}})}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsx("div",{style:{fontWeight:"600",fontSize:"0.85rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),p.jsx("div",{style:{fontSize:"0.65rem",color:s,fontWeight:"600",textTransform:"uppercase"},children:r})]}),p.jsx(be,{size:12,style:{color:"var(--text-secondary)",flexShrink:0}})]},e.id)})})]})]})]})}),gs&&p.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>us(!1),children:p.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 520px)",width:"100%",margin:"1rem auto"},children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[p.jsx(Y,{size:20,className:"text-purple"}),"Voice Commands"]}),p.jsx("button",{className:"modal-close",onClick:()=>us(!1),children:p.jsx(L,{size:20})})]}),p.jsxs("div",{className:"modal-body",style:{textAlign:"left",padding:"16px 24px"},children:[p.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"16px"},children:"Click the mic button and say any of these commands:"}),["Navigation","Actions","Settings","Voice"].map(e=>p.jsxs("div",{style:{marginBottom:"16px"},children:[p.jsx("h4",{style:{fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"1px",color:"var(--color-purple)",marginBottom:"8px"},children:e}),js.filter(t=>t.category===e).map((e,t)=>p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"8px",marginBottom:"6px",fontSize:"0.85rem"},children:[p.jsxs("div",{children:[p.jsx("span",{style:{fontWeight:"600",color:"white"},children:e.command}),p.jsx("span",{style:{color:"var(--text-secondary)",marginLeft:"8px",fontSize:"0.75rem"},children:e.description})]}),p.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-cyan)",fontStyle:"italic"},children:e.example})]},t))]},e)),p.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.1))",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:p.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:["ðŸ’¡ ",p.jsx("strong",{style:{color:"white"},children:"Pro Tip:"})," Say anything else and it will be added to your prompt as dictation."]})})]}),p.jsx("div",{className:"modal-footer",style:{padding:"16px 24px"},children:p.jsxs("button",{className:"cta-button-premium "+(as?"listening":""),onClick:()=>{us(!1),Tn()},style:{width:"100%"},children:[p.jsx(Y,{size:18}),as?"Stop Listening":"Start Listening"]})})]})}),as&&p.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",animation:"fadeInUp 0.3s ease"},children:[ms&&p.jsx("div",{style:{background:"rgba(0,0,0,0.9)",padding:"12px 20px",borderRadius:"12px",color:"white",fontSize:"0.9rem",maxWidth:"300px",textAlign:"center",border:"1px solid rgba(139, 92, 246, 0.3)"},children:p.jsxs("span",{style:{color:"var(--color-cyan)"},children:['"',ms,'"']})}),p.jsxs("div",{style:{background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",padding:"16px 24px",borderRadius:"50px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.4)",cursor:"pointer"},onClick:Tn,children:[p.jsxs("div",{style:{position:"relative",width:"24px",height:"24px"},children:[p.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"50%",background:"white",animation:"pulse 1.5s ease-in-out infinite"}}),p.jsx(Y,{size:24,style:{position:"relative",zIndex:1,color:"var(--color-purple)"}})]}),p.jsx("span",{style:{color:"white",fontWeight:"600",fontSize:"0.9rem"},children:"Listening..."}),p.jsx("button",{style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},onClick:e=>{e.stopPropagation(),Tn()},children:p.jsx(L,{size:16})})]}),ys&&p.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"4px"},children:['Last: "',ys.text.substring(0,25),ys.text.length>25?"...":"",'"']})]}),Ai&&p.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Ri(null),children:p.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(95vw, 500px)",width:"100%",margin:"2rem auto"},children:[p.jsx("button",{className:"modal-close",onClick:()=>Ri(null),children:p.jsx(L,{size:20})}),p.jsxs("div",{style:{padding:"24px"},children:[p.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"700",marginBottom:"8px",display:"flex",alignItems:"center",gap:"10px",color:"white"},children:[p.jsx(xe,{className:"text-cyan",size:24}),"Export for Distribution"]}),p.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",marginBottom:"24px"},children:"Prepare your audio for streaming platforms and digital distribution."}),p.jsxs("div",{style:{marginBottom:"20px"},children:[p.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",display:"block",marginBottom:"8px"},children:"EXPORT PRESET"}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[{id:"streaming",label:"Streaming",desc:"Spotify, Apple Music",specs:"44.1kHz / 16-bit / -14 LUFS"},{id:"youtube",label:"YouTube",desc:"Video platforms",specs:"48kHz / 16-bit / -14 LUFS"},{id:"cd",label:"CD Quality",desc:"Physical release",specs:"44.1kHz / 16-bit / -9 LUFS"},{id:"hires",label:"Hi-Res",desc:"Audiophile",specs:"96kHz / 24-bit / -14 LUFS"},{id:"podcast",label:"Podcast",desc:"Spoken word",specs:"44.1kHz / 16-bit / -16 LUFS"}].map(e=>p.jsxs("button",{onClick:()=>Bi(e.id),style:{padding:"12px",background:Ui===e.id?"linear-gradient(135deg, var(--color-purple), var(--color-cyan))":"rgba(255,255,255,0.05)",border:Ui===e.id?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.1)",borderRadius:"10px",cursor:"pointer",textAlign:"left"},children:[p.jsx("div",{style:{fontWeight:"600",color:"white",fontSize:"0.9rem"},children:e.label}),p.jsx("div",{style:{fontSize:"0.7rem",color:Ui===e.id?"rgba(255,255,255,0.8)":"var(--text-secondary)"},children:e.desc}),p.jsx("div",{style:{fontSize:"0.65rem",color:"var(--color-cyan)",marginTop:"4px"},children:e.specs})]},e.id))})]}),p.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"10px",padding:"16px",marginBottom:"20px"},children:[p.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"10px"},children:"PLATFORM COMPATIBILITY"}),p.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["Apple Music","Spotify","YouTube Music","Amazon Music","Tidal","Deezer"].map(e=>p.jsxs("span",{style:{padding:"4px 10px",background:"rgba(16, 185, 129, 0.2)",borderRadius:"12px",fontSize:"0.7rem",color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[p.jsx(Be,{size:12})," ",e]},e))})]}),p.jsx("button",{onClick:async()=>{if(!Ai?.audioUrl)return void c.error("No audio to export");Wi(!0);const e=c.loading("Mastering audio...");try{const t=Ai.audioUrl.split(",")[1],s=await fetch(`${r}/api/master-audio`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audioBase64:t,preset:Ui})}),i=await s.json();if(!i.audioUrl)throw new Error(i.error||"Export failed - no audio URL returned");{const t=document.createElement("a");t.href=i.audioUrl,t.download=`${Ai.title||"audio"}-mastered-${Ui}.wav`,t.click(),c.success(`Exported for ${Ui}!`,{id:e}),Ri(null)}}catch(t){c.error("Export failed: "+(t.message||"Check your connection"),{id:e})}finally{Wi(!1)}},disabled:Pi,style:{width:"100%",padding:"14px",background:Pi?"rgba(255,255,255,0.1)":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",border:"none",borderRadius:"10px",color:"white",fontWeight:"600",fontSize:"0.95rem",cursor:Pi?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:Pi?p.jsxs(p.Fragment,{children:[p.jsx(me,{size:16,className:"spin"}),"Mastering..."]}):p.jsxs(p.Fragment,{children:[p.jsx(_,{size:16}),"Export & Download"]})})]})]})})]}):p.jsxs("div",{className:`studio-container ${Tt}-theme`,style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-primary)"},children:[p.jsx(x,{position:"top-center"}),p.jsxs("div",{style:{textAlign:"center",maxWidth:"420px",padding:"40px",background:"var(--bg-secondary)",borderRadius:"16px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[p.jsx(N,{size:48,style:{color:"#a855f7",marginBottom:"16px"}}),p.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px",color:"var(--text-primary)"},children:"Welcome to Studio Agents"}),p.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Sign in to access your AI-powered creative studio"}),p.jsxs("form",{onSubmit:wa,style:{marginBottom:"20px"},children:[p.jsx("input",{type:"email",placeholder:"Email address",value:pa,onChange:e=>xa(e.target.value),required:!0,style:{width:"100%",padding:"12px 16px",marginBottom:"12px",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.3)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"1rem",outline:"none",boxSizing:"border-box"}}),p.jsx("input",{type:"password",placeholder:"Password",value:ga,onChange:e=>ua(e.target.value),required:!0,minLength:6,style:{width:"100%",padding:"12px 16px",marginBottom:"12px",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.3)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"1rem",outline:"none",boxSizing:"border-box"}}),p.jsxs("button",{type:"submit",disabled:ma,className:"btn-pill primary",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[p.jsx(C,{size:18}),ma?"Please wait...":"signup"===da?"Create Account":"Sign In with Email"]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[p.jsx("button",{type:"button",onClick:()=>ca("signup"===da?"login":"signup"),style:{background:"transparent",border:"none",color:"#a855f7",cursor:"pointer",fontSize:"0.85rem"},children:"signup"===da?"Already have an account? Sign in":"Need an account? Sign up"}),"login"===da&&p.jsx("button",{type:"button",onClick:ka,style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.85rem"},children:"Forgot password?"})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"16px 0",gap:"12px"},children:[p.jsx("div",{style:{flex:1,height:"1px",background:"rgba(139, 92, 246, 0.2)"}}),p.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"or"}),p.jsx("div",{style:{flex:1,height:"1px",background:"rgba(139, 92, 246, 0.2)"}})]}),p.jsxs("button",{onClick:ja,disabled:ma,className:"btn-pill",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",background:"transparent",border:"1px solid rgba(139, 92, 246, 0.3)",color:"var(--text-primary)"},children:[p.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),p.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),p.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),p.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),ma?"Signing in...":"Continue with Google"]}),p.jsx("button",{onClick:Ln,className:"btn-pill",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"16px",background:"transparent",border:"1px solid rgba(139, 92, 246, 0.15)",color:"var(--text-secondary)"},children:"Continue as Guest (Limited Features)"}),p.jsx("button",{onClick:l,style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem"},children:"â† Back to Home"})]})]})}},Symbol.toStringTag,{value:"Module"}));export{wt as S,ot as a,nt as b,at as f};
