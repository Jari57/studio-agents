const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StudioOrchestratorV2-CUFKYYC1.js","assets/index-Bb-Lt2CA.js","assets/react-vendor-IsfVT3T0.js","assets/vendor-hWrmgIvi.js","assets/icons-BK3yKrzj.js","assets/index-D_3Ba8tz.css","assets/firebase-euf59gGu.js","assets/firebase-W-WeeevT.js","assets/QuickWorkflow-Cnpj0V9-.js","assets/ProjectHubV3-C8LlVa--.js","assets/NewsHub-BfHpx0xJ.js","assets/AdminAnalytics-pFYcP6lR.js"])))=>i.map(i=>d[i]);
import{A as e,B as t,t as r,a as s,_ as i}from"./index-Bb-Lt2CA.js";import{r as a,z as n,j as o,R as l}from"./react-vendor-IsfVT3T0.js";import{a as d,d as c,u as p,b as x}from"./firebase-euf59gGu.js";import{S as g,u,k as m,e as h,F as y,v as b,B as v,G as f,w as j,x as w,y as S,z as k,I as z,J as N,K as C,X as I,C as A,M as T,N as R,O as U,Q as B,V as P,W as D,Y as W,_ as $,$ as E,a0 as _,a1 as L,a2 as O,a3 as M,P as F,a4 as H,Z as V,a5 as G,a6 as q,a7 as Y,a8 as J,a9 as Q,q as K,f as X,p as Z,aa as ee,ab as te,ac as re,ad as se,ae as ie,af as ae,ag as ne,m as oe,ah as le,ai as de,R as ce,g as pe,aj as xe,t as ge,h as ue,U as me,ak as he,d as ye,al as be,am as ve,a as fe,an as je,T as we,ao as Se,ap as ke,A as ze,aq as Ne,j as Ce,ar as Ie,as as Ae,at as Te,au as Re,av as Ue,L as Be,aw as Pe,ax as De,ay as We,az as $e,aA as Ee,o as _e}from"./icons-BK3yKrzj.js";import{b as Le,f as Oe,u as Me,i as Fe,e as He,o as Ve,g as Ge,h as qe,G as Ye,s as Je,c as Qe,a as Ke,d as Xe}from"./firebase-W-WeeevT.js";let Ze=!1;const et="pitch";function tt(){Ze=!0,localStorage.setItem("demoMode","true")}function rt(){return Ze?(Ze=!1,localStorage.removeItem("demoMode")):tt(),Ze}function st(){return Ze}new URLSearchParams(window.location.search).get("demo")===et&&(Ze=!0,localStorage.setItem("demoMode","true")),"true"===localStorage.getItem("demoMode")&&(Ze=!0);const it={ghostwriter:"**Verse 1:**\nI came up from the basement, now I'm touching ceilings\nEvery scar on my heart, turned into healing\nThey said I wouldn't make it, look at me now\nStack my paper to the sky, take a bow\n\n**Hook:**\nStarted from the bottom, now we at the top\nDreams in my pocket, never gonna stop\nEvery door they closed, I kicked it down\nKing of my city, wear that crown\n\n**Verse 2:**\nMidnight sessions, pouring out my soul\nEvery word I write is making me whole\nThey tried to dim my light, but I shine brighter\nEvery struggle made me a fighter\n\n---\n*Generated in Demo Mode - Connect API for personalized lyrics*","release-strategist":"## Release Strategy Analysis\n\n**Commercial Viability: 8.5/10**\nYour track has strong commercial potential with its melodic hook and contemporary production.\n\n**Key Strengths:**\n- Catchy melodic structure that supports playlist placement\n- Production quality meets industry standards\n- Target demographic alignment: 18-34 urban/suburban\n\n**Recommended Release Strategy:**\n1. **Pre-save Campaign** (2 weeks before) - Build anticipation with teaser content\n2. **Playlist Pitching** - Target RapCaviar, Most Necessary, and genre-specific playlists\n3. **Content Rollout** - 3 TikTok clips, 2 Instagram Reels, 1 YouTube Short\n\n**Optimal Release Day:** Friday (maximizes first-week streaming)\n\n---\n*Generated in Demo Mode - Connect API for real analysis*","sample-hunter":'## Sample Recommendations\n\nBased on your vibe, here are hidden gems from the crates:\n\n**1. "Distant Dreams" - The Soul Searchers (1974)**\n- BPM: 92 | Key: Am\n- Flip potential: That string section at 1:45 is untouched\n- Clearance: Medium difficulty (independent label)\n\n**2. "Morning Light" - Sunrise Orchestra (1978)**\n- BPM: 88 | Key: Dm  \n- Flip potential: Piano loop at intro, drum break at 2:30\n- Clearance: Easy (public domain in most territories)\n\n**3. "Urban Poetry" - City Jazz Ensemble (1982)**\n- BPM: 95 | Key: Gm\n- Flip potential: Bass line throughout, horn stabs at chorus\n- Clearance: Contact rights holder directly\n\n---\n*Generated in Demo Mode - Connect API for real sample discovery*',"visual-director":'## Music Video Treatment\n\n**Concept: "Rise & Reign"**\n\n**Visual Theme:** Contrast between struggle and success, using split-screen storytelling\n\n**Key Scenes:**\n1. **Opening (0:00-0:15):** Artist in dimly lit room, writing lyrics by candlelight\n2. **Verse 1 (0:15-0:45):** Flashback montage - humble beginnings, rejection letters burning\n3. **Hook (0:45-1:15):** Transition to sold-out venue, crowd going crazy\n4. **Verse 2 (1:15-1:45):** Behind-the-scenes studio footage, team celebration\n5. **Outro (1:45-2:00):** Artist on rooftop at sunrise, city below\n\n**Color Palette:** Deep blues and blacks for past, gold and white for present\n\n**Estimated Budget:** $15,000 - $25,000\n\n---\n*Generated in Demo Mode - Connect API for full creative treatment*',"brand-architect":"## Brand Identity Blueprint\n\n**Artist Archetype:** The Visionary Pioneer\n\n**Core Brand Pillars:**\n1. **Authenticity** - Raw, unfiltered storytelling\n2. **Innovation** - Pushing sonic boundaries\n3. **Community** - Elevating the culture\n\n**Visual Identity:**\n- Primary Colors: Deep purple (#6B21A8), Gold (#F59E0B)\n- Typography: Bold sans-serif for headlines, clean serif for body\n- Logo Concept: Abstract crown merging with sound wave\n\n**Voice & Tone:**\n- Confident but not arrogant\n- Inspirational without being preachy\n- Street-smart with intellectual depth\n\n**Content Themes:**\n- Studio sessions & process\n- Community spotlights\n- Personal growth journey\n\n---\n*Generated in Demo Mode - Connect API for full brand strategy*","tour-architect":'## Tour Routing Proposal\n\n**Tour Name:** "The Ascension Tour"\n\n**Phase 1: Regional Circuit (8 dates)**\n- Week 1: Atlanta â†’ Charlotte â†’ Raleigh\n- Week 2: DC â†’ Philly â†’ NYC\n- Week 3: Boston â†’ Brooklyn\n\n**Venue Recommendations:**\n- 500-800 cap rooms for intimate energy\n- Focus on venues with strong local press relationships\n- Priority: Rooms with quality sound systems\n\n**Budget Estimate:**\n- Venue costs: $2,500/night avg\n- Travel: $1,200/week\n- Crew (2 people): $3,000/week\n- Merch investment: $5,000 upfront\n\n**Projected Revenue:**\n- Ticket sales (70% capacity): $28,000\n- Merch: $8,000\n- Net profit potential: $12,000-$15,000\n\n---\n*Generated in Demo Mode - Connect API for real tour planning*',default:"## AI Response\n\nThank you for your input! Here's a thoughtful response based on your request:\n\n**Key Insights:**\n- Your concept shows strong creative potential\n- There are several strategic angles to explore\n- The market conditions favor this type of content\n\n**Recommendations:**\n1. Focus on authenticity and unique voice\n2. Build consistent content around your core message  \n3. Engage your community early and often\n4. Measure results and iterate quickly\n\n**Next Steps:**\n- Refine your core concept\n- Test with a small audience\n- Scale what works\n\n---\n*Generated in Demo Mode - Connect API for personalized AI assistance*"};const at={container:{position:"fixed",bottom:"20px",right:"20px",padding:"12px 20px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"#000",borderRadius:"8px",fontWeight:"600",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",zIndex:9999,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)",cursor:"pointer"},icon:"ðŸŽ­",text:"Demo Mode Active"},nt=e=>e?"object"==typeof e?e.url?e.url:e.b64_json?`data:image/png;base64,${e.b64_json}`:Array.isArray(e)&&e[0]?"string"==typeof e[0]?e[0]:e[0].url||null:null:"string"!=typeof e?null:e.startsWith("http")||e.startsWith("data:")?e:e.length>500?`data:image/png;base64,${e}`:e:null,ot=e=>{if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){if(e.url)return e.url;if(e.audio)return e.audio;if(Array.isArray(e)&&e[0])return"string"==typeof e[0]?e[0]:e[0].url||e[0].audio||""}return""},lt=e=>{if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){if(e.url)return e.url;if(e.video)return e.video;if(Array.isArray(e)&&e[0])return"string"==typeof e[0]?e[0]:e[0].url||e[0].video||""}return""},dt=me,ct=l.lazy(()=>i(()=>import("./StudioOrchestratorV2-CUFKYYC1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),pt=l.lazy(()=>i(()=>import("./QuickWorkflow-Cnpj0V9-.js"),__vite__mapDeps([8,2,3,1,4,5,6,7]))),xt=l.lazy(()=>i(()=>import("./ProjectHubV3-C8LlVa--.js"),__vite__mapDeps([9,2,3,4,1,5,6,7]))),gt=l.lazy(()=>i(()=>import("./NewsHub-BfHpx0xJ.js"),__vite__mapDeps([10,2,3,4]))),ut=l.lazy(()=>i(()=>import("./AdminAnalytics-pFYcP6lR.js"),__vite__mapDeps([11,2,3,4]))),mt=({children:e,asset:t,fallback:r=null})=>{try{return t&&"object"==typeof t?e:r||o.jsx("div",{style:{padding:"12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px",color:"rgba(239,68,68,0.8)",fontSize:"0.8rem"},children:"Invalid asset data"})}catch(s){return r||o.jsx("div",{style:{padding:"12px",background:"rgba(239,68,68,0.1)",borderRadius:"8px",color:"rgba(239,68,68,0.8)",fontSize:"0.8rem"},children:"Failed to render asset"})}},ht=(e,t,r="")=>{try{if(!e||"object"!=typeof e)return r;const s=e[t];return null==s?r:s}catch{return r}},yt=e=>e&&"object"==typeof e?{...e,id:e.id||`proj_${Date.now()}`,title:"string"==typeof e.title?e.title:"Untitled Project",assets:Array.isArray(e.assets)?e.assets.filter(e=>e&&"object"==typeof e):[],agents:Array.isArray(e.agents)?e.agents:[],tags:Array.isArray(e.tags)?e.tags:[],createdAt:e.createdAt||(new Date).toISOString()}:null,bt=e=>Array.isArray(e)?e.map(yt).filter(Boolean):[];class vt extends l.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){}render(){return this.state.hasError?o.jsxs("div",{style:{padding:"24px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"12px"},children:"âš ï¸"}),o.jsxs("h3",{style:{margin:"0 0 8px",color:"var(--text-primary)"},children:[this.props.name||"Section"," temporarily unavailable"]}),o.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"16px"},children:"This section encountered an issue. Click below to reload it."}),o.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null}),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",cursor:"pointer"},children:"Try Again"})]}):this.props.children}}const ft=()=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px",color:"var(--text-secondary)"},children:[o.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid rgba(168,85,247,0.2)",borderTopColor:"#a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",marginRight:"12px"}}),"Loading..."]}),jt=["jari@studioagents.ai","jari57@gmail.com","demo@studioagents.ai","test@studioagents.ai","support@studioagents.ai","dev@studioagents.ai","info@studioagentsai.com"],wt=[{id:"welcome",title:"Welcome to The Studio",content:"16 AI agents ready to help you write, produce, and grow your music career.",detail:"Pick an agent to start. That's it."}],St=[{id:"pro",label:"Pro Studio",icon:pe,desc:"Full production suite",color:"var(--color-purple)"},{id:"vybing",label:"Vybing",icon:T,desc:"Quick beat ideas",color:"var(--color-cyan)"},{id:"mixtapes",label:"Mixtapes",icon:P,desc:"Curated playlists",color:"var(--color-orange)"},{id:"video",label:"Video",icon:E,desc:"Visual content",color:"var(--color-pink)"},{id:"scores",label:"Scores",icon:D,desc:"Cinematic composition",color:"var(--color-emerald)"},{id:"moves",label:"Moves",icon:de,desc:"Dance & Choreo",color:"var(--color-yellow)"},{id:"music_videos",label:"Music Videos",icon:xe,desc:"Full production clips",color:"var(--color-red)"},{id:"social",label:"Social Brand",icon:U,desc:"Grow your audience",color:"var(--color-blue)"}],kt=[{command:"open [agent]",description:"Launch an agent",example:'"Open Ghostwriter"',category:"Navigation"},{command:"go to [section]",description:"Navigate to dashboard, hub, news, agents",example:'"Go to hub"',category:"Navigation"},{command:"generate",description:"Start generation with current prompt",example:'"Generate"',category:"Actions"},{command:"clear",description:"Clear the prompt",example:'"Clear prompt"',category:"Actions"},{command:"read back",description:"Read the prompt aloud",example:'"Read back"',category:"Actions"},{command:"reference [type] DNA",description:"Upload visual/audio/lyrics DNA",example:'"Reference visual DNA"',category:"Creation"},{command:"set genre to [genre]",description:"Change musical genre",example:'"Set genre to Country"',category:"Settings"},{command:"set duration to [time]",description:"Change generation length",example:'"Set duration to 1 minute"',category:"Settings"},{command:"switch theme",description:"Toggle dark/light mode",example:'"Switch theme"',category:"Settings"},{command:"stop",description:"Stop listening",example:'"Stop listening"',category:"Voice"}],zt=[{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",provider:"Google",description:"Fastest responses, great for quick tasks",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜†"},{id:"gemini-2.0-flash-lite",name:"Gemini 2.0 Flash-Lite",provider:"Google",description:"Ultra-fast, cost-effective",tier:"free",speed:"âš¡âš¡âš¡âš¡",quality:"â˜…â˜…â˜†â˜†"},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",provider:"Google",description:"Best quality for complex prompts",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gemini-1.5-flash",name:"Gemini 1.5 Flash",provider:"Google",description:"Balanced speed and quality",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜†"},{id:"gemini-1.5-flash-8b",name:"Gemini 1.5 Flash-8B",provider:"Google",description:"Lightweight, efficient",tier:"free",speed:"âš¡âš¡âš¡âš¡",quality:"â˜…â˜…â˜†â˜†"},{id:"gemini-2.5-pro-preview",name:"Gemini 2.5 Pro (Preview)",provider:"Google",description:"Latest capabilities, experimental",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"gemini-2.5-flash-preview",name:"Gemini 2.5 Flash (Preview)",provider:"Google",description:"Next-gen speed + quality",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"claude-3-5-sonnet",name:"Claude 3.5 Sonnet",provider:"Anthropic",description:"Excellent for creative writing",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"claude-3-5-haiku",name:"Claude 3.5 Haiku",provider:"Anthropic",description:"Fast and capable",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gpt-4o",name:"GPT-4o",provider:"OpenAI",description:"Multimodal powerhouse",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"gpt-4o-mini",name:"GPT-4o Mini",provider:"OpenAI",description:"Affordable GPT-4 class",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"gpt-4-turbo",name:"GPT-4 Turbo",provider:"OpenAI",description:"High capability, larger context",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…â˜…"},{id:"llama-3.3-70b",name:"Llama 3.3 70B",provider:"Meta",description:"Open-source powerhouse",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"llama-3.2-90b-vision",name:"Llama 3.2 90B Vision",provider:"Meta",description:"Multimodal open model",tier:"pro",speed:"âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"mistral-large",name:"Mistral Large",provider:"Mistral",description:"European excellence",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"codestral",name:"Codestral",provider:"Mistral",description:"Optimized for code generation",tier:"pro",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"deepseek-v3",name:"DeepSeek V3",provider:"DeepSeek",description:"Cost-effective reasoning",tier:"free",speed:"âš¡âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"},{id:"qwen-2.5-72b",name:"Qwen 2.5 72B",provider:"Alibaba",description:"Multilingual excellence",tier:"pro",speed:"âš¡âš¡",quality:"â˜…â˜…â˜…â˜…"}],Nt=[{icon:v,title:"Getting Started",desc:"Learn the basics of the Studio Agents workflow.",details:'To get started, select an agent from the "Agents" tab. Each agent specializes in a different part of the music creation process. For example, Ghostwriter can help you write lyrics, while Beat Lab can generate drum patterns. Once you\'ve selected an agent, enter a prompt describing what you want to create. You can then save your creation as a new project, which will appear in your Project Hub for later recall.'},{icon:V,title:"Agent Mastery",desc:"Deep dives into each agent's unique capabilities.",details:'Mastering our agents requires understanding their specific strengths. Ghostwriter responds best to emotional cues and genre-specific keywords. Album Artist can interpret complex visual metaphors. Trend Hunter scans real-time social data to give you a competitive edge. Experiment with different "Intensity" settings to see how the AI\'s creativity shifts from subtle to experimental.'},{icon:A,title:"Video Tutorials",desc:"Watch step-by-step guides on making hits.",details:'Our video library includes tutorials on: "Writing Your First Hit with Ghostwriter", "Advanced Beat Making with Beat Lab", and "Strategic Rollouts with Release Manager". Each video is under 5 minutes and designed to get you creating immediately. Pro members get access to exclusive masterclasses from industry-leading producers who use Studio Agents in their daily workflow.'},{icon:b,title:"Community Tips",desc:"See how other creators are using the studio.",details:'Join our Discord community and check out the "Activity Wall" to share prompts, collaborate with other creators, and get feedback on your AI-assisted tracks. Many users have found success by combining outputs from multiple agentsâ€”for example, using Ghostwriter for lyrics and then feeding those lyrics into a vocal synth. The possibilities are endless when you collaborate with the community.'}],Ct=[{keywords:["download","save","export","phone","photos"],issue:"Cannot download or save to device",solution:'Ensure you have granted storage permissions to your browser. On mobile, long-press the image or use the "Save to Files" option in the share menu. If using cloud storage, verify your Google Drive or OneDrive connection is active.'},{keywords:["audio","sound","hear","play","silent"],issue:"No sound during playback",solution:"Check if your device is on silent mode. Ensure the volume slider in the Media Player is turned up. Some browsers block auto-play audio; try clicking the play button manually."},{keywords:["slow","stuck","loading","generate","wait"],issue:"Generation is taking too long",solution:"High-quality models like Imagen 3 and Veo can take up to 30 seconds. Check your internet connection. If the progress bar is stuck, try refreshing the page; your project will be saved in the Project Hub."},{keywords:["login","account","pro","subscription","access"],issue:"Cannot access Pro agents",solution:"Pro agents require an active Studio Pro subscription. Ensure you are logged in with the correct account. If you just subscribed, try logging out and back in to refresh your status."},{keywords:["voice","mic","microphone","speak","listen","gender","male","female","accent","translate","language"],issue:"Voice controls and translation settings",solution:"Use the Mic icon for Voice-to-Text and the Speaker icon for Text-to-Voice. Click the Settings (gear) icon to change voice gender (Male/Female), region (US/UK/AU/IN), or to enable automatic translation to your preferred language."},{keywords:["privacy","data","security","safe","private"],issue:"Is my data and music private?",solution:"Yes. We use end-to-end encryption for your prompts and creations. We do not share your personal studio data with third parties or use it to train public models without your permission."},{keywords:["copyright","rights","own","legal","truth"],issue:"Do I own the AI-generated music?",solution:"You own the rights to the output you generate. However, for full copyright protection, we recommend adding human elements (vocals, live instruments) to make the work uniquely yours."},{keywords:["quality","professional","pro","industry","standard"],issue:"How to get professional quality results?",solution:"Use high-quality reference tracks, layer AI stems with live recordings, and always perform a final manual mix. Our Mastering Lab agent can help with the final industry-standard polish."},{keywords:["multi","agent","chain","workflow","project","pro"],issue:"How to use multiple agents in one project?",solution:'Pro users can "chain" agents by taking the output of one (e.g., Ghostwriter lyrics) and feeding it into another (e.g., Vocal Lab). Check "The Come Up" section for detailed Multi-Agent Workflow guides.'}],It=[{keywords:["billing","payment","card","subscription","plan","wallet","money","cost","price"],label:"Billing & Wallet",type:"mystudio",sub:"billing"},{keywords:["settings","config","preferences","dark mode","theme","language","voice"],label:"App Settings",type:"mystudio",sub:"settings"},{keywords:["profile","account","user","avatar","login","logout","email"],label:"User Profile",type:"mystudio",sub:"overview"},{keywords:["news","feed","updates","industry","trends","pulse"],label:"Industry Pulse",type:"news"},{keywords:["hub","projects","files","saved","library","creations"],label:"Project Hub",type:"hub"},{keywords:["activity","wall","community","share","feed","music","hub","trends","audio","creations"],label:"Music Hub",type:"activity"},{keywords:["agents","tools","create","make","generate"],label:"Agent Studio",type:"agents"}],At=[{id:"activity",icon:T,label:"Music Hub",desc:"Trending AI across platforms",color:"var(--color-purple)"},{id:"news",icon:f,label:"Industry Pulse",desc:"Latest music & tech news",color:"var(--color-cyan)"},{id:"whitepapers",icon:Z,label:"Whitepapers",desc:"Technical documentation",color:"var(--color-indigo)"},{id:"legal",icon:fe,label:"Legal Center",desc:"Terms & licensing",color:"var(--color-red)"},{id:"resources",icon:v,label:"Resources",desc:"Guides & tutorials",color:"var(--color-orange)"},{id:"support",icon:j,label:"Help & Support",desc:"FAQ & contact us",color:"var(--color-pink)"},{id:"marketing",icon:Ce,label:"About Us",desc:"Our mission & vision",color:"var(--color-emerald)"},{id:"profile",icon:N,label:"My Profile",desc:"Account settings",color:"var(--color-yellow)"}],Tt=e=>{if(!e||!Array.isArray(e))return e;const t=1e5;return e.map(e=>e&&"object"==typeof e&&e.assets&&Array.isArray(e.assets)?{...e,assets:e.assets.map(e=>{if(!e)return e;if("string"==typeof e&&e.length>t)return"[Media Data Pruned to Save Space]";if("object"==typeof e){const r={...e};let s=!1;return["url","data","imageData","audioData","videoData","output"].forEach(e=>{"string"==typeof r[e]&&r[e].length>t&&(r[e]="[Media Data Pruned to Save Space]",s=!0)}),s?r:e}return e})}:e)};const Rt=Object.freeze(Object.defineProperty({__proto__:null,default:function({onBack:i,startWizard:l,startOrchestrator:xe,startTour:Ze,initialPlan:yt,initialTab:Rt}){(()=>{const e=a.useRef(!0),t=a.useRef(new Set);a.useEffect(()=>(e.current=!0,()=>{e.current=!1,t.current.forEach(e=>{try{e.abort()}catch(t){}}),t.current.clear()}),[]),a.useCallback(async(r,s={})=>{const i=new AbortController;t.current.add(i);try{const a=await fetch(r,{...s,signal:i.signal});return t.current.delete(i),e.current?a:null}catch(a){if(t.current.delete(i),"AbortError"===a.name)return null;throw a}},[]),a.useCallback(t=>{if(e.current)try{t()}catch(r){}},[]),a.useCallback(()=>e.current,[]),a.useCallback(()=>{t.current.forEach(e=>{try{e.abort()}catch(t){}}),t.current.clear()},[])})();const[Ut,Bt]=a.useState(null),[Pt,Dt]=a.useState(()=>!!localStorage.getItem("studio_user_id")),[Wt,$t]=a.useState(()=>"true"===localStorage.getItem("studio_guest_mode")),[Et,_t]=a.useState(!0),[Lt,Ot]=a.useState(0),[Mt,Ft]=a.useState(null),[Ht,Vt]=a.useState(!1),[Gt,qt]=a.useState(!1),[Yt,Jt]=a.useState("login"),[Qt,Kt]=a.useState(""),[Xt,Zt]=a.useState(""),[er,tr]=a.useState(!1),[rr,sr]=a.useState(3),[ir,ar]=a.useState(()=>localStorage.getItem("studio_user_plan")||"Free"),[nr,or]=a.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return parseInt(localStorage.getItem(`studio_free_gens_${e}`)||"0")}),[lr,dr]=a.useState(()=>{const t=window.location.hash;if(t.startsWith("#/studio/")){const r=t.split("/")[2];return void 0!==e&&e&&e.some(e=>e.id===r)?"agents":r}const r=localStorage.getItem("studio_user_id")||"guest",s=localStorage.getItem(`studio_tab_${r}`);return s&&["agents","mystudio","activity","news","resources","marketing","hub","whitepapers","legal"].includes(s)?s:"resources"}),[cr,pr]=a.useState(()=>localStorage.getItem("studio_theme")||"dark"),[xr,gr]=a.useState(window.innerWidth<=768),[ur,mr]=a.useState(()=>{const t=window.location.hash;if(t.startsWith("#/studio/")){const r=t.split("/")[2],s=void 0!==e&&e?e.find(e=>e.id===r):null;if(s)return s}const r=localStorage.getItem("studio_user_id")||"guest",s=localStorage.getItem(`studio_agent_${r}`);return s&&void 0!==e&&e&&e.find(e=>e.id===s)||null}),[hr,yr]=a.useState(null),[br,vr]=a.useState(!1),[fr,jr]=a.useState(null),[wr,Sr]=a.useState(null),[kr,zr]=a.useState(null),[Nr,Cr]=a.useState(null),[Ir,Ar]=a.useState(null),[Tr,Rr]=a.useState({}),[Ur,Br]=a.useState(!1),[Pr,Dr]=a.useState(!1),[Wr,$r]=a.useState(null),[Er,_r]=a.useState(null),[Lr,Or]=a.useState(!1),[Mr,Fr]=a.useState(null),[Hr,Vr]=a.useState({status:"healthy",message:"All Systems Operational"}),[Gr,qr]=a.useState(!1),[Yr,Jr]=a.useState(!1),[Qr,Kr]=a.useState({audio:null,vocal:null,visual:null,audioVolume:.8,vocalVolume:1,bpm:120,timeSignature:"4/4",key:"C Major",frameRate:30,aspectRatio:"16:9",sampleRate:48e3,bitDepth:24,syncLocked:!0,generateRealAssets:!1,renderCount:0,maxRenders:3,lastRenderTime:null,renderHistory:[]}),[Xr,Zr]=a.useState([]),[es,ts]=a.useState(-1),[rs,ss]=a.useState(!1),[is,as]=a.useState(new Set),[ns,os]=a.useState(!1),[ls,ds]=a.useState(null),[cs,ps]=a.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_help_${e}`)||""}),[xs,gs]=a.useState(!0),[us,ms]=a.useState(null),[hs,ys]=a.useState(null),[bs,vs]=a.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_prompt_${e}`)||""}),[fs,js]=a.useState("lyrics"),[ws,Ss]=a.useState(null),[ks,zs]=a.useState(!1),[Ns,Cs]=a.useState(!1),[Is,As]=a.useState({}),[Ts,Rs]=a.useState("idle"),[Us,Bs]=a.useState(!1),[Ps,Ds]=a.useState(null),[Ws,$s]=a.useState(!1),[Es,_s]=a.useState(!1),[Ls,Os]=a.useState(!1),[Ms,Fs]=a.useState(!1),[Hs,Vs]=a.useState(!1),[Gs,qs]=a.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_transcript_${e}`)||""}),[Ys,Js]=a.useState(null),[Qs,Ks]=a.useState({gender:"male",region:"US",language:"English",style:"rapper",rapStyle:"aggressive",genre:"hip-hop",duration:30,voiceName:"rapper-male-1",speakerUrl:localStorage.getItem("studio_cloned_voice_url")||null}),[Xs,Zs]=a.useState(null),[ei,ti]=a.useState(!1),[ri,si]=a.useState(null),[ii,ai]=a.useState(!1),[ni,oi]=a.useState(""),[li,di]=a.useState(!1),[ci,pi]=a.useState(!1),[xi,gi]=a.useState(null),[ui,mi]=a.useState(!1),[hi,yi]=a.useState("streaming"),[bi,vi]=a.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_dash_${e}`)||"overview"}),[fi,ji]=a.useState(()=>{try{const t=localStorage.getItem("studio_managed_agents");if(t){const r=JSON.parse(t),s=void 0!==e&&e?e:[];return r.map(e=>{const t=s.find(t=>t.name===e.name);return{...e,icon:t?t.icon:g}})}return void 0!==e&&e?e.map(e=>({...e,visible:!0})):[]}catch(t){return void 0!==e&&e?e.map(e=>({...e,visible:!0})):[]}}),[wi,Si]=a.useState(()=>{try{const e=localStorage.getItem("studio_app_settings"),t={showNews:!0,publicActivity:!0,autoSave:!0,highQualityPreviews:!1,streamerMode:!1};return e?{...t,...JSON.parse(e)}:t}catch(e){return{showNews:!0,publicActivity:!0,autoSave:!0,highQualityPreviews:!1,streamerMode:!1}}}),[ki,zi]=a.useState(1),[Ni,Ci]=a.useState(!1),[Ii,Ai]=a.useState(!0),[Ti,Ri]=a.useState([]),[Ui,Bi]=a.useState(()=>localStorage.getItem("musicHubSection")||"all"),[Pi,Di]=a.useState(1),[Wi,$i]=a.useState(!1),[Ei,_i]=a.useState(!0),[Li,Oi]=a.useState([]),[Mi,Fi]=a.useState(()=>{const e=localStorage.getItem("studio_user_id")||"guest";return localStorage.getItem(`studio_news_${e}`)||""}),[Hi,Vi]=a.useState(()=>{try{const e=localStorage.getItem("studio_user_profile");return e?JSON.parse(e):{stageName:"",genre:"Hip Hop / Rap",targetDemographic:"Gen Z",language:"English",bio:"",credits:500,memberSince:(new Date).getFullYear(),plan:"Free",location:"Los Angeles, CA",website:""}}catch(e){return{stageName:"",genre:"Hip Hop / Rap",bio:"",credits:500,memberSince:(new Date).getFullYear(),plan:"Free",location:"Los Angeles, CA",website:""}}}),[Gi,qi]=a.useState(()=>{try{const e=localStorage.getItem("studio_agents_socials");return e?JSON.parse(e):{instagram:!1,tiktok:!1,twitter:!1,spotify:!1}}catch(e){return{instagram:!1,tiktok:!1,twitter:!1,spotify:!1}}}),[Yi]=a.useState({listeners:12450,streams:45200,followers:890,growth:"+12%"}),[Ji,Qi]=a.useState(()=>localStorage.getItem("studio_agents_twitter_user")),[Ki,Xi]=a.useState(()=>localStorage.getItem("studio_agents_meta_name")),[Zi,ea]=a.useState(()=>{try{const e=localStorage.getItem("studio_agents_storage");return e?JSON.parse(e):{googleDrive:!1,dropbox:!1,oneDrive:!1,localDevice:!0}}catch(e){return{googleDrive:!1,dropbox:!1,oneDrive:!1,localDevice:!0}}}),[ta,ra]=a.useState(()=>{try{const e=localStorage.getItem("studio_agents_payments");return e?JSON.parse(e):[{id:"pm_1",type:"Visa",last4:"4242",expiry:"12/26",isDefault:!0},{id:"pm_2",type:"Mastercard",last4:"8888",expiry:"09/25",isDefault:!1}]}catch(e){return[{id:"pm_1",type:"Visa",last4:"4242",expiry:"12/26",isDefault:!0}]}}),[sa,ia]=a.useState(()=>{try{const e=localStorage.getItem("studio_agents_banks");return e?JSON.parse(e):[{id:"ba_1",bankName:"Chase Bank",last4:"1234",type:"Checking"}]}catch(e){return[]}}),[aa,na]=a.useState([{id:1,title:"Welcome to Studio Agents",message:"Start creating your first track!",time:"Just now",read:!1},{id:2,title:"Pro Tip",message:"Try the Ghostwriter agent for lyrics.",time:"2m ago",read:!1}]),oa=a.useRef(()=>Promise.resolve()),la=a.useRef(()=>{}),da=a.useRef(()=>{}),ca=a.useRef(()=>{localStorage.clear(),window.location.href="/"}),pa=a.useRef(null),xa=a.useRef(null),ga=a.useRef(new Set),ua=a.useRef(null),ma=a.useRef(null),ha=a.useRef(null),ya=a.useRef(null),ba=a.useRef(null),va=a.useRef(null),fa=a.useRef(null),[ja,wa]=a.useState(()=>{try{const e=localStorage.getItem("studio_user_id")||"guest",t=localStorage.getItem(`studio_projects_${e}`)||localStorage.getItem("studio_agents_projects");if(t){let e=JSON.parse(t);return Array.isArray(e)?e.sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r}):[]}return[]}catch(e){return[]}}),[Sa,ka]=a.useState(null);a.useEffect(()=>{const e=()=>gr(window.innerWidth<=768);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),a.useEffect(()=>{if(lr){const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_tab_${e}`,lr)}},[lr,Ut?.uid]),a.useEffect(()=>{const t=()=>{const t=window.location.hash;if(!t.startsWith("#/studio/"))return;const r=t.split("/")[2]||"resources",s=void 0!==e&&e?e.find(e=>e.id===r):null;s?("agents"!==lr&&dr("agents"),ur?.id!==s.id&&mr(s)):r!==lr&&dr(r)};return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)},[lr,ur]);const za=e=>{if(e!==lr){dr(e);const t=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_tab_${t}`,e),window.location.hash=`#/studio/${e}`,r(`/studio/${e}`,`Studio - ${e.charAt(0).toUpperCase()+e.slice(1)}`)}},Na=((e,t,r)=>{const s=a.useRef(null),i=a.useRef(null),n=a.useRef(null),o=a.useRef(null);return{onTouchStart:e=>{s.current=e.targetTouches[0].clientX,i.current=e.targetTouches[0].clientY,n.current=null,o.current=null},onTouchMove:e=>{n.current=e.targetTouches[0].clientX,o.current=e.targetTouches[0].clientY},onTouchEnd:()=>{if(!s.current||!n.current)return;const a=s.current-n.current,l=i.current-o.current;if(Math.abs(a)>Math.abs(l)&&Math.abs(a)>50){const s=e.indexOf(t);a>0?s<e.length-1&&r(e[s+1]):s>0&&r(e[s-1])}}}})(["agents","mystudio","activity","news","resources","marketing"],lr,za);a.useEffect(()=>{localStorage.setItem("studio_theme",cr)},[cr]),a.useEffect(()=>{const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";ur?.id?localStorage.setItem(`studio_agent_${e}`,ur.id):localStorage.removeItem(`studio_agent_${e}`)},[ur,Ut?.uid]),a.useEffect(()=>{const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_news_${e}`,Mi)},[Mi,Ut?.uid]),a.useEffect(()=>{if(!ja||!Array.isArray(ja))return;const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";try{const t=JSON.stringify(ja);localStorage.setItem(`studio_projects_${e}`,t),"guest"===e?localStorage.setItem("studio_agents_projects",t):localStorage.removeItem("studio_agents_projects")}catch(t){if("QuotaExceededError"===t.name||22===t.code){const t=Tt(ja);try{const r=JSON.stringify(t);localStorage.setItem(`studio_projects_${e}`,r),"guest"===e&&localStorage.setItem("studio_agents_projects",r)}catch(r){try{const t=Tt(ja.slice(0,5));localStorage.setItem(`studio_projects_${e}`,JSON.stringify(t))}catch(s){}}}}},[ja,Ut?.uid]),a.useEffect(()=>{const e=localStorage.getItem("studio_last_isolated_uid"),t=Ut?.uid||"guest";if(e&&e!==t&&"guest"!==t){const e=localStorage.getItem(`studio_projects_${t}`);if(e)try{wa(JSON.parse(e))}catch(r){wa([])}else wa([]);Fi(""),ps(""),vs(""),qs(""),mr(null),yr(null),jr(null),Sr(null),zr(null),Cr(null),Ar(null)}localStorage.setItem("studio_last_isolated_uid",t)},[Ut?.uid]);const[Ca,Ia]=a.useState(!1),[Aa,Ta]=a.useState(null);async function Ra(e,r){Date.now();if(!e||!r||!r.id)return!1;try{const a={};for(const[e,t]of Object.entries(r))if(null!=t&&"function"!=typeof t)if("assets"===e&&Array.isArray(t))a.assets=t.map(e=>{const t={};for(const[s,i]of Object.entries(e))if(void 0!==i&&"function"!=typeof i)try{const e=JSON.stringify(i);e&&(t[s]=JSON.parse(e))}catch(r){}return t}).filter(Boolean);else try{const r=JSON.stringify(t);r&&(a[e]=JSON.parse(r))}catch(s){}let n=null;if(d?.currentUser)try{n=await d.currentUser.getIdToken(!0)}catch(i){}if(!n)return!1;const o=await fetch(`${t}/api/projects`,{method:"POST",headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{}},body:JSON.stringify({userId:e,project:{...a,id:String(r.id),updatedAt:(new Date).toISOString(),syncedAt:(new Date).toISOString()}})});if(!o.ok){const e=await o.json().catch(()=>({}));throw new Error(e.error||`HTTP ${o.status}`)}await o.json();return!0}catch(a){return n.error(`Save failed: ${a.message||"Network error"}`),!1}}async function Ua(e,t){if(e&&Array.isArray(t)&&0!==t.length){Ia(!0);try{let s=0;for(const i of t)if(i&&i.id)try{await Ra(e,i)&&s++}catch(r){}s>0?Ta(new Date):t.length>0&&d?.currentUser&&n.error("Sync failed - check your internet connection")}catch(s){n.error("Cloud sync failed. Projects saved locally.")}finally{Ia(!1)}}}a.useEffect(()=>{if(Ut?.uid&&0!==ja.length&&d?.currentUser)return ua.current&&clearTimeout(ua.current),ua.current=setTimeout(()=>{Ua(Ut?.uid,ja)},3e3),()=>{ua.current&&clearTimeout(ua.current)}},[ja,Ut?.uid,d?.currentUser]);const Ba=e=>{let t;t="function"==typeof e?e(Qr):e;const r=Xr.slice(0,es+1);r.push(t),Zr(r),ts(r.length-1),Kr(t)};a.useEffect(()=>{const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_help_${e}`,cs)},[cs,Ut?.uid]),a.useEffect(()=>{const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_prompt_${e}`,bs)},[bs,Ut?.uid]),a.useEffect(()=>{const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_transcript_${e}`,Gs)},[Gs,Ut?.uid]);const Pa=()=>{if(void 0===e||!e)return[];const t=ir.toLowerCase();return"pro"===t||"lifetime access"===t?e:"monthly"===t?e.filter(e=>"free"===e.tier||"monthly"===e.tier):e.filter(e=>"free"===e.tier)},Da=()=>{if(void 0===e||!e)return[];if(Ht)return[];const t=ir.toLowerCase();return"pro"===t||"lifetime access"===t?[]:"monthly"===t?e.filter(e=>"pro"===e.tier):e.filter(e=>"free"!==e.tier)};a.useEffect(()=>{localStorage.setItem("studio_user_plan",ir)},[ir]);const[Wa,$a]=a.useState(null),[Ea,_a]=a.useState(!1),[La,Oa]=a.useState(null),[Ma,Fa]=a.useState(!1);a.useEffect(()=>{const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest",t=localStorage.getItem(`studio_project_id_${e}`);if(t&&ja&&!hr){const e=ja.find(e=>e.id===t);e&&yr(e)}},[ja,Ut?.uid]),a.useEffect(()=>{const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";hr?.id?localStorage.setItem(`studio_project_id_${e}`,hr.id):localStorage.removeItem(`studio_project_id_${e}`)},[hr,Ut?.uid]);const[Ha,Va]=a.useState(!1);a.useEffect(()=>{Ha&&hr&&(za("project_canvas"),Va(!1))},[Ha,hr]);const[Ga,qa]=a.useState(!1),[Ya,Ja]=a.useState(0),[Qa,Ka]=a.useState(null),[Xa,Za]=a.useState(null),[en,tn]=a.useState(null),[rn,sn]=a.useState(!1),[an,nn]=a.useState({}),on=Xs||{},ln=Array.isArray(on.assets)?on.assets.filter(Boolean):[],dn="number"!=typeof on.currentIndex||isNaN(on.currentIndex)?0:on.currentIndex,cn=ln.length>0?Math.max(0,Math.min(dn,ln.length-1)):0,pn=e=>e?e.audioUrl?"audio":e.videoUrl?"video":e.imageUrl?"image":(e.type||"text").toLowerCase():"text",xn=e=>{if(!e)return null;const t=e.content||e.snippet||e.output||e.description||e.title;return"string"==typeof t&&t.trim().length>0?t:null};a.useEffect(()=>()=>{va.current&&(va.current.pause(),va.current.src="")},[Xs]);const gn=(e,t)=>{hn.current&&clearTimeout(hn.current),ys(null),hn.current=setTimeout(()=>{try{if(!e)return void n.error("Unable to preview: asset not found");if(mn.current)return;mn.current=!0;const r=Array.isArray(t)?t.filter(e=>e&&(e.id||e.audioUrl||e.videoUrl||e.imageUrl||e.content)):[];if(0===r.length)return n.error("No assets available to preview"),void(mn.current=!1);if(e.audioUrl||e.imageUrl||e.videoUrl){const t=r.filter(e=>e?.audioUrl||e?.imageUrl||e?.videoUrl);if(0===t.length)return n.error("No media content to preview. Generate some assets first."),void(mn.current=!1);const s=t.findIndex(t=>t?.id===e?.id),i=s>=0&&s<t.length?s:0,a=t[i];if(!a)return n.error("Media asset not found. It may have been moved or deleted."),void(mn.current=!1);di(!0),Zs({type:a.audioUrl?"audio":a.videoUrl?"video":"image",url:a.audioUrl||a.videoUrl||a.imageUrl,title:a.title||"Untitled",asset:a,assets:t,currentIndex:i})}else{di(!1);const t=r.findIndex(t=>t?.id===e?.id),s=t>=0&&t<r.length?t:0;if(!r[s])return n.error("Asset not found. Try refreshing the page."),void(mn.current=!1);Zs({type:(e.type||"text").toLowerCase(),url:null,content:e.content||e.snippet||e.output||"",title:e.title||"Untitled",asset:e,assets:r,currentIndex:s})}setTimeout(()=>{mn.current=!1},500)}catch(r){n.error("Preview failed: asset data is missing or corrupted. Try refreshing the page."),mn.current=!1}},100)},un=e=>{if(!e)return;const t=!!(e.imageUrl||e.audioUrl||e.videoUrl||e.lyricsVocal);di(t),Zs(null),ti(!1),setTimeout(()=>{ys(e)},50)},mn=a.useRef(!1),hn=a.useRef(null),[yn,bn]=a.useState(null),[vn,fn]=a.useState(""),[jn,wn]=a.useState("gemini-2.0-flash");a.useEffect(()=>{localStorage.getItem("studio_onboarding_v3")||l||qa(!0)},[l]);const[Sn,kn]=a.useState(!1),[zn,Nn]=a.useState(!1),[Cn,In]=a.useState(1);a.useEffect(()=>{xe&&qr(!0)},[xe]),a.useEffect(()=>{if(!Rt)return;if(["agents","mystudio","activity","news","resources","marketing","hub"].includes(Rt))return void za(Rt);const t=e?.find(e=>e.id===Rt);t&&(mr(t),za("agents"),qa(!1))},[Rt]),a.useEffect(()=>{const e=async()=>{try{const e=await fetch(`${t}/health`);if(!e.ok)throw new Error("Backend unreachable");const r=await e.json();Vr({status:"healthy",message:"All Systems Operational",details:r})}catch(e){Vr({status:"maintenance",message:"System Under Maintenance",details:e.message})}};e();const r=setInterval(e,6e4);return()=>clearInterval(r)},[]),a.useEffect(()=>{yt&&pa.current&&pa.current(yt)},[yt]);const An=e=>{la.current&&la.current(e)};a.useEffect(()=>{if("project_canvas"===lr&&!ur&&hr){const e=Array.isArray(hr.assets)?hr.assets.filter(Boolean):[];!ri&&e.length>0&&e[0]&&si(e[0])}else if("project_canvas"!==lr){fa.current&&fa.current.pause();const e=document.querySelector(".studio-monitor-panel video");e&&e.pause()}},[lr,ur,hr,ri]),a.useEffect(()=>{const e=e=>{if("Space"===e.code&&hs&&!ii){const t=e.target.tagName.toLowerCase();if("input"===t||"textarea"===t)return;e.preventDefault();const r=document.querySelector(".modal-content video")||document.querySelector(".modal-content audio");r&&(r.paused?r.play().catch(()=>{}):r.pause())}};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[hs,ii]);const[Tn,Rn]=a.useState({name:"",category:"",description:"",language:"English",style:"Modern Hip-Hop",model:"Gemini 2.0 Flash",selectedAgents:[],socialHandle:"",socialBio:"",socialPlatform:"instagram"}),Un=a.useCallback(e=>{Rs(e),xa.current&&clearTimeout(xa.current),"saved"!==e&&"error"!==e||(xa.current=setTimeout(()=>{Rs("idle")},3e3))},[]),Bn=a.useCallback((e="light")=>{if("vibrate"in navigator)switch(e){case"light":default:navigator.vibrate(10);break;case"medium":navigator.vibrate(25);break;case"heavy":navigator.vibrate([30,10,30]);break;case"success":navigator.vibrate([10,50,20]);break;case"error":navigator.vibrate([50,30,50,30,50])}},[]),Pn=a.useCallback((e,t)=>{const r=`save-asset-${t?.id||Date.now()}`;ga.current.has(r)||(ga.current.add(r),Bn("light"),Un("saving"),wa(s=>{const i=s.map(s=>{if(s.id===e){const e=s.assets||[];return e.some(e=>e.id===t.id||e.content===t.content&&e.type===t.type&&e.agent===t.agent)?(ga.current.delete(r),Un("idle"),s):{...s,assets:[...e,t],progress:Math.min(100,(s.progress||0)+10),updatedAt:(new Date).toISOString()}}return s}),a=i.find(t=>t.id===e);return a&&Ut&&d?.currentUser?Ra(Ut?.uid,a).then(e=>{e?(Un("saved"),Bn("success")):Un("idle")}).catch(e=>{Un("error"),Bn("error")}).finally(()=>{ga.current.delete(r)}):(Un("saved"),Bn("success"),ga.current.delete(r)),i}),n.success("Asset saved to project"))},[Ut,Ra,Un,Bn]),Dn=(e,t)=>{if(("number"==typeof rr?rr:0)<2)return n.error("Not enough credits. You need 2 credits to create a project."),void Yn(!0);const r={id:String(Date.now()),name:e,category:"pro",description:`Created from ${t.agentName||t.agent||"AI Agent"}`,agents:[t.agent],workflow:"custom",date:(new Date).toLocaleDateString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};n.success("Project created! -2 credits",{icon:"âœ¨"}),wa(e=>e.find(e=>e.name===r.name&&Date.now()-parseInt(e.id)<1e4)?e:[r,...e]),yr(r),Ut&&Ra(Ut?.uid,r).catch(e=>{})};a.useEffect(()=>{if(d){const e=Ve(d,async e=>{if(e){if(e.providerData.some(e=>"password"===e.providerId)&&!e.emailVerified)return n.error("Please verify your email to access the studio."),await Le(d),localStorage.removeItem("studio_user_id"),Dt(!1),Bt(null),void _t(!1);localStorage.setItem("studio_user_id",e.uid),ma.current=e,Bt(e),Dt(!0),_t(!1);try{const t=await e.getIdToken();Ft(t)}catch(s){}const a=!!(r=e.email)&&jt.includes(r.toLowerCase());if(Vt(a),a&&(ar("Lifetime Access"),sr(999999),n.success("Welcome, Administrator!",{icon:"ðŸ”"})),c&&!a)try{const r=Oe(c,"users",e.uid),i=await Ge(r);if(i.exists()){const e=i.data(),t=e.credits||0;if(sr(t),Vi(e=>({...e,credits:t})),e.visualDnaUrl&&jr(e.visualDnaUrl),e.audioDnaUrl&&Sr(e.audioDnaUrl),e.videoDnaUrl&&zr(e.videoDnaUrl),e.lyricsDnaUrl&&Cr(e.lyricsDnaUrl),e.voiceSampleUrl&&Ar(e.voiceSampleUrl),"active"===e.subscriptionStatus&&e.tier){const t={creator:"monthly",studio:"pro",lifetime:"lifetime"}[e.tier]||e.tier;ar(t),localStorage.setItem("studio_user_plan",t)}else if(e.plan)ar(e.plan),localStorage.setItem("studio_user_plan",e.plan);else if("active"===e.subscription?.status){const t=e.subscription.plan||"monthly";ar(t),localStorage.setItem("studio_user_plan",t)}}const a=await async function(e){if(Date.now(),!e)return[];try{let r=null;if(d?.currentUser)try{r=await d.currentUser.getIdToken(!0)}catch(s){}const i=await fetch(`${t}/api/projects?userId=${encodeURIComponent(e)}`,{method:"GET",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}}});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`HTTP ${i.status}`)}return((await i.json()).projects||[]).filter(e=>e&&"object"==typeof e).map(e=>({...e,id:e.id||String(Date.now())+Math.random().toString(36).substr(2,5),createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString(),assets:Array.isArray(e.assets)?e.assets.filter(Boolean):[],agents:Array.isArray(e.agents)?e.agents.filter(Boolean):[]}))}catch(r){return[]}}(e.uid);a.length>0?(wa(e=>{const t=((e,t)=>{const r=new Map,s=Array.isArray(e)?e:[],i=Array.isArray(t)?t:[];for(const a of i)a&&a.id&&r.set(a.id,a);for(const a of s)if(a&&a.id)if(r.has(a.id)){const e=r.get(a.id);new Date(a.updatedAt||a.createdAt||0).getTime()>new Date(e.updatedAt||e.createdAt||0).getTime()&&r.set(a.id,a)}else r.set(a.id,a);return Array.from(r.values()).sort((e,t)=>{const r=new Date(e.updatedAt||e.createdAt||0).getTime();return new Date(t.updatedAt||t.createdAt||0).getTime()-r})})(e,a);return t}),n.success(`Synced ${a.length} projects from cloud`)):ja.length>0&&Ua(e.uid,ja)}catch(i){}}else{ma.current=null;const e=localStorage.getItem("studio_user_id"),t="true"===localStorage.getItem("studio_guest_mode");e&&Lt<5?(Ot(e=>e+1),Dt(!0),_t(!0),setTimeout(()=>{!ma.current&&Lt>=4&&("true"!==localStorage.getItem("studio_guest_mode")&&(Bt(null),Ft(null),sr(3),localStorage.removeItem("studio_user_id"),Dt(!1)),_t(!1),Ot(0))},5e3)):t?(Bt(null),Ft(null),Dt(!1),$t(!0),_t(!1)):(Bt(null),Ft(null),sr(3),localStorage.removeItem("studio_user_id"),Dt(!1),_t(!1),Ot(0))}var r});return()=>e()}_t(!1)},[]),a.useEffect(()=>{const e=()=>{qt(!0)};return window.addEventListener("openAuthModal",e),()=>window.removeEventListener("openAuthModal",e)},[]);const Wn=a.useCallback(()=>{ha.current&&clearTimeout(ha.current),Ut&&!Wt&&(ha.current=setTimeout(()=>{n("Session expired for security. Please sign in again.",{icon:"ðŸ”’"}),ca.current&&ca.current()},18e5))},[Ut,Wt]);async function $n(){try{d&&await Le(d)}catch(t){}Bt(null),Ft(null),sr(3),Vt(!1),ar(""),localStorage.removeItem("studio_user_id"),localStorage.removeItem("studio_user_plan"),localStorage.removeItem("studio_guest_mode"),localStorage.removeItem("studio_agents_projects"),localStorage.removeItem("studio_active_tab"),localStorage.removeItem("studio_dashboard_tab"),localStorage.removeItem("studio_selected_agent_id"),localStorage.removeItem("studio_news_search"),localStorage.removeItem("studio_help_search"),localStorage.removeItem("studio_preview_prompt"),localStorage.removeItem("studio_voice_transcript"),localStorage.removeItem("studio_selected_project_id"),e&&Array.isArray(e)&&e.forEach(e=>{localStorage.removeItem(`studio_workflow_prompt_${e.id}`),localStorage.removeItem(`studio_workflow_output_${e.id}`)}),sessionStorage.clear(),Dt(!1),$t(!1),Kt(""),Zt(""),qt(!1),n.success("Signed out securely",{icon:"ðŸ‘‹"}),i?.()}a.useEffect(()=>{if(!Ut)return;const e=["mousedown","keydown","scroll","touchstart"],t=()=>Wn();return e.forEach(e=>{window.addEventListener(e,t,{passive:!0})}),Wn(),()=>{e.forEach(e=>{window.removeEventListener(e,t)}),ha.current&&clearTimeout(ha.current)}},[Ut,Wn]),a.useEffect(()=>{ma.current=Ut},[Ut]),a.useEffect(()=>{ca.current=$n},[]);const En=a.useCallback(async e=>{if(c)try{const t=Oe(c,"users",e),r=await Ge(t);if(r.exists()){const e=r.data().credits||0;sr(e),Vi(t=>({...t,credits:e}))}else await qe(t,{credits:3,tier:"free",createdAt:new Date}),sr(3)}catch(t){}},[c]),_n=async(e,r)=>{if(!Ut)return n.error("Please log in to purchase credits"),void qt(!0);const s=n.loading(`Redirecting to secure checkout for ${e} credits...`);try{const r=await fetch(`${t}/api/stripe/create-credits-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:parseInt(e),userId:Ut?.uid,userEmail:Ut?.email,successUrl:window.location.origin+window.location.pathname+"#/studio?payment=success&type=credits&amount="+e,cancelUrl:window.location.origin+window.location.pathname+"#/studio?payment=cancelled"})}),i=await r.json();n.dismiss(s),i.url?window.location.href=i.url:i.error?n.error(i.error):n.error("Could not create payment session. Please try again.")}catch(i){n.dismiss(s),n.error("Payment system unavailable. Please contact support.")}};async function Ln(){if(!d)return void n.error("Authentication service unavailable");tr(!0);const e=n.loading("Signing in with Google...");try{const t=new Ye,r=await Je(d,t);qt(!1),n.success("Welcome back!",{id:e}),s.login("google"),En(r.user.uid).catch(e=>{}),Ps&&da.current&&da.current(Ps)}catch(t){n.dismiss(e),"auth/popup-closed-by-user"===t.code?n("Sign-in cancelled",{icon:"ðŸ‘‹"}):"auth/unauthorized-domain"===t.code?n.error(`Domain not authorized. Add ${window.location.hostname} in Firebase Console.`):n.error(t.message)}finally{tr(!1)}}async function On(e){if(e.preventDefault(),d)if(Qt&&Xt){if("signup"===Yt){const e=(e=>{const t=[];return e.length<8&&t.push("At least 8 characters"),/[A-Z]/.test(e)||t.push("One uppercase letter"),/[a-z]/.test(e)||t.push("One lowercase letter"),/[0-9]/.test(e)||t.push("One number"),t})(Xt);if(e.length>0)return void n.error(`Password requires: ${e.join(", ")}`)}tr(!0);try{let e;if("signup"===Yt){e=await Qe(d,Qt,Xt);try{return await Ke(e.user),n.success("Account created! Please check your inbox and verify your email to log in.",{duration:8e3}),await Le(d),tr(!1),void Jt("login")}catch(t){return n.error("Account created, but could not send verification email. Please try logging in to resend."),await Le(d),void tr(!1)}s.signUp("email")}else{if(e=await Xe(d,Qt,Xt),!e.user.emailVerified){n.error("Please verify your email address before logging in.",{duration:4e3});try{await Ke(e.user),n.success("A new verification link has been sent to your inbox.",{duration:5e3})}catch(r){}return await Le(d),void tr(!1)}n.success("Welcome back!"),s.login("email")}await En(e.user.uid),qt(!1),Kt(""),Zt(""),Ps&&da.current&&da.current(Ps)}catch(i){"auth/email-already-in-use"===i.code?n.error("Email already in use. Try logging in."):"auth/wrong-password"===i.code||"auth/user-not-found"===i.code?n.error("Invalid email or password"):"auth/weak-password"===i.code?n.error("Password should be at least 8 characters with uppercase, lowercase, and numbers"):n.error(i.message)}finally{tr(!1)}}else n.error("Please enter email and password");else n.error("Authentication service unavailable")}const Mn=async()=>{if(Qt){tr(!0);try{await He(d,Qt),n.success("Password reset email sent!"),Jt("login")}catch(e){n.error(e.message)}finally{tr(!1)}}else n.error("Please enter your email first")};async function Fn(){Or(!0),Fr(null);try{let e;if(!d?.currentUser)throw new Error("You must be logged in to access admin stats");e=await d.currentUser.getIdToken(!0);const[r,s]=await Promise.all([fetch(`${t}/api/admin/stats`,{headers:{Authorization:`Bearer ${e}`}}),fetch(`${t}/api/status/apis`)]);if(!r.ok)throw new Error("Failed to fetch platform stats");if(!s.ok)throw new Error("Failed to fetch API health status");const i=await r.json(),a=await s.json();$r(i),_r(a)}catch(e){Fr(e.message)}finally{Or(!1)}}a.useEffect(()=>{const e=Ut?.uid||localStorage.getItem("studio_user_id")||"guest";localStorage.setItem(`studio_dash_${e}`,bi)},[bi,Ut?.uid]),a.useEffect(()=>{"admin"===bi&&Ht&&Fn()},[bi,Ht]),a.useEffect(()=>{localStorage.setItem("studio_managed_agents",JSON.stringify(fi))},[fi]),a.useEffect(()=>{localStorage.setItem("studio_app_settings",JSON.stringify(wi))},[wi]);const Hn=e=>{Si(t=>({...t,[e]:!t[e]}))},[Vn,Gn]=a.useState(!1),[qn,Yn]=a.useState(!1),[Jn,Qn]=a.useState(null),[Kn,Xn]=a.useState("card"),[Zn,eo]=a.useState(!1);async function to(e){if(!Pt||!Ut)return n.error("Please log in first"),void qt(!0);const r={Creator:"creator","Studio Pro":"studio","Lifetime Access":"lifetime"}[e.name]||"creator";try{n.loading("Redirecting to checkout...");const e=await fetch(`${t}/api/stripe/create-checkout-session`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tier:r,userId:Ut?.uid,userEmail:Ut?.email,successUrl:window.location.origin+"?payment=success",cancelUrl:window.location.origin+"?payment=cancelled"})}),s=await e.json();n.dismiss(),s.url?window.location.href=s.url:s.error?n.error(s.error):n.error("Could not create checkout session")}catch(s){n.dismiss(),n.error("Payment system unavailable. Please try again later.")}}a.useEffect(()=>{localStorage.setItem("studio_agents_payments",JSON.stringify(ta)),localStorage.setItem("studio_agents_banks",JSON.stringify(sa))},[ta,sa]),a.useEffect(()=>{localStorage.setItem("studio_agents_socials",JSON.stringify(Gi)),localStorage.setItem("studio_agents_storage",JSON.stringify(Zi)),Ji&&localStorage.setItem("studio_agents_twitter_user",Ji),Ki&&localStorage.setItem("studio_agents_meta_name",Ki)},[Gi,Ji,Ki,Zi]),a.useEffect(()=>{const e=new URLSearchParams(window.location.search);if("true"===e.get("twitter_connected")){const t=e.get("twitter_username");qi(e=>({...e,twitter:!0})),Qi(t);const r=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,r),n.success(`Connected to X/Twitter as @${t}!`)}if("true"===e.get("meta_connected")){const t=e.get("meta_name");qi(e=>({...e,instagram:!0,facebook:!0})),Xi(t);const r=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,r),n.success(`Connected to Meta as ${t}!`)}const t=e.get("payment");if("success"===t){const t=e.get("type")||"subscription",r=e.get("amount");"credits"===t?(n.success(`Success! ${r||"Your"} credits have been added.`,{icon:"ðŸ’°"}),Ut?.uid&&En(Ut.uid)):n.success("Your subscription is now active!",{icon:"âœ¨"});const s=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,s)}else if("cancelled"===t){n.error("Payment was cancelled.");const e=window.location.pathname+window.location.hash;window.history.replaceState({},document.title,e)}},[Ut,En]);const ro=e=>{Ds(e),Pt?to(e):qt(!0)};pa.current=ro,da.current=to;const[so,io]=a.useState(null);a.useEffect(()=>{so&&ur&&"agents"===lr&&setTimeout(()=>{const e=ba.current||document.querySelector(".studio-textarea");e&&(e.value=so,e.focus()),io(null)},100)},[so,ur,lr]);const ao=()=>{if(Ws)return ya.current&&ya.current.stop(),$s(!1),void qs("");const t=window.SpeechRecognition||window.webkitSpeechRecognition;if(!t)return void n.error("Speech recognition not supported. Try Chrome or Safari.");const r=new t;r.lang="English"===Qs.language?"en-US":"Spanish"===Qs.language?"es-ES":"French"===Qs.language?"fr-FR":"German"===Qs.language?"de-DE":"Italian"===Qs.language?"it-IT":"Portuguese"===Qs.language?"pt-PT":"Japanese"===Qs.language?"ja-JP":"Korean"===Qs.language?"ko-KR":"Chinese"===Qs.language?"zh-CN":"en-US",r.continuous=!0,r.interimResults=!0,r.onstart=()=>{$s(!0),n.success("ðŸŽ¤ Listening... Say a command or dictate your prompt",{duration:2e3})},r.onend=()=>{$s(!1),qs("")},r.onerror=e=>{$s(!1),qs(""),"aborted"!==e.error&&n.error(`Voice error: ${e.error}`)},r.onresult=t=>{let r="",s="";for(let e=t.resultIndex;e<t.results.length;e++){const i=t.results[e][0].transcript;t.results[e].isFinal?s+=i:r=i}if(r&&qs(r),!s)return;const i=s.toLowerCase().trim();if(qs(""),Js({text:s,time:(new Date).toLocaleTimeString()}),i.includes("stop listening")||i.includes("stop voice")||"stop"===i||"cancel"===i)return ya.current&&ya.current.stop(),$s(!1),void no("Voice control stopped.");if(i.includes("open")||i.includes("launch")){const t=i.replace("open","").replace("launch","").trim(),r=void 0!==e&&e?e.find(e=>e.name.toLowerCase().includes(t)):null;if(r)return mr(r),za("agents"),n.success(`ðŸš€ Launching ${r.name}`),void no(`Launching ${r.name}.`)}if(i.includes("go to")||i.includes("show me")||i.includes("navigate")){let e=!1;if(i.includes("dashboard")||i.includes("studio")||i.includes("home")?(za("mystudio"),n.success("ðŸ“Š Dashboard"),no("Navigating to your dashboard."),e=!0):i.includes("hub")||i.includes("projects")?(za("hub"),n.success("ðŸ“ Project Hub"),no("Opening the Project Hub."),e=!0):i.includes("news")?(za("news"),n.success("ðŸ“° Industry Pulse"),no("Checking the latest industry pulse."),e=!0):i.includes("help")||i.includes("support")?(za("support"),n.success("ðŸ’¡ Help Center"),no("How can I help you today?"),e=!0):(i.includes("agents")||i.includes("tools"))&&(za("agents"),n.success("ðŸ¤– Agents"),no("Viewing all available agents."),e=!0),e)return}if(i.includes("switch theme")||i.includes("toggle theme")||i.includes("light mode")||i.includes("dark mode")){const e="dark"===cr?"light":"dark";return pr(e),localStorage.setItem("studio_theme",e),n.success(`ðŸŽ¨ ${"dark"===e?"Dark":"Light"} mode`),void no(`Switching to ${e} mode.`)}if("generate"===i||i.includes("start generation")||i.includes("create now")||i.includes("make it")){const e=ba.current||document.querySelector(".studio-textarea");return void(e&&e.value.trim()?(oa.current&&oa.current(),n.success("âš¡ Generating..."),no("Starting generation.")):(n.error("Please enter a prompt first"),no("Please enter a prompt first.")))}if(i.includes("clear prompt")||i.includes("clear text")||i.includes("start over")||"clear"===i){const e=ba.current||document.querySelector(".studio-textarea");if(e){e.value="";try{e.dispatchEvent(new Event("input",{bubbles:!0}))}catch(o){const t=document.createEvent("Event");t.initEvent("input",!0,!0),e.dispatchEvent(t)}n.success("ðŸ—‘ï¸ Prompt cleared"),no("Prompt cleared.")}return}if(i.includes("read back")||i.includes("read prompt")||i.includes("what did i write")||i.includes("read it")){const e=ba.current||document.querySelector(".studio-textarea");return void(e&&e.value.trim()?no(e.value):no("The prompt is empty."))}if(i.includes("reference")&&(i.includes("dna")||i.includes("asset"))){if(i.includes("visual")||i.includes("image"))return document.getElementById("visual-dna-input")?.click(),void no("Please select a visual reference image.");if(i.includes("audio")||i.includes("sound")||i.includes("music"))return document.getElementById("audio-dna-input")?.click(),void no("Please select an audio reference file.");if(i.includes("lyrics")||i.includes("text")||i.includes("context"))return document.getElementById("lyrics-dna-input")?.click(),void no("Please select a lyrics or text reference file.");if(i.includes("voice")||i.includes("clone"))return document.getElementById("voice-dna-input")?.click(),void no("Please select a voice sample to clone.")}if(i.includes("set genre to")||i.includes("change genre to")){const e=i.replace("set genre to","").replace("change genre to","").trim(),t=["r&b","pop","hip-hop","soul","country","rock","jazz","folk","metal","blues"].find(t=>e.includes(t));if(t){let e=t;return"folk"===t&&(e="country"),"metal"===t&&(e="rock"),"blues"===t&&(e="jazz"),Ks(t=>({...t,genre:e})),n.success(`ðŸŽ¶ Genre set to ${e.toUpperCase()}`),void no(`Setting genre to ${e}.`)}}if(i.includes("set duration to")||i.includes("change duration to")){const e=i.replace("set duration to","").replace("change duration to","").trim();let t=30;return e.includes("15 seconds")?t=15:e.includes("30 seconds")?t=30:e.includes("1 minute")||e.includes("60 seconds")?t=60:e.includes("2 minute")||e.includes("120 seconds")?t=120:e.includes("3 minute")||e.includes("180 seconds")?t=180:e.includes("short")?t=15:e.includes("long")&&(t=180),Ks(e=>({...e,duration:t})),n.success(`â±ï¸ Duration set to ${t}s`),void no(`Setting generation length to ${t} seconds.`)}if(i.includes("show commands")||i.includes("voice commands")||i.includes("what can i say")||i.includes("help commands"))return Vs(!0),void no("Here are the available voice commands.");if(i.includes("add payment")||i.includes("billing")||i.includes("manage card"))return za("mystudio"),Gn(!0),void no("Opening payment management.");const a=ba.current||document.querySelector(".studio-textarea");if(a){const e=(a.value+" "+s).trim();a.value=e;try{a.dispatchEvent(new Event("input",{bubbles:!0}))}catch(o){const e=document.createEvent("Event");e.initEvent("input",!0,!0),a.dispatchEvent(e)}n.success(`âœï¸ Added: "${s.substring(0,30)}${s.length>30?"...":""}"`,{duration:1500})}},ya.current=r,r.start()};a.useEffect(()=>{if(ur&&Ma){const e=setTimeout(()=>{ao(),Fa(!1)},500);return()=>clearTimeout(e)}},[ur,Ma]);const no=e=>{if(Es&&(!e||"string"!=typeof e))return window.speechSynthesis.cancel(),void _s(!1);const t="string"==typeof e?e:ba.current?.value||document.querySelector(".studio-textarea")?.value;if(!t)return;window.speechSynthesis.cancel();const r=e=>{const r=new SpeechSynthesisUtterance(t);let s=null;const i="English"===Qs.language?"en":"Spanish"===Qs.language?"es":"French"===Qs.language?"fr":"German"===Qs.language?"de":"Italian"===Qs.language?"it":"Portuguese"===Qs.language?"pt":"Japanese"===Qs.language?"ja":"Korean"===Qs.language?"ko":"Chinese"===Qs.language?"zh":"en",a=e.filter(e=>e.lang.startsWith(i));"UK"===Qs.region?s=a.find(e=>e.name.includes("UK")||e.name.includes("British")):"AU"===Qs.region?s=a.find(e=>e.name.includes("Australia")):"IN"===Qs.region&&(s=a.find(e=>e.name.includes("India"))),s||(s="female"===Qs.gender?a.find(e=>e.name.toLowerCase().includes("female")||e.name.toLowerCase().includes("samantha")||e.name.toLowerCase().includes("victoria")):a.find(e=>e.name.toLowerCase().includes("male")||e.name.toLowerCase().includes("alex")||e.name.toLowerCase().includes("daniel"))),s&&(r.voice=s),r.lang=i,r.rate=.9,r.pitch="female"===Qs.gender?1.1:.9,r.onstart=()=>_s(!0),r.onend=()=>_s(!1),r.onerror=e=>{_s(!1)},window.speechSynthesis.speak(r)};let s=window.speechSynthesis.getVoices();s.length>0?r(s):window.speechSynthesis.onvoiceschanged=()=>{s=window.speechSynthesis.getVoices(),r(s),window.speechSynthesis.onvoiceschanged=null}};la.current=no;const oo=async(e,r="Ghostwriter")=>{if(!e||0===e.trim().length)return void n.error("No text content to vocalize");const s=hr;vr(!0);const i=n.loading("Creating AI vocal (~60s)...");try{const o={"Content-Type":"application/json"};if(Pt&&d?.currentUser)try{const e=await d.currentUser.getIdToken();o.Authorization=`Bearer ${e}`}catch(a){}const l=e.substring(0,1500),c=await fetch(`${t}/api/generate-speech`,{method:"POST",headers:o,body:JSON.stringify({prompt:l,voice:Qs.voiceName||"rapper-male-1",style:Qs.style||"rapper",rapStyle:Qs.rapStyle||"aggressive",genre:Qs.genre||"hip-hop",speakerUrl:Qs.speakerUrl})}),p=await c.json();if(p.audioUrl){if(hs){const e={...hs,audioUrl:p.audioUrl,mimeType:p.mimeType||"audio/wav",type:"vocal",vocalSnippet:"ðŸŽ¤ AI Vocal created from lyrics",projectSnapshot:s,updatedAt:(new Date).toISOString()};return ys(e),ur?.id&&As(t=>({...t,[ur.id]:e})),n.success("AI vocal added to your creation!",{id:i}),e}{const e={id:String(Date.now()),title:`AI Vocal - ${r}`,agent:r,type:"vocal",audioUrl:p.audioUrl,mimeType:p.mimeType||"audio/wav",snippet:`ðŸŽ¤ AI Vocal: "${l.substring(0,50)}..."`,projectSnapshot:s,createdAt:(new Date).toISOString()};return un(e),n.success("AI vocal created!",{id:i}),e}}throw p.error?new Error(p.error):new Error("No audio URL returned")}catch(o){return n.error(o.message||"Failed to create AI vocal",{id:i}),null}finally{vr(!1)}},lo=(e,t)=>{window.confirm("Are you sure you want to remove this payment method?")&&("card"===t?ra(t=>t.filter(t=>t.id!==e)):ia(t=>t.filter(t=>t.id!==e)),no("Payment method removed."))},co=e=>{e.preventDefault();const t=new FormData(e.target);if("card"===Kn){const e=t.get("cardNumber"),r=t.get("expiry");if(e.length<12)return void n.error("Please enter a valid card number");const s={id:Jn?Jn.item.id:`pm_${Date.now()}`,type:"Visa",last4:e.slice(-4),expiry:r,isDefault:!!Jn&&Jn.item.isDefault};Jn?(ra(e=>e.map(e=>e.id===s.id?s:e)),no("Card updated successfully.")):(ra(e=>[...e,s]),no(`Successfully added your card ending in ${s.last4}.`))}else{const e=t.get("bankName"),r=t.get("accountNumber"),s={id:Jn?Jn.item.id:`ba_${Date.now()}`,bankName:e,last4:r.slice(-4),type:"Checking"};Jn?(ia(e=>e.map(e=>e.id===s.id?s:e)),no("Bank account updated successfully.")):(ia(e=>[...e,s]),no(`Successfully linked your ${s.bankName} account.`))}Gn(!1),Qn(null)},po=async()=>{const e=ba.current||document.querySelector(".studio-textarea");if(e&&e.value&&"English"!==Qs.language)try{const r=await fetch(`${t}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e.value,targetLanguage:"English",sourceLanguage:Qs.language})}),s=await r.json();s.translatedText&&(e.value=s.translatedText,n.success("Prompt translated to English!"))}catch(r){}},xo=async(e,r)=>{if(Tr[e])return;const s=r.target.files?.[0];if(!s)return;if(s.size>10485760)return void n.error("File too large (max 10MB)");Rr(t=>({...t,[e]:!0}));const i=n.loading(`Uploading ${e} DNA...`,{id:`upload-dna-${e}`});try{const r=Ut?await Ut.getIdToken():null,a={"Content-Type":"application/json"};r&&(a.Authorization=`Bearer ${r}`);const o=new FileReader;o.readAsDataURL(s),o.onload=async()=>{try{const l=o.result,d=await fetch(`${t}/api/upload-asset`,{method:"POST",headers:a,body:JSON.stringify({data:l,fileName:`${e}-dna-${Date.now()}-${s.name.replace(/\s+/g,"-")}`,mimeType:s.type,assetType:"visual"===e||"video"===e?"image":"audio"===e?"audio":"document"})}),p=await d.json();if(!d.ok||!p.url)throw new Error(p.error||"Upload failed");{const t=p.url;if("visual"===e&&jr(t),"audio"===e&&Sr(t),"video"===e&&zr(t),"lyrics"===e&&Cr(t),n.success(`${e.charAt(0).toUpperCase()+e.slice(1)} DNA Attached!`,{id:i}),Ut?.uid)try{const r=Oe(c,"users",Ut?.uid);await Me(r,{[`${e}DnaUrl`]:t,lastDnaUpdate:Date.now()})}catch(r){}n.success(`${"video"===e?"Image":e.charAt(0).toUpperCase()+e.slice(1)} DNA attached!`,{id:i})}}catch(l){n.error(`Failed to upload ${e} DNA`,{id:i})}finally{Rr(t=>({...t,[e]:!1}))}},o.onerror=()=>{n.error("Failed to read file"),Rr(t=>({...t,[e]:!1}))}}catch(a){n.error("Upload failed",{id:i}),Rr(t=>({...t,[e]:!1}))}},go=async e=>{if(Ur)return;const r=e.target.files[0];if(!r)return;Br(!0);const s=n.loading("Cloning voice sample...",{id:"voice-upload"});try{const e=Ut?await Ut.getIdToken():null,i={"Content-Type":"application/json"};e&&(i.Authorization=`Bearer ${e}`);const a=new FileReader;a.readAsDataURL(r),a.onload=async()=>{try{const o=a.result,l=await fetch(`${t}/api/upload-asset`,{method:"POST",headers:i,body:JSON.stringify({data:o,fileName:`voice-cloned-${Date.now()}-${r.name.replace(/\s+/g,"-")}`,mimeType:r.type,assetType:"audio"})}),d=await l.json();if(!l.ok||!d.url)throw new Error(d.error||"Upload failed");{const t=d.url;if(Ar(t),Ut?.uid)try{const e=Oe(c,"users",Ut?.uid);await Me(e,{voiceSampleUrl:t,lastVoiceUpdate:Date.now()})}catch(e){}n.success("Voice cloned! Ready for speech.",{id:s})}}catch(o){n.error("Voice cloning failed",{id:s})}finally{Br(!1)}}}catch(i){n.error("Failed to read file"),Br(!1)}};async function uo(){if(Ns)return;const e=hr,r=ur;if(!r)return void n.error("Please select an agent first.");const i=r.id;if(r.comingSoon)return void n.error(`${r.name} is coming soon! Try Ghostwriter or Beat Maker instead.`,{icon:"ðŸš§"});let a=ba.current?.value||"";if(!a){const e=document.querySelectorAll(".studio-textarea");for(const t of e)if(t.value){a=t.value;break}}if(!a||!a.trim())return void n.error("Please enter a prompt first.");if((o=a)&&o.toLowerCase().trim()===et&&(tt(),1)){To(!0);return document.querySelectorAll(".studio-textarea").forEach(e=>e.value=""),ba.current&&(ba.current.value=""),void n.success('ðŸŽ­ Demo mode activated! Type "pitch" again to generate a demo response.',{duration:5e3,icon:"ðŸŽ¬"})}var o;if(st()){Cs(!0);const e=n.loading(`${r.name} is working... (Demo Mode)`);try{const t=await async function(e="default",t=""){const r=500+1500*Math.random();await new Promise(e=>setTimeout(e,r));const s=e.toLowerCase().replace(/\s+/g,"-");return(it[s]||it.default)+(t?`\n\n> Your input: "${t.slice(0,100)}${t.length>100?"...":""}"`:"")}(r.id,a);As(e=>({...e,[r.id]:{output:t,timestamp:Date.now(),isDemo:!0}})),za("result"),n.success("Demo response generated!",{id:e})}catch(m){n.error("Demo error: "+m.message,{id:e})}finally{Cs(!1)}return}if(!(()=>{if(Ht)return!0;if(Pt){if(rr>0)return!0;const e=(ir||"Free").toLowerCase();return"pro"===e||"lifetime access"===e}return nr<3})())return void(Pt?(n.error("Out of credits! Please purchase more or upgrade."),vi("subscription"),za("mystudio")):(n.error("You've used your 3 free generations! Sign in to continue."),qt(!0)));Cs(!0);const l="album"===i||"visual-art"===i||"cover-art"===i,p="video"===i||"video-creator"===i||"video-gen"===i||"sora"===i||"veo"===i,x=["beat","sample","music-gpt","beat-maker","beat-lab","beat-architect","beat-arch","drum-machine","drums","instrument","drop","film"].includes(i),g=["vocal","vocal-arch","vocal-gen","vocal-performer","vocal-performance","vocal-lab","vocal-labs","podcast","voiceover"].includes(i)&&"ghost"!==i,u=n.loading(p||g||x?`${r?.name||"AI"} is performing... (Typically 1-2 mins)`:`${r?.name||"AI"} is working...`);try{if(Pt&&Ut&&!Ht)try{const e=Oe(c,"users",Ut?.uid);await Me(e,{credits:Fe(-1)}),sr(e=>Math.max(0,e-1))}catch(h){}else Pt||or(e=>{const t=e+1;return localStorage.setItem("studio_free_uses",t),t});let o=a;if("English"!==Qs.language){const e=await fetch(`${t}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:o,targetLanguage:"English",sourceLanguage:Qs.language})}),r=await e.json();r.translatedText&&(o=r.translatedText)}let v="";"ghost"===i||"ghost-1"===i?v='Write ONLY the lyrics (verses, hooks, chorus). USE CLEAR LABELS like [Verse 1], [Chorus], [Bridge]. Do not include any "Here are the lyrics" text or preamble.':"vocal-arch"===i||"voiceover"===i?v='Describe the vocal performance style, tone, and character in detail (e.g., "Energetic female vocal with a soulful grit and rapid-fire delivery").':"beat"===i||"sample"===i?v="Describe a detailed beat/instrumental concept with BPM, key, and production elements. Be technical and descriptive for an AI music engine.":"album"===i?v="Describe a striking album cover or concept in detail for image generation. Focus on composition, colors, and mood.":"video-creator"===i&&(v="Write a creative image to video concept/storyboard with scene descriptions and visual transitions.");let f="/api/generate",j={prompt:o,systemInstruction:`You are ${r?.name||"AI Assistant"}, a professional AI agent in a high-end music studio. \n          Category: ${r?.category||"General"}. \n          Capabilities: ${(r?.capabilities||[]).join(", ")}.\n          ${r?.explanation||""}\n          ${v}`,model:jn,visualDnaUrl:fr,audioDnaUrl:wr,videoDnaUrl:kr,lyricsDnaUrl:Nr,voiceSampleUrl:Ir};l?(f="/api/generate-image",j={prompt:o,model:jn,referenceImage:fr}):p?(f="/api/generate-video",j={prompt:o,model:jn,referenceVideo:kr,durationSeconds:Qs.duration||30},(Sa||wr)&&(j.audioUrl=wr||(Sa?.isUpload?null:Sa?.audioUrl))):x?(f="/api/generate-audio",j={prompt:o,bpm:90,genre:Qs.genre||("beat"===i?"hip-hop":"sample"),mood:"creative",durationSeconds:Qs.duration||30,referenceAudio:wr}):g?(f="/api/generate-speech",j={prompt:o,voice:Qs.voiceName||"rapper-male-1",style:Qs.style||"spoken",genre:Qs.genre||"hip-hop",rapStyle:Qs.rapStyle||"aggressive",language:Qs.language||"English",duration:Qs.duration||30,speakerUrl:Ir||Qs.speakerUrl},(Sa||wr)&&(j.backingTrackUrl=wr||(Sa?.isUpload?null:Sa?.audioUrl))):Nr&&(j.referenceText=Nr);const w={"Content-Type":"application/json"};if(Pt&&d?.currentUser)try{const e=await d.currentUser.getIdToken();w.Authorization=`Bearer ${e}`}catch(m){}let S,k;try{S=await fetch(`${t}${f}`,{method:"POST",headers:w,body:JSON.stringify(j)})}catch(y){throw new Error("Connection failed. Please check your internet and make sure the server is online.")}const z=S.headers.get("content-type");if(!z||!z.includes("application/json")){await S.text();if(S.status>=500)throw new Error(`Server Error (${S.status}): The AI service is currently overloaded or undergoing maintenance. Please try again in a few minutes.`);throw new Error(`Invalid response format from server (Status ${S.status})`)}if(k=await S.json(),(l||p)&&(k.error||!S.ok)){const e={prompt:l?`Describe in vivid detail what album artwork would look like for: "${o}". Include colors, imagery, composition, mood, and style.`:`Describe in vivid detail what a music video would look like for: "${o}". Include scenes, camera movements, visual effects, and mood.`,systemInstruction:`You are a creative director providing detailed visual descriptions for ${l?"album artwork":"music videos"}.`},r=await fetch(`${t}/api/generate`,{method:"POST",headers:w,body:JSON.stringify(e)});if(!r.headers.get("content-type")?.includes("application/json"))throw new Error(`Visual fallback failed (${r.status})`);k=await r.json(),k._isFallback=!0,k._fallbackType=l?"image":"video"}if((x||g)&&(k.error||!S.ok)&&!k.audioUrl&&!k.description&&!k.output){const e={prompt:`Describe in vivid detail what a ${"beat"===i?"beat/instrumental":"audio sample"} would sound like for: "${o}". Include instruments, rhythm, tempo, mood, and production style.`,systemInstruction:"You are a music producer providing detailed audio descriptions."},r=await fetch(`${t}/api/generate`,{method:"POST",headers:w,body:JSON.stringify(e)});if(!r.headers.get("content-type")?.includes("application/json"))throw new Error(`Audio fallback failed (${r.status})`);k=await r.json(),k._isFallback=!0,k._fallbackType="audio"}let N={id:String(Date.now()),title:`${r?.name||"AI"} Result`,type:r?.category||"text",agent:r?.name||"Unknown Agent",date:"Just now",color:r?.colorClass||"",snippet:o,projectSnapshot:e};if(k._isFallback&&k.output)N.snippet=k.output,N.isFallback=!0,N.fallbackNote="image"===k._fallbackType?"ðŸŽ¨ Visual concept (image generation coming soon)":"ðŸŽ¬ Video concept (video generation coming soon)";else if("album"===i&&(k.predictions||k.images||k.output))if(k.output&&"string"==typeof k.output&&k.output.startsWith("http"))N.imageUrl=k.output,N.snippet=`ðŸŽ¨ Generated artwork for: "${o}"`,N.type="image";else{const e=k.predictions?.[0]?.bytesBase64Encoded||k.images?.[0],t=k.mimeType||"image/png";e&&(N.imageUrl=e.startsWith("data:")?e:`data:${t};base64,${e}`,N.snippet=`ðŸŽ¨ Generated artwork for: "${o}"`,N.type="image")}else if("video-creator"===i&&(k.predictions||k.video||k.output&&("video"===k.type||"image"===k.type))){if("image"===k.type&&k.output){const e=k.output,t=k.mimeType||"image/png";N.imageUrl=e.startsWith("data:")?e:`data:${t};base64,${e}`,N.snippet=`ðŸŽ¨ Generated visual concept for: "${o}" (Video unavailable)`,N.type="image"}else if(k.output&&"string"==typeof k.output)k.output.startsWith("data:")||k.output.startsWith("http")?N.videoUrl=k.output:N.videoUrl=`data:video/mp4;base64,${k.output}`,N.type="video",N.snippet=`ðŸŽ¬ Generated video for: "${o}"`;else{const e=k.predictions?.[0]||k.video;e&&(e.bytesBase64Encoded?(N.videoUrl=`data:video/mp4;base64,${e.bytesBase64Encoded}`,N.type="video"):e.videoUri&&(N.videoUrl=e.videoUri,N.type="video"),N.snippet=`ðŸŽ¬ Generated video for: "${o}"`)}Sa&&(N.audioUrl=Sa.audioUrl,N.audioTitle=Sa.title,N.snippet=`ðŸŽ¬ Music Video for: "${Sa.title}"`,ka(null))}else if((x||g)&&(k.audioUrl||k.audio||"synthesis"===k.type||k.description||k.message)){if(k.audioUrl){if(k.audioUrl.startsWith("http")||k.audioUrl.startsWith("data:")?N.audioUrl=k.audioUrl:N.audioUrl=`data:${k.mimeType||"audio/wav"};base64,${k.audioUrl}`,N.mimeType=k.mimeType||"audio/wav",k.isRealGeneration?(N.snippet=`ðŸŽµ AI Generated Beat: "${o}"`,n.success("Beat generated with MusicGen AI!")):k.isSample?(N.snippet="ðŸŽµ Sample Beat (Preview)",N.billingMessage=k.message,n.info(k.message||"Using sample - configure Replicate for custom beats",{duration:5e3,icon:"âš ï¸"})):N.snippet=`ðŸŽµ Generated audio for: "${o}"`,N.type="audio",N.isRealGeneration=k.isRealGeneration,N.isSample=k.isSample,N.bpm=k.bpm,N.genre=k.genre,"beat"===i)try{const e=await fetch(`${t}/api/generate-image`,{method:"POST",headers:w,body:JSON.stringify({prompt:`Album cover art for a ${k.genre||"hip-hop"} beat. ${o}. High quality, abstract, vibrant.`,aspectRatio:"1:1"})}),r=await e.json();(r.imageUrl||r.images?.[0])&&(N.imageUrl=r.imageUrl||r.images[0])}catch(b){}}else if(k.audio){const e=k.mimeType||"audio/wav";N.audioUrl=`data:${e};base64,${k.audio}`,N.mimeType=e,N.snippet=`ðŸŽµ Generated audio for: "${o}"`,N.type="audio"}else"synthesis"===k.type&&k.params?(N.synthesisParams=k.params,N.snippet=k.description||`Beat synthesis parameters for: "${o}"`,N.bpm=k.bpm,N.genre=k.genre,N.type="synthesis"):(N.snippet=k.description||k.message||k.output||`Audio concept for: "${o}"`,N.type="text");g&&Sa&&(N.backingTrackUrl=Sa.audioUrl,N.backingTrackTitle=Sa.title,N.snippet=`ðŸŽ¤ Vocals synced to: "${Sa.title}"`,N.type="vocal",ka(null))}else if(k.output){let e=k.output;if("English"!==Qs.language){const r=await fetch(`${t}/api/translate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,targetLanguage:Qs.language,sourceLanguage:"English"})}),s=await r.json();s.translatedText&&(e=s.translatedText)}N.snippet=e}else k.description||k.message?(N.snippet=k.description||k.message,N.type="text"):k.error?(N.snippet=`Unable to generate content: ${k.error}. Please try again with a different prompt.`,N.type="text",N.isError=!0):Object.keys(k).length>0?(N.snippet=JSON.stringify(k,null,2),N.type="text"):(N.snippet="The AI returned an empty response. Please try again with a more detailed prompt.",N.type="text",N.isError=!0);Ss(null),un(N),vs(o),js("lyrics"),As(e=>({...e,[r.id]:N})),S.ok||k._isFallback?n.success("Generation complete! Review your result.",{id:u}):n.error(`Agent ${r.name} issue: ${k.error||k.details||"Check results"}`,{id:u}),s.contentGenerated(r.id,N.type||"text")}catch(v){n.error(v.message||"Generation failed. Check your connection and try again.",{id:u}),s.errorOccurred("generation_failed",v.message)}finally{Cs(!1)}}oa.current=uo;const mo=async(e="hub",r=null)=>{if(!hs)return;if(ks)return;zs(!0),ai(!1);const s=n.loading("Syncing to cloud...",{icon:"â˜ï¸"}),i=new Promise((e,t)=>setTimeout(()=>t(new Error("Save timed out after 3 minutes")),18e4));try{const l={...hs,agent:hs.agent||ur?.name||"Unknown Agent",savedAt:(new Date).toISOString()};let c=r||hs.projectSnapshot||hr;if("string"==typeof r&&r.startsWith("new:")){const e=r.substring(4),t={id:String(Date.now()),name:e,category:"Music Creation",description:"",agents:[],workflow:"custom",date:(new Date).toLocaleDateString(),status:"Active",progress:0,assets:[l],createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};wa(e=>[t,...e]),yr(t),c=t,n.success(`Project "${e}" created!`)}else if(c){const e=Array.isArray(c.assets)?c.assets:[],t={...c,assets:[l,...e.filter(e=>e.id!==l.id)]};yr(t),wa(e=>(Array.isArray(e)?e:[]).map(e=>e?.id===t.id?t:e)),c=t}else{const e={id:String(Date.now()),name:l.title||`Asset: ${l.agent}`,category:l.agent||"AI Generated",description:l.prompt||"",agents:[l.agent],workflow:"standalone",date:(new Date).toLocaleDateString(),status:"Completed",progress:100,assets:[l],createdAt:(new Date).toISOString()};wa(t=>[e,...t]),n.success("Saved to your collection"),c=e}if(Pt){const e=localStorage.getItem("studio_user_id");if(e){try{if(l.imageUrl&&(l.imageUrl.startsWith("data:")||l.imageUrl.startsWith("blob:")))if(l.imageUrl.startsWith("data:")){const t=await x(l.imageUrl,e,"images","image/png");l.imageUrl=t.url,l.imageStoragePath=t.path}else if(l.imageUrl.startsWith("blob:")){const t=await fetch(l.imageUrl),r=await t.blob(),s=await p(r,e,"images",`${Date.now()}.png`);l.imageUrl=s.url,l.imageStoragePath=s.path}if(l.audioUrl&&(l.audioUrl.startsWith("data:")||l.audioUrl.startsWith("blob:")))if(l.audioUrl.startsWith("data:")){const t=await x(l.audioUrl,e,"audio","audio/mp3");l.audioUrl=t.url,l.audioStoragePath=t.path}else if(l.audioUrl.startsWith("blob:")){const t=await fetch(l.audioUrl),r=await t.blob(),s=await p(r,e,"audio",`${Date.now()}.mp3`);l.audioUrl=s.url,l.audioStoragePath=s.path}if(l.videoUrl&&(l.videoUrl.startsWith("data:")||l.videoUrl.startsWith("blob:")))if(l.videoUrl.startsWith("data:")){const t=await x(l.videoUrl,e,"video","video/mp4");l.videoUrl=t.url,l.videoStoragePath=t.path}else if(l.videoUrl.startsWith("blob:")){const t=await fetch(l.videoUrl),r=await t.blob(),s=await p(r,e,"video",`${Date.now()}.mp4`);l.videoUrl=s.url,l.videoStoragePath=s.path}}catch(a){}const r={"Content-Type":"application/json"};let g=d?.currentUser;if(!g&&Pt)for(let e=0;e<5&&(await new Promise(e=>setTimeout(e,500)),g=d?.currentUser,!g);e++);if(g)try{const e=await g.getIdToken();r.Authorization=`Bearer ${e}`}catch(o){}const u=[];u.push(fetch(`${t}/api/projects`,{method:"POST",headers:r,body:JSON.stringify({userId:e,project:c})}).then(e=>{if(!e.ok)throw new Error(`Project save failed: ${e.status}`);return e.json()})),u.push(fetch(`${t}/api/user/generations`,{method:"POST",headers:r,body:JSON.stringify({type:l.type||"text",agent:l.agent,prompt:bs||l.snippet,output:l.content||l.snippet,metadata:{projectId:l.id,imageUrl:l.imageUrl,audioUrl:l.audioUrl,videoUrl:l.videoUrl}})}).then(e=>(e.ok,e.json().catch(()=>({}))))),await Promise.race([Promise.all(u),i]),sr(e=>Math.max(0,e-1)),n.success("âœ… Saved & synced to cloud!",{id:s})}else n.success("Saved locally!",{id:s})}else or(e=>e+1),n.success("Saved to your Hub!",{id:s});ys(null),vs(""),js("lyrics"),za(e),"hub"===e&&mr(null)}catch(l){l.message.includes("timed out")?n.error("Save timed out after 3 minutes. Your work is saved locally - it will sync when connection improves.",{id:s}):n.error(`Save failed: ${l.message}. Your work is saved locally.`,{id:s}),ys(null),vs("")}finally{zs(!1)}},ho=()=>{$t(!0),localStorage.setItem("studio_guest_mode","true"),n.success("Welcome! Sign in anytime to save your work.",{icon:"ðŸ‘‹"})};async function yo(e=1,r=null){if(Ni||!Ii&&1!==e)return;const s=r||Ui||"all";r&&(Bi(r),localStorage.setItem("musicHubSection",r)),Ci(!0);try{const r=await fetch(`${t}/api/music-hub?section=${s}&page=${e}&per_page=20`),i=await r.json();i.items&&i.items.length>0?(Ri(t=>1===e?i.items:[...t,...i.items]),zi(e),i.items.length<20||20*e>=200?Ai(!1):Ai(!0)):(1===e&&Ri([]),Ai(!1))}catch(i){}finally{Ci(!1)}}async function bo(e=1,r="",s=!1){if(!s&&(Wi||!Ei&&1!==e))return{success:!1};$i(!0);try{const s=new URLSearchParams({page:e.toString(),per_page:"20"});r&&s.set("q",r);const i=await fetch(`${t}/api/news?${s}`),a=await i.json();return a.articles&&a.articles.length>0?(Oi(t=>1===e?a.articles:[...t,...a.articles]),Di(e),a.articles.length<20?_i(!1):_i(!0),{success:!0,count:a.articles.length}):(1===e&&Oi([]),_i(!1),{success:!0,count:0})}catch(i){return{success:!1,error:i}}finally{$i(!1)}}const[vo,fo]=a.useState(null);a.useEffect(()=>{vo&&clearTimeout(vo);const e=setTimeout(async()=>{if("news"===lr&&Mi.trim()){const e=n.loading(`Searching: "${Mi.trim()}"...`);_i(!0);const t=await bo(1,Mi.trim());t?.success?t.count>0?n.success(`Found ${t.count} results`,{id:e}):n(`No results for "${Mi.trim()}"`,{id:e,icon:"ðŸ”"}):n.error("Search failed. Check your connection and try again.",{id:e})}else"news"!==lr||Mi.trim()||0!==Li.length||bo(1)},500);return fo(e),()=>clearTimeout(e)},[Mi]),a.useEffect(()=>{"activity"===lr&&0===Ti.length&&yo(1),"news"===lr&&0===Li.length&&bo(1)},[lr]),a.useEffect(()=>{ur&&gs(!0)},[ur]),a.useEffect(()=>{const e=localStorage.getItem("studio_user_id"),r=localStorage.getItem("studio_agents_projects");let s=[];if(r)try{const e=JSON.parse(r);Array.isArray(e)&&(s=bt(e))}catch(i){}if(Pt&&e){(async()=>{try{const i={"Content-Type":"application/json"};if(d?.currentUser)try{const e=await d.currentUser.getIdToken();i.Authorization=`Bearer ${e}`}catch(r){}const a=await fetch(`${t}/api/projects?userId=${e}`,{headers:i});if(!a.ok)return void wa(s);const n=await a.json();if(n.projects){const e=[...bt(n.projects),...s],t=Array.from(new Map(e.map(e=>[e.id,e])).values());t.sort((e,t)=>{const r=e=>{if(!e)return 0;if("object"==typeof e&&e.seconds)return 1e3*e.seconds;if("object"==typeof e&&e._seconds)return 1e3*e._seconds;const t=new Date(e).getTime();return isNaN(t)?0:t},s=r(e.updatedAt||e.savedAt||e.createdAt);return r(t.updatedAt||t.savedAt||t.createdAt)-s}),wa(t)}else wa(s)}catch(i){wa(s)}})()}else wa(s)},[Pt]),a.useEffect(()=>{if(ja&&ja.length>0){const e=ja.slice(0,50);((e,t)=>{try{return localStorage.setItem(e,t),!0}catch(r){if("QuotaExceededError"===r.name)try{if("studio_agents_projects"===e){const r=JSON.parse(t);if(Array.isArray(r)&&r.length>20){const t=r.slice(0,20);return localStorage.setItem(e,JSON.stringify(t)),!0}}return localStorage.removeItem("studio_theme"),localStorage.removeItem("studio_onboarding_v3"),localStorage.setItem(e,t),!0}catch(s){return!1}return!1}})("studio_agents_projects",JSON.stringify(e))}},[ja]);const jo=e=>{if(!e)return;const t=e.videoUrl||e.audioUrl||e.imageUrl;if(!t)return void n(`${"Download"} coming soon!`,{icon:"ðŸš§"});const r=document.createElement("a");r.href=t,r.setAttribute("download",`${e.title.replace(/\s+/g,"_")}_studio_agents`),r.setAttribute("target","_blank"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},wo=async e=>{const r=encodeURIComponent(window.location.href);if("twitter"!==e)"instagram"!==e&&"facebook"!==e?n(`${e.charAt(0).toUpperCase()+e.slice(1)} coming soon!`,{icon:"ðŸš§"}):window.location.href=`${t}/api/meta/auth?returnUrl=${r}`;else try{const e=await fetch(`${t}/api/twitter/status`);if(e.ok){(await e.json()).configured?window.location.href=`${t}/api/twitter/auth?returnUrl=${r}`:n.error("Twitter/X integration not yet configured. Contact support.")}else window.location.href=`${t}/api/twitter/auth?returnUrl=${r}`}catch(s){n.error("Cannot connect to server. Please check your internet connection.")}},So=async(e,r)=>{const s=!0===r,i="object"==typeof r?r:null;if(i?.stopPropagation(),!e)return;if(!s&&!window.confirm("Are you sure you want to delete this project?"))return;const a=(ja||[]).find(t=>t?.id===e),o=a?.name||"Unknown";if(wa(t=>(t||[]).filter(t=>t?.id!==e)),Pt&&Ut)try{let r=null;if(d?.currentUser)try{r=await d.currentUser.getIdToken(!0)}catch(l){}const i=await fetch(`${t}/api/projects/${encodeURIComponent(String(e))}?userId=${encodeURIComponent(Ut?.uid||"guest")}&projectName=${encodeURIComponent(o)}`,{method:"DELETE",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}}});if(!i.ok){const e=await i.json().catch(()=>({}));throw new Error(e.error||`HTTP ${i.status}`)}s||n.success("Project deleted")}catch(c){s||n.error("Could not delete from cloud, but removed from this device")}else s||n.success("Project deleted")},ko=async()=>{if(!Pt||!Ut)return void n.error("You must be logged in to delete your account");if(!window.confirm("DANGER: Are you sure you want to permanently delete your account?\n\nThis will remove ALL your projects, created assets (beats, vocals), and active subscriptions. This action is IRREVERSIBLE."))return;if(window.prompt(`To confirm, please type your email address (${Ut.email}):`)===Ut.email){n.loading("Wiping all account data...",{id:"del-acc"});try{let r=null;d?.currentUser&&(r=await d.currentUser.getIdToken(!0));const s=await fetch(`${t}/api/user/delete-account`,{method:"POST",headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r}`}:{}},body:JSON.stringify({userId:Ut.uid,confirmedEmail:Ut.email})});if(!s.ok){const e=await s.json().catch(()=>({}));throw new Error(e.error||"Cloud data wipe failed")}try{d?.currentUser&&await d.currentUser.delete()}catch(e){if("auth/requires-recent-login"===e.code)return void n.error("Security verification required. Please logout and login again to delete your account profile.",{id:"del-acc"})}n.success("Account wiped clean. Farewell!",{id:"del-acc",duration:5e3}),$n()}catch(r){n.error(`Deletion partially failed: ${r.message}. Data may persist.`,{id:"del-acc"})}}else n.error("Identity verification failed. Account was NOT deleted.")},zo=async e=>{if(!e)return;n.loading("Forking to your workspace...",{id:"fork-op"});const r={...e,id:`fork-${Date.now()}`,name:`Fork of ${e.name||"Untitled Project"}`,creatorId:Ut?.uid||"guest",createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString(),source:"discovery-remix",isFork:!0,assets:Array.isArray(e.assets)?e.assets:[],agents:Array.isArray(e.agents)?e.agents:[]};if(wa(e=>[r,...e||[]]),Pt&&Ut)try{let s=null;d?.currentUser&&(s=await d.currentUser.getIdToken(!0));const i=await fetch(`${t}/api/user/projects`,{method:"POST",headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s}`}:{}},body:JSON.stringify({name:r.name,type:"song",data:r,metadata:{forkedFrom:e.id,isFork:!0}})});if(i.ok){const e=await i.json();r.id=e.id}}catch(s){}n.success("Project forked successfully!",{id:"fork-op"}),yr(r),vi("overview"),za("hub")},No=a.useMemo(()=>{if("news"!==lr)return[];if(!Array.isArray(Li))return[];const e=(Mi||"").toLowerCase();return Li.filter(t=>{if(!t)return!1;const r=(t.title||"").toLowerCase(),s=(t.source||"").toLowerCase(),i=(t.content||"").toLowerCase();return r.includes(e)||s.includes(e)||i.includes(e)})},[lr,Li,Mi]),Co=()=>{_i(!0),Di(1),Fi(""),bo(1,"",!0),n.success("Refreshing news...",{icon:"ðŸ”„",duration:1500})};a.useEffect(()=>{localStorage.setItem("studio_theme",cr)},[cr]);const Io=(()=>{if(!hr)return null;if(hr.agents&&hr.agents.length>0)return hr.agents.map((t,r)=>{const s="string"==typeof t?t:t?.id||"",i=void 0!==e&&e?e.find(e=>e.id===s):null;let a=V;return i&&"function"==typeof i.icon?a=i.icon:t&&"function"==typeof t.icon&&(a=t.icon),{id:`step-${r}`,label:i?`Consult ${i.name}`:"object"==typeof t&&t.name?t.name:"Agent Task",desc:i?i.description||i.category:"Execute task",agentId:s,icon:a,completed:!1}});if("custom"===hr.workflow)return[{id:"add-agent",label:"Add Your First Agent",agentId:null,icon:Q,desc:"Select an agent to start working"}];switch(hr.category){case"pro":return[{id:"lyrics",label:"Draft Lyrics",agentId:"ghost",icon:$,desc:"Generate verses & hooks"},{id:"beat",label:"Compose Beat",agentId:"beat",icon:T,desc:"Create instrumental backing"},{id:"art",label:"Cover Art",agentId:"album",icon:V,desc:"Design album artwork"}];case"vybing":return[{id:"beat",label:"Generate Vibe",agentId:"beat",icon:T,desc:"Quick beat generation"},{id:"lyrics",label:"Freestyle Lyrics",agentId:"ghost",icon:$,desc:"Write over the beat"}];default:return[{id:"plan",label:"Create Plan",agentId:"release",icon:we,desc:"Outline your project goals"}]}})(),[Ao,To]=a.useState(st());return!Et||Ut||Wt?Pt||Et||Wt?o.jsxs("div",{className:`studio-container ${cr}-theme`,...Na,children:[Ao&&o.jsxs("div",{onClick:()=>{rt(),To(!1),n.success("Demo mode disabled - using real API")},style:at.container,title:"Click to disable demo mode",children:[o.jsx("span",{children:at.icon}),o.jsx("span",{children:at.text})]}),o.jsxs("aside",{className:"studio-nav",children:[o.jsxs("div",{className:"studio-nav-logo",onClick:()=>i?.(),children:[o.jsx("div",{className:"logo-box studio-logo",children:o.jsx(g,{size:20,color:"white"})}),o.jsxs("div",{className:"logo-text",children:[o.jsx("span",{className:"studio-name",children:"STUDIO AGENTS"}),o.jsx("span",{className:"studio-sub",children:"AI ECOSYSTEM"}),o.jsx("span",{className:"studio-domain",children:"studioagentsai.com"})]})]}),o.jsxs("nav",{className:"studio-nav-links",children:[o.jsxs("button",{className:"nav-link "+("mystudio"===lr?"active":""),onClick:()=>{za("mystudio"),mr(null)},children:[o.jsx(m,{size:20}),o.jsx("span",{children:"My Studio"})]}),o.jsxs("button",{className:"nav-link "+("agents"===lr?"active":""),onClick:()=>{za("agents"),mr(null)},children:[o.jsx(h,{size:20}),o.jsx("span",{children:"Agents Team"})]}),o.jsxs("button",{className:"nav-link "+("hub"===lr?"active":""),onClick:()=>{za("hub"),mr(null)},children:[o.jsx(y,{size:20}),o.jsx("span",{children:"Project Hub"})]}),o.jsxs("button",{className:"nav-link "+("activity"===lr?"active":""),onClick:()=>{za("activity"),mr(null)},children:[o.jsx(b,{size:20}),o.jsx("span",{children:"Music Hub"})]}),o.jsxs("button",{className:"nav-link "+("resources"===lr?"active":""),onClick:()=>{za("resources"),mr(null)},children:[o.jsx(v,{size:20}),o.jsx("span",{children:"Resources"})]}),o.jsxs("button",{className:"nav-link "+("news"===lr?"active":""),onClick:()=>{za("news"),mr(null)},children:[o.jsx(f,{size:20}),o.jsx("span",{children:"Industry Pulse"})]}),o.jsxs("button",{className:"nav-link "+("support"===lr?"active":""),onClick:()=>{za("support"),mr(null)},children:[o.jsx(j,{size:20}),o.jsx("span",{children:"Support"})]})]}),o.jsx("div",{className:"studio-nav-footer",children:o.jsxs("div",{className:"user-profile-mini haptic-press",onClick:()=>{za("profile"),mr(null)},style:{cursor:"pointer"},children:[o.jsx("div",{className:"user-avatar",children:Ut?.photoURL?o.jsx("img",{src:Ut.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%",borderRadius:"50%"}}):o.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:Ut?.displayName?.charAt(0)||"U"})}),o.jsxs("div",{className:"user-info",children:[o.jsx("p",{className:"user-name",children:Pt?Ut?.displayName||"Pro Creator":"Guest Creator"}),o.jsx("p",{className:"user-status",children:Pt?"Pro Plan":"Free Account"}),Pt?o.jsx("button",{className:"sign-out-link",style:{fontSize:"0.7rem",color:"var(--color-red)",background:"none",border:"none",padding:0,cursor:"pointer",marginTop:"4px",textAlign:"left"},onClick:e=>{e.stopPropagation(),$n()},children:"Sign Out"}):o.jsx("button",{className:"sign-in-link",style:{fontSize:"0.7rem",color:"var(--color-purple)",background:"none",border:"none",padding:0,cursor:"pointer",marginTop:"4px",textAlign:"left"},onClick:e=>{e.stopPropagation(),qt(!0)},children:"Sign In"})]})]})})]}),o.jsxs("main",{className:"studio-main",onScroll:e=>{const{scrollTop:t,scrollHeight:r,clientHeight:s}=e.target;r-t<=s+150&&("activity"===lr&&!Ni&&Ii?yo(ki+1):"news"===lr&&!Wi&&Ei&&bo(Pi+1))},children:[o.jsxs("header",{className:"studio-header",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("h2",{className:"studio-title",children:ur?ur.name:"mystudio"===lr?"Dashboard":lr.charAt(0).toUpperCase()+lr.slice(1)}),"idle"!==Ts&&o.jsxs("div",{className:"save-status-indicator animate-fadeIn",style:{display:"flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"500",background:"saving"===Ts?"rgba(168, 85, 247, 0.15)":"saved"===Ts?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",color:"saving"===Ts?"var(--color-purple)":"saved"===Ts?"var(--color-green)":"var(--color-red)",transition:"all 0.3s ease"},children:["saving"===Ts&&o.jsx(w,{size:12,className:"spin"}),"saved"===Ts&&o.jsx(S,{size:12}),"error"===Ts&&o.jsx(k,{size:12}),o.jsx("span",{children:"saving"===Ts?"Saving...":"saved"===Ts?"Saved":"Save failed"})]})]}),o.jsxs("div",{className:"studio-header-actions",children:[o.jsx("button",{className:"action-button secondary haptic-press",onClick:()=>i?.(),title:"Back to Landing Page",children:o.jsx(z,{size:20})}),o.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>za("profile"),title:"User Profile",children:[o.jsx(N,{size:20}),o.jsx("span",{className:"desktop-only",children:"Profile"})]}),o.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>{Ja(0),qa(!0)},title:"Welcome Tour",children:[o.jsx(g,{size:20}),o.jsx("span",{className:"desktop-only",children:"Tour"})]}),o.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>{za("support"),mr(null)},title:"Help Center",children:[o.jsx(j,{size:20}),o.jsx("span",{className:"desktop-only",children:"Help"})]}),o.jsxs("button",{className:"action-button secondary haptic-press",onClick:()=>eo(!Zn),style:{position:"relative"},children:[o.jsx(C,{size:20}),aa.some(e=>!e.read)&&o.jsx("span",{style:{position:"absolute",top:"-2px",right:"-2px",width:"8px",height:"8px",background:"var(--color-red)",borderRadius:"50%",border:"1px solid var(--card-bg)"}})]}),Pt?o.jsx("div",{className:"user-avatar-header",style:{width:"32px",height:"32px",borderRadius:"50%",overflow:"hidden",marginLeft:"0.5rem",border:"1px solid var(--border-color)"},children:Ut?.photoURL?o.jsx("img",{src:Ut.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%"}}):o.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:Ut?.displayName?.charAt(0)||"U"})}):o.jsx("button",{className:"cta-button-sm haptic-press",onClick:()=>qt(!0),style:{marginLeft:"0.5rem",padding:"0.4rem 0.8rem",fontSize:"0.8rem"},children:"Sign In"}),Zn&&o.jsxs("div",{className:"notification-dropdown animate-fadeInUp",children:[o.jsxs("div",{className:"notif-header",children:[o.jsx("h3",{children:"Notifications"}),o.jsx("button",{onClick:()=>na(e=>e.map(e=>({...e,read:!0}))),children:"Mark all read"})]}),o.jsx("div",{className:"notif-list",children:0===aa.length?o.jsx("div",{className:"notif-empty",children:"No new notifications"}):aa.map(e=>o.jsxs("div",{className:"notif-item "+(e.read?"read":"unread"),children:[o.jsxs("div",{className:"notif-item-header",children:[o.jsx("span",{className:"notif-title",children:e.title}),o.jsx("span",{className:"notif-time",children:e.time})]}),o.jsx("p",{className:"notif-message",children:e.message})]},e.id))})]}),Pt?o.jsx("div",{className:"user-projects-dropdown",children:o.jsxs("button",{className:"action-button primary haptic-press",onClick:()=>kn(!0),children:["New Project (",ja?.length||0,")"]})}):o.jsx("button",{className:"action-button primary haptic-press",onClick:()=>qt(!0),children:"New Project"})]})]}),o.jsx("div",{className:"studio-content",children:(()=>{if("project_canvas"===lr&&!ur)return hr?o.jsx(vt,{name:"Project Canvas",children:o.jsxs("div",{className:"project-canvas-view animate-fadeIn",children:[o.jsxs("div",{className:"canvas-header",children:[o.jsx("button",{onClick:()=>za("hub"),className:"btn-icon-circle back-btn",children:o.jsx(J,{size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"project-title",children:hr.name||"Untitled Project"}),o.jsxs("div",{className:"project-meta",children:[o.jsx("span",{className:"badge",children:hr.category||"General"}),o.jsxs("span",{className:"date",children:["Created ",hr.date||"Just now"]})]})]}),o.jsxs("div",{className:"header-actions",style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsxs("button",{className:"btn-pill",style:{background:"rgba(168, 85, 247, 0.15)",color:"var(--color-purple)"},onClick:()=>qr(!0),children:[o.jsx(g,{size:16})," Add Assets"]}),o.jsxs("button",{className:"btn-pill primary",onClick:()=>za("agents"),children:[o.jsx(V,{size:16})," Browse Agents"]})]})]}),o.jsxs("div",{className:"studio-monitor-panel",style:{background:"rgba(20, 20, 25, 0.6)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)",marginBottom:"24px",overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},children:[o.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255,255,255,0.02)"},children:[o.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px",fontSize:"1rem",color:"var(--color-cyan)"},children:[o.jsx(de,{size:18})," Studio Monitor"]}),ri?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:ri.title}),o.jsx("span",{className:"badge "+("Audio"===ri.type?"bg-purple":"Video"===ri.type?"bg-cyan":"bg-pink"),style:{fontSize:"0.7rem",padding:"2px 8px"},children:ri.type})]}):o.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"No asset selected"})]}),o.jsx("div",{style:{minHeight:"360px",display:"flex",alignItems:"center",justifyContent:"center",background:"#000",position:"relative"},children:ri?o.jsxs(o.Fragment,{children:["Video"===ri.type&&ri.videoUrl&&o.jsx("video",{src:lt(ri.videoUrl),controls:!0,style:{width:"100%",maxHeight:"500px",objectFit:"contain"},onError:e=>{e.target.style.display="none",e.target.parentElement?.querySelector(".media-error-fallback")?.style?.setProperty("display","flex")}}),"Image"===ri.type&&ri.imageUrl&&o.jsx("img",{src:nt(ri.imageUrl),alt:ri.title||"Asset",style:{width:"100%",maxHeight:"500px",objectFit:"contain"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 200 200"%3E%3Crect fill="%231a1a2e" width="200" height="200"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}),"Audio"===ri.type&&ri.audioUrl&&o.jsxs("div",{style:{width:"100%",padding:"40px",display:"flex",flexDirection:"column",alignItems:"center",gap:"24px"},children:[o.jsx("div",{style:{width:"120px",height:"120px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 40px rgba(168, 85, 247, 0.3)"},children:o.jsx(T,{size:48,color:"white"})}),o.jsx("audio",{ref:fa,src:ot(ri.audioUrl),controls:!0,style:{width:"100%",maxWidth:"600px"},onError:()=>{n.error("Audio file could not be loaded")},onPlay:()=>{},onPause:e=>{},onEnded:()=>{},onLoadedData:()=>{}},ri.id||ri.audioUrl)]}),("Text"===ri.type||"Lyrics"===ri.type||"Script"===ri.type||!ri.videoUrl&&!ri.audioUrl&&!ri.imageUrl&&ri.content)&&o.jsxs("div",{style:{width:"100%",height:"100%",minHeight:"360px",padding:"32px",display:"flex",flexDirection:"column",background:"linear-gradient(180deg, rgba(6, 182, 212, 0.05) 0%, rgba(168, 85, 247, 0.05) 100%)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px",paddingBottom:"16px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"linear-gradient(135deg, var(--color-cyan), var(--color-purple))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 0 20px rgba(6, 182, 212, 0.3)"},children:o.jsx(Z,{size:24,color:"white"})}),o.jsxs("div",{children:[o.jsx("h4",{style:{margin:0,color:"white",fontSize:"1.1rem"},children:ri.title}),o.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[ri.agent," â€¢ ",ri.date]})]}),o.jsx("div",{style:{marginLeft:"auto",display:"flex",gap:"8px"},children:o.jsx("button",{onClick:()=>{navigator.clipboard.writeText(ri.content||"")},className:"btn-icon-circle glass",title:"Copy to clipboard",style:{background:"rgba(255,255,255,0.1)"},children:o.jsx(re,{size:16})})})]}),o.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px",background:"rgba(0,0,0,0.3)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)"},children:o.jsx("pre",{style:{margin:0,fontFamily:"'SF Mono', 'Fira Code', monospace",fontSize:"0.95rem",lineHeight:"1.8",color:"rgba(255,255,255,0.9)",whiteSpace:"pre-wrap",wordWrap:"break-word"},children:ri.content||ri.snippet||"No text content available"})})]}),o.jsxs("div",{style:{position:"absolute",top:"16px",right:"16px",display:"flex",gap:"10px",flexWrap:"wrap"},children:[o.jsx("button",{onClick:()=>{try{const e=ri.audioUrl||ri.videoUrl||ri.imageUrl;if(!e){if(ri.content||ri.snippet){const e=new Blob([ri.content||ri.snippet],{type:"text/plain"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=`${ri.title||"asset"}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(t),n.success("Text file downloaded")}else n.error("No downloadable content available");return}const t=document.createElement("a");t.href=e,t.download=ri.title||"download",document.body.appendChild(t),t.click(),document.body.removeChild(t),n.success("Download started")}catch(e){n.error("Download failed. Try right-clicking and saving directly.")}},className:"btn-icon-circle glass",title:"Download",children:o.jsx(R,{size:18})}),o.jsx("button",{onClick:()=>{const e=Array.isArray(hr?.assets)?hr.assets.filter(Boolean):[];ri&&gn(ri,e)},className:"btn-icon-circle glass",title:"Fullscreen",children:o.jsx(ve,{size:18})})]})]}):o.jsxs("div",{style:{textAlign:"center",color:"var(--text-secondary)",opacity:.5},children:[o.jsx(de,{size:48,style:{marginBottom:"16px"}}),o.jsx("p",{children:"Select an asset to preview"})]})})]}),o.jsxs("div",{className:"canvas-grid",children:[o.jsxs("div",{className:"canvas-column",children:[o.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[o.jsx(me,{size:18,className:"text-purple"})," The Team"]}),o.jsxs("div",{className:"team-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[hr.agents&&hr.agents.length>0?hr.agents.filter(Boolean).map((t,r)=>{const s="object"==typeof t?t.id||t.name:t,i=void 0!==e&&e?e.find(e=>e.id===s||e.name===s)||("object"==typeof t?t:e[0]||null):"object"==typeof t?t:null;return i?o.jsxs("div",{className:"agent-card-mini haptic-press",onClick:()=>mr(i),style:{padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"12px",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",border:"1px solid transparent",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:e=>e.currentTarget.style.borderColor="transparent",children:[o.jsx("div",{className:"agent-avatar",style:{width:"40px",height:"40px",borderRadius:"50%",background:i.color||"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center"},children:"function"==typeof i.icon?o.jsx(i.icon,{size:20,color:"white"}):o.jsx(N,{size:20,color:"white"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"600"},children:i.name}),o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:i.role})]})]},i.id||r):null}):o.jsx("div",{className:"text-muted text-sm",children:"No agents selected"}),o.jsx("button",{className:"btn-dashed",style:{width:"100%",padding:"12px",border:"1px dashed var(--text-secondary)",borderRadius:"12px",color:"var(--text-secondary)",background:"transparent",cursor:"pointer"},onClick:()=>_a(!0),children:"+ Add Agent"})]}),o.jsxs("div",{className:"orchestration-panel",style:{marginTop:"24px",padding:"16px",background:"rgba(168, 85, 247, 0.05)",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.2)"},children:[o.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",fontSize:"1rem",color:"var(--color-purple)"},children:[o.jsx(V,{size:16})," Studio Orchestrator"]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"12px"},children:"Generate lyrics, beats, visuals & more with one click."}),o.jsxs("button",{className:"btn-pill primary",style:{width:"100%",justifyContent:"center"},onClick:()=>{qr(!0),no("Opening Studio Orchestrator.")},children:[o.jsx(g,{size:16})," Open Orchestrator"]})]})]}),o.jsxs("div",{className:"canvas-column",children:[o.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[o.jsx(v,{size:18,className:"text-cyan"})," Narrative & Vision"]}),o.jsx("div",{className:"narrative-editor",children:o.jsx("textarea",{value:hr?.description||"",onChange:e=>{if(!hr)return;const t={...hr,description:e.target.value};yr(t),wa(e=>Array.isArray(e)?e.map(e=>e?.id===t.id?t:e):[])},className:"narrative-textarea",placeholder:"Describe your project vision here..."})})]}),o.jsxs("div",{className:"canvas-column",children:[o.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[o.jsx(U,{size:18,className:"text-pink"})," Marketing"]}),hr.socialHandle&&o.jsxs("div",{className:"marketing-card",style:{background:"rgba(6, 182, 212, 0.1)",borderRadius:"12px",padding:"16px",marginBottom:"16px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:[o.jsxs("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--color-cyan)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx("span",{children:"Active Campaign"}),o.jsx("span",{style:{fontSize:"0.7rem",background:"var(--color-cyan)",color:"black",padding:"2px 6px",borderRadius:"4px"},children:"LIVE"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"var(--color-bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--color-cyan)"},children:o.jsx(U,{size:20,className:"text-cyan"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"600"},children:hr.socialHandle}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textTransform:"capitalize"},children:[hr.socialPlatform," â€¢ ",hr.category]})]})]}),hr.socialBio&&o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",fontStyle:"italic",padding:"8px",background:"rgba(0,0,0,0.2)",borderRadius:"8px"},children:['"',hr.socialBio,'"']})]}),o.jsxs("div",{className:"marketing-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:[o.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--text-secondary)"},children:"Social Status"}),o.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[o.jsxs("div",{className:"social-pill "+(Gi.twitter?"active":""),style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.8rem",background:Gi.twitter?"rgba(29, 161, 242, 0.2)":"rgba(255,255,255,0.1)",color:Gi.twitter?"#1DA1F2":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(Se,{size:14})," ",Gi.twitter?"Connected":"Link X"]}),o.jsxs("div",{className:"social-pill "+(Gi.instagram?"active":""),style:{padding:"6px 12px",borderRadius:"20px",fontSize:"0.8rem",background:Gi.instagram?"rgba(225, 48, 108, 0.2)":"rgba(255,255,255,0.1)",color:Gi.instagram?"#E1306C":"var(--text-secondary)",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(ke,{size:14})," ",Gi.instagram?"Connected":"Link IG"]})]})]}),o.jsxs("div",{className:"marketing-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"16px"},children:[o.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"12px",color:"var(--text-secondary)"},children:"Quick Actions"}),o.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[o.jsx("button",{className:"btn-text",style:{fontSize:"0.8rem",color:"var(--color-purple)",background:"none",border:"none",cursor:"pointer",padding:0},onClick:()=>{qr(!0)},children:"+ Generate Assets"}),o.jsxs("label",{className:"btn-text",style:{fontSize:"0.8rem",color:"var(--color-cyan)",background:"none",border:"none",cursor:"pointer",padding:0,display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx("input",{type:"file",accept:"audio/*,image/*,video/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){const e=URL.createObjectURL(t),r=t.type.startsWith("audio")?"Audio":t.type.startsWith("video")?"Video":"Image",s={id:String(Date.now()),title:t.name,type:r,agent:"User Upload",date:"Just now",color:"agent-cyan",snippet:`Uploaded ${r} file`,audioUrl:t.type.startsWith("audio")?e:null,videoUrl:t.type.startsWith("video")?e:null,imageUrl:t.type.startsWith("image")?e:null},i={...hr,assets:[s,...hr.assets||[]]};yr(i),wa(e=>Array.isArray(e)?e.map(e=>e.id===i.id?i:e):[i])}}}),"+ Upload File"]})]})]})]})]}),o.jsxs("div",{className:"project-generations-section",style:{marginTop:"32px",paddingBottom:"40px",borderTop:"1px solid rgba(255,255,255,0.05)",paddingTop:"24px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[o.jsxs("h3",{style:{fontSize:"1.2rem",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(m,{size:20,className:"text-purple"}),"Project Generations",o.jsx("span",{style:{fontSize:"0.8rem",background:"rgba(255,255,255,0.1)",padding:"2px 8px",borderRadius:"12px",color:"var(--text-secondary)"},children:hr.assets?.length||0})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[o.jsxs("button",{className:"btn-pill",style:{fontSize:"0.85rem",padding:"8px 16px"},onClick:()=>qr(!0),children:[o.jsx(g,{size:14})," Generate New"]}),o.jsxs("button",{className:"btn-pill",style:{fontSize:"0.85rem",padding:"8px 16px",background:"rgba(6, 182, 212, 0.15)",color:"var(--color-cyan)"},onClick:()=>za("agents"),children:[o.jsx(dt,{size:14})," Use Agent"]})]})]}),hr.assets&&hr.assets.length>0?o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"20px"},children:hr.assets.filter(Boolean).map((e,t)=>{if(!e||"object"!=typeof e)return null;const r=ht(e,"id",`asset-${t}`);return ht(e,"title","Untitled"),ht(e,"type","text"),o.jsx(mt,{asset:e,children:o.jsxs("div",{className:"asset-card-canvas",style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",padding:"16px",border:"1px solid rgba(255,255,255,0.08)",transition:"all 0.2s ease",display:"flex",flexDirection:"column",gap:"12px",position:"relative",height:"100%"},onMouseEnter:e=>{e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.background="rgba(255,255,255,0.05)",e.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(255,255,255,0.08)",e.currentTarget.style.background="rgba(255,255,255,0.03)",e.currentTarget.style.transform="translateY(0)"},children:[o.jsxs("div",{onClick:()=>{const t=Array.isArray(hr?.assets)?hr.assets:[];gn(e,t)},style:{width:"100%",aspectRatio:"16/9",background:"rgba(0,0,0,0.3)",borderRadius:"12px",overflow:"hidden",cursor:"pointer",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",border:ri?.id&&e?.id&&ri.id===e.id?"2px solid var(--color-cyan)":"none"},children:[e.imageUrl?o.jsx("img",{src:nt(e.imageUrl),alt:e.title||"Asset image",style:{width:"100%",height:"100%",objectFit:"cover"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="150" viewBox="0 0 200 150"%3E%3Crect fill="%231a1a2e" width="200" height="150"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-size="12" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}):e.videoUrl?o.jsxs("div",{style:{position:"relative",width:"100%",height:"100%"},children:[o.jsx("video",{src:lt(e.videoUrl),style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,preload:"metadata",onLoadedData:e=>{0===e.target.currentTime&&(e.target.currentTime=1)},onError:e=>{e.target.style.display="none"}}),o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"44px",height:"44px",borderRadius:"50%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:o.jsx(F,{size:22,style:{color:"white",marginLeft:"3px"}})})]}):e.audioUrl?o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(T,{size:32,style:{color:"var(--color-purple)"}}),o.jsx("div",{style:{width:"60%",height:"4px",background:"rgba(255,255,255,0.1)",borderRadius:"2px"},children:o.jsx("div",{style:{width:"40%",height:"100%",background:"var(--color-purple)",borderRadius:"2px"}})}),o.jsx("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:"Click to play"})]}):o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"8px",width:"100%",height:"100%",padding:"12px"},children:[o.jsx(Z,{size:28,style:{color:"var(--color-cyan)",flexShrink:0}}),(e.content||e.snippet)&&o.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textAlign:"center",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.4",maxWidth:"90%"},children:[(e.content||e.snippet).substring(0,80),"..."]}),o.jsx("span",{style:{fontSize:"0.65rem",color:"var(--color-cyan)",marginTop:"4px"},children:"Click to view"})]}),o.jsxs("div",{style:{position:"absolute",top:"8px",left:"8px",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"4px 8px",borderRadius:"6px",fontSize:"0.65rem",color:"white",display:"flex",alignItems:"center",gap:"4px"},children:["Video"===e.type&&o.jsx(E,{size:10}),"Audio"===e.type&&o.jsx(T,{size:10}),"Image"===e.type&&o.jsx(B,{size:10}),("Text"===e.type||"Lyrics"===e.type||"Script"===e.type)&&o.jsx(Z,{size:10}),e.type]})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontSize:"0.95rem",fontWeight:"600",color:"white",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(N,{size:10})," ",e.agent]}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.date})]})]}),o.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"auto",paddingTop:"12px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[(e.audioUrl||e.videoUrl)&&o.jsx("button",{onClick:t=>{t.stopPropagation();const r=Array.isArray(hr?.assets)?hr.assets:[];gn(e,r)},className:"btn-icon-sm",title:e.audioUrl?"Play Audio":"Play Video",style:{flex:1,background:e.audioUrl?"rgba(168, 85, 247, 0.15)":"rgba(34, 211, 238, 0.15)",color:e.audioUrl?"var(--color-purple)":"var(--color-cyan)"},children:e.audioUrl?o.jsx(te,{size:14}):o.jsx(F,{size:14})}),o.jsx("button",{onClick:t=>{t.stopPropagation(),si(e)},className:"btn-icon-sm",title:"View in Monitor",style:{flex:1,background:"rgba(255,255,255,0.05)"},children:o.jsx(de,{size:14})}),o.jsx("button",{onClick:t=>{t.stopPropagation();const r=Array.isArray(hr?.assets)?hr.assets:[];gn(e,r)},className:"btn-icon-sm",title:"Fullscreen",style:{flex:1,background:"rgba(255,255,255,0.05)"},children:o.jsx(ve,{size:14})}),o.jsx("button",{onClick:r=>{r.stopPropagation();try{if(confirm(`Delete "${e.title||"this asset"}"?`)){const r=(Array.isArray(hr?.assets)?hr.assets:[]).filter((e,r)=>r!==t),s={...hr,assets:r,updatedAt:(new Date).toISOString()};yr(s),wa(e=>Array.isArray(e)?e.map(e=>e.id===s.id?s:e):[s]),ri?.id===e.id&&si(r[0]||null),n.success("Asset deleted")}}catch(s){n.error("Could not delete asset. Please try again.")}},className:"btn-icon-sm",title:"Delete",style:{flex:1,background:"rgba(239, 68, 68, 0.1)",color:"var(--color-red)"},children:o.jsx(se,{size:14})})]})]})},r)})}):o.jsxs("div",{style:{padding:"60px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"2px dashed rgba(255,255,255,0.05)"},children:[o.jsx(m,{size:48,style:{opacity:.2,marginBottom:"16px"}}),o.jsx("h3",{style:{color:"var(--text-secondary)",marginBottom:"8px"},children:"No generations yet"}),o.jsx("p",{style:{color:"var(--text-secondary)",opacity:.7,maxWidth:"400px",margin:"0 auto 24px auto"},children:"Start by opening the Studio Orchestrator or uploading your own files."}),o.jsxs("button",{className:"btn-pill primary",onClick:()=>qr(!0),children:[o.jsx(g,{size:16})," Start Creating"]})]})]})]})}):o.jsx("div",{className:"p-8 text-center animate-fadeIn",children:o.jsx("div",{style:{opacity:.6},children:"Loading project..."})});if("mystudio"===lr)return o.jsx("div",{className:"studio-dashboard animate-fadeInUp",children:o.jsxs("div",{className:"dashboard-sidebar-layout",children:[o.jsxs("div",{className:"dashboard-sidebar",children:[o.jsx("div",{className:"sidebar-header",children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("h2",{children:"Studio"}),o.jsx("span",{className:"pro-badge",children:"PRO"})]}),o.jsx("div",{className:"status-indicator",title:Hr.message,style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:"healthy"===Hr.status?"var(--color-emerald)":"var(--color-red)",boxShadow:"healthy"===Hr.status?"0 0 8px var(--color-emerald)":"0 0 8px var(--color-red)"}})]})}),o.jsxs("nav",{className:"sidebar-nav",children:[o.jsxs("button",{className:"sidebar-link "+("overview"===bi?"active":""),onClick:()=>vi("overview"),children:[o.jsx(h,{size:18})," Overview"]}),o.jsxs("button",{className:"sidebar-link "+("agents"===bi?"active":""),onClick:()=>vi("agents"),children:[o.jsx(me,{size:18})," Manage Agents"]}),o.jsxs("button",{className:"sidebar-link "+("billing"===bi?"active":""),onClick:()=>vi("billing"),children:[o.jsx(ae,{size:18})," Billing & Wallet"]}),o.jsxs("button",{className:"sidebar-link "+("settings"===bi?"active":""),onClick:()=>vi("settings"),children:[o.jsx(ue,{size:18})," App Settings"]}),Ht&&o.jsxs("button",{className:"sidebar-link "+("admin"===bi?"active":""),onClick:()=>vi("admin"),style:{color:"var(--color-emerald)"},children:[o.jsx(de,{size:18})," Admin Analytics"]})]}),Pt&&o.jsx("div",{style:{marginTop:"auto",padding:"16px",borderTop:"1px solid var(--glass-border)"},children:o.jsxs("div",{style:{background:"rgba(250, 204, 21, 0.05)",border:"1px solid rgba(250, 204, 21, 0.1)",borderRadius:"12px",padding:"12px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Credits"}),o.jsx("span",{style:{fontSize:"0.875rem",color:"#facc15",fontWeight:"800"},children:rr})]}),o.jsxs("button",{onClick:()=>Yn(!0),style:{width:"100%",padding:"8px",borderRadius:"8px",background:"#eab308",color:"#000",border:"none",fontSize:"0.75rem",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px"},children:[o.jsx(V,{size:14,fill:"currentColor"})," Top Up"]})]})})]}),o.jsxs("div",{className:"dashboard-main-content",children:["overview"===bi&&o.jsxs("div",{className:"dashboard-view-overview animate-fadeIn",children:[o.jsxs("div",{className:"artist-profile-header animate-fadeIn",style:{background:"linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%)",borderRadius:"24px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)",boxShadow:"0 8px 32px rgba(0,0,0,0.2)",position:"relative"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"32px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[o.jsxs("div",{className:"profile-avatar-wrapper",style:{position:"relative"},children:[o.jsx("div",{className:"profile-avatar",style:{width:"96px",height:"96px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",padding:"3px",boxShadow:"0 8px 16px rgba(168, 85, 247, 0.4)"},children:o.jsx("div",{style:{width:"100%",height:"100%",borderRadius:"50%",background:"var(--color-bg-primary)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:Ut?.photoURL?o.jsx("img",{src:Ut.photoURL,alt:"Profile",loading:"lazy",style:{width:"100%",height:"100%",objectFit:"cover"}}):o.jsx(N,{size:48,color:"var(--text-secondary)"})})}),Pt&&o.jsx("div",{style:{position:"absolute",bottom:"0",right:"0",background:"var(--color-emerald)",width:"24px",height:"24px",borderRadius:"50%",border:"4px solid var(--color-bg-secondary)",boxShadow:"0 0 10px var(--color-emerald)"},title:"Online"})]}),o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[o.jsx("h1",{style:{fontSize:"2rem",margin:0,fontWeight:"800",letterSpacing:"-0.5px"},children:Ut?.displayName||"Guest Creator"}),o.jsxs("span",{className:"pro-badge",style:{background:"linear-gradient(90deg, #facc15, #f59e0b)",color:"#000",fontWeight:"800",fontSize:"0.7rem",padding:"4px 10px",borderRadius:"20px",textTransform:"uppercase"},children:[ir||"Artist"," Tier"]})]}),o.jsxs("p",{style:{color:"var(--text-secondary)",margin:"0 0 12px 0",fontSize:"1rem",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(u,{size:16})," ",Ut?.email||"studio.access@whip.ai"]}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsxs("button",{className:"btn-pill glass",style:{fontSize:"0.75rem",padding:"6px 12px"},onClick:()=>za("profile"),children:[o.jsx(ue,{size:14})," Account Settings"]}),o.jsxs("button",{className:"btn-pill glass",style:{fontSize:"0.75rem",padding:"6px 12px"},onClick:()=>vi("billing"),children:[o.jsx(ne,{size:14})," Wallet"]})]})]})]}),o.jsxs("div",{className:"studio-vital-stats",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",minWidth:"320px"},children:[o.jsxs("div",{className:"vital-card",style:{background:"rgba(255,255,255,0.02)",padding:"16px",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.05)",textAlign:"center"},children:[o.jsx(y,{size:18,color:"var(--color-cyan)",style:{marginBottom:"8px"}}),o.jsx("div",{style:{fontSize:"1.4rem",fontWeight:"800",color:"var(--text-primary)"},children:ja.length}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1px"},children:"Total Projects"})]}),o.jsxs("div",{className:"vital-card",style:{background:"rgba(255,255,255,0.02)",padding:"16px",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.05)",textAlign:"center"},children:[o.jsx(V,{size:18,color:"#facc15",fill:"#facc15",style:{marginBottom:"8px"}}),o.jsx("div",{style:{fontSize:"1.4rem",fontWeight:"800",color:"#facc15"},children:rr}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1px"},children:"Avail. Credits"})]}),o.jsxs("div",{className:"vital-card",style:{background:"rgba(255,255,255,0.02)",padding:"16px",borderRadius:"20px",border:"1px solid rgba(255,255,255,0.05)",textAlign:"center"},children:[o.jsx(me,{size:18,color:"var(--color-purple)",style:{marginBottom:"8px"}}),o.jsx("div",{style:{fontSize:"1.4rem",fontWeight:"800",color:"var(--color-purple)"},children:fi.filter(e=>e.visible).length}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1px"},children:"Active Agents"})]})]})]}),hr&&o.jsxs("div",{style:{marginTop:"24px",background:"rgba(6, 182, 212, 0.05)",padding:"12px 20px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px dashed rgba(6, 182, 212, 0.2)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-cyan)",fontSize:"0.9rem"},children:[o.jsx("div",{className:"pulse-dot",style:{width:"8px",height:"8px",borderRadius:"50%",background:"var(--color-cyan)"}}),o.jsxs("span",{children:["Active Session: ",o.jsx("strong",{children:hr.name})]})]}),o.jsxs("button",{className:"text-button",onClick:()=>za("hub"),style:{fontSize:"0.8rem",color:"var(--color-cyan)",fontWeight:"600"},children:["Switch Project ",o.jsx(ze,{size:14})]})]})]}),o.jsxs("div",{className:"dashboard-grid-two-cols",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(360px, 1fr))",gap:"24px",marginBottom:"24px"},children:[o.jsxs("div",{className:"dashboard-card usage-insights-card",style:{background:"var(--color-bg-secondary)",borderRadius:"24px",padding:"20px",border:"1px solid var(--border-color)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsxs("h3",{style:{margin:0,fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(de,{size:20,className:"text-purple"})," Studio Utilization"]}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"This Month"})]}),o.jsxs("div",{className:"usage-stat-group",style:{display:"flex",flexDirection:"column",gap:"20px"},children:[o.jsxs("div",{className:"usage-item",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"0.85rem"},children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"AI Generations"}),o.jsx("span",{children:Pt?"Unlimited":`${nr}/3`})]}),o.jsx("div",{style:{height:"6px",background:"rgba(255,255,255,0.05)",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{width:Pt?"85%":nr/3*100+"%",height:"100%",background:"var(--color-purple)",boxShadow:"0 0 10px var(--color-purple)"}})})]}),o.jsxs("div",{className:"usage-item",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"0.85rem"},children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Cloud Storage"}),o.jsxs("span",{children:[Math.round(1.2*ja.length),"MB / 500MB"]})]}),o.jsx("div",{style:{height:"6px",background:"rgba(255,255,255,0.05)",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{width:1.2*ja.length/500*100+"%",height:"100%",background:"var(--color-cyan)",boxShadow:"0 0 10px var(--color-cyan)"}})})]}),o.jsxs("div",{className:"usage-item",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"0.85rem"},children:[o.jsx("span",{style:{color:"var(--text-secondary)"},children:"Agent Slots"}),o.jsxs("span",{children:[fi.filter(e=>e.visible).length," / 16 Used"]})]}),o.jsx("div",{style:{height:"6px",background:"rgba(255,255,255,0.05)",borderRadius:"3px",overflow:"hidden"},children:o.jsx("div",{style:{width:fi.filter(e=>e.visible).length/16*100+"%",height:"100%",background:"var(--color-pink)",boxShadow:"0 0 10px var(--color-pink)"}})})]}),o.jsx("div",{style:{marginTop:"12px",paddingTop:"16px",borderTop:"1px solid rgba(255,255,255,0.05)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:[{name:"4K Rendering",active:"free"!==ir.toLowerCase()},{name:"Stem Export",active:"free"!==ir.toLowerCase()},{name:"Commercial Rights",active:"pro"===ir.toLowerCase()||"lifetime"===ir.toLowerCase()},{name:"Priority API",active:"pro"===ir.toLowerCase()||"lifetime"===ir.toLowerCase()}].map((e,t)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.7rem",color:e.active?"var(--text-primary)":"var(--text-secondary)"},children:[e.active?o.jsx(je,{size:10,color:"var(--color-emerald)"}):o.jsx(oe,{size:10}),o.jsx("span",{children:e.name})]},t))})]})]}),o.jsxs("div",{className:"dashboard-card platform-integration-card",style:{background:"var(--color-bg-secondary)",borderRadius:"24px",padding:"20px",border:"1px solid var(--border-color)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[o.jsxs("h3",{style:{margin:0,fontSize:"1.1rem",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(f,{size:20,className:"text-cyan"})," Cloud Integrations"]}),o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-emerald)",background:"rgba(16, 185, 129, 0.1)",padding:"2px 8px",borderRadius:"10px"},children:[Object.values(Gi).filter(Boolean).length," Linked"]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[{name:"X / Twitter",icon:Se,connected:Gi.twitter},{name:"Instagram",icon:ke,connected:Gi.instagram},{name:"Spotify",icon:T,connected:!1},{name:"YouTube",icon:Ne,connected:!1}].map((e,t)=>o.jsxs("div",{style:{background:"rgba(255,255,255,0.02)",padding:"12px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(e.icon,{size:18,color:e.connected?"var(--text-primary)":"var(--text-secondary)"}),o.jsx("span",{style:{fontSize:"0.85rem",color:e.connected?"var(--text-primary)":"var(--text-secondary)"},children:e.name})]}),e.connected?o.jsx(ge,{size:14,color:"var(--color-emerald)"}):o.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:"rgba(255,255,255,0.1)"}})]},t))}),o.jsxs("button",{className:"text-button",onClick:()=>vi("settings"),style:{width:"100%",marginTop:"16px",justifyContent:"center",fontSize:"0.85rem",color:"var(--color-purple)"},children:["Manage All Connections ",o.jsx(ze,{size:14})]})]})]}),o.jsx("div",{className:"audience-overview",style:{marginBottom:"24px"},children:[{label:"Monthly Listeners",value:Yi.listeners.toLocaleString(),icon:me,color:"var(--color-blue)",trend:"+5.4%"},{label:"Total Streams",value:Yi.streams.toLocaleString(),icon:A,color:"var(--color-emerald)",trend:"+12.1%"},{label:"Followers",value:Yi.followers.toLocaleString(),icon:pe,color:"var(--color-purple)",trend:"+2.3%"},{label:"Engagement Rate",value:"4.8%",icon:Ce,color:"var(--color-cyan)",trend:"+0.8%"}].map((e,t)=>o.jsxs("div",{className:"audience-stat-card",style:{position:"relative",overflow:"hidden"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{className:"audience-stat-icon",style:{background:`${e.color}15`,color:e.color,minWidth:"44px",height:"44px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(e.icon,{size:22})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"1.4rem",fontWeight:"800",fontFamily:"monospace"},children:e.value}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.5px"},children:e.label})]})]}),o.jsx("div",{style:{position:"absolute",bottom:"12px",right:"16px",fontSize:"0.7rem",color:"var(--color-emerald)",fontWeight:"bold"},children:e.trend})]},t))}),!Hi.stageName&&o.jsxs("div",{className:"profile-nudge-card animate-fadeInUp",style:{background:"linear-gradient(90deg, rgba(168, 85, 247, 0.2) 0%, rgba(168, 85, 247, 0.05) 100%)",border:"1px solid var(--color-purple)",borderRadius:"12px",padding:"16px 24px",marginBottom:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{background:"var(--color-purple)",padding:"10px",borderRadius:"50%",color:"white"},children:o.jsx(N,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{style:{margin:"0 0 4px 0",fontSize:"1.1rem"},children:"Complete Your Creator Profile"}),o.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Set your stage name and genre to get personalized AI results."})]})]}),o.jsx("button",{className:"cta-button-premium",onClick:()=>za("profile"),children:"Setup Profile"})]}),o.jsxs("div",{className:"dashboard-card orchestrator-promo-card animate-fadeInUp",style:{marginBottom:"24px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.3)",borderRadius:"24px",padding:"24px",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:"-20px",right:"-20px",opacity:.1},children:o.jsx(V,{size:120,color:"var(--color-purple)"})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[o.jsxs("div",{style:{flex:1,minWidth:"280px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[o.jsx("div",{style:{background:"linear-gradient(135deg, #8b5cf6, #06b6d4)",padding:"10px",borderRadius:"12px",color:"white"},children:o.jsx(V,{size:24})}),o.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"800",letterSpacing:"-0.5px"},children:"AI Production Pipeline"})]}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"1rem",lineHeight:"1.5",margin:"0 0 20px 0"},children:"Transform a single idea into a complete release package. Our multi-agent orchestrator handles lyrics, beats, visuals, and marketing in one automated flow."}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsx("button",{className:"cta-button-premium",onClick:()=>qr(!0),style:{padding:"12px 24px"},children:"Start AI Production"}),o.jsx("button",{className:"btn-pill glass",onClick:()=>za("resources"),children:"Watch Demo"})]})]}),o.jsxs("div",{className:"orchestrator-stats",style:{display:"flex",gap:"20px"},children:[o.jsxs("div",{style:{textAlign:"center",background:"rgba(255,255,255,0.03)",padding:"16px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-purple)"},children:"4"}),o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase"},children:"Agents"})]}),o.jsxs("div",{style:{textAlign:"center",background:"rgba(255,255,255,0.03)",padding:"16px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-cyan)"},children:"1-Click"}),o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase"},children:"Workflow"})]})]})]})]}),o.jsxs("div",{className:"dashboard-card workflow-card",style:{marginBottom:"24px",background:"var(--color-bg-secondary)",border:"1px solid var(--border-color)"},children:[o.jsx("div",{className:"card-header",children:o.jsxs("h3",{children:[o.jsx(g,{size:18,className:"text-cyan"})," Studio Workflow"]})}),o.jsx("div",{className:"workflow-steps-mini",style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"16px"},children:[{step:1,title:"Define Your Vision",desc:"Use the Project Wizard to name your masterpiece and select your studio vibe.",icon:g,color:"var(--color-cyan)"},{step:2,title:"Assemble Your Team",desc:"Choose from 16 specialized AI agents for lyrics, beats, and production.",icon:me,color:"var(--color-purple)"},{step:3,title:"Launch & Amplify",desc:"Use Marketing agents to build your rollout plan and sync socials.",icon:ce,color:"var(--color-pink)"}].map((e,t)=>o.jsxs("div",{className:"workflow-step-item",style:{display:"flex",gap:"16px",alignItems:"flex-start"},children:[o.jsx("div",{className:"step-number",style:{minWidth:"24px",height:"24px",borderRadius:"50%",background:e.color,color:"black",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.8rem"},children:e.step}),o.jsxs("div",{children:[o.jsx("h4",{style:{margin:"0 0 4px 0",fontSize:"0.95rem"},children:e.title}),o.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:e.desc})]})]},t))}),o.jsxs("div",{className:"workflow-actions",style:{marginTop:"20px",display:"flex",gap:"12px"},children:[o.jsxs("button",{className:"btn-pill primary",onClick:()=>kn(!0),children:[o.jsx(Q,{size:14})," New Project"]}),o.jsxs("button",{className:"btn-pill glass",onClick:()=>za("hub"),children:[o.jsx(y,{size:14})," Open Existing"]})]})]}),o.jsxs("section",{className:"dashboard-card recent-projects-card",style:{marginBottom:"24px"},children:[o.jsxs("div",{className:"card-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(y,{size:18,className:"text-cyan"})," Your Projects"]}),o.jsxs("button",{className:"btn-pill glass",onClick:()=>za("hub"),style:{fontSize:"0.75rem",padding:"6px 12px"},children:["View All ",o.jsx(ye,{size:14})]})]}),0===ja.length?o.jsxs("div",{className:"empty-projects-state",style:{textAlign:"center",padding:"40px 20px",background:"rgba(255,255,255,0.02)",borderRadius:"12px",marginTop:"16px"},children:[o.jsx(y,{size:40,style:{color:"var(--text-secondary)",marginBottom:"12px"}}),o.jsx("h4",{style:{margin:"0 0 8px 0",color:"var(--text-primary)"},children:"No Projects Yet"}),o.jsx("p",{style:{margin:"0 0 16px 0",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Start your first project and track your creative journey."}),o.jsxs("button",{className:"btn-pill primary",onClick:()=>kn(!0),children:[o.jsx(Q,{size:14})," Create First Project"]})]}):o.jsxs("div",{className:"projects-list-view",style:{marginTop:"16px"},children:[(ja||[]).slice(0,5).map((e,t)=>{const r=e.createdAt?new Date(e.createdAt):e.date?new Date(e.date):new Date,s=r.toLocaleDateString("en-US",{month:"short",day:"numeric",year:r.getFullYear()!==(new Date).getFullYear()?"numeric":void 0});return o.jsxs("div",{className:"project-list-item touch-feedback",onClick:()=>{yr(e),Va(!0)},style:{display:"grid",gridTemplateColumns:"48px 1fr auto",gap:"16px",alignItems:"center",padding:"16px",background:hr?.id===e.id?"rgba(168, 85, 247, 0.1)":"rgba(255,255,255,0.02)",borderRadius:"12px",marginBottom:"8px",border:hr?.id===e.id?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.05)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:t=>{hr?.id!==e.id&&(t.currentTarget.style.borderColor="rgba(255,255,255,0.05)")},children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"10px",background:"music"===e.category?"linear-gradient(135deg, var(--color-purple) 0%, var(--color-pink) 100%)":"visual"===e.category?"linear-gradient(135deg, var(--color-cyan) 0%, var(--color-blue) 100%)":"marketing"===e.category?"linear-gradient(135deg, var(--color-orange) 0%, var(--color-red) 100%)":"linear-gradient(135deg, var(--color-emerald) 0%, var(--color-cyan) 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"1.2rem",fontWeight:"700",flexShrink:0},children:"music"===e.category?o.jsx(P,{size:22}):"visual"===e.category?o.jsx(B,{size:22}):"marketing"===e.category?o.jsx(U,{size:22}):o.jsx(y,{size:22})}),o.jsxs("div",{style:{minWidth:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[o.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),o.jsx("span",{style:{padding:"2px 8px",background:"completed"===e.status?"rgba(16, 185, 129, 0.2)":"archived"===e.status?"rgba(100, 116, 139, 0.2)":"rgba(168, 85, 247, 0.2)",color:"completed"===e.status?"var(--color-emerald)":"archived"===e.status?"var(--text-secondary)":"var(--color-purple)",borderRadius:"20px",fontSize:"0.65rem",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",flexShrink:0},children:e.status||"Active"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--text-secondary)",fontSize:"0.8rem"},children:[o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(N,{size:12}),Ut?.displayName||"You"]}),o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(X,{size:12}),s]}),e.agents?.length>0&&o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(me,{size:12}),e.agents.length," agent",1!==e.agents.length?"s":""]})]}),e.description&&o.jsx("p",{style:{margin:"6px 0 0 0",fontSize:"0.8rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.description})]}),o.jsx("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:o.jsx("button",{className:"btn-icon-sm",onClick:t=>{t.stopPropagation(),yr(e),Va(!0)},title:"Open Project Summary",style:{width:"32px",height:"32px",borderRadius:"8px",background:"var(--color-purple)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(h,{size:14})})})]},e.id||t)}),ja.length>5&&o.jsxs("button",{className:"btn-pill glass",onClick:()=>za("hub"),style:{width:"100%",marginTop:"8px"},children:["View All ",ja.length," Projects ",o.jsx(ye,{size:14})]})]})]}),o.jsxs("section",{className:"dashboard-card brand-strategy-card",style:{marginBottom:"24px"},children:[o.jsxs("div",{className:"card-header",children:[o.jsxs("h3",{children:[o.jsx(we,{size:18})," Build Your Legacy"]}),o.jsx(V,{size:18,className:"text-yellow-400"})]}),o.jsxs("div",{className:"strategy-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"12px"},children:[o.jsxs("div",{className:"strategy-item",style:{background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"8px"},children:[o.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"4px",color:"var(--color-purple)"},children:"Output"}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Don't just make music, build a brand."})]}),o.jsxs("div",{className:"strategy-item",style:{background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"8px"},children:[o.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"4px",color:"var(--color-cyan)"},children:"Hit Ready"}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Production quality that stands out."})]}),o.jsxs("div",{className:"strategy-item",style:{background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"8px"},children:[o.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"4px",color:"var(--color-pink)"},children:"Viral Videos"}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Visuals designed for social impact."})]}),o.jsxs("div",{className:"strategy-item",style:{background:"rgba(255,255,255,0.03)",padding:"12px",borderRadius:"8px"},children:[o.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"4px",color:"var(--color-orange)"},children:"Marketing"}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Content strategy that converts."})]})]})]}),o.jsxs("div",{className:"dashboard-grid",children:[o.jsxs("div",{className:"dashboard-card onboarding-card",style:{border:"1px solid rgba(168, 85, 247, 0.3)",background:"linear-gradient(145deg, rgba(168, 85, 247, 0.05) 0%, rgba(0,0,0,0) 100%)"},children:[o.jsxs("div",{className:"card-header",children:[o.jsxs("h3",{children:[o.jsx(ce,{size:18,className:"text-purple"}),hr?`Project Roadmap: ${hr.name}`:"Studio Setup Checklist"]}),o.jsx("span",{className:"status-badge",style:{background:"var(--color-purple)",color:"white"},children:hr?"In Progress":(ta.length>0?1:0)+" / 1 Complete"})]}),o.jsx("div",{className:"checklist-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"16px"},children:hr&&Io?Io.map((t,r)=>o.jsxs("div",{className:"checklist-item",style:{padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",gap:"8px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{const r=void 0!==e&&e?e.find(e=>e.id===t.agentId):null;r&&(r.isPro&&!Pt?(qt(!0),no(`Unlock ${r.name} with a Pro account.`)):(mr(r),za("agents"),no(`Opening ${r.name} for project ${hr.name}.`)))},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:e=>e.currentTarget.style.borderColor="rgba(255,255,255,0.05)",children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("span",{style:{fontWeight:"600",color:"var(--text-primary)"},children:[r+1,". ",t.label]}),"function"==typeof t.icon?o.jsx(t.icon,{size:16,className:"text-purple"}):o.jsx(g,{size:16,className:"text-purple"})]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:t.desc}),o.jsx("button",{className:"btn-pill glass",style:{fontSize:"0.75rem",padding:"4px 12px",marginTop:"auto"},children:"Launch"})]},r)):o.jsxs("div",{className:"checklist-item "+(ta.length>0?"completed":""),style:{padding:"16px",background:ta.length>0?"rgba(16, 185, 129, 0.05)":"rgba(255,255,255,0.03)",borderRadius:"12px",border:ta.length>0?"1px solid rgba(16, 185, 129, 0.2)":"1px solid rgba(255,255,255,0.05)",display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontWeight:"600",color:ta.length>0?"var(--color-emerald)":"var(--text-primary)"},children:"Setup Wallet"}),ta.length>0?o.jsx(ge,{size:16,className:"text-emerald"}):o.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:"2px solid var(--text-secondary)"}})]}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Add payment method."}),!ta.length&&o.jsx("button",{className:"btn-pill glass",style:{fontSize:"0.75rem",padding:"4px 12px",marginTop:"auto"},onClick:()=>vi("billing"),children:"Add Card"})]})})]}),o.jsxs("section",{className:"dashboard-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsxs("h3",{children:[o.jsx(U,{size:18})," Social Ecosystem"]}),o.jsx("span",{className:"status-badge online",children:"Live"})]}),o.jsxs("div",{className:"connection-list",children:[o.jsxs("div",{className:"connection-item",children:[o.jsxs("div",{className:"connection-info",children:[o.jsx("div",{className:"icon-box twitter-bg",children:o.jsx(Se,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"connection-name",children:"X (Twitter)"}),o.jsx("p",{className:"connection-status",children:Gi.twitter?`@${Ji||"Connected"}`:"Not Connected"})]})]}),o.jsx("button",{className:"btn-connect "+(Gi.twitter?"connected":""),onClick:()=>wo("twitter"),children:Gi.twitter?"Manage":"Connect"})]}),o.jsxs("div",{className:"connection-item",children:[o.jsxs("div",{className:"connection-info",children:[o.jsx("div",{className:"icon-box instagram-bg",children:o.jsx(ke,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"connection-name",children:"Instagram"}),o.jsx("p",{className:"connection-status",children:Gi.instagram?Ki||"Connected":"Not Connected"})]})]}),o.jsx("button",{className:"btn-connect "+(Gi.instagram?"connected":""),onClick:()=>wo("instagram"),children:Gi.instagram?"Manage":"Connect"})]})]})]}),o.jsxs("section",{className:"dashboard-card",children:[o.jsxs("div",{className:"card-header",children:[o.jsxs("h3",{children:[o.jsx(G,{size:18})," Cloud Storage"]}),o.jsx("span",{className:"storage-usage",children:"72% Full"})]}),o.jsx("div",{className:"connection-list",children:o.jsxs("div",{className:"connection-item",children:[o.jsxs("div",{className:"connection-info",children:[o.jsx("div",{className:"icon-box storage-bg",children:o.jsx(Ie,{size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"connection-name",children:"Google Drive"}),o.jsx("p",{className:"connection-status",children:Zi.googleDrive?"Connected":"Disconnected"})]})]}),o.jsx("button",{className:"btn-connect "+(Zi.googleDrive?"connected":""),onClick:()=>ea(e=>({...e,googleDrive:!e.googleDrive})),children:Zi.googleDrive?"Disconnect":"Connect"})]})})]})]})]}),"agents"===bi&&o.jsxs("div",{className:"dashboard-view-agents animate-fadeIn",children:[o.jsxs("div",{className:"section-header-simple",children:[o.jsx("h2",{children:"Agent Management"}),o.jsx("p",{children:"Show or hide agents from your main grid. Hidden agents are still accessible via search."})]}),o.jsx("div",{className:"agent-management-list",children:fi.map((e,t)=>o.jsxs("div",{className:"agent-manage-row "+(e.visible?"":"hidden-agent"),children:[o.jsxs("div",{className:"agent-manage-info",children:[o.jsx("div",{className:`agent-mini-icon ${e.colorClass}`,children:"function"==typeof e.icon?o.jsx(e.icon,{size:18}):o.jsx(g,{size:18})}),o.jsx("span",{children:e.name})]}),o.jsx("div",{className:"agent-manage-actions",children:o.jsxs("button",{className:"toggle-btn "+(e.visible?"active":""),onClick:()=>{return t=e.name,void ji(e=>e.map(e=>e.name===t?{...e,visible:!e.visible}:e));var t},children:[e.visible?o.jsx(Y,{size:16}):o.jsx(Ae,{size:16}),e.visible?"Visible":"Hidden"]})})]},t))})]}),"admin"===bi&&o.jsx(a.Suspense,{fallback:o.jsx("div",{className:"loading-spinner",children:"Loading Analytics..."}),children:o.jsx(vt,{name:"AdminAnalytics",children:o.jsx(ut,{})})}),"billing"===bi&&o.jsxs("div",{className:"dashboard-view-billing animate-fadeIn",children:[o.jsxs("div",{className:"section-header-simple",children:[o.jsx("h2",{children:"Billing & Wallet"}),o.jsx("p",{children:"Manage your payment methods and subscription plan."})]}),o.jsxs("div",{className:"wallet-balance-card",style:{background:"linear-gradient(135deg, rgba(250, 204, 21, 0.15), rgba(0, 0, 0, 0.4))",border:"1px solid rgba(250, 204, 21, 0.3)",padding:"24px",borderRadius:"20px",marginBottom:"2rem",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:"-20px",right:"-20px",opacity:.1},children:o.jsx(V,{size:120,color:"#facc15",fill:"#facc15"})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px"},children:[o.jsxs("div",{className:"balance-info",children:[o.jsx("div",{className:"balance-label",style:{color:"var(--text-secondary)",fontSize:"0.9rem",marginBottom:"4px"},children:"Studio Balance"}),o.jsxs("div",{className:"balance-amount",style:{fontSize:"2.5rem",fontWeight:"800",color:"#facc15",display:"flex",alignItems:"baseline",gap:"8px"},children:[rr," ",o.jsx("span",{className:"currency",style:{fontSize:"1rem",color:"var(--text-secondary)",fontWeight:"normal"},children:"Credits"})]})]}),o.jsx("div",{style:{display:"flex",gap:"12px"},children:o.jsxs("button",{className:"btn-pill primary",onClick:()=>Yn(!0),style:{boxShadow:"0 4px 15px rgba(250, 204, 21, 0.3)"},children:[o.jsx(Q,{size:16})," Purchase Packs"]})})]})]}),o.jsxs("div",{className:"topup-packs-section",style:{marginBottom:"2.5rem"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[o.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(V,{size:20,color:"#facc15"})," Buy Credit Packs"]}),o.jsx("span",{style:{fontSize:"0.8rem",color:"#10b981",background:"rgba(16, 185, 129, 0.1)",padding:"2px 8px",borderRadius:"4px"},children:"Instant Delivery"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"1rem"},children:[{amount:10,price:"$0.99",desc:"Single session"},{amount:50,price:"$3.99",desc:"Project creator",popular:!0},{amount:150,price:"$9.99",desc:"Album starter"},{amount:500,price:"$24.99",desc:"Label power"}].map(e=>o.jsxs("div",{className:"pricing-mini-card "+(e.popular?"popular":""),onClick:()=>_n(e.amount,e.price),style:{background:"var(--glass-bg)",border:e.popular?"1px solid #facc15":"1px solid var(--glass-border)",padding:"20px",borderRadius:"16px",textAlign:"center",cursor:"pointer",transition:"all 0.3s ease",position:"relative"},children:[e.popular&&o.jsx("div",{style:{position:"absolute",top:"-10px",left:"50%",transform:"translateX(-50%)",background:"#facc15",color:"#000",fontSize:"0.65rem",fontWeight:"bold",padding:"2px 8px",borderRadius:"40px",textTransform:"uppercase"},children:"Best Value"}),o.jsx("div",{style:{fontWeight:"800",fontSize:"1.5rem",color:"#facc15",marginBottom:"4px"},children:e.amount}),o.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"4px"},children:e.price}),o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:e.desc})]},e.amount))}),o.jsx("p",{style:{marginTop:"1rem",fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center"},children:"Note: Purchased credits never expire and are used after your monthly plan credits."})]}),o.jsxs("div",{className:"payment-methods-container",children:[o.jsxs("div",{className:"payment-header",children:[o.jsx("h3",{children:"Saved Payment Methods"}),o.jsxs("button",{className:"add-payment-btn",onClick:()=>Gn(!0),children:[o.jsx(Q,{size:16})," Add New"]})]}),0===ta.length&&0===sa.length?o.jsxs("div",{className:"empty-payments",children:[o.jsx(ae,{size:32}),o.jsx("p",{children:"No payment methods saved yet."})]}):o.jsxs("div",{className:"payment-list",children:[ta.map(e=>o.jsxs("div",{className:"payment-method-card",children:[o.jsx("div",{className:"pm-icon",children:o.jsx(ae,{size:20})}),o.jsxs("div",{className:"pm-details",children:[o.jsxs("p",{className:"pm-name",children:[e.type," ending in ",e.last4]}),o.jsxs("p",{className:"pm-sub",children:["Expires ",e.expiry]})]}),o.jsxs("div",{className:"pm-actions",children:[o.jsx("button",{onClick:()=>{Qn(e),Xn("card"),Gn(!0)},children:"Edit"}),o.jsx("button",{className:"delete",onClick:()=>lo(e.id,"card"),children:"Remove"})]})]},e.id)),sa.map(e=>o.jsxs("div",{className:"payment-method-card",children:[o.jsx("div",{className:"pm-icon",children:o.jsx(ne,{size:20})}),o.jsxs("div",{className:"pm-details",children:[o.jsx("p",{className:"pm-name",children:e.bankName}),o.jsxs("p",{className:"pm-sub",children:["****",e.last4]})]}),o.jsxs("div",{className:"pm-actions",children:[o.jsx("button",{onClick:()=>{Qn(e),Xn("bank"),Gn(!0)},children:"Edit"}),o.jsx("button",{className:"delete",onClick:()=>lo(e.id,"bank"),children:"Remove"})]})]},e.id))]})]}),o.jsxs("div",{className:"plans-section",style:{marginTop:"2rem"},children:[o.jsx("div",{className:"payment-header",children:o.jsx("h3",{children:"Available Plans"})}),o.jsxs("div",{className:"plans-grid",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"1rem",marginTop:"1rem"},children:[o.jsxs("div",{className:"pricing-card-native",children:[o.jsxs("div",{className:"plan-header-native",children:[o.jsx("h3",{className:"plan-name-native",children:"Free"}),o.jsx("div",{className:"plan-price-box-native",children:o.jsx("span",{className:"plan-price-native",children:"$0"})})]}),o.jsxs("ul",{className:"plan-features-native",children:[o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"Up to 3 agents"})]}),o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"3 uses per agent"})]}),o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"10s audio output"})]})]}),o.jsx("button",{className:"plan-button-native secondary",disabled:!0,style:{opacity:.5,cursor:"default"},children:"Current Plan"})]}),o.jsxs("div",{className:"pricing-card-native popular",children:[o.jsx("div",{className:"popular-badge-native",children:"Most Popular"}),o.jsxs("div",{className:"plan-header-native",children:[o.jsx("h3",{className:"plan-name-native",children:"Creator"}),o.jsxs("div",{className:"plan-price-box-native",children:[o.jsx("span",{className:"plan-price-native",children:"$4.99"}),o.jsx("span",{className:"plan-period-native",children:"/mo"})]})]}),o.jsxs("ul",{className:"plan-features-native",children:[o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"Up to 5 agents"})]}),o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"100 uses/month"})]}),o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"30s audio output"})]})]}),o.jsx("button",{className:"plan-button-native primary",onClick:()=>ro({name:"Creator",price:"$4.99",period:"/month"}),children:"Subscribe"})]}),o.jsxs("div",{className:"pricing-card-native",children:[o.jsxs("div",{className:"plan-header-native",children:[o.jsx("h3",{className:"plan-name-native",children:"Studio Pro"}),o.jsxs("div",{className:"plan-price-box-native",children:[o.jsx("span",{className:"plan-price-native",children:"$14.99"}),o.jsx("span",{className:"plan-period-native",children:"/mo"})]})]}),o.jsxs("ul",{className:"plan-features-native",children:[o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"All 16 agents"})]}),o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"Unlimited uses"})]}),o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"60s audio output"})]})]}),o.jsx("button",{className:"plan-button-native primary",onClick:()=>ro({name:"Studio Pro",price:"$14.99",period:"/month"}),children:"Subscribe"})]}),o.jsxs("div",{className:"pricing-card-native ltd-card",children:[o.jsx("div",{className:"ltd-badge-native",children:"Limited Time Offer"}),o.jsxs("div",{className:"plan-header-native",children:[o.jsx("h3",{className:"plan-name-native",children:"Lifetime"}),o.jsxs("div",{className:"plan-price-box-native",children:[o.jsx("span",{className:"plan-price-native",children:"$99"}),o.jsx("span",{className:"plan-period-native",children:"one-time"})]})]}),o.jsxs("ul",{className:"plan-features-native",children:[o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"500 Credits / Month"})]}),o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"All 16 Agents"})]}),o.jsxs("li",{className:"plan-feature-item-native",children:[o.jsx("div",{className:"feature-check-native",children:o.jsx(V,{size:12})}),o.jsx("span",{children:"Commercial License"})]})]}),o.jsx("button",{className:"plan-button-native primary",onClick:()=>ro({name:"Lifetime Access",price:"$99",period:"one-time"}),children:"Get Lifetime"})]})]})]})]}),"settings"===bi&&o.jsxs("div",{className:"dashboard-view-settings animate-fadeIn",children:[o.jsxs("div",{className:"section-header-simple",children:[o.jsx("h2",{children:"Application Settings"}),o.jsx("p",{children:"Customize your Studio Agents experience."})]}),o.jsxs("div",{className:"settings-list",children:[o.jsxs("div",{className:"setting-row",children:[o.jsxs("div",{className:"setting-info",children:[o.jsx("h4",{children:"Show Industry Pulse"}),o.jsx("p",{children:"Display the latest music industry news in your dashboard."})]}),o.jsxs("label",{className:"switch",children:[o.jsx("input",{type:"checkbox",checked:wi.showNews,onChange:()=>Hn("showNews")}),o.jsx("span",{className:"slider round"})]})]}),o.jsxs("div",{className:"setting-row",children:[o.jsxs("div",{className:"setting-info",children:[o.jsx("h4",{children:"Public Activity Wall"}),o.jsx("p",{children:"Allow your shared creations to be seen by the community."})]}),o.jsxs("label",{className:"switch",children:[o.jsx("input",{type:"checkbox",checked:wi.publicActivity,onChange:()=>Hn("publicActivity")}),o.jsx("span",{className:"slider round"})]})]}),o.jsxs("div",{className:"setting-row",children:[o.jsxs("div",{className:"setting-info",children:[o.jsx("h4",{children:"Auto-Save Projects"}),o.jsx("p",{children:"Automatically save your work to local storage every 5 minutes."})]}),o.jsxs("label",{className:"switch",children:[o.jsx("input",{type:"checkbox",checked:wi.autoSave,onChange:()=>Hn("autoSave")}),o.jsx("span",{className:"slider round"})]})]}),o.jsxs("div",{className:"setting-row",children:[o.jsxs("div",{className:"setting-info",children:[o.jsx("h4",{children:"High Quality Previews"}),o.jsx("p",{children:"Generate higher fidelity audio previews (may take longer)."})]}),o.jsxs("label",{className:"switch",children:[o.jsx("input",{type:"checkbox",checked:wi.highQualityPreviews,onChange:()=>Hn("highQualityPreviews")}),o.jsx("span",{className:"slider round"})]})]}),o.jsxs("div",{className:"setting-row",children:[o.jsxs("div",{className:"setting-info",children:[o.jsx("h4",{children:"Streamer Mode"}),o.jsx("p",{children:"Hide sensitive personal information like email and billing details."})]}),o.jsxs("label",{className:"switch",children:[o.jsx("input",{type:"checkbox",checked:wi.streamerMode,onChange:()=>Hn("streamerMode")}),o.jsx("span",{className:"slider round"})]})]}),o.jsxs("div",{className:"setting-row",children:[o.jsxs("div",{className:"setting-info",children:[o.jsx("h4",{children:"Reset Onboarding"}),o.jsx("p",{children:'View the "Welcome to The Studio" introduction again.'})]}),o.jsxs("button",{className:"secondary-button",onClick:()=>{localStorage.removeItem("studio_onboarding_v2"),Ja(0),qa(!0)},style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(ie,{size:16}),"Reset Tour"]})]}),Pt&&o.jsxs("div",{className:"setting-row danger-zone",style:{marginTop:"32px",paddingTop:"24px",borderTop:"1px solid rgba(239, 68, 68, 0.2)",background:"rgba(239, 68, 68, 0.03)",padding:"24px",borderRadius:"16px"},children:[o.jsxs("div",{className:"setting-info",children:[o.jsx("h4",{style:{color:"var(--color-red)"},children:"Delete Account"}),o.jsx("p",{children:"Permanently remove your profile and all associated data."})]}),o.jsxs("button",{className:"secondary-button",onClick:ko,style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--color-red)",color:"var(--color-red)",fontWeight:"700",padding:"10px 20px"},children:[o.jsx(se,{size:16}),"Wipe Account"]})]})]})]}),"admin"===bi&&Ht&&o.jsxs("div",{className:"dashboard-view-admin animate-fadeIn",children:[o.jsxs("div",{className:"section-header-simple",style:{marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px"},children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"14px",background:"rgba(16, 185, 129, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(de,{size:24,className:"text-emerald"})}),o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"800"},children:"Platform Analytics"}),o.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Real-time monitoring of users, revenue, and system health."})]})]}),o.jsxs("button",{className:"btn-pill glass",onClick:Fn,disabled:Lr,style:{padding:"10px 20px"},children:[o.jsx(ie,{size:14,className:Lr?"spin":""}),Lr?"Refreshing Intelligence...":"Refresh Snapshot"]})]}),Mr&&o.jsxs("div",{className:"admin-error-alert",style:{padding:"16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid var(--color-red)",borderRadius:"12px",color:"var(--color-red)",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx(I,{size:20}),o.jsx("p",{children:Mr})]}),!Wr&&Lr?o.jsxs("div",{className:"admin-loading-state",style:{padding:"80px 40px",textAlign:"center",background:"var(--color-bg-secondary)",borderRadius:"32px",border:"1px solid var(--border-color)",display:"flex",flexDirection:"column",alignItems:"center"},children:[o.jsx("div",{className:"spinner-large",style:{width:"40px",height:"40px",border:"3px solid rgba(16, 185, 129, 0.1)",borderTopColor:"var(--color-emerald)",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"24px"}}),o.jsx("h3",{style:{fontSize:"1.25rem",marginBottom:"8px"},children:"Decrypting Platform State..."}),o.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"300px"},children:"Fetching latest user distribution, API health, and credit circulation metrics."})]}):Wr?o.jsxs("div",{className:"admin-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:[o.jsxs("div",{className:"admin-card stats-overview",style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"20px"},children:[o.jsxs("div",{className:"kpi-card",style:{background:"linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%)",padding:"24px",borderRadius:"24px",border:"1px solid var(--border-color)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1.5px",fontWeight:"700"},children:"Platform Creators"}),o.jsx("div",{style:{fontSize:"2.8rem",fontWeight:"900",marginTop:"12px",letterSpacing:"-1px"},children:Wr.users?.total||0}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"var(--color-emerald)",fontSize:"0.85rem",marginTop:"8px",fontWeight:"600"},children:[o.jsx(me,{size:14})," Registered Accounts"]})]}),o.jsxs("div",{className:"kpi-card",style:{background:"linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%)",padding:"24px",borderRadius:"24px",border:"1px solid var(--border-color)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1.5px",fontWeight:"700"},children:"Conversion Rate"}),o.jsxs("div",{style:{fontSize:"2.8rem",fontWeight:"900",marginTop:"12px",color:"var(--color-purple)",letterSpacing:"-1px"},children:[Wr.users?.total>0?Math.round((Wr.users?.paid||0)/Wr.users.total*100):0,"%"]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"var(--color-purple)",fontSize:"0.85rem",marginTop:"8px",fontWeight:"600"},children:[o.jsx(Ce,{size:14})," ",Wr.users?.paid||0," Paid Producers"]})]}),o.jsxs("div",{className:"kpi-card",style:{background:"linear-gradient(135deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%)",padding:"24px",borderRadius:"24px",border:"1px solid var(--border-color)",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1.5px",fontWeight:"700"},children:"Token Circulation"}),o.jsx("div",{style:{fontSize:"2.8rem",fontWeight:"900",marginTop:"12px",color:"#facc15",letterSpacing:"-1px"},children:(Wr.credits?.totalInCirculation||0).toLocaleString()}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#facc15",fontSize:"0.85rem",marginTop:"8px",fontWeight:"600"},children:[o.jsx(V,{size:14,fill:"#facc15"})," Ecosystem Volume"]})]})]}),o.jsxs("div",{className:"admin-card",style:{background:"var(--color-bg-secondary)",padding:"28px",borderRadius:"28px",border:"1px solid var(--border-color)",boxShadow:"0 8px 24px rgba(0,0,0,0.2)"},children:[o.jsxs("h3",{style:{margin:"0 0 24px 0",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(m,{size:20,className:"text-cyan"})," User Segment Distribution"]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"18px"},children:Object.entries(Wr.users?.byTier||{}).map(([e,t])=>o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px",fontSize:"0.85rem"},children:[o.jsx("span",{style:{textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600",opacity:.8},children:e}),o.jsxs("span",{style:{fontWeight:"800"},children:[t," ",o.jsxs("span",{style:{color:"var(--text-secondary)",fontWeight:"400"},children:["(",Math.round(t/Wr.users.total*100),"%)"]})]})]}),o.jsx("div",{style:{width:"100%",height:"10px",background:"rgba(255,255,255,0.05)",borderRadius:"5px",overflow:"hidden"},children:o.jsx("div",{style:{width:t/Wr.users.total*100+"%",height:"100%",borderRadius:"5px",background:"free"===e?"rgba(255,255,255,0.2)":"creator"===e?"var(--color-cyan)":"pro"===e?"var(--color-purple)":"#facc15",boxShadow:"free"!==e?"0 0 10px currentColor":"none"}})})]},e))})]}),o.jsxs("div",{className:"admin-card",style:{background:"var(--color-bg-secondary)",padding:"28px",borderRadius:"28px",border:"1px solid var(--border-color)",boxShadow:"0 8px 24px rgba(0,0,0,0.2)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[o.jsxs("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(K,{size:20,className:"text-emerald"})," API Health Monitor"]}),o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-emerald)",background:"rgba(16, 185, 129, 0.1)",padding:"3px 8px",borderRadius:"12px",fontWeight:"700"},children:"LIVE STATUS"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"14px"},children:Er&&Object.entries(Er).map(([e,t])=>"boolean"!=typeof t&&"uberduckKeyLength"!==e&&"replicateKeyLength"!==e||e.includes("Length")?null:o.jsxs("div",{style:{padding:"14px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.05)",borderRadius:"16px",display:"flex",flexDirection:"column",gap:"8px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"600",textTransform:"uppercase",opacity:.6},children:e}),o.jsx("div",{style:{width:"10px",height:"10px",borderRadius:"50%",background:t?"var(--color-emerald)":"var(--color-red)",boxShadow:t?"0 0 10px var(--color-emerald)":"0 0 10px var(--color-red)"}})]}),o.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"700"},children:t?"Operational":"Missing Key"})]},e))}),o.jsxs("p",{style:{marginTop:"20px",fontSize:"0.75rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"5px"},children:[o.jsx(fe,{size:12})," Auto-pinging endpoints every 60s."]})]}),o.jsxs("div",{className:"admin-card",style:{background:"var(--color-bg-secondary)",padding:"28px",borderRadius:"28px",border:"1px solid var(--border-color)",boxShadow:"0 8px 24px rgba(0,0,0,0.2)"},children:[o.jsxs("h3",{style:{margin:"0 0 24px 0",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(fe,{size:20,className:"text-purple"})," System & Governance"]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"14px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Registered Admins"}),o.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"700"},children:Wr.admins?.length||0})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Demo/Press Accounts"}),o.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"700"},children:Wr.demoAccounts?.length||0})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",paddingBottom:"12px",borderBottom:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Avg Credits / User"}),o.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"700"},children:Wr.credits?.averagePerUser||0})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Report Generated"}),o.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"700",color:"var(--color-cyan)"},children:new Date(Wr.timestamp).toLocaleTimeString()})]})]}),o.jsxs("div",{style:{marginTop:"20px",padding:"14px",background:"rgba(168, 85, 247, 0.08)",borderRadius:"16px",border:"1px solid rgba(168, 85, 247, 0.2)",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"8px",height:"8px",background:"var(--color-purple)",borderRadius:"50%",animation:"pulse 2s infinite"}}),o.jsx("p",{style:{margin:0,fontSize:"0.75rem",color:"var(--color-purple)",fontWeight:"600"},children:"Security Patch v2.4 Active. All data encrypted at rest."})]})]})]}):o.jsxs("div",{style:{padding:"60px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"24px",border:"1px dashed rgba(255,255,255,0.1)"},children:[o.jsx(de,{size:40,style:{opacity:.2,marginBottom:"16px"}}),o.jsx("h3",{style:{margin:"0 0 8px 0"},children:"No Data Available"}),o.jsx("p",{style:{color:"var(--text-secondary)",margin:"0 0 20px 0"},children:"Click the refresh button to initialize platform monitoring."}),o.jsx("button",{className:"btn-pill primary",onClick:Fn,children:"Initialize Analytics"})]})]})]})]})});if(ur&&"agents"!==lr){const e="function"==typeof ur.icon?ur.icon:g;return o.jsxs("div",{className:"agent-active-view animate-fadeInUp",style:{position:"relative",paddingBottom:"80px"},children:[xs&&ur.onboarding&&o.jsxs("div",{className:"agent-nudge-overlay animate-fadeInDown",children:[o.jsxs("div",{className:"nudge-header",children:[o.jsxs("h4",{children:[o.jsx(g,{size:16})," Quick Start Guide"]}),o.jsx("button",{className:"nudge-close",onClick:()=>gs(!1),children:o.jsx(I,{size:16})})]}),o.jsx("div",{className:"nudge-steps",children:ur.onboarding.map((e,t)=>o.jsxs("div",{className:"nudge-step",children:[o.jsx("span",{className:"step-num",children:t+1}),o.jsx("p",{children:e})]},t))}),o.jsx("div",{className:"nudge-footer",children:o.jsx("button",{className:"nudge-cta",onClick:()=>gs(!1),children:"Got it, let's go!"})})]}),o.jsxs("button",{className:"back-to-grid",onClick:()=>mr(null),style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"none",border:"none",color:"#9ca3af",cursor:"pointer",marginBottom:"2rem"},children:[o.jsx(J,{size:20}),o.jsx("span",{children:"project_canvas"===lr?"Back to Project":"Back to Agents"})]}),o.jsxs("div",{className:"agent-detail-layout",children:[o.jsxs("div",{className:"agent-main-panel",children:[o.jsxs("div",{className:"agent-hero-card",children:[o.jsx("div",{className:`agent-icon-large ${ur.colorClass}`,children:o.jsx(e,{size:40})}),o.jsxs("div",{className:"agent-hero-info",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"8px"},children:[o.jsx("span",{className:"agent-badge",style:{background:"linear-gradient(90deg, var(--color-purple), var(--color-cyan))",color:"white",fontWeight:"800"},children:ur.category}),o.jsx("div",{style:{width:"4px",height:"4px",borderRadius:"50%",background:"rgba(255,255,255,0.3)"}}),o.jsx("span",{style:{fontSize:"0.65rem",color:"rgba(255,255,255,0.5)",letterSpacing:"1.5px",fontWeight:"800",textTransform:"uppercase"},children:"High-Fidelity Engine"})]}),o.jsx("h2",{style:{fontSize:"2.4rem",fontWeight:"900",letterSpacing:"-1px",marginBottom:"8px",background:"linear-gradient(180deg, #fff 0%, rgba(255,255,255,0.7) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:ur.name}),o.jsx("p",{style:{fontSize:"1rem",color:"rgba(255,255,255,0.6)",maxWidth:"600px",lineHeight:"1.6"},children:ur.description||ur.desc})]})]}),o.jsxs("div",{className:"agent-utility-box",children:[o.jsxs("div",{className:"utility-controls",children:[o.jsxs("div",{className:"control-group",children:[o.jsx("label",{children:"Genre / Style"}),o.jsxs("select",{className:"studio-select",children:[o.jsx("option",{children:"Hip Hop / Rap"}),o.jsx("option",{children:"Pop / Modern"}),o.jsx("option",{children:"R&B / Soul"}),o.jsx("option",{children:"Electronic / Dance"}),o.jsx("option",{children:"Rock / Alternative"}),o.jsx("option",{children:"Lo-Fi / Chill"})]})]}),o.jsxs("div",{className:"control-group",children:[o.jsx("label",{children:"Intensity / Mood"}),o.jsx("input",{type:"range",className:"studio-slider",min:"1",max:"10",defaultValue:"5"})]})]}),o.jsxs("div",{className:"prompt-area",children:[o.jsxs("div",{className:"prompt-header",children:[o.jsx("label",{children:"Creative Prompt"}),o.jsxs("div",{className:"voice-controls",children:["English"!==Qs.language&&o.jsx("button",{className:"btn-pill glass translate-btn",onClick:po,title:"Translate to English",children:o.jsx(Te,{size:16})}),o.jsx("button",{className:"btn-pill "+(Ws?"primary":"glass"),onClick:ao,title:"Voice to Text",children:o.jsx($,{size:16})}),o.jsx("button",{className:"btn-pill "+(Es?"primary":"glass"),onClick:no,title:"Text to Voice",children:o.jsx(te,{size:16})}),o.jsxs("div",{className:"voice-settings-container",children:[o.jsx("button",{className:"btn-pill "+(Ms?"primary":"glass"),onClick:()=>{Fs(!Ms),Os(!1)},title:"How to use Voice Controls",children:o.jsx(j,{size:16})}),Ms&&o.jsxs("div",{className:"voice-settings-dropdown animate-fadeInUp",style:{width:"280px",right:"40px"},children:[o.jsxs("div",{className:"settings-group",children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx($,{size:14,className:"text-purple"})," Voice to Text"]}),o.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Click the microphone to dictate your prompt. Speak clearly. Click again to stop."})]}),o.jsxs("div",{className:"settings-group",children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(te,{size:14,className:"text-cyan"})," Text to Voice"]}),o.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Click the speaker to hear the AI read the current text. Useful for reviewing lyrics."})]}),o.jsxs("div",{className:"settings-group",children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(ue,{size:14})," Settings"]}),o.jsx("p",{className:"help-text small",style:{marginTop:"4px"},children:"Customize the AI voice gender, accent (US/UK/AU), and language."})]})]})]}),o.jsxs("div",{className:"voice-settings-container",children:[o.jsx("button",{className:"btn-pill "+(Ls?"primary":"glass"),onClick:()=>{Os(!Ls),Fs(!1)},title:"Voice Settings",children:o.jsx(ue,{size:16})}),Ls&&o.jsxs("div",{className:"voice-settings-dropdown animate-fadeInUp",children:[o.jsxs("div",{className:"settings-group",children:[o.jsx("label",{children:"ðŸŽ¤ AI Voice Type (Real Vocals, Not TTS)"}),o.jsxs("select",{value:Qs.style||"rapper",onChange:e=>Ks({...Qs,style:e.target.value}),className:"settings-select",children:[o.jsxs("optgroup",{label:"ðŸ”¥ AI Rappers (Suno/Bark)",children:[o.jsx("option",{value:"rapper",children:"ðŸŽ¤ Male Rapper"}),o.jsx("option",{value:"rapper-female",children:"ðŸ’œ Female Rapper"})]}),o.jsxs("optgroup",{label:"ðŸŽµ AI Singers",children:[o.jsx("option",{value:"singer",children:"ðŸŽ¤ Male Singer (R&B/Soul)"}),o.jsx("option",{value:"singer-female",children:"ðŸ’« Female Singer (Pop/R&B)"})]}),o.jsxs("optgroup",{label:"ðŸ—£ï¸ Speech/Narration",children:[o.jsx("option",{value:"narrator",children:"ðŸ“¢ Narrator (Deep Voice)"}),o.jsx("option",{value:"spoken",children:"ðŸ’¬ Spoken Word"})]}),o.jsx("optgroup",{label:"âœ¨ Custom/Advanced",children:o.jsxs("option",{value:"cloned",disabled:!Qs.speakerUrl,children:["ðŸ§¬ Cloned Voice ",!Qs.speakerUrl&&"(Upload first)"]})})]})]}),o.jsxs("div",{className:"settings-group",style:{padding:"10px",background:"rgba(255,255,255,0.03)",borderRadius:"8px",marginTop:"8px",border:"1px dashed rgba(255,255,255,0.1)"},children:[o.jsxs("label",{style:{fontSize:"0.75rem",marginBottom:"8px",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(S,{size:14,className:"text-cyan"}),Qs.speakerUrl?"Voice Profile Loaded":"Clone Your Voice"]}),Qs.speakerUrl?o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-green)",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(je,{size:12})," Ready to use"]}),o.jsx("button",{onClick:()=>{Ks({...Qs,speakerUrl:null,style:"rapper"}),localStorage.removeItem("studio_cloned_voice_url")},style:{background:"none",border:"none",color:"var(--color-red)",fontSize:"0.7rem",cursor:"pointer"},children:"Reset"})]}):o.jsxs("div",{onClick:()=>document.getElementById("voice-upload-input").click(),style:{padding:"12px",textAlign:"center",cursor:"pointer",border:"1px dashed rgba(255,255,255,0.2)",borderRadius:"6px",fontSize:"0.75rem",color:"var(--text-secondary)",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseOut:e=>e.currentTarget.style.background="transparent",children:[o.jsx(Re,{size:16,style:{marginBottom:"4px"}}),o.jsx("div",{children:"Upload 5-10s clip (.wav/.mp3)"}),o.jsx("input",{id:"voice-upload-input",type:"file",accept:"audio/*",hidden:!0,onChange:async e=>{const t=e.target.files[0];if(!t)return;const r=n.loading("Uploading voice profile...");try{const e=await p(t,`voices/${Ut?.uid||"guest"}_${Date.now()}`);Ks({...Qs,speakerUrl:e,style:"cloned"}),localStorage.setItem("studio_cloned_voice_url",e),n.success("Voice profile cloned successfully!",{id:r})}catch(s){n.error("Failed to upload voice. Try again.",{id:r})}}})]})]}),("rapper"===Qs.style||"rapper-female"===Qs.style)&&o.jsxs("div",{className:"settings-group",children:[o.jsx("label",{children:"ðŸŽ¯ Rap Flow & Delivery"}),o.jsxs("select",{value:Qs.rapStyle||"aggressive",onChange:e=>Ks({...Qs,rapStyle:e.target.value}),className:"settings-select",children:[o.jsx("option",{value:"aggressive",children:"ðŸ’¥ Aggressive (Hard-hitting)"}),o.jsx("option",{value:"melodic",children:"ðŸŽµ Melodic (Singing flow)"}),o.jsx("option",{value:"trap",children:"ðŸ”¥ Trap (Triplets + Ad-libs)"}),o.jsx("option",{value:"drill",children:"ðŸ‡¬ðŸ‡§ Drill (UK style)"}),o.jsx("option",{value:"boom-bap",children:"ðŸ“» Boom-Bap (Classic hip-hop)"}),o.jsx("option",{value:"fast",children:"âš¡ Fast Flow (Technical)"}),o.jsx("option",{value:"chill",children:"ðŸ˜Ž Chill (Laid-back)"}),o.jsx("option",{value:"hype",children:"ðŸ”Š Hype (High energy)"})]})]}),("singer"===Qs.style||"singer-female"===Qs.style)&&o.jsxs("div",{className:"settings-group",children:[o.jsx("label",{children:"ðŸŽ¶ Music Genre"}),o.jsxs("select",{value:Qs.genre||"r&b",onChange:e=>Ks({...Qs,genre:e.target.value}),className:"settings-select",children:[o.jsx("option",{value:"r&b",children:"ðŸ’œ R&B / Soul"}),o.jsx("option",{value:"pop",children:"ðŸŒŸ Pop"}),o.jsx("option",{value:"hip-hop",children:"ðŸ”¥ Hip-Hop"}),o.jsx("option",{value:"soul",children:"ðŸŽ· Soul / Gospel"}),o.jsx("option",{value:"country",children:"ðŸŽ¸ Country / Folk"}),o.jsx("option",{value:"rock",children:"ðŸ¤˜ Rock / Metal"}),o.jsx("option",{value:"jazz",children:"ðŸŽº Jazz / Blues"})]})]}),o.jsxs("div",{className:"settings-split",style:{display:"flex",gap:"8px",marginTop:"8px"},children:[o.jsxs("div",{className:"settings-group",style:{flex:1},children:[o.jsx("label",{children:"ðŸ‘¤ Gender"}),o.jsxs("select",{value:Qs.gender,onChange:e=>Ks({...Qs,gender:e.target.value}),className:"settings-select",children:[o.jsx("option",{value:"male",children:"ðŸ‘¨ Male"}),o.jsx("option",{value:"female",children:"ðŸ‘© Female"})]})]}),o.jsxs("div",{className:"settings-group",style:{flex:1},children:[o.jsx("label",{children:"ðŸ“ Region / Accent"}),o.jsxs("select",{value:Qs.region,onChange:e=>Ks({...Qs,region:e.target.value}),className:"settings-select",children:[o.jsx("option",{value:"US",children:"ðŸ‡ºðŸ‡¸ US"}),o.jsx("option",{value:"UK",children:"ðŸ‡¬ðŸ‡§ UK"}),o.jsx("option",{value:"AU",children:"ðŸ‡¦ðŸ‡º AU"}),o.jsx("option",{value:"IN",children:"ðŸ‡®ðŸ‡³ IN"})]})]})]}),o.jsxs("div",{className:"settings-group",style:{marginTop:"8px"},children:[o.jsx("label",{children:"ðŸŒ Language (Voice & Transcription)"}),o.jsxs("select",{value:Qs.language,onChange:e=>Ks({...Qs,language:e.target.value}),className:"settings-select",children:[o.jsx("option",{value:"English",children:"ðŸ‡ºðŸ‡¸ English"}),o.jsx("option",{value:"Spanish",children:"ðŸ‡ªðŸ‡¸ Spanish"}),o.jsx("option",{value:"French",children:"ðŸ‡«ðŸ‡· French"}),o.jsx("option",{value:"German",children:"ðŸ‡©ðŸ‡ª German"}),o.jsx("option",{value:"Italian",children:"ðŸ‡®ðŸ‡¹ Italian"}),o.jsx("option",{value:"Portuguese",children:"ðŸ‡µðŸ‡¹ Portuguese"}),o.jsx("option",{value:"Japanese",children:"ðŸ‡¯ðŸ‡µ Japanese"}),o.jsx("option",{value:"Korean",children:"ðŸ‡°ðŸ‡· Korean"}),o.jsx("option",{value:"Chinese",children:"ðŸ‡¨ðŸ‡³ Chinese"})]})]}),o.jsxs("div",{className:"settings-group",style:{marginTop:"8px"},children:[o.jsx("label",{children:"â±ï¸ Generation Duration"}),o.jsxs("select",{value:Qs.duration||30,onChange:e=>Ks({...Qs,duration:parseInt(e.target.value)}),className:"settings-select",children:[o.jsx("option",{value:15,children:"15 Seconds (Rapid)"}),o.jsx("option",{value:30,children:"30 Seconds (Standard)"}),o.jsx("option",{value:60,children:"1 Minute (Extended)"}),o.jsx("option",{value:120,children:"2 Minutes (Professional)"}),o.jsx("option",{value:180,children:"3 Minutes (Full Track)"})]})]}),o.jsx("p",{className:"settings-info",style:{marginTop:"8px",opacity:.8},children:["rapper","rapper-female","singer","singer-female","cloned","narrator","spoken"].includes(Qs.style)?o.jsxs(o.Fragment,{children:["ðŸš€ ",o.jsx("strong",{children:"AI Vocals Mode"})," â€” Real AI voices via Replicate & XTTS (30-60s generation time).",("rapper"===Qs.style||"rapper-female"===Qs.style)&&` Flow: ${Qs.rapStyle||"aggressive"}`,("singer"===Qs.style||"singer-female"===Qs.style)&&` Genre: ${Qs.genre||"r&b"}`]}):o.jsxs(o.Fragment,{children:["âš¡ ",o.jsx("strong",{children:"Instant TTS Mode"})," â€” Browser voices for quick preview. Switch to a pro style for real AI vocals."]})})]})]})]})]}),o.jsx("div",{className:"model-picker-card",style:{marginBottom:"12px",padding:"12px",background:"var(--color-bg-secondary)",borderRadius:"12px",border:"1px solid rgba(255, 255, 255, 0.06)"},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(6, 182, 212, 0.2))",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(K,{size:18,style:{color:"var(--color-purple)"}})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginBottom:"2px"},children:"AI Model"}),o.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"white"},children:zt.find(e=>e.id===jn)?.name||"Gemini Flash"})]})]}),o.jsxs("select",{value:jn,onChange:e=>wn(e.target.value),style:{padding:"8px 32px 8px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"0.75rem",cursor:"pointer",appearance:"none",WebkitAppearance:"none",backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%239ca3af'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E\")",backgroundRepeat:"no-repeat",backgroundPosition:"right 8px center",backgroundSize:"14px"},children:[zt.filter(e=>"Google"===e.provider).map(e=>o.jsx("option",{value:e.id,children:e.name},e.id)),zt.filter(e=>"Anthropic"===e.provider).map(e=>o.jsx("option",{value:e.id,children:e.name},e.id)),zt.filter(e=>"OpenAI"===e.provider).map(e=>o.jsx("option",{value:e.id,children:e.name},e.id))]})]})}),o.jsxs("div",{className:"dna-vault-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px",padding:"0 4px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(G,{size:16,color:"var(--color-purple)"}),o.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"600",color:"rgba(255,255,255,0.8)"},children:"Studio DNA Vault"})]}),o.jsxs("button",{onClick:()=>Dr(!Pr),style:{padding:"4px 8px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"6px",fontSize:"0.7rem",color:"var(--color-purple)",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[Pr?"Hide Vault":"Open Vault",Pr?o.jsx(Ue,{size:12}):o.jsx(ye,{size:12})]})]}),o.jsxs("div",{className:"inspiration-container",style:{display:"flex",flexDirection:"column",gap:"8px",marginBottom:"16px",maxHeight:Pr?"none":"0",overflow:"hidden",transition:"all 0.3s ease"},children:[o.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"album"===ur?.id||"video-creator"===ur?.id?"1px dashed #ec489950":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(236, 72, 153, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(B,{size:16,color:"#ec4899"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Visual DNA"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:fr?"Image Attached":"Reference Image..."})]})]}),o.jsxs("div",{style:{display:"flex",gap:"6px"},children:[fr&&o.jsx("button",{onClick:()=>jr(null),style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:o.jsx(I,{size:14})}),o.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[o.jsx("input",{id:"visual-dna-input",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>xo("visual",e)}),Tr.visual?o.jsx(w,{size:12,className:"spin"}):"Upload"]})]})]}),o.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"beat"===ur?.id||"sample"===ur?.id||"video-creator"===ur?.id?"1px dashed var(--color-cyan-semi)":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(6, 182, 212, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(T,{size:16,color:"var(--color-cyan)"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Audio DNA"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:wr?"Sound Attached":Sa?Sa.title:"Reference Audio..."})]})]}),o.jsxs("div",{style:{display:"flex",gap:"6px"},children:[(wr||Sa)&&o.jsx("button",{onClick:()=>{Sr(null),ka(null)},style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:o.jsx(I,{size:14})}),o.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[o.jsx("input",{id:"audio-dna-input",type:"file",accept:"audio/*",style:{display:"none"},onChange:e=>xo("audio",e)}),Tr.audio?o.jsx(w,{size:12,className:"spin"}):"Upload"]})]})]}),o.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"ghost"===ur?.id||"ghost-1"===ur?.id?"1px dashed #a855f750":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(168, 85, 247, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Z,{size:16,color:"#a855f7"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Lyrics DNA"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Nr?"Context Attached":"Reference Text/File..."})]})]}),o.jsxs("div",{style:{display:"flex",gap:"6px"},children:[Nr&&o.jsx("button",{onClick:()=>Cr(null),style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:o.jsx(I,{size:14})}),o.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[o.jsx("input",{id:"lyrics-dna-input",type:"file",accept:".txt,.doc,.docx,.pdf",style:{display:"none"},onChange:e=>xo("lyrics",e)}),Tr.lyrics?o.jsx(w,{size:12,className:"spin"}):"Upload"]})]})]}),o.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"podcast"===ur?.id||"voiceover"===ur?.id||"vocal-arch"===ur?.id?"1px dashed #fbbf2450":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(251, 191, 36, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx($,{size:16,color:"#fbbf24"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Voice Clone"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Ir?"Voice Profile Active":"Sample to Clone..."})]})]}),o.jsxs("div",{style:{display:"flex",gap:"6px"},children:[Ir&&o.jsx("button",{onClick:()=>Ar(null),style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:o.jsx(I,{size:14})}),o.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[o.jsx("input",{id:"voice-dna-input",type:"file",accept:"audio/*",style:{display:"none"},onChange:go}),Ur?o.jsx(w,{size:12,className:"spin"}):"Clone"]})]})]}),o.jsxs("div",{className:"reference-upload-card",style:{padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",border:"video-creator"===ur?.id?"1px dashed #ef444450":"1px dashed rgba(255, 255, 255, 0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(E,{size:16,color:"#ef4444"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Seed DNA"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"white",fontWeight:"500",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:kr?"Video Reference Ready":"Scene or Character..."})]})]}),o.jsxs("div",{style:{display:"flex",gap:"6px"},children:[kr&&o.jsx("button",{onClick:()=>zr(null),style:{padding:"6px",background:"none",border:"none",color:"rgba(255,255,255,0.4)",cursor:"pointer"},children:o.jsx(I,{size:14})}),o.jsxs("label",{style:{padding:"5px 10px",background:"rgba(255, 255, 255, 0.05)",borderRadius:"6px",fontSize:"0.7rem",cursor:"pointer",color:"white"},children:[o.jsx("input",{type:"file",accept:"image/*,video/*",style:{display:"none"},onChange:e=>xo("video",e)}),Tr.video?o.jsx(w,{size:12,className:"spin"}):"Upload"]})]})]})]}),!Pr&&o.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",marginBottom:"12px"},children:[fr&&o.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#ec489920",color:"#ec4899",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #ec489940"},children:[o.jsx(B,{size:10})," Visual DNA Active"]}),wr&&o.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#06b6d420",color:"#06b6d4",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #06b6d440"},children:[o.jsx(T,{size:10})," Audio DNA Active"]}),Nr&&o.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#a855f720",color:"#a855f7",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #a855f740"},children:[o.jsx(Z,{size:10})," Lyrics DNA Active"]}),Ir&&o.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#fbbf2420",color:"#fbbf24",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #fbbf2440"},children:[o.jsx($,{size:10})," Voice Ready"]}),kr&&o.jsxs("div",{style:{fontSize:"0.65rem",padding:"4px 8px",background:"#ef444420",color:"#ef4444",borderRadius:"4px",display:"flex",alignItems:"center",gap:"4px",border:"1px solid #ef444440"},children:[o.jsx(E,{size:10})," Seed DNA Ready"]})]}),o.jsx("textarea",{ref:ba,placeholder:`Describe what you want ${ur.name} to create...`,className:"studio-textarea",style:{minHeight:xr?"100px":"120px",padding:xr?"12px":"20px"}}),o.jsxs("div",{className:"generation-actions",children:[o.jsxs("button",{className:"cta-button-secondary",onClick:uo,disabled:Ns,title:"Generate a preview",children:[o.jsx(F,{size:16}),"Preview"]}),o.jsx("button",{className:"cta-button-premium "+(Ns?"loading":""),style:{flex:1},onClick:uo,disabled:Ns,children:Ns?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"spinner-mini"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(V,{size:18}),o.jsxs("span",{children:["Generate ",ur.name]})]})}),o.jsxs("button",{className:"cta-button-secondary",onClick:()=>Bs(!0),title:"Save to Cloud Storage",children:[o.jsx(S,{size:18}),o.jsx("span",{children:"Save to Cloud"})]})]}),(()=>{const e=ur?.id?Is[ur.id]:null;return e?o.jsxs("div",{className:"agent-preview-mini animate-fadeIn",style:{marginTop:"16px",padding:"12px",background:"rgba(0,0,0,0.2)",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.1)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textTransform:"uppercase",fontWeight:"600"},children:"Last Generated"}),o.jsx("div",{style:{display:"flex",gap:"8px"},children:o.jsxs("button",{onClick:()=>un(e),style:{background:"none",border:"none",color:"var(--color-cyan)",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(ve,{size:12})," View Full"]})})]}),"image"===e.type&&e.imageUrl?o.jsx("img",{src:nt(e.imageUrl),alt:"Preview",style:{width:"100%",height:"220px",objectFit:"cover",borderRadius:"12px",cursor:"pointer",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 30px rgba(0,0,0,0.5)"},onClick:()=>un(e),onError:e=>{e.target.style.display="none"}}):"video"===e.type&&e.videoUrl?o.jsxs("div",{style:{position:"relative",borderRadius:"12px",overflow:"hidden",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 8px 30px rgba(0,0,0,0.5)"},children:[o.jsx("video",{src:lt(e.videoUrl),style:{width:"100%",height:"220px",objectFit:"cover",cursor:"pointer"},onClick:()=>un(e)}),e.audioUrl&&o.jsxs("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0,0,0,0.7)",backdropFilter:"blur(4px)",padding:"4px 10px",borderRadius:"20px",fontSize:"0.7rem",color:"var(--color-cyan)",display:"flex",alignItems:"center",gap:"6px",fontWeight:"800"},children:[o.jsx(T,{size:12})," SYNCED AUDIO"]})]}):"audio"!==e.type&&"vocal"!==e.type||!e.audioUrl?o.jsx("div",{className:"flavorful-text-output",style:{fontSize:"1rem",lineHeight:"1.8",color:"rgba(255,255,255,0.95)",padding:"24px",background:"rgba(0,0,0,0.3)",borderRadius:"12px",maxHeight:"400px",overflowY:"auto",border:"1px solid rgba(255,255,255,0.05)",fontFamily:"'Georgia', serif",whiteSpace:"pre-wrap"},children:e.snippet}):o.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"12px",padding:"20px",display:"flex",gap:"20px",alignItems:"center",border:"1px solid rgba(255,255,255,0.05)"},children:[e.imageUrl&&o.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"12px",background:`url(${nt(e.imageUrl)}) center/cover`,flexShrink:0,boxShadow:"0 4px 15px rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.1)"}}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[e.backingTrackUrl?o.jsxs(o.Fragment,{children:[o.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-pink)",marginBottom:"6px",fontWeight:"800",letterSpacing:"1px",textTransform:"uppercase"},children:"Synced Vocal Lab"}),o.jsx("audio",{controls:!0,src:ot(e.audioUrl),style:{width:"100%",height:"36px",marginBottom:"8px"},onPlay:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&(t.currentTime=e.target.currentTime,t.play())},onPause:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&t.pause()},onTimeUpdate:e=>{const t=e.target.parentElement.querySelector(".preview-backing-audio");t&&Math.abs(t.currentTime-e.target.currentTime)>.5&&(t.currentTime=e.target.currentTime)}}),o.jsx("audio",{className:"preview-backing-audio",src:ot(e.backingTrackUrl),style:{display:"none"}})]}):o.jsx("audio",{controls:!0,src:ot(e.audioUrl),style:{width:"100%",height:"36px",marginBottom:"8px"}}),o.jsxs("div",{style:{fontSize:"0.85rem",color:"rgba(255,255,255,0.7)",fontStyle:"italic",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:['"',e.snippet?.substring(0,80),'..."']})]})]}),o.jsxs("div",{style:{marginTop:"12px",display:"flex",gap:"8px"},children:[o.jsxs("button",{className:"btn-pill primary",style:{flex:1,fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{hr?(Pn(hr.id,e),n.success("Saved to Hub")):Dn(`New ${ur?.name||"AI"} Project`,e)},children:[o.jsx(q,{size:14})," Save to Hub"]}),e.snippet&&!e.audioUrl&&o.jsxs("button",{className:"btn-pill secondary",style:{fontSize:"0.75rem"},disabled:br,onClick:()=>{const t=e.snippet||e.content||"";["rapper","rapper-female","singer","singer-female"].includes(Qs.style)?oo(t,ur?.name||"AI"):window.speechSynthesis.speaking?window.speechSynthesis.cancel():no(t)},title:["rapper","rapper-female","singer","singer-female"].includes(Qs.style)?`Read aloud using AI ${Qs.style} voice (takes 30-60 seconds)`:"Read text aloud using browser TTS",children:[o.jsx(te,{size:14})," ",br?"Creating...":"Read Aloud"]})]})]}):null})(),o.jsxs("p",{className:"studio-disclaimer",children:[o.jsx(fe,{size:12}),"AI-generated content may require manual review for platform compliance."]})]})]}),o.jsxs("div",{className:"agent-history-section",style:{marginTop:"24px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[o.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:"1.1rem",color:"white"},children:[o.jsx(y,{size:18,style:{color:"var(--color-purple)"}}),ur.name," Inventory",o.jsxs("span",{style:{fontSize:"0.7rem",padding:"3px 8px",background:"rgba(139, 92, 246, 0.2)",borderRadius:"10px",color:"var(--color-purple)",fontWeight:"600"},children:[(ja||[]).filter(e=>e.agent===ur.name).length," items"]})]}),o.jsxs("button",{onClick:()=>za("mystudio"),style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"10px",color:"var(--text-secondary)",fontSize:"0.8rem",cursor:"pointer"},children:["View All",o.jsx(ze,{size:14})]})]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"10px",maxHeight:"400px",overflowY:"auto",paddingRight:"8px"},children:(()=>{const e=ja.flatMap(e=>e.assets||[]).filter(e=>e.agent===ur.name||e.agentId===ur.id).sort((e,t)=>new Date(t.date||0)-new Date(e.date||0));return e.length>0?e.map((e,t)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px",padding:"14px 16px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"14px",border:"1px solid rgba(255, 255, 255, 0.08)",transition:"all 0.2s ease",cursor:"pointer"},onClick:()=>un(e),onMouseOver:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.1)",e.currentTarget.style.borderColor="rgba(139, 92, 246, 0.3)"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.03)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.08)"},children:[o.jsxs("div",{style:{width:"48px",height:"48px",borderRadius:"10px",background:e.imageUrl?`url(${e.imageUrl}) center/cover`:e.audioUrl?"linear-gradient(135deg, var(--color-cyan), var(--color-green))":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,position:"relative",overflow:"hidden"},children:[!e.imageUrl&&!e.audioUrl&&o.jsx(Z,{size:20,style:{color:"white"}}),e.audioUrl&&!e.imageUrl&&o.jsx(te,{size:20,style:{color:"white"}}),e.imageUrl&&e.audioUrl&&o.jsx("div",{style:{position:"absolute",bottom:0,right:0,background:"rgba(0,0,0,0.6)",padding:"2px",borderTopLeftRadius:"6px"},children:o.jsx(T,{size:12,color:"white"})})]}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"600",color:"white",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled Creation"}),o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[e.snippet?.substring(0,60)||"No prompt saved","..."]}),o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"6px"},children:o.jsxs("span",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(X,{size:10}),e.date||"Recent"]})})]}),o.jsx("div",{style:{display:"flex",gap:"6px",flexShrink:0},children:o.jsx("button",{onClick:t=>{t.stopPropagation(),ys(e)},title:"View",style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},children:o.jsx(Y,{size:14})})})]},t)):o.jsxs("div",{style:{padding:"32px",textAlign:"center",color:"var(--text-secondary)",background:"rgba(255,255,255,0.02)",borderRadius:"12px"},children:[o.jsx(g,{size:24,style:{opacity:.3,marginBottom:"8px"}}),o.jsx("p",{children:"No creations yet. Start generating!"})]})})()}),ur&&(ja||[]).filter(e=>e.agent===ur.name).length>0&&o.jsxs("div",{style:{marginTop:"16px",padding:"14px 16px",background:"rgba(139, 92, 246, 0.08)",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.15)"},children:[o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"10px"},children:o.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"white",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(X,{size:14,style:{color:"var(--color-purple)"}}),"Recent Prompts"]})}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:(ja||[]).filter(e=>e.agent===ur?.name&&e.snippet).slice(0,5).map((e,t)=>o.jsxs("button",{onClick:()=>{const t=ba.current||document.querySelector(".studio-textarea");if(t){t.value=e.snippet;try{t.dispatchEvent(new Event("input",{bubbles:!0}))}catch(r){const e=document.createEvent("Event");e.initEvent("input",!0,!0),t.dispatchEvent(e)}n.success("Prompt loaded!")}},style:{padding:"6px 12px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"8px",color:"var(--text-secondary)",fontSize:"0.7rem",cursor:"pointer",maxWidth:"150px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.background="rgba(139, 92, 246, 0.2)",e.currentTarget.style.borderColor="rgba(139, 92, 246, 0.4)",e.currentTarget.style.color="white"},onMouseOut:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.05)",e.currentTarget.style.borderColor="rgba(255, 255, 255, 0.1)",e.currentTarget.style.color="var(--text-secondary)"},title:e.snippet,children:[e.snippet?.substring(0,25),"..."]},t))})]})]})]}),o.jsxs("div",{className:"agent-side-panel",children:[ur.hasSocials&&o.jsxs("div",{className:"side-info-card social-connect-card",children:[o.jsx("h3",{children:"Connect Socials"}),o.jsxs("div",{className:"social-connect-grid",children:[o.jsxs("button",{className:"social-connect-btn "+(Gi.instagram?"connected":""),onClick:()=>wo("instagram"),children:[o.jsx(f,{size:16}),o.jsx("span",{children:Gi.instagram?Ki?`Insta: ${Ki}`:"Instagram Linked":"Link Instagram"})]}),o.jsxs("button",{className:"social-connect-btn "+(Gi.facebook?"connected":""),onClick:()=>wo("facebook"),children:[o.jsx(V,{size:16}),o.jsx("span",{children:Gi.facebook?Ki?`FB: ${Ki}`:"Facebook Linked":"Link Facebook"})]}),o.jsxs("button",{className:"social-connect-btn "+(Gi.tiktok?"connected":""),onClick:()=>wo("tiktok"),children:[o.jsx(V,{size:16}),o.jsx("span",{children:Gi.tiktok?"TikTok Linked":"Link TikTok"})]}),o.jsxs("button",{className:"social-connect-btn "+(Gi.twitter?"connected":""),onClick:()=>wo("twitter"),children:[o.jsx(b,{size:16}),o.jsx("span",{children:Gi.twitter?Ji?`@${Ji}`:"X/Twitter Linked":"Link X/Twitter"})]}),("collab"===ur?.id||"release"===ur?.id)&&o.jsxs("button",{className:"social-connect-btn "+(Gi.spotify?"connected":""),onClick:()=>wo("spotify"),children:[o.jsx(T,{size:16}),o.jsx("span",{children:Gi.spotify?"Spotify Linked":"Link Spotify"})]})]}),o.jsx("p",{className:"help-text mini",children:"One-click secure OAuth connection."})]}),o.jsxs("div",{className:"side-info-card",children:[o.jsx("h3",{children:"Capabilities"}),o.jsx("ul",{className:"capability-list",children:(ur?.capabilities||[]).map((e,t)=>o.jsxs("li",{children:[o.jsx(g,{size:14})," ",e]},t))})]}),o.jsxs("div",{className:"side-info-card",children:[o.jsx("h3",{children:"How to Use"}),o.jsx("p",{className:"help-text",children:ur?.howToUse||"Enter your prompt and generate content."})]}),o.jsxs("div",{className:"side-info-card agent-intelligence-card",children:[o.jsxs("div",{className:"card-header-with-icon",children:[o.jsx(j,{size:18,className:"text-purple"}),o.jsx("h3",{children:"Agent Intelligence"})]}),o.jsxs("div",{className:"intelligence-content",children:[o.jsxs("div",{className:"intel-section",children:[o.jsx("h4",{children:'The "How"'}),o.jsx("p",{className:"help-text small",children:ur?.explanation||""})]}),o.jsxs("div",{className:"intel-section",children:[o.jsx("h4",{children:"Pro Tips"}),o.jsx("p",{className:"help-text small",children:ur?.helpTips||""})]})]})]}),o.jsxs("div",{className:"side-info-card",children:[o.jsx("h3",{children:"Examples"}),o.jsx("div",{className:"example-chips",children:(ur?.examples||[]).map((e,t)=>o.jsxs("div",{className:"example-chip",onClick:()=>{const t=ba.current||document.querySelector(".studio-textarea");if(t){t.value=e;try{t.dispatchEvent(new Event("input",{bubbles:!0}))}catch(r){const e=document.createEvent("Event");e.initEvent("input",!0,!0),t.dispatchEvent(e)}t.focus(),t.style.borderColor="var(--color-purple)",setTimeout(()=>t.style.borderColor="",300)}},style:{cursor:"pointer"},children:['"',e,'"']},t))})]})]})]})]})}switch(lr){case"agents":{const t=Pa(),r=Da(),i=[...t,...r],a=()=>{if(!ur)return null;const e="function"==typeof ur.icon?ur.icon:g;return o.jsxs("div",{className:"agent-workspace-content",children:[xs&&ur.onboarding&&o.jsxs("div",{className:"agent-nudge-overlay animate-fadeInDown",style:{marginBottom:"24px"},children:[o.jsxs("div",{className:"nudge-header",children:[o.jsxs("h4",{children:[o.jsx(g,{size:16})," Quick Start Guide"]}),o.jsx("button",{className:"nudge-close",onClick:()=>gs(!1),children:o.jsx(I,{size:16})})]}),o.jsx("div",{className:"nudge-steps",children:ur.onboarding.map((e,t)=>o.jsxs("div",{className:"nudge-step",children:[o.jsx("span",{className:"step-num",children:t+1}),o.jsx("p",{children:e})]},t))}),o.jsx("div",{className:"nudge-footer",children:o.jsx("button",{className:"nudge-cta",onClick:()=>gs(!1),children:"Got it, let's go!"})})]}),o.jsxs("div",{className:"agent-detail-layout",style:{gridTemplateColumns:"1fr 300px"},children:[o.jsxs("div",{className:"agent-main-panel",children:[o.jsxs("div",{className:"agent-hero-card",children:[o.jsx("div",{className:`agent-icon-large ${ur.colorClass}`,children:o.jsx(e,{size:40})}),o.jsxs("div",{className:"agent-hero-info",children:[o.jsx("span",{className:"agent-badge",children:ur.category}),o.jsx("h2",{children:ur.name}),o.jsx("p",{children:ur.description||ur.desc})]})]}),o.jsxs("div",{className:"agent-utility-box",children:[o.jsxs("div",{className:"utility-controls",children:[o.jsxs("div",{className:"control-group",children:[o.jsx("label",{children:"Genre / Style"}),o.jsxs("select",{className:"studio-select",children:[o.jsx("option",{children:"Hip Hop / Rap"}),o.jsx("option",{children:"Pop / Modern"}),o.jsx("option",{children:"R&B / Soul"}),o.jsx("option",{children:"Electronic / Dance"}),o.jsx("option",{children:"Rock / Alternative"}),o.jsx("option",{children:"Lo-Fi / Chill"})]})]}),o.jsxs("div",{className:"control-group",children:[o.jsx("label",{children:"Intensity / Mood"}),o.jsx("input",{type:"range",className:"studio-slider",min:"1",max:"10",defaultValue:"5"})]})]}),o.jsxs("div",{className:"prompt-area",children:[o.jsxs("div",{className:"prompt-header",children:[o.jsx("label",{children:"Creative Prompt"}),o.jsxs("div",{className:"voice-controls",children:[o.jsx("button",{className:"btn-pill "+(Ws?"primary":"glass"),onClick:ao,title:"Voice to Text",children:o.jsx($,{size:16})}),o.jsx("button",{className:"btn-pill "+(Es?"primary":"glass"),onClick:no,title:"Text to Voice",children:o.jsx(te,{size:16})}),o.jsx("button",{className:"btn-pill "+(Ls?"primary":"glass"),onClick:()=>Os(!Ls),title:"Voice Settings",children:o.jsx(ue,{size:16})})]})]}),o.jsx("textarea",{ref:ba,placeholder:`Describe what you want ${ur.name} to create...`,className:"studio-textarea",style:{minHeight:xr?"100px":"120px",padding:xr?"12px":"20px"}}),o.jsxs("div",{className:"generation-actions",style:{display:"flex",gap:"12px",marginTop:"16px"},children:[o.jsxs("button",{className:"btn-pill glass",onClick:()=>Oa(ur),children:[o.jsx(V,{size:16}),"Quick Generate"]}),o.jsx("button",{className:"btn-pill primary "+(Ns?"loading":""),style:{flex:1},onClick:uo,disabled:Ns,children:Ns?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"spinner-mini"}),o.jsx("span",{children:"Processing..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(V,{size:18}),o.jsx("span",{children:"Generate"})]})})]})]})]}),o.jsxs("div",{className:"side-info-card",style:{marginTop:"16px"},children:[o.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(h,{size:16,className:"text-purple"}),hr?`Assets for ${hr.name}`:"Recent Creations"]}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"12px"},children:(()=>{let e=[];return e=hr&&Array.isArray(hr.assets)?hr.assets.filter(e=>{if(!e)return!1;const t=e.agent===ur.name||e.agent===ur.id,r=e.type&&ur.category&&e.type.toLowerCase()===ur.category.toLowerCase();return t||r}):(ja||[]).filter(e=>e&&e.agent===ur.name).slice(0,3),e.length>0?e.slice(0,5).map((e,t)=>o.jsxs("div",{onClick:()=>un(e),style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 12px",background:"rgba(255, 255, 255, 0.03)",borderRadius:"10px",cursor:"pointer",border:"1px solid rgba(255,255,255,0.05)",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseLeave:e=>e.currentTarget.style.borderColor="rgba(255,255,255,0.05)",children:[o.jsx("div",{style:{width:"36px",height:"36px",borderRadius:"8px",background:e.imageUrl?`url(${nt(e.imageUrl)}) center/cover`:"rgba(139, 92, 246, 0.2)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:!e.imageUrl&&("audio"===e.type?o.jsx(T,{size:14,style:{opacity:.5}}):"video"===e.type?o.jsx(E,{size:14,style:{opacity:.5}}):o.jsx(Z,{size:14,style:{opacity:.5}}))}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"500",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled"}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--text-secondary)"},children:e.date||"Recent"})]}),o.jsx(Y,{size:14,style:{opacity:.5}})]},e.id||t)):o.jsx("div",{style:{padding:"20px",textAlign:"center",color:"var(--text-secondary)",fontSize:"0.8rem"},children:hr?"No assets for this project yet.":"No creations yet. Start generating!"})})()})]})]}),o.jsxs("div",{className:"agent-side-panel",children:[hr&&o.jsxs("div",{className:"side-info-card",style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.3)",boxShadow:"0 4px 20px rgba(0,0,0,0.2)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[o.jsx(y,{size:18,className:"text-purple"}),o.jsx("h3",{style:{margin:0,fontSize:"0.9rem",color:"var(--color-purple)"},children:"Project Context"})]}),o.jsx("div",{style:{fontWeight:"800",fontSize:"1.2rem",color:"white",marginBottom:"4px"},children:hr.name}),o.jsxs("p",{style:{margin:"0 0 16px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Organizing ",hr.assets?.length||0," assets in this project."]}),o.jsxs("button",{className:"btn-pill glass",style:{width:"100%",fontSize:"0.8rem",padding:"8px",background:"rgba(255,255,255,0.05)"},onClick:()=>Va(!0),children:[o.jsx(h,{size:14})," View Project Canvas"]})]}),o.jsxs("div",{className:"side-info-card",children:[o.jsx("h3",{children:"Capabilities"}),o.jsx("ul",{className:"capability-list",children:(ur?.capabilities||[]).map((e,t)=>o.jsxs("li",{children:[o.jsx(g,{size:14})," ",e]},t))})]}),o.jsxs("div",{className:"side-info-card",children:[o.jsx("h3",{children:"How to Use"}),o.jsx("p",{className:"help-text",children:ur?.howToUse||"Enter your prompt and generate content."})]}),o.jsxs("div",{className:"side-info-card",children:[o.jsx("h3",{children:"Examples"}),o.jsx("div",{className:"example-chips",children:(ur?.examples||[]).slice(0,3).map((e,t)=>o.jsxs("div",{className:"example-chip",onClick:()=>{const t=ba.current;t&&(t.value=e,t.focus())},children:['"',e.length>50?e.substring(0,50)+"...":e,'"']},t))})]})]})]})]})};return o.jsxs("div",{className:"agents-split-layout",children:[o.jsxs("div",{className:"agents-sidebar",children:[o.jsxs("div",{className:"agents-sidebar-header",children:[o.jsxs("h3",{children:[o.jsx(g,{size:18,className:"text-purple"})," Agents"]}),o.jsxs("p",{children:[t.length," available"]})]}),o.jsxs("div",{className:"agents-sidebar-list",children:[o.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",borderRadius:"8px",borderLeft:"3px solid rgba(34, 197, 94, 0.6)"},children:o.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#22c55e",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[o.jsx(g,{size:12})," Free Tier",o.jsxs("span",{style:{marginLeft:"auto",background:"rgba(34, 197, 94, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[(void 0!==e?e:[]).filter(e=>"free"===e.tier).length," agents"]})]})}),(void 0!==e?e:[]).filter(e=>"free"===e.tier).map(e=>{const r="function"==typeof e.icon?e.icon:g,i=ur?.id===e.id,a=!t.find(t=>t.id===e.id);return o.jsx("button",{className:`agent-sidebar-item ${e.colorClass} ${i?"active":""} ${a?"locked":""}`,"data-name":e.name,onClick:()=>{a?Pt?(vi("subscription"),za("mystudio")):qt(!0):e.comingSoon?n.error(`${e.name} is coming soon!`,{icon:"ðŸš§"}):(mr(e),s.agentUsed(e.id))},children:o.jsx("div",{className:`agent-sidebar-icon ${e.colorClass}`,children:o.jsx(r,{size:18})})},e.id)}),o.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(139, 92, 246, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",marginTop:"12px",borderRadius:"8px",borderLeft:"3px solid rgba(139, 92, 246, 0.6)"},children:o.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#a855f7",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[o.jsx(V,{size:12})," Monthly â€” $4.99/mo",o.jsxs("span",{style:{marginLeft:"auto",background:"rgba(139, 92, 246, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[(void 0!==e?e:[]).filter(e=>"monthly"===e.tier).length," agents"]})]})}),(void 0!==e?e:[]).filter(e=>"monthly"===e.tier).map(e=>{const r="function"==typeof e.icon?e.icon:g,i=ur?.id===e.id,a=!t.find(t=>t.id===e.id);return o.jsx("button",{className:`agent-sidebar-item ${e.colorClass} ${i?"active":""} ${a?"locked":""}`,"data-name":e.name,onClick:()=>{a?Pt?(vi("subscription"),za("mystudio")):qt(!0):e.comingSoon?n.error(`${e.name} is coming soon!`,{icon:"ðŸš§"}):(mr(e),s.agentUsed(e.id))},children:o.jsx("div",{className:`agent-sidebar-icon ${e.colorClass}`,style:a?{background:"rgba(255,255,255,0.05)"}:{},children:o.jsx(r,{size:18,style:a?{opacity:.5}:{}})})},e.id)}),o.jsx("div",{className:"agents-sidebar-section",style:{background:"linear-gradient(90deg, rgba(234, 179, 8, 0.1) 0%, transparent 100%)",padding:"8px 12px",marginBottom:"4px",marginTop:"12px",borderRadius:"8px",borderLeft:"3px solid rgba(234, 179, 8, 0.6)"},children:o.jsxs("h5",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#eab308",fontWeight:"700",fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"1px"},children:[o.jsx(_e,{size:12})," Pro â€” $9.99/mo",o.jsxs("span",{style:{marginLeft:"auto",background:"rgba(234, 179, 8, 0.2)",padding:"2px 8px",borderRadius:"10px",fontSize:"0.65rem"},children:[(void 0!==e?e:[]).filter(e=>"pro"===e.tier).length," agents"]})]})}),(void 0!==e?e:[]).filter(e=>"pro"===e.tier).map(e=>{const r="function"==typeof e.icon?e.icon:g,i=ur?.id===e.id,a=!t.find(t=>t.id===e.id);return o.jsx("button",{className:`agent-sidebar-item ${e.colorClass} ${i?"active":""} ${a?"locked":""}`,"data-name":e.name,onClick:()=>{a?Pt?(vi("subscription"),za("mystudio")):qt(!0):e.comingSoon?n.error(`${e.name} is coming soon!`,{icon:"ðŸš§"}):(mr(e),s.agentUsed(e.id))},children:o.jsx("div",{className:`agent-sidebar-icon ${e.colorClass}`,style:a?{background:"rgba(255,255,255,0.05)"}:{},children:o.jsx(r,{size:18,style:a?{opacity:.5}:{}})})},e.id)})]})]}),o.jsx("div",{className:"agents-main-panel",children:ur?a():o.jsxs("div",{className:"agents-cards-view",style:{padding:"16px",overflowY:"auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"16px"},children:[o.jsxs("div",{children:[o.jsxs("h2",{style:{fontSize:"1.5rem",fontWeight:"800",marginBottom:"4px",display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(g,{size:24,className:"text-purple"}),"AI Agents Studio"]}),o.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:[i.length," specialized agents â€¢ Click any card to start creating"]})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{onClick:()=>window.location.hash="#/whitepapers",className:"btn-pill glass haptic-press",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",color:"#06b6d4"},children:[o.jsx(Z,{size:16}),"Whitepapers"]}),o.jsxs("button",{onClick:()=>window.location.hash="#/legal",className:"btn-pill glass haptic-press",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"rgba(139, 92, 246, 0.1)",border:"1px solid rgba(139, 92, 246, 0.3)",color:"#a855f7"},children:[o.jsx(fe,{size:16}),"Legal"]})]})]}),!Pt&&o.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(6, 182, 212, 0.1) 100%)",border:"1px solid rgba(139, 92, 246, 0.2)",borderRadius:"12px",padding:"16px 20px",marginBottom:"24px",display:"flex",alignItems:"center",gap:"12px",maxWidth:"400px"},children:[o.jsx(V,{size:20,className:"text-purple"}),o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:[Ht?999999:Math.max(0,3-nr)," free generations left"]}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Sign in to unlock more"})]}),o.jsx("button",{className:"btn-pill primary",onClick:()=>qt(!0),style:{padding:"8px 16px",fontSize:"0.8rem"},children:"Sign In"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(34, 197, 94, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[o.jsx(g,{size:16,style:{color:"#22c55e"}}),o.jsx("span",{style:{fontWeight:"700",color:"#22c55e",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Free Tier"}),o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",void 0!==e&&e?e.filter(e=>"free"===e.tier).length:0," agents included"]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:void 0!==e&&e&&e.filter(e=>"free"===e.tier).map(e=>{const r="function"==typeof e.icon?e.icon:g,i=!t.find(t=>t.id===e.id);return o.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{i?Pt?(vi("subscription"),za("mystudio")):qt(!0):(mr(e),s.agentUsed(e.id))},style:{padding:"16px",background:i?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(34, 197, 94, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(34, 197, 94, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:i?.6:1},children:[i&&o.jsx(oe,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(34, 197, 94, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:o.jsx(r,{size:20,style:{color:"#22c55e"}})}),o.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:e.name}),o.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:e.category}),o.jsx("span",{style:{padding:"2px 6px",background:"rgba(34, 197, 94, 0.15)",color:"#22c55e",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"FREE"})]},e.id)})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(251, 191, 36, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[o.jsx(V,{size:16,style:{color:"#fbbf24"}}),o.jsx("span",{style:{fontWeight:"700",color:"#fbbf24",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Monthly â€” $4.99/mo"}),o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",void 0!==e&&e?e.filter(e=>"monthly"===e.tier).length:0," agents"]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:void 0!==e&&e&&e.filter(e=>"monthly"===e.tier).map(e=>{const r="function"==typeof e.icon?e.icon:g,i=!t.find(t=>t.id===e.id);return o.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{i?Pt?(vi("subscription"),za("mystudio")):qt(!0):(mr(e),s.agentUsed(e.id))},style:{padding:"16px",background:i?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(251, 191, 36, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(251, 191, 36, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:i?.6:1},children:[i&&o.jsx(oe,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:o.jsx(r,{size:20,style:{color:"#fbbf24"}})}),o.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:e.name}),o.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:e.category}),o.jsx("span",{style:{padding:"2px 6px",background:"rgba(251, 191, 36, 0.15)",color:"#fbbf24",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"MONTHLY"})]},e.id)})}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"linear-gradient(90deg, rgba(168, 85, 247, 0.1) 0%, transparent 100%)",borderRadius:"12px"},children:[o.jsx(_e,{size:16,style:{color:"#a855f7"}}),o.jsx("span",{style:{fontWeight:"700",color:"#a855f7",fontSize:"0.85rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Pro â€” $9.99/mo"}),o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:["â€” ",void 0!==e&&e?e.filter(e=>"pro"===e.tier).length:0," agents"]})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:void 0!==e&&e&&e.filter(e=>"pro"===e.tier).map(e=>{const r="function"==typeof e.icon?e.icon:g,i=!t.find(t=>t.id===e.id);return o.jsxs("div",{className:"agent-card-large haptic-press",onClick:()=>{i?Pt?(vi("subscription"),za("mystudio")):qt(!0):(mr(e),s.agentUsed(e.id))},style:{padding:"16px",background:i?"rgba(255,255,255,0.02)":"linear-gradient(145deg, rgba(168, 85, 247, 0.08) 0%, rgba(255,255,255,0.03) 100%)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"16px",cursor:"pointer",transition:"all 0.3s ease",position:"relative",opacity:i?.6:1},children:[i&&o.jsx(oe,{size:14,style:{position:"absolute",top:"8px",right:"8px",opacity:.5}}),o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"12px",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(168, 85, 247, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"10px"},children:o.jsx(r,{size:20,style:{color:"#a855f7"}})}),o.jsx("h4",{style:{fontWeight:"700",fontSize:"0.85rem",marginBottom:"4px"},children:e.name}),o.jsx("p",{style:{fontSize:"0.65rem",color:"var(--text-secondary)",lineHeight:"1.3",marginBottom:"8px"},children:e.category}),o.jsx("span",{style:{padding:"2px 6px",background:"rgba(168, 85, 247, 0.15)",color:"#a855f7",borderRadius:"6px",fontSize:"0.6rem",fontWeight:"600"},children:"PRO"})]},e.id)})})]})]})})]})}case"hub":return o.jsx(a.Suspense,{fallback:o.jsx(ft,{}),children:o.jsx(xt,{projects:ja,setProjects:wa,onRemix:zo,onSelectProject:e=>{if(!e||"object"!=typeof e||!e.id)return void n.error("Unable to open project - invalid data");const t={...e,id:e.id,name:e.name||"Untitled Project",description:e.description||"",category:e.category||"general",assets:Array.isArray(e.assets)?e.assets.filter(Boolean):[],agents:Array.isArray(e.agents)?e.agents.filter(Boolean):[],date:e.date||(new Date).toLocaleDateString(),createdAt:e.createdAt||(new Date).toISOString(),updatedAt:e.updatedAt||(new Date).toISOString()};si(null),yr(t),Va(!0)},onCreateProject:e=>{if(("number"==typeof rr?rr:0)<2)return n.error("Not enough credits. You need 2 credits to save."),void Yn(!0);sr(e=>e-2),wa(t=>t.some(t=>t.id===e.id)?t.map(t=>t.id===e.id?e:t):[e,...t]),Pt&&Ut&&Ra(Ut?.uid,e).then(e=>{}).catch(e=>{}),si(null),yr(e),Va(!0),n.success(`Saved "${e.name}" with ${e.assets?.length||0} assets!`)},onDeleteProject:So,onSaveProject:e=>Pt&&Ut?Ra(Ut?.uid,e):Promise.resolve(!0),setActiveTab:za,setSelectedAgent:mr,setQuickWorkflowAgent:Oa,setPreviewItem:ys,setPlayingItem:ms})});case"project_canvas":return hr?o.jsxs("div",{className:"project-canvas animate-fadeIn",style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[o.jsxs("div",{className:"canvas-header",style:{marginBottom:"32px"},children:[o.jsxs("button",{onClick:()=>za("hub"),className:"back-btn",style:{display:"flex",alignItems:"center",gap:"8px",background:"none",border:"none",color:"var(--text-secondary)",cursor:"pointer",marginBottom:"16px",fontSize:"0.9rem"},children:[o.jsx(J,{size:18})," Back to Hub"]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:"20px"},children:[o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[o.jsx("h1",{style:{fontSize:"2rem",fontWeight:"700",margin:0},children:hr.name}),o.jsx("span",{style:{padding:"4px 10px",borderRadius:"20px",background:"rgba(139, 92, 246, 0.1)",color:"var(--color-purple)",fontSize:"0.75rem",fontWeight:"600",border:"1px solid rgba(139, 92, 246, 0.2)"},children:hr.category?.toUpperCase()||"PROJECT"})]}),o.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"600px",margin:0},children:hr.description||"No description provided."})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{className:"btn-secondary",onClick:()=>_a(!0),style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(dt,{size:18})," Add Agents"]}),o.jsxs("button",{className:"btn-primary",onClick:()=>{if(hr.agents&&hr.agents.length>0){const t=hr.agents[0],r="string"==typeof t?t:t?.id,s=void 0!==e&&e&&e.find(e=>e.id===r)||("object"==typeof t?t:null);s?mr(s):_a(!0)}else _a(!0)},style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(V,{size:18})," Open Studio"]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"24px",marginTop:"24px",padding:"16px",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(X,{size:16,className:"text-cyan"}),o.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Created: ",o.jsx("span",{style:{color:"white"},children:hr.date})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(h,{size:16,className:"text-purple"}),o.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Assets: ",o.jsx("span",{style:{color:"white"},children:hr.assets?.length||0})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(dt,{size:16,className:"text-green"}),o.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:["Team: ",o.jsxs("span",{style:{color:"white"},children:[hr.agents?.length||0," Agents"]})]})]})]})]}),o.jsxs("div",{className:"canvas-content",children:[o.jsxs("div",{style:{marginBottom:"40px"},children:[o.jsxs("h3",{style:{fontSize:"1.2rem",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(dt,{size:20,className:"text-purple"})," Active Agents"]}),hr.agents&&hr.agents.length>0?o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(240px, 1fr))",gap:"16px"},children:[hr.agents.map((t,r)=>{const s="string"==typeof t?t:t?.id,i=void 0!==e&&e&&e.find(e=>e.id===s)||("object"==typeof t?t:null);if(!i)return null;const a="function"==typeof i.icon?i.icon:g;return o.jsxs("div",{onClick:()=>mr(i),style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",padding:"16px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"12px"},onMouseOver:e=>{e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.transform="translateY(-2px)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(0)"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"rgba(139, 92, 246, 0.1)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(a,{size:20,className:"text-purple"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"600"},children:i.name}),o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:i.category})]}),o.jsx(ze,{size:16,style:{marginLeft:"auto",opacity:.5}})]},s||r)}),o.jsxs("button",{onClick:()=>_a(!0),style:{background:"transparent",border:"1px dashed var(--border-color)",borderRadius:"12px",padding:"16px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",color:"var(--text-secondary)",transition:"all 0.2s ease"},onMouseOver:e=>{e.currentTarget.style.borderColor="var(--color-cyan)",e.currentTarget.style.color="var(--color-cyan)"},onMouseOut:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.color="var(--text-secondary)"},children:[o.jsx(Q,{size:20}),o.jsx("span",{children:"Add Agent"})]})]}):o.jsxs("div",{style:{padding:"32px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px dashed var(--border-color)"},children:[o.jsx(dt,{size:32,style:{opacity:.3,marginBottom:"12px"}}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:"No agents assigned to this project yet."}),o.jsx("button",{className:"btn-secondary",onClick:()=>_a(!0),children:"Assign Agents"})]})]}),o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[o.jsxs("h3",{style:{fontSize:"1.2rem",margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(h,{size:20,className:"text-cyan"})," Project Generations"]}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("button",{className:"btn-icon-sm",title:"Grid View",children:o.jsx(h,{size:16})}),o.jsx("button",{className:"btn-icon-sm",title:"List View",children:o.jsx(Ee,{size:16})})]})]}),hr.assets&&hr.assets.length>0?o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:hr.assets.filter(Boolean).map((e,t)=>e&&"object"==typeof e?o.jsx(mt,{asset:e,children:o.jsxs("div",{className:"asset-card",style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"12px",overflow:"hidden",transition:"all 0.2s ease"},children:[o.jsxs("div",{style:{height:"160px",background:e.imageUrl?`url(${nt(e.imageUrl)}) center/cover`:"linear-gradient(135deg, #1e1e2e, #2d2d44)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{const t={id:e.id,title:e.title,snippet:e.snippet,content:e.content,type:e.type,agent:e.agent,imageUrl:e.imageUrl,audioUrl:e.audioUrl,videoUrl:e.videoUrl,createdAt:e.createdAt,date:e.date,model:e.model,description:e.description,isExistingAsset:!0};ys(t)},children:[!e.imageUrl&&("audio"===e.type?o.jsx(T,{size:48,style:{opacity:.2}}):"video"===e.type?o.jsx(E,{size:48,style:{opacity:.2}}):o.jsx(Z,{size:48,style:{opacity:.2}})),o.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",fontSize:"0.7rem",fontWeight:"600",color:"white",textTransform:"uppercase"},children:e.type||"Text"}),("audio"===e.type||"video"===e.type)&&o.jsx("div",{className:"play-overlay",style:{width:"48px",height:"48px",borderRadius:"50%",background:"rgba(255,255,255,0.2)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:o.jsx(F,{size:24,fill:"white",color:"white"})})]}),o.jsxs("div",{style:{padding:"16px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-purple)",fontWeight:"600"},children:e.agent||"AI Generated"}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.date||"Just now"})]}),o.jsx("h4",{style:{margin:"0 0 8px 0",fontSize:"1rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title||e.snippet?.substring(0,30)||"Untitled Asset"}),o.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)",height:"40px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.snippet||e.description||"No description available."}),o.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[o.jsxs("button",{className:"btn-secondary-sm",style:{flex:1},onClick:()=>{const t={id:e.id,title:e.title,snippet:e.snippet,content:e.content,type:e.type,agent:e.agent,imageUrl:e.imageUrl,audioUrl:e.audioUrl,videoUrl:e.videoUrl,createdAt:e.createdAt,date:e.date,model:e.model,description:e.description,isExistingAsset:!0};ys(t)},children:[o.jsx(Y,{size:14})," View"]}),o.jsxs("button",{className:"btn-secondary-sm",style:{flex:1},onClick:()=>{e.snippet&&(navigator.clipboard.writeText(e.snippet),n.success("Copied to clipboard"))},children:[o.jsx(re,{size:14})," Copy"]})]})]})]},e.id||t)},`hub-asset-${e?.id||t}`):null)}):o.jsxs("div",{style:{padding:"48px",textAlign:"center",background:"var(--bg-secondary)",borderRadius:"12px",border:"1px dashed var(--border-color)"},children:[o.jsx(h,{size:48,style:{opacity:.2,marginBottom:"16px"}}),o.jsx("h3",{style:{marginBottom:"8px"},children:"No generations yet"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Launch an agent to start creating content for this project."}),o.jsx("button",{className:"btn-primary",onClick:()=>{if(hr.agents&&hr.agents.length>0){const t=hr.agents[0],r="string"==typeof t?t:t?.id,s=void 0!==e&&e&&e.find(e=>e.id===r)||("object"==typeof t?t:null);s?mr(s):_a(!0)}else _a(!0)},children:"Start Creating"})]})]})]})]}):o.jsx("div",{className:"p-8 text-center animate-fadeIn",children:o.jsx("div",{style:{opacity:.6},children:"Loading project..."})});case"resources":{const e=[{id:"agents",icon:g,label:"AI Agents",desc:"Your creative team",color:"var(--color-purple)"},{id:"mystudio",icon:y,label:"My Studio",desc:"Projects & assets",color:"var(--color-cyan)"},{id:"activity",icon:T,label:"Music Hub",desc:"Trending AI across platforms",color:"var(--color-pink)"},{id:"news",icon:f,label:"Industry Pulse",desc:"Latest music & tech news",color:"var(--color-emerald)"},{id:"whitepapers",icon:Z,label:"Whitepapers",desc:"Technical documentation",color:"var(--color-indigo)"},{id:"legal",icon:fe,label:"Legal Center",desc:"Terms & licensing",color:"var(--color-red)"},{id:"support",icon:j,label:"Help & Support",desc:"FAQ & contact us",color:"var(--color-orange)"},{id:"marketing",icon:Ce,label:"About Us",desc:"Our mission & vision",color:"var(--color-yellow)"},{id:"hub",icon:q,label:"Project Hub",desc:"Shared by Studio Agent users",color:"var(--color-blue)"},{id:"profile",icon:N,label:"My Profile",desc:"Account settings",color:"var(--color-purple)"}];return o.jsxs("div",{className:"resources-view animate-fadeInUp",children:[o.jsxs("div",{className:"resources-header",children:[o.jsx("h1",{children:"Creator Resources"}),o.jsx("p",{children:"Quick access to all studio features and tools."})]}),o.jsx("div",{className:"resources-cards-grid",style:{display:"grid",gridTemplateColumns:xr?"repeat(2, 1fr)":"repeat(5, 1fr)",gap:"20px",marginBottom:"32px"},children:e.map(e=>{const t=e.icon;return o.jsxs("div",{onClick:()=>{"legal"===e.id||"whitepapers"===e.id?window.location.hash=`#/${e.id}`:za(e.id)},role:"button",tabIndex:0,className:"haptic-press",style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"28px 20px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"16px",minHeight:"180px"},onMouseEnter:t=>{t.currentTarget.style.borderColor=e.color,t.currentTarget.style.transform="translateY(-2px)",t.currentTarget.style.boxShadow=`0 8px 24px ${e.color}20`},onMouseLeave:e=>{e.currentTarget.style.borderColor="var(--border-color)",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[o.jsx("div",{style:{width:"70px",height:"70px",borderRadius:"18px",background:`${e.color}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(t,{size:34,style:{color:e.color}})}),o.jsxs("div",{children:[o.jsx("h4",{style:{margin:0,fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:e.label}),o.jsx("p",{style:{margin:"6px 0 0",fontSize:"0.75rem",color:"var(--text-secondary)",lineHeight:"1.4"},children:e.desc})]})]},e.id)})})]})}case"marketing":return o.jsxs("div",{className:"marketing-view animate-fadeInUp",style:{paddingBottom:"80px"},children:[o.jsxs("div",{className:"marketing-hero",style:{textAlign:"center",padding:"60px 20px",background:"linear-gradient(180deg, rgba(124, 58, 237, 0.1) 0%, rgba(0,0,0,0) 100%)",marginBottom:"40px"},children:[o.jsxs("div",{className:"hero-badge",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"6px 12px",background:"rgba(124, 58, 237, 0.2)",borderRadius:"20px",color:"#a78bfa",fontSize:"0.85rem",marginBottom:"20px",border:"1px solid rgba(124, 58, 237, 0.3)"},children:[o.jsx(g,{size:14}),o.jsx("span",{children:"The Future of Music Creation"})]}),o.jsxs("h1",{style:{fontSize:"3rem",fontWeight:"800",marginBottom:"16px",lineHeight:"1.1"},children:["The Studio ",o.jsx("span",{className:"text-gradient-purple",children:"Agents"})]}),o.jsx("p",{style:{fontSize:"1.2rem",color:"var(--text-secondary)",maxWidth:"600px",margin:"0 auto"},children:"An AI-powered record label in your pocket. 16 specialized agents working 24/7 to build your career."})]}),o.jsxs("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:[o.jsxs("div",{className:"section-header",style:{marginBottom:"30px"},children:[o.jsx("h2",{style:{fontSize:"2rem",marginBottom:"10px"},children:"The Story"}),o.jsx("div",{style:{width:"60px",height:"4px",background:"var(--color-purple)",borderRadius:"2px"}})]}),o.jsxs("div",{className:"story-card",style:{background:"var(--color-bg-secondary)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)",position:"relative",overflow:"hidden"},children:[o.jsxs("div",{style:{position:"relative",zIndex:2},children:[o.jsx("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"var(--text-primary)",marginBottom:"20px"},children:"For decades, the music industry has been a walled garden. Only the top 1% of artists had access to world-class producers, marketing teams, and A&R strategy."}),o.jsxs("p",{style:{fontSize:"1.1rem",lineHeight:"1.8",color:"var(--text-primary)"},children:[o.jsx("strong",{children:"The Studio changes that."})," We've distilled the expertise of industry veterans into 16 specialized AI agents. Whether you need a lyricist at 3 AM, a marketing strategy for your release, or a visual identity for your brand, The Studio is always open."]})]}),o.jsx("div",{style:{position:"absolute",top:"-50px",right:"-50px",width:"200px",height:"200px",background:"radial-gradient(circle, rgba(124, 58, 237, 0.15) 0%, rgba(0,0,0,0) 70%)",borderRadius:"50%"}})]})]}),o.jsxs("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:[o.jsxs("div",{className:"section-header",style:{marginBottom:"30px"},children:[o.jsx("h2",{style:{fontSize:"2rem",marginBottom:"10px"},children:"The Specialized AI Team"}),o.jsx("div",{style:{width:"60px",height:"4px",background:"var(--color-cyan)",borderRadius:"2px"}}),o.jsx("p",{style:{marginTop:"12px",color:"var(--text-secondary)"},children:"Click any agent to launch their specialized workspace"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"16px"},children:(e||[]).slice(0,8).map(e=>{const t=e.icon||g;return o.jsxs("div",{className:"agent-info-card-slim animate-fadeInUp haptic-press",onClick:()=>{mr(e),za("agents"),window.scrollTo(0,0)},style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"20px",padding:"24px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px",transition:"all 0.2s ease"},children:[o.jsx("div",{className:`agent-icon-mini ${e.colorClass}`,style:{width:"56px",height:"56px",borderRadius:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(t,{size:28})}),o.jsxs("div",{children:[o.jsx("h3",{style:{margin:0,fontSize:"1.1rem",fontWeight:"700"},children:e.name}),o.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.85rem",color:"var(--text-secondary)"},children:e.category})]})]},e.id)})})]}),o.jsx("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:o.jsxs("div",{className:"grid-2-col",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[o.jsxs("div",{className:"vision-card",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[o.jsx("div",{className:"icon-box",style:{width:"50px",height:"50px",background:"rgba(59, 130, 246, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:o.jsx(we,{size:24,className:"text-cyan"})}),o.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"12px"},children:"Our Vision"}),o.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"To democratize the entire music supply chain. We believe every artist deserves a team that cares as much about their music as they do."})]}),o.jsxs("div",{className:"vision-card",style:{background:"linear-gradient(135deg, #1a1a1a 0%, #0f0f0f 100%)",padding:"30px",borderRadius:"24px",border:"1px solid var(--border-color)"},children:[o.jsx("div",{className:"icon-box",style:{width:"50px",height:"50px",background:"rgba(236, 72, 153, 0.2)",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:o.jsx(me,{size:24,className:"text-pink"})}),o.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"12px"},children:"For Creators"}),o.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"1.6"},children:"Built for the bedroom producers, the songwriters, and the independent artists who are ready to take their career to the next level."})]})]})}),o.jsx("section",{className:"marketing-section",style:{padding:"0 20px 60px"},children:o.jsxs("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"15px"},children:[o.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-purple)",marginBottom:"5px"},children:"16"}),o.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Specialized Agents"})]}),o.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-cyan)",marginBottom:"5px"},children:"24/7"}),o.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Availability"})]}),o.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-green)",marginBottom:"5px"},children:"âˆž"}),o.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Creative Potential"})]}),o.jsxs("div",{className:"stat-card",style:{background:"rgba(255,255,255,0.03)",padding:"20px",borderRadius:"16px",textAlign:"center"},children:[o.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"800",color:"var(--color-orange)",marginBottom:"5px"},children:"100%"}),o.jsx("div",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Royalty Free"})]})]})}),o.jsx("div",{className:"marketing-cta",style:{padding:"0 20px 40px",textAlign:"center"},children:o.jsxs("button",{className:"cta-button-primary haptic-press",style:{width:"100%",padding:"16px",fontSize:"1.1rem"},onClick:()=>kn(!0),children:["Create New Project ",o.jsx(ze,{size:20,style:{marginLeft:"8px"}})]})})]});case"activity":return o.jsxs("div",{className:"music-hub-view animate-fadeInUp",style:{paddingBottom:"100px"},children:[o.jsxs("div",{className:"orchestrator-header",style:{background:"linear-gradient(135deg, rgba(168, 85, 247, 0.15) 0%, rgba(6, 182, 212, 0.15) 50%, rgba(236, 72, 153, 0.15) 100%)",borderRadius:"24px",padding:"32px",marginBottom:"24px",border:"1px solid rgba(255,255,255,0.1)",position:"relative",overflow:"hidden"},children:[o.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at 20% 50%, rgba(168, 85, 247, 0.2) 0%, transparent 50%)",pointerEvents:"none"}}),o.jsxs("div",{style:{position:"relative",zIndex:1},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"12px"},children:[o.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(168, 85, 247, 0.4)"},children:o.jsx(T,{size:28,color:"white"})}),o.jsxs("div",{children:[o.jsx("h1",{style:{margin:0,fontSize:"2rem",fontWeight:"700",background:"linear-gradient(90deg, white, rgba(255,255,255,0.8))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Music Hub"}),o.jsx("p",{style:{margin:0,color:"var(--text-secondary)",fontSize:"0.95rem"},children:"Trending AI Creations â€” Discover what's hot on Udio, Suno & beyond"})]})]}),o.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"20px",flexWrap:"wrap"},children:[{id:"all",label:"All Trends",icon:V},{id:"news",label:"Music News",icon:f},{id:"soundcloud",label:"SoundCloud",icon:S},{id:"youtube",label:"YouTube",icon:A},{id:"releases",label:"New Releases",icon:P},{id:"reddit",label:"Community",icon:b}].map(e=>o.jsxs("button",{onClick:()=>{Bi?.(e.id)||localStorage.setItem("musicHubSection",e.id),yo(1,e.id)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",borderRadius:"12px",border:"none",background:(Ui||localStorage.getItem("musicHubSection")||"all")===e.id?"linear-gradient(135deg, var(--color-purple), var(--color-cyan))":"rgba(255,255,255,0.08)",color:"white",fontSize:"0.9rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},children:[o.jsx(e.icon,{size:16}),e.label]},e.id))})]})]}),o.jsx("div",{className:"music-hub-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"20px"},children:Ti.map((e,t)=>o.jsxs("div",{className:"music-hub-card",style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.08)",overflow:"hidden",transition:"all 0.3s ease",cursor:"pointer"},onClick:()=>window.open(e.url,"_blank"),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.borderColor="var(--color-purple)",e.currentTarget.style.boxShadow="0 12px 40px rgba(168, 85, 247, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.borderColor="rgba(255,255,255,0.08)",e.currentTarget.style.boxShadow="none"},children:[e.imageUrl&&o.jsxs("div",{className:"activity-media-preview",style:{position:"relative",aspectRatio:"16/9",overflow:"hidden"},children:[o.jsx("img",{src:e.imageUrl,alt:e.title,style:{width:"100%",height:"100%",objectFit:"cover"},loading:"lazy"}),o.jsx("div",{className:"media-overlay",children:o.jsxs("button",{className:"preview-indicator",onClick:t=>{t.stopPropagation(),ms({...e,type:e.isVideo?"video":"image",url:e.videoUrl||e.imageUrl||e.url})},children:[o.jsx(Y,{size:20}),o.jsx("span",{children:"Quick Preview"})]})}),e.isVideo&&!e.imageUrl&&o.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"56px",height:"56px",borderRadius:"50%",background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",backdropFilter:"blur(4px)"},children:o.jsx(A,{size:28,color:"white"})}),o.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",padding:"6px 12px",borderRadius:"8px",background:"youtube"===e.source?"rgba(255, 0, 0, 0.9)":"reddit"===e.source?"rgba(255, 69, 0, 0.9)":"soundcloud"===e.source?"#ff3300":"news"===e.source?"rgba(0, 120, 215, 0.9)":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",color:"white",fontSize:"0.7rem",fontWeight:"700",textTransform:"uppercase",display:"flex",alignItems:"center",gap:"6px",zIndex:2},children:["youtube"===e.source&&o.jsx(A,{size:12}),"reddit"===e.source&&o.jsx(b,{size:12}),("releases"===e.source||"release"===e.type)&&o.jsx($e,{size:12}),"soundcloud"===e.source&&o.jsx(S,{size:12}),"news"===e.source&&o.jsx(f,{size:12}),e.source]})]}),o.jsxs("div",{style:{padding:"16px"},children:[o.jsx("div",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",borderRadius:"6px",background:`var(--${e.color?.replace("agent-","color-")||"color-purple"})`,opacity:.8,fontSize:"0.7rem",fontWeight:"600",marginBottom:"10px",textTransform:"uppercase"},children:e.category}),o.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1rem",fontWeight:"600",color:"white",lineHeight:"1.4",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.title}),o.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"0.85rem",color:"var(--text-secondary)",lineHeight:"1.5",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.snippet||e.author}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"12px",borderTop:"1px solid rgba(255,255,255,0.05)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[void 0!==e.likes&&o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[o.jsx(V,{size:14,style:{color:"var(--color-purple)"}}),e.likes>1e3?`${(e.likes/1e3).toFixed(1)}k`:e.likes]}),void 0!==e.comments&&o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[o.jsx(b,{size:14}),e.comments]})]}),o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:e.time})]})]})]},`${e.id}-${t}`))}),Ti.filter(e=>!e.imageUrl).length>0&&o.jsxs("div",{style:{marginTop:"32px"},children:[o.jsx("h3",{style:{marginBottom:"16px",color:"var(--text-secondary)",fontSize:"0.9rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Upcoming & Recent Releases"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Ti.filter(e=>!e.imageUrl&&"release"===e.type).slice(0,10).map((e,t)=>o.jsxs("div",{onClick:()=>window.open(e.url,"_blank"),style:{display:"flex",alignItems:"center",gap:"16px",padding:"16px",background:"rgba(255,255,255,0.03)",borderRadius:"12px",border:"1px solid rgba(255,255,255,0.06)",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255,255,255,0.06)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.03)",children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:0===e.daysUntil?"linear-gradient(135deg, var(--color-emerald), var(--color-cyan))":e.daysUntil>0?"linear-gradient(135deg, var(--color-purple), var(--color-pink))":"rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:o.jsx($e,{size:22,color:"white"})}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontWeight:"600",color:"white",marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.title}),o.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:e.snippet})]}),o.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",background:0===e.daysUntil?"var(--color-emerald)":e.daysUntil>0?"rgba(168, 85, 247, 0.2)":"rgba(255,255,255,0.1)",color:0===e.daysUntil?"black":"white",fontSize:"0.75rem",fontWeight:"700",whiteSpace:"nowrap"},children:e.time})]},`release-${e.id}-${t}`))})]}),Ni&&o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",padding:"40px",color:"var(--text-secondary)"},children:[o.jsx("div",{className:"spinner",style:{width:"24px",height:"24px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.jsx("span",{children:"Loading music content..."})]}),!Ni&&0===Ti.length&&o.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 24px",textAlign:"center",background:"rgba(255,255,255,0.02)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx(T,{size:48,style:{color:"var(--color-purple)",marginBottom:"16px",opacity:.6}}),o.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"1.2rem",color:"var(--text-primary)"},children:"No Music Content Available"}),o.jsx("p",{style:{margin:"0 0 20px 0",color:"var(--text-secondary)",maxWidth:"400px"},children:"Unable to load trending AI music from Udio and Suno. Make sure the backend server is running."}),o.jsxs("button",{onClick:()=>yo(1),style:{padding:"12px 24px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",color:"white",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(ie,{size:16})," Try Again"]})]}),!Ni&&Ii&&Ti.length>0&&o.jsx("div",{style:{display:"flex",justifyContent:"center",paddingTop:"32px"},children:o.jsx("button",{onClick:()=>yo(ki+1),style:{padding:"14px 32px",borderRadius:"12px",border:"1px solid var(--color-purple)",background:"transparent",color:"var(--color-purple)",fontSize:"0.95rem",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:e=>{e.currentTarget.style.background="var(--color-purple)",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.background="transparent",e.currentTarget.style.color="var(--color-purple)"},children:"Load More"})}),!Ii&&Ti.length>0&&o.jsx("div",{style:{textAlign:"center",padding:"40px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:o.jsx("p",{children:"ðŸŽµ You've explored all the latest music content. Check back soon!"})})]});case"news":return o.jsx(a.Suspense,{fallback:o.jsx(ft,{}),children:o.jsx(gt,{newsItems:No,newsSearch:Mi,setNewsSearch:Fi,isLoadingNews:Wi,onRefresh:Co,hasMoreNews:Ei,onLoadMore:()=>bo(Pi+1),setPlayingItem:ms})});case"profile":return o.jsxs("div",{className:"studio-profile-view animate-fadeInUp",style:{padding:"24px",maxWidth:"800px",margin:"0 auto"},children:[o.jsxs("div",{className:"profile-header",style:{display:"flex",alignItems:"center",gap:"24px",marginBottom:"32px"},children:[o.jsxs("div",{className:"profile-avatar-large",style:{width:"100px",height:"100px",borderRadius:"50%",overflow:"hidden",border:"2px solid var(--color-purple)",position:"relative"},children:[Ut?.photoURL?o.jsx("img",{src:Ut.photoURL,alt:"User",loading:"lazy",style:{width:"100%",height:"100%"}}):o.jsx("div",{style:{width:"100%",height:"100%",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2rem"},children:Ut?.displayName?.charAt(0)||"U"}),o.jsx("button",{style:{position:"absolute",bottom:0,left:0,right:0,background:"rgba(0,0,0,0.6)",border:"none",color:"white",fontSize:"0.7rem",padding:"4px",cursor:"pointer"},children:"Edit"})]}),o.jsxs("div",{children:[o.jsx("h1",{style:{fontSize:"2rem",marginBottom:"8px"},children:Hi.stageName||Ut?.displayName||"Guest Creator"}),o.jsx("p",{style:{color:"var(--text-secondary)"},children:Ut?.email||"No email linked"}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"12px"},children:[o.jsxs("span",{className:"badge",style:{background:"var(--color-purple)",color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:[Hi.plan," Plan"]}),o.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.1)",color:"var(--text-secondary)",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:["Member since ",Hi.memberSince]}),o.jsxs("span",{className:"badge",style:{background:"rgba(255,255,255,0.1)",color:"var(--color-cyan)",padding:"4px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:[Hi.credits," Credits"]})]})]})]}),o.jsxs("div",{className:"profile-stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"24px"},children:[o.jsxs("div",{className:"stat-card",style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center"},children:[o.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-purple)",marginBottom:"4px"},children:(ja||[]).length}),o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Projects"})]}),o.jsxs("div",{className:"stat-card",style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center"},children:[o.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-cyan)",marginBottom:"4px"},children:new Set((ja||[]).map(e=>e.agent)).size}),o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Agents Used"})]}),o.jsxs("div",{className:"stat-card haptic-press",onClick:()=>Yn(!0),style:{background:"var(--card-bg)",padding:"16px",borderRadius:"12px",border:"1px solid var(--border-color)",textAlign:"center",cursor:"pointer"},children:[o.jsx("h4",{style:{fontSize:"2rem",fontWeight:"bold",color:"var(--color-orange)",marginBottom:"4px"},children:Hi.credits}),o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",textTransform:"uppercase",letterSpacing:"1px"},children:"Credits Left"})]})]}),o.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[o.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(N,{size:20})," Creator Profile"]}),o.jsxs("div",{className:"form-grid",style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[o.jsxs("div",{className:"form-group",children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Stage Name"}),o.jsx("input",{type:"text",value:Hi.stageName,onChange:e=>Vi({...Hi,stageName:e.target.value}),placeholder:Ut?.displayName||"Enter stage name",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Primary Genre"}),o.jsxs("select",{value:Hi.genre,onChange:e=>Vi({...Hi,genre:e.target.value}),className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"},children:[o.jsx("option",{children:"Hip Hop / Rap"}),o.jsx("option",{children:"R&B"}),o.jsx("option",{children:"Pop"}),o.jsx("option",{children:"Electronic"}),o.jsx("option",{children:"Rock"}),o.jsx("option",{children:"Afrobeats"}),o.jsx("option",{children:"Latin"})]})]}),o.jsxs("div",{className:"form-group",style:{gridColumn:"span 2"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Creator Bio"}),o.jsx("textarea",{rows:"4",value:Hi.bio,onChange:e=>Vi({...Hi,bio:e.target.value}),placeholder:"Tell your story...",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px",resize:"vertical"}})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Location"}),o.jsx("input",{type:"text",value:Hi.location,onChange:e=>Vi({...Hi,location:e.target.value}),placeholder:"City, Country",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Website"}),o.jsx("input",{type:"text",value:Hi.website,onChange:e=>Vi({...Hi,website:e.target.value}),placeholder:"https://",className:"form-input",style:{width:"100%",padding:"12px",borderRadius:"8px"}})]})]})]}),o.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[o.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(U,{size:20})," Social Connections"]}),o.jsx("div",{className:"social-connect-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[{id:"instagram",label:"Instagram",icon:ke,color:"#E1306C"},{id:"twitter",label:"X / Twitter",icon:Se,color:"#1DA1F2"},{id:"spotify",label:"Spotify for Artists",icon:T,color:"#1DB954"},{id:"tiktok",label:"TikTok",icon:E,color:"#00f2ea"}].map(e=>o.jsxs("div",{className:"social-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx(e.icon,{size:20,color:e.color}),o.jsx("span",{children:e.label})]}),o.jsx("button",{className:"btn-sm",onClick:()=>qi(t=>{const r={...t,[e.id]:!t[e.id]};return localStorage.setItem("studio_agents_socials",JSON.stringify(r)),r}),style:{background:Gi[e.id]?"rgba(16, 185, 129, 0.2)":"transparent",border:"1px solid "+(Gi[e.id]?"#10b981":"var(--border-color)"),color:Gi[e.id]?"#10b981":"white",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",minWidth:"100px"},children:Gi[e.id]?"Connected":"Connect"})]},e.id))})]}),o.jsxs("div",{className:"profile-section",style:{background:"var(--card-bg)",borderRadius:"16px",padding:"24px",marginBottom:"24px",border:"1px solid var(--border-color)"},children:[o.jsxs("h3",{style:{marginBottom:"20px",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(ue,{size:20})," Preferences"]}),o.jsx("div",{className:"preferences-list",style:{display:"flex",flexDirection:"column",gap:"12px"},children:o.jsxs("div",{className:"preference-item",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(255,255,255,0.05)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["dark"===cr?o.jsx(Pe,{size:20}):o.jsx(De,{size:20}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"600"},children:"Appearance"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"dark"===cr?"Dark Mode":"Light Mode"})]})]}),o.jsxs("button",{className:"btn-sm",onClick:()=>pr("dark"===cr?"light":"dark"),style:{background:"transparent",border:"1px solid var(--border-color)",color:"var(--text-primary)",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",minWidth:"100px"},children:["Switch to ","dark"===cr?"Light":"Dark"]})]})})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px"},children:[o.jsx("button",{className:"cta-button-secondary",onClick:()=>za("mystudio"),children:"Cancel"}),o.jsx("button",{className:"cta-button-premium",onClick:()=>{localStorage.setItem("studio_user_profile",JSON.stringify(Hi)),n.success("Profile saved!"),za("mystudio")},children:"Save Changes"})]})]});case"support":{const t=cs.length>1?[...It.filter(e=>e.keywords.some(e=>e.includes(cs.toLowerCase()))||e.label.toLowerCase().includes(cs.toLowerCase())).map(e=>({type:"Action",title:`Go to ${e.label}`,description:"Navigate to this section",icon:ze,action:()=>{za(e.type),e.sub&&vi(e.sub)}})),...Ct.filter(e=>e.keywords.some(e=>cs.toLowerCase().includes(e))||e.issue.toLowerCase().includes(cs.toLowerCase())).map(e=>({type:"Troubleshooting",title:e.issue,description:e.solution,icon:fe})),...Nt.filter(e=>e.title.toLowerCase().includes(cs.toLowerCase())||e.desc.toLowerCase().includes(cs.toLowerCase())||e.details.toLowerCase().includes(cs.toLowerCase())).map(e=>({type:"Guide",title:e.title,description:e.desc,icon:v})),...e.filter(e=>e.name.toLowerCase().includes(cs.toLowerCase())||e.description.toLowerCase().includes(cs.toLowerCase())||e.category.toLowerCase().includes(cs.toLowerCase())).map(e=>({type:"Agent",title:e.name,description:e.description,icon:V,action:()=>{za("agents"),mr(e)}})),...[{q:"How do I export my creations?",a:"You can export any creation from the Project Hub using the download icon."},{q:"Can I use the lyrics commercially?",a:"Yes, all content generated by Studio Agents is royalty-free for Pro users."},{q:"How do I change the agent's genre?",a:"Use the Genre dropdown in the agent's detail view to shift styles."}].filter(e=>e.q.toLowerCase().includes(cs.toLowerCase())||e.a.toLowerCase().includes(cs.toLowerCase())).map(e=>({type:"FAQ",title:e.q,description:e.a,icon:j}))]:[];return o.jsxs("div",{className:"help-center-view animate-fadeInUp",children:[o.jsxs("div",{className:"help-hero",children:[o.jsx("h1",{children:"Support Center"}),o.jsx("p",{className:"text-muted",style:{marginTop:"8px"},children:"Guides, troubleshooting, and expert assistance."}),o.jsxs("div",{className:"search-box large",style:{marginTop:"24px"},children:[o.jsx(We,{size:20}),o.jsx("input",{type:"text",placeholder:"Search for agents, guides, or troubleshooting...",value:cs,onChange:e=>ps(e.target.value)})]})]}),t.length>0?o.jsxs("div",{className:"smart-suggestions animate-fadeIn",children:[o.jsxs("div",{className:"suggestions-header",children:[o.jsx(g,{size:18,className:"text-purple"}),o.jsx("h3",{children:"Search Results"})]}),o.jsx("div",{className:"suggestions-list",children:t.map((e,t)=>{const r=e.icon;return o.jsxs("div",{className:"suggestion-item",onClick:e.action?e.action:void 0,style:{cursor:e.action?"pointer":"default"},children:[o.jsx("div",{className:"suggestion-icon",children:o.jsx(r,{size:20})}),o.jsxs("div",{className:"suggestion-content",children:[o.jsx("div",{className:"suggestion-type",children:e.type}),o.jsx("h4",{children:e.title}),o.jsx("p",{children:e.description})]}),e.action&&o.jsx(ze,{size:16,className:"suggestion-arrow"})]},t)})})]}):cs.length>1?o.jsxs("div",{className:"empty-search-state animate-fadeIn",style:{textAlign:"center",padding:"4rem 2rem",color:"var(--text-secondary)"},children:[o.jsx(We,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),o.jsx("h3",{children:"No results found"}),o.jsx("p",{children:'Try searching for "Billing", "Ghostwriter", or "Export".'})]}):null,o.jsx("div",{className:"help-grid-main",children:Nt.map((e,t)=>{const r=e.icon,s=ls===t;return o.jsxs("div",{className:"help-card-item "+(s?"expanded":""),children:[o.jsx("div",{className:"help-card-icon",children:o.jsx(r,{size:24})}),o.jsx("h3",{children:e.title}),o.jsx("p",{children:e.desc}),s&&o.jsx("div",{className:"help-card-details animate-fadeIn",children:o.jsx("p",{children:e.details})}),o.jsxs("button",{className:"help-card-link",onClick:()=>ds(s?null:t),children:[s?"Show Less":"Read More",s?o.jsx(Ue,{size:16}):o.jsx(ze,{size:16})]})]},t)})}),o.jsxs("div",{className:"faq-section",children:[o.jsx("h2",{children:"Frequently Asked Questions"}),o.jsx("div",{className:"faq-list",children:[{q:"How do I export my creations?",a:"You can export any creation from the Project Hub using the download icon."},{q:"Can I use the lyrics commercially?",a:"Yes, all content generated by Studio Agents is royalty-free for Pro users."},{q:"How do I change the agent's genre?",a:"Use the Genre dropdown in the agent's detail view to shift styles."}].map((e,t)=>o.jsxs("div",{className:"faq-item",children:[o.jsx("h4",{children:e.q}),o.jsx("p",{children:e.a})]},t))})]}),o.jsxs("div",{className:"contact-support-section",style:{marginTop:"40px",padding:"32px",background:"var(--card-bg)",borderRadius:"24px",border:"1px solid var(--border-color)",textAlign:"center"},children:[o.jsx("div",{className:"icon-box",style:{width:"64px",height:"64px",margin:"0 auto 16px",background:"rgba(168, 85, 247, 0.1)",color:"var(--color-purple)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(b,{size:32})}),o.jsx("h2",{children:"Still need help?"}),o.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:"500px",margin:"12px auto 24px"},children:"Our support team is available 24/7 to assist with technical issues, billing inquiries, or creative blocks."}),o.jsxs("div",{style:{display:"flex",gap:"16px",justifyContent:"center",flexWrap:"wrap"},children:[o.jsx("button",{className:"cta-button-premium",onClick:()=>window.open("mailto:support@studioagents.com?subject=Support Request","_blank"),children:"Email Support"}),o.jsx("button",{className:"cta-button-secondary",onClick:()=>window.open("https://discord.gg/studioagents","_blank"),children:"Join Discord Community"})]})]})]})}case"more":return o.jsxs("div",{className:"more-menu-view animate-fadeInUp",style:{padding:"20px"},children:[o.jsx("h2",{style:{marginBottom:"24px",fontSize:"1.5rem"},children:"More Options"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"32px"},children:At.map(e=>{const t=e.icon;return o.jsxs("div",{onClick:()=>{"legal"===e.id||"whitepapers"===e.id?window.location.hash=`#/${e.id}`:za(e.id)},role:"button",tabIndex:0,style:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"16px",padding:"20px",cursor:"pointer",transition:"all 0.2s ease",display:"flex",flexDirection:"column",gap:"12px"},onKeyDown:t=>"Enter"===t.key&&za(e.id),children:[o.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:`${e.color}20`,display:"flex",alignItems:"center",justifyContent:"center",color:e.color},children:o.jsx(t,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1rem",marginBottom:"4px"},children:e.label}),o.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:e.desc})]})]},e.id)})}),o.jsxs("div",{style:{background:"var(--card-bg)",borderRadius:"16px",padding:"20px",border:"1px solid var(--border-color)"},children:[o.jsx("h3",{style:{marginBottom:"16px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Quick Actions"}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[o.jsxs("button",{onClick:()=>kn(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"12px",color:"var(--color-purple)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[o.jsx(Q,{size:20}),"Create New Project"]}),Pt?o.jsxs("button",{onClick:$n,style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"12px",color:"var(--color-red)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[o.jsx(Be,{size:20}),"Sign Out"]}):o.jsxs("button",{onClick:()=>qt(!0),style:{display:"flex",alignItems:"center",gap:"12px",padding:"14px 16px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"12px",color:"var(--color-cyan)",cursor:"pointer",fontSize:"0.95rem",fontWeight:"500"},children:[o.jsx(N,{size:20}),"Sign In / Create Account"]})]})]}),o.jsxs("div",{style:{marginTop:"24px",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",background:"var(--card-bg)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"12px"},children:["dark"===cr?o.jsx(Pe,{size:20}):o.jsx(De,{size:20}),o.jsx("span",{children:"Dark Mode"})]}),o.jsx("button",{onClick:()=>pr("dark"===cr?"light":"dark"),style:{width:"50px",height:"28px",borderRadius:"14px",background:"dark"===cr?"var(--color-purple)":"var(--border-color)",border:"none",cursor:"pointer",position:"relative",transition:"background 0.2s"},children:o.jsx("div",{style:{width:"22px",height:"22px",borderRadius:"50%",background:"white",position:"absolute",top:"3px",left:"dark"===cr?"25px":"3px",transition:"left 0.2s"}})})]})]});default:return null}})()}),us&&o.jsx("div",{className:"media-player-overlay animate-fadeIn",onClick:()=>ms(null),onTouchEnd:()=>ms(null),children:o.jsxs("div",{className:"media-player-container animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:[o.jsx("button",{className:"player-close",onClick:()=>ms(null),onTouchEnd:e=>{e.preventDefault(),ms(null)},children:o.jsx(I,{size:24})}),o.jsxs("div",{className:"player-content",children:[o.jsxs("div",{className:"player-header",children:[o.jsx("div",{className:`player-icon-box ${us.color||"agent-purple"}`,children:us.videoUrl?o.jsx(A,{size:32}):(us.imageUrl,o.jsx(T,{size:32}))}),o.jsxs("div",{className:"player-info",children:[o.jsx("h2",{children:us.title}),o.jsxs("p",{children:[us.agent," â€¢ ",us.user||"Your Creation"]})]})]}),o.jsx("div",{className:"player-visualizer",style:{position:"relative"},children:us.videoUrl&&(us.videoUrl.includes("youtube.com")||us.videoUrl.includes("youtu.be"))?o.jsx("iframe",{width:"100%",height:"100%",src:us.videoUrl.replace("watch?v=","embed/"),title:us.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"player-video",style:{border:"none"}}):o.jsxs(o.Fragment,{children:[us.videoUrl?o.jsx("video",{src:us.videoUrl,controls:!us.audioUrl,autoPlay:!0,muted:!!us.audioUrl,className:"player-video"}):us.imageUrl?o.jsx("img",{src:us.imageUrl,alt:us.title,className:"player-video",loading:"lazy",style:{objectFit:"contain",background:"#000"}}):us.audioUrl?o.jsx("div",{className:"audio-visualizer-placeholder",children:o.jsx("div",{className:"visualizer-bars",children:[...Array(20)].map((e,t)=>o.jsx("div",{className:"v-bar",style:{animationDelay:.1*t+"s"}},t))})}):o.jsx("div",{style:{width:"100%",height:"100%",minHeight:"200px",padding:"2rem",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.05))",display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto"},children:o.jsx("div",{style:{maxWidth:"600px",fontSize:"1rem",lineHeight:"1.8",color:"var(--text-primary)",whiteSpace:"pre-wrap",textAlign:"left"},children:xn(us)||o.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic",textAlign:"center"},children:"No content to display"})})}),us.audioUrl&&o.jsx("div",{style:{position:"absolute",bottom:"20px",left:"0",right:"0",padding:"0 20px",zIndex:10},children:o.jsx("audio",{src:us.audioUrl,controls:!0,autoPlay:!0,className:"player-audio",style:{width:"100%",boxShadow:"0 4px 12px rgba(0,0,0,0.5)",borderRadius:"30px"}})})]})}),o.jsx("div",{className:"player-footer",children:o.jsxs("div",{className:"player-actions",children:[o.jsxs("button",{className:"player-btn primary",onClick:()=>jo(us),children:[o.jsx(R,{size:18}),o.jsx("span",{children:"Download to Device"})]}),o.jsxs("button",{className:"player-btn secondary",onClick:()=>(e=>{if(!e)return;const t={...e,id:String(Date.now()),user:Pt?"Pro Creator":"Guest Creator",time:"Just now",likes:0,remixes:0,snippet:e.snippet||`Just created this amazing ${e.type||e.agent} output in the Studio!`};Ri([t,...Ti]),n.success("Shared to Activity Wall!"),za("activity"),ms(null)})(us),children:[o.jsx(U,{size:18}),o.jsx("span",{children:"Share to Feed"})]})]})})]})]})}),Yr&&o.jsxs("div",{className:"studio-session-overlay animate-fadeIn",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",zIndex:1e4,display:"flex",flexDirection:"column"},children:[o.jsxs("div",{style:{padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"8px",background:"var(--color-purple)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(h,{size:24,color:"white"})}),o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0,fontSize:"1.2rem"},children:"Studio Session"}),o.jsx("p",{style:{margin:0,fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Multi-Agent Orchestration"})]}),o.jsx("button",{onClick:()=>n("1. Select Beat (Track 1)\n2. Select Vocals (Track 2)\n3. Add a Visual\n4. Press Play to preview\n5. Click Render Master to save",{duration:6e3,icon:"ðŸŽ›ï¸"}),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",marginLeft:"8px"},children:o.jsx(j,{size:14,color:"var(--text-secondary)"})})]}),o.jsx("button",{onClick:()=>{Jr(!1),ss(!1)},style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:o.jsx(I,{size:24})})]}),o.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"20px",gap:"20px",overflowY:"auto"},children:[o.jsxs("div",{style:{flex:2,background:"#000",borderRadius:"16px",overflow:"hidden",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"300px"},children:[Qr.visual?Qr.visual.videoUrl?o.jsx("video",{src:Qr.visual.videoUrl,style:{width:"100%",height:"100%",objectFit:"contain"},muted:!0,loop:!0,ref:e=>{e&&(rs?e.play().catch(e=>{}):e.pause())}}):o.jsx("img",{src:Qr.visual.imageUrl,loading:"lazy",style:{width:"100%",height:"100%",objectFit:"contain"}}):o.jsxs("div",{style:{color:"var(--text-secondary)",display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[o.jsx(B,{size:48}),o.jsx("span",{children:"No Visual Selected"})]}),Qr.audio&&o.jsx("audio",{src:Qr.audio.audioUrl,ref:e=>{e&&(e.volume=Qr.audioVolume||.8,rs?e.play().catch(e=>{}):e.pause())},loop:!0}),Qr.vocal&&o.jsx("audio",{src:Qr.vocal.audioUrl,ref:e=>{e&&(e.volume=Qr.vocalVolume||1,rs?e.play().catch(e=>{}):e.pause())},loop:!0})]}),o.jsxs("div",{style:{flex:1,background:"rgba(255,255,255,0.05)",borderRadius:"16px",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.3)",borderRadius:"12px",padding:"12px 16px"},children:[o.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[o.jsxs("div",{onClick:()=>Ba(e=>({...e,generateRealAssets:!e.generateRealAssets})),style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",background:Qr.generateRealAssets?"linear-gradient(135deg, var(--color-purple), var(--color-pink))":"rgba(255,255,255,0.1)",padding:"6px 12px",borderRadius:"20px",transition:"all 0.3s ease"},children:[o.jsx("div",{style:{width:"32px",height:"18px",borderRadius:"9px",background:Qr.generateRealAssets?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.3)",position:"relative",transition:"all 0.3s ease"},children:o.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:"white",position:"absolute",top:"2px",left:Qr.generateRealAssets?"16px":"2px",transition:"left 0.3s ease"}})}),o.jsx("span",{style:{fontSize:"0.8rem",fontWeight:600},children:Qr.generateRealAssets?"âš¡ Real Assets":"ðŸ“ Text Mode"})]}),o.jsx("div",{style:{width:"1px",height:"20px",background:"rgba(255,255,255,0.1)"}}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"BPM"}),o.jsx("input",{type:"number",value:Qr.bpm||120,onChange:e=>Ba(t=>({...t,bpm:parseInt(e.target.value)||120})),style:{width:"50px",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"var(--color-cyan)",fontSize:"0.85rem",fontWeight:600,textAlign:"center"}})]}),o.jsxs("select",{value:Qr.frameRate||30,onChange:e=>Ba(t=>({...t,frameRate:parseInt(e.target.value)})),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"0.8rem",cursor:"pointer"},children:[o.jsx("option",{value:"24",children:"24fps"}),o.jsx("option",{value:"30",children:"30fps"}),o.jsx("option",{value:"60",children:"60fps"})]}),o.jsxs("select",{value:Qr.aspectRatio||"16:9",onChange:e=>Ba(t=>({...t,aspectRatio:e.target.value})),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"6px",padding:"4px 8px",color:"white",fontSize:"0.8rem",cursor:"pointer"},children:[o.jsx("option",{value:"16:9",children:"16:9"}),o.jsx("option",{value:"9:16",children:"9:16"}),o.jsx("option",{value:"1:1",children:"1:1"})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("div",{style:{display:"flex",gap:"4px"},children:[1,2,3].map(e=>o.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:e<=(Qr.renderCount||0)?"var(--color-purple)":"rgba(255,255,255,0.2)"}},e))}),o.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[3-(Qr.renderCount||0)," renders left"]})]})]}),Qr.generateRealAssets&&o.jsxs("div",{style:{padding:"10px 16px",background:"linear-gradient(135deg, rgba(168, 85, 247, 0.2), rgba(236, 72, 153, 0.2))",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.3)",fontSize:"0.85rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{children:[o.jsx("strong",{children:"âš¡ Real Asset Mode"})," â€” AI will generate actual audio, images & video"]}),o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"Uses Imagen 4.0 â€¢ Veo 3.0 â€¢ MusicGen"})]}),o.jsxs("div",{style:{padding:"12px",background:"rgba(168, 85, 247, 0.1)",borderRadius:"8px",borderLeft:"4px solid var(--color-purple)",fontSize:"0.9rem",display:"flex",gap:"12px",alignItems:"center"},children:[o.jsx(g,{size:18,className:"text-purple"}),o.jsxs("div",{children:[o.jsx("strong",{children:"Agent Insight:"}),"Beat Architect"===Qr.audio?.agent?" This beat has a strong transient profile. Keep vocals dry to cut through.":"Ghostwriter"===Qr.vocal?.agent?" These lyrics are dense. Ensure the beat leaves room for the flow.":" Combine assets from different agents to create a unique sound."]})]}),o.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:Qr.audio?"1px solid var(--color-cyan)":"1px solid rgba(255,255,255,0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:Qr.audio?"12px":0},children:[o.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:o.jsx(P,{size:24,className:"text-cyan"})}),o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[o.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 1"}),o.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-cyan)",fontSize:"0.75rem",cursor:"pointer"},value:Qr.audioOutputType||"waveform",onChange:e=>Ba(t=>({...t,audioOutputType:e.target.value})),children:[o.jsx("option",{value:"waveform",children:"ðŸŽµ Waveform"}),o.jsx("option",{value:"file",children:"ðŸ“ File"}),o.jsx("option",{value:"stems",children:"ðŸŽ›ï¸ Stems"}),o.jsx("option",{value:"midi",children:"ðŸŽ¹ MIDI"})]})]}),o.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:Qr.audio?.id||"",onChange:e=>{const t=(Array.isArray(hr?.assets)?hr.assets:[]).find(t=>t?.id?.toString()===e.target.value);Ba(e=>({...e,audio:t||null}))},children:[o.jsx("option",{value:"",children:"Select Audio Asset..."}),(hr?.assets||[]).filter(e=>e?.audioUrl||"audio"===e?.type||e?.agent?.includes("Beat")||e?.agent?.includes("Sound")).map(e=>o.jsxs("option",{value:e.id,children:["ðŸŽµ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(hr?.assets||[]).filter(e=>!e?.audioUrl&&"audio"!==e?.type).map(e=>o.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]}),o.jsxs("div",{style:{width:"80px",textAlign:"center"},children:[o.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Vol"}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:Qr.audioVolume||.8,onChange:e=>Ba(t=>({...t,audioVolume:parseFloat(e.target.value)})),style:{width:"100%"}}),o.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-cyan)"},children:[Math.round(100*(Qr.audioVolume||.8)),"%"]})]})]}),Qr.audio&&o.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"waveform"!==Qr.audioOutputType&&Qr.audioOutputType?"file"===Qr.audioOutputType?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-cyan)",fontSize:"0.85rem"},children:[o.jsx(D,{size:24}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600},children:Qr.audio.title||"Audio File"}),o.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:[Qr.audio.agent," â€¢ WAV/MP3"]})]}),o.jsx("div",{style:{marginLeft:"auto",fontSize:"0.75rem",opacity:.5},children:"~3:24"})]}):"stems"===Qr.audioOutputType?o.jsx("div",{style:{display:"flex",gap:"8px"},children:["Drums","Bass","Melody","FX"].map((e,t)=>o.jsxs("div",{style:{flex:1,background:`rgba(6, 182, 212, ${.2+.1*t})`,borderRadius:"6px",padding:"6px",textAlign:"center",fontSize:"0.7rem"},children:[o.jsx("div",{style:{color:"var(--color-cyan)"},children:e}),o.jsx("div",{style:{width:"100%",height:"16px",background:"rgba(0,0,0,0.3)",borderRadius:"4px",marginTop:"4px",overflow:"hidden"},children:o.jsx("div",{style:{width:60+10*t+"%",height:"100%",background:"var(--color-cyan)",borderRadius:"4px"}})})]},e))}):o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--color-cyan)",fontSize:"0.8rem"},children:[o.jsx(W,{size:20}),o.jsx("div",{style:{display:"flex",gap:"2px",flex:1},children:[...Array(16)].map((e,t)=>o.jsx("div",{style:{width:"8px",height:8+t%3*6+"px",background:t%2==0?"var(--color-cyan)":"transparent",border:"1px solid var(--color-cyan)",borderRadius:"2px"}},t))}),o.jsx("div",{style:{fontSize:"0.7rem",opacity:.5},children:"128 BPM â€¢ C Major"})]}):o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",height:"40px"},children:[...Array(48)].map((e,t)=>o.jsx("div",{style:{flex:1,background:"linear-gradient(to top, var(--color-cyan), rgba(6, 182, 212, 0.3))",borderRadius:"2px",height:rs?20+20*Math.sin(.5*t+Date.now()/200)+"px":10+15*Math.sin(.3*t)+"px",transition:"height 0.1s ease",animation:rs?`waveform${t%4} 0.5s ease-in-out infinite`:"none"}},t))})})]}),o.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:Qr.vocal?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:Qr.vocal?"12px":0},children:[o.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:o.jsx($,{size:24,className:"text-purple"})}),o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[o.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 2"}),o.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-purple)",fontSize:"0.75rem",cursor:"pointer"},value:Qr.vocalOutputType||"waveform",onChange:e=>Ba(t=>({...t,vocalOutputType:e.target.value})),children:[o.jsx("option",{value:"waveform",children:"ðŸŽµ Waveform"}),o.jsx("option",{value:"file",children:"ðŸ“ File"}),o.jsx("option",{value:"lyrics",children:"ðŸ“ Lyrics"}),o.jsx("option",{value:"adlibs",children:"ðŸŽ¤ Adlibs"})]})]}),o.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:Qr.vocal?.id||"",onChange:e=>{const t=(Array.isArray(hr?.assets)?hr.assets:[]).find(t=>t?.id?.toString()===e.target.value);Ba(e=>({...e,vocal:t||null}))},children:[o.jsx("option",{value:"",children:"Select Vocal/Lyrics Asset..."}),(hr?.assets||[]).filter(e=>e?.agent?.includes("Ghost")||e?.agent?.includes("Vocal")||"lyrics"===e?.type).map(e=>o.jsxs("option",{value:e.id,children:["ðŸŽ¤ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(hr?.assets||[]).filter(e=>!e?.agent?.includes("Ghost")&&!e?.agent?.includes("Vocal")&&"lyrics"!==e?.type).map(e=>o.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]}),o.jsxs("div",{style:{width:"80px",textAlign:"center"},children:[o.jsx("label",{style:{fontSize:"0.7rem",color:"var(--text-secondary)"},children:"Vol"}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:Qr.vocalVolume||1,onChange:e=>Ba(t=>({...t,vocalVolume:parseFloat(e.target.value)})),style:{width:"100%"}}),o.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--color-purple)"},children:[Math.round(100*(Qr.vocalVolume||1)),"%"]})]})]}),Qr.vocal&&o.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"waveform"!==Qr.vocalOutputType&&Qr.vocalOutputType?"file"===Qr.vocalOutputType?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-purple)",fontSize:"0.85rem"},children:[o.jsx(D,{size:24}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600},children:Qr.vocal.title||"Vocal File"}),o.jsxs("div",{style:{fontSize:"0.75rem",opacity:.7},children:[Qr.vocal.agent," â€¢ WAV"]})]}),o.jsx("div",{style:{marginLeft:"auto",fontSize:"0.75rem",opacity:.5},children:"~2:48"})]}):"lyrics"===Qr.vocalOutputType?o.jsxs("div",{style:{color:"rgba(255,255,255,0.9)",fontSize:"0.85rem",lineHeight:1.6,maxHeight:"80px",overflow:"auto"},children:[o.jsx("div",{style:{color:"var(--color-purple)",marginBottom:"4px",fontSize:"0.7rem"},children:"ðŸ“ Lyrics Preview"}),Qr.vocal.content?.substring(0,200)||Qr.vocal.snippet?.substring(0,200)||"No lyrics content...",(Qr.vocal.content?.length>200||Qr.vocal.snippet?.length>200)&&"..."]}):o.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:["Yeah!","Uh","Let's go","Woo!","Ayy"].map(e=>o.jsx("div",{style:{background:"rgba(168, 85, 247, 0.2)",border:"1px solid var(--color-purple)",borderRadius:"16px",padding:"4px 12px",fontSize:"0.75rem",color:"var(--color-purple)"},children:e},e))}):o.jsx("div",{style:{display:"flex",alignItems:"center",gap:"4px",height:"40px"},children:[...Array(48)].map((e,t)=>o.jsx("div",{style:{flex:1,background:"linear-gradient(to top, var(--color-purple), rgba(168, 85, 247, 0.3))",borderRadius:"2px",height:rs?15+25*Math.cos(.4*t+Date.now()/180)+"px":8+12*Math.cos(.3*t)+"px",transition:"height 0.1s ease"}},t))})})]}),o.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",borderRadius:"12px",padding:"16px",border:Qr.visual?"1px solid var(--color-pink)":"1px solid rgba(255,255,255,0.1)"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:Qr.visual?"12px":0},children:[o.jsx("div",{style:{width:"40px",display:"flex",justifyContent:"center"},children:o.jsx(E,{size:24,className:"text-pink"})}),o.jsxs("div",{style:{flex:1},children:[o.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center",marginBottom:"6px"},children:[o.jsx("label",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Track 3"}),o.jsxs("select",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(0,0,0,0.4)",border:"1px solid rgba(255,255,255,0.2)",color:"var(--color-pink)",fontSize:"0.75rem",cursor:"pointer"},value:Qr.visualOutputType||"video",onChange:e=>Ba(t=>({...t,visualOutputType:e.target.value})),children:[o.jsx("option",{value:"video",children:"ðŸŽ¬ Video"}),o.jsx("option",{value:"image",children:"ðŸ–¼ï¸ Image"}),o.jsx("option",{value:"animation",children:"âœ¨ Animation"}),o.jsx("option",{value:"thumbnail",children:"ðŸ“· Thumbnail"})]})]}),o.jsxs("select",{style:{width:"100%",padding:"8px",borderRadius:"8px",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",color:"white"},value:Qr.visual?.id||"",onChange:e=>{const t=(Array.isArray(hr?.assets)?hr.assets:[]).find(t=>t?.id?.toString()===e.target.value);Ba(e=>({...e,visual:t||null}))},children:[o.jsx("option",{value:"",children:"Select Visual Asset..."}),(hr?.assets||[]).filter(e=>e?.imageUrl||e?.videoUrl||"image"===e?.type||"video"===e?.type).map(e=>o.jsxs("option",{value:e.id,children:[e.videoUrl?"ðŸŽ¬":"ðŸ–¼ï¸"," ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id)),(hr?.assets||[]).filter(e=>!e?.imageUrl&&!e?.videoUrl&&"image"!==e?.type&&"video"!==e?.type).map(e=>o.jsxs("option",{value:e.id,children:["ðŸ“„ ",e.title||"Untitled"," (",e.agent||e.type,")"]},e.id))]})]})]}),Qr.visual&&o.jsx("div",{style:{marginTop:"8px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"8px",overflow:"hidden"},children:"video"!==Qr.visualOutputType&&Qr.visualOutputType?"image"===Qr.visualOutputType?Qr.visual.imageUrl?o.jsx("img",{src:Qr.visual.imageUrl,alt:"Visual",loading:"lazy",style:{width:"100%",maxHeight:"120px",objectFit:"cover",borderRadius:"6px"}}):o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-pink)",fontSize:"0.85rem"},children:[o.jsx(B,{size:24}),o.jsx("div",{children:"Image will be generated"})]}):"animation"===Qr.visualOutputType?o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--color-pink)"},children:[o.jsx("div",{style:{display:"flex",gap:"4px"},children:[...Array(6)].map((e,t)=>o.jsx("div",{style:{width:"32px",height:"32px",background:"linear-gradient(135deg, var(--color-pink), var(--color-purple))",borderRadius:"4px",opacity:.3+.14*t,transform:`rotate(${15*t}deg)`}},t))}),o.jsxs("div",{style:{fontSize:"0.8rem",marginLeft:"12px"},children:[o.jsx("div",{style:{fontWeight:600},children:"Animation Sequence"}),o.jsx("div",{style:{fontSize:"0.7rem",opacity:.7},children:"6 keyframes â€¢ 30fps"})]})]}):o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx("div",{style:{width:"80px",height:"45px",background:"linear-gradient(135deg, var(--color-pink), var(--color-purple))",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(_,{size:20,color:"white"})}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-pink)"},children:[o.jsx("div",{style:{fontWeight:600},children:"Cover Thumbnail"}),o.jsx("div",{style:{fontSize:"0.7rem",opacity:.7},children:"1280x720 â€¢ YouTube Ready"})]})]}):Qr.visual.videoUrl?o.jsx("video",{src:Qr.visual.videoUrl,style:{width:"100%",maxHeight:"120px",objectFit:"cover",borderRadius:"6px"},muted:!0}):o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",color:"var(--color-pink)",fontSize:"0.85rem"},children:[o.jsx(E,{size:24}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600},children:Qr.visual.title||"Video Asset"}),o.jsx("div",{style:{fontSize:"0.75rem",opacity:.7},children:"Video will be generated on render"})]})]})})]})]})]}),o.jsxs("div",{style:{padding:"20px",background:"rgba(0,0,0,0.5)",borderTop:"1px solid rgba(255,255,255,0.1)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",gap:"8px",marginRight:"16px"},children:[o.jsx("button",{onClick:()=>{if(es>0){const e=es-1;ts(e),Kr(Xr[e])}},disabled:es<=0,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:es>0?"pointer":"not-allowed",opacity:es>0?1:.3},title:"Undo",children:o.jsx(L,{size:20,color:"white"})}),o.jsx("button",{onClick:()=>{if(es<Xr.length-1){const e=es+1;ts(e),Kr(Xr[e])}},disabled:es>=Xr.length-1,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:es<Xr.length-1?"pointer":"not-allowed",opacity:es<Xr.length-1?1:.3},title:"Redo",children:o.jsx(O,{size:20,color:"white"})})]}),o.jsx("button",{className:"btn-circle","aria-label":rs?"Pause Session":"Play Session",style:{width:"56px",height:"56px",borderRadius:"50%",background:"var(--color-purple)",border:"none",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>ss(!rs),children:rs?o.jsx(M,{size:24,fill:"white"}):o.jsx(F,{size:24,fill:"white"})})]}),o.jsxs("div",{style:{display:"flex",gap:"12px"},children:[o.jsxs("button",{className:"btn-pill secondary",onClick:()=>{const e={...hr,sessionState:Qr,lastModified:Date.now()};yr(e),wa(t=>Array.isArray(t)?t.map(t=>t.id===e.id?e:t):[e]),Pt&&Ut&&Ra(Ut.uid,e),no("Project session saved."),n.success("Session saved!")},children:[o.jsx(H,{size:18})," Save Project"]}),o.jsxs("button",{className:"btn-pill primary",disabled:(Qr.renderCount||0)>=3||Ns,style:{opacity:(Qr.renderCount||0)>=3||Ns?.5:1},onClick:async()=>{if(Ns)return;if((Qr.renderCount||0)>=3)return void n.error("Maximum 3 renders reached. Pro users can reset.");Cs(!0);const e=[Qr.audio,Qr.vocal,Qr.visual].filter(Boolean);if(0===e.length)return void n.error("Select at least one asset to render");const r=(Qr.renderCount||0)+1;no(`Render pass ${r} of 3. Orchestrating your agents.`),n.loading(`AMO Render ${r}/3...`,{id:"amo-render"});try{const i={"Content-Type":"application/json"};if(d?.currentUser){const e=await d.currentUser.getIdToken();i.Authorization=`Bearer ${e}`}const a=await fetch(`${t}/api/orchestrate`,{method:"POST",headers:i,body:JSON.stringify({agentOutputs:e.map(e=>({id:e.id,agent:e.agent||e.type,type:e.type,content:e.snippet||e.content||e.text,audioUrl:e.audioUrl,imageUrl:e.imageUrl,videoUrl:e.videoUrl})),projectName:hr.name,projectDescription:hr.description,syncSettings:{bpm:Qr.bpm||120,timeSignature:Qr.timeSignature||"4/4",key:Qr.key||"C Major",frameRate:Qr.frameRate||30,sampleRate:Qr.sampleRate||48e3,bitDepth:Qr.bitDepth||24,aspectRatio:Qr.aspectRatio||"16:9"},renderPass:r,generateRealAssets:Qr.generateRealAssets||!1})}),o=await a.json();if(!a.ok)throw new Error(o.error||"Orchestration failed");let l=Qr.audio?.audioUrl,c=Qr.visual?.imageUrl,p=Qr.visual?.videoUrl;if(Qr.generateRealAssets){if(n.loading("Generating real assets...",{id:"amo-assets"}),Qr.visual&&!Qr.visual.imageUrl)try{const e=Qr.visual.snippet||Qr.visual.content||`Album artwork for ${hr.name}`,r=await fetch(`${t}/api/generate-image`,{method:"POST",headers:i,body:JSON.stringify({prompt:e.substring(0,500),aspectRatio:Qr.aspectRatio||"16:9"})}),s=await r.json();s.imageUrl&&(c=s.imageUrl)}catch(s){}if(Qr.audio&&!Qr.audio.audioUrl)try{const e=Qr.audio.snippet||Qr.audio.content||`${Qr.bpm||120} BPM beat`,r=await fetch(`${t}/api/generate-audio`,{method:"POST",headers:i,body:JSON.stringify({prompt:e.substring(0,200)})}),s=await r.json();s.audioUrl&&(l=s.audioUrl)}catch(s){}n.dismiss("amo-assets")}Ba(e=>({...e,renderCount:r,lastRenderTime:(new Date).toISOString(),renderHistory:[...e.renderHistory||[],{pass:r,timestamp:Date.now()}]}));const x=o.masterAsset||{id:`master-${Date.now()}`,title:`Studio Master ${r}/3 - ${hr.name}`,type:"Master",agent:"AMO Orchestrator",date:"Just now",color:"agent-purple",snippet:o.output?.slice(0,200)||"Orchestrated Master Composition.",content:o.output,audioUrl:l,stems:{audio:l,vocal:Qr.vocal?.audioUrl},imageUrl:c,videoUrl:p,metadata:{audioVolume:Qr.audioVolume,vocalVolume:Qr.vocalVolume,agentsProcessed:e.length,renderedAt:(new Date).toISOString(),renderPass:r,bpm:Qr.bpm||120,frameRate:Qr.frameRate||30,aspectRatio:Qr.aspectRatio||"16:9",realAssets:Qr.generateRealAssets||!1}},g={...hr,assets:[x,...hr.assets]};if(yr(g),wa(e=>Array.isArray(e)?e.map(e=>e.id===g.id?g:e):[g]),Pt){const e=localStorage.getItem("studio_user_id");e&&fetch(`${t}/api/projects`,{method:"POST",headers:i,body:JSON.stringify({userId:e,project:g})}).catch(e=>{})}n.dismiss("amo-render"),Jr(!1),ss(!1),no("Master render complete. Your orchestrated production is ready."),n.success("Master rendered and saved to your Hub!")}catch(i){n.dismiss("amo-render"),n.error(i.message||"Orchestration failed. Check your internet connection and try again."),no("Orchestration failed. Please try again.")}finally{Cs(!1)}},children:[o.jsx(V,{size:18})," Render Master"]})]})]})]}),Us&&o.jsx("div",{className:"modal-overlay",onClick:()=>Bs(!1),onTouchEnd:()=>Bs(!1),children:o.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),children:[o.jsx("button",{className:"modal-close",onClick:()=>Bs(!1),onTouchEnd:e=>{e.preventDefault(),Bs(!1)},children:o.jsx(I,{size:20})}),o.jsxs("div",{className:"modal-header",children:[o.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem"},children:o.jsx(S,{size:24,color:"white"})}),o.jsx("h2",{children:"Save to Cloud"}),o.jsx("p",{children:"Sync your projects to the Studio Agents cloud or connect external storage."})]}),o.jsxs("div",{className:"modal-body",children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("button",{className:"storage-btn",style:{width:"100%",padding:"16px 20px",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",border:"none",justifyContent:"center",gap:"12px",fontSize:"1rem",fontWeight:"600"},onClick:async()=>{if(!Ut?.uid)return n.error("Please sign in to save to cloud"),void Bs(!1);const e=n.loading("Syncing projects to cloud...");try{let r=0;const s=ja.filter(e=>e&&e.id);for(const e of s)try{await Ra(Ut?.uid,e)&&r++}catch(t){}r>0?(n.success(`âœ… Synced ${r} project${r>1?"s":""} to cloud!`,{id:e}),Ta(new Date)):n.error("No projects to sync",{id:e})}catch(t){n.error("Cloud sync failed - check your connection",{id:e})}Bs(!1)},children:[o.jsx(G,{size:20}),o.jsx("span",{children:"Save to Studio Agents Cloud"})]}),o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"8px"},children:Ut?`Signed in as ${Ut.email||Ut.displayName}`:"Sign in to enable cloud sync"})]}),o.jsx("div",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.8rem",margin:"16px 0"},children:"â€” or connect external storage â€”"}),o.jsxs("div",{className:"external-storage-grid",children:[o.jsxs("button",{className:"storage-btn",onClick:()=>{ea(e=>({...e,googleDrive:!0})),Bs(!1)},children:[o.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/12/Google_Drive_icon_%282020%29.svg",alt:"Google Drive",width:"24",loading:"lazy"}),o.jsx("span",{children:"Google Drive"})]}),o.jsxs("button",{className:"storage-btn",onClick:()=>{n("OneDrive coming soon!",{icon:"ðŸš§"}),Bs(!1)},children:[o.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/3/3c/Microsoft_Office_OneDrive_%282019%E2%80%93present%29.svg",alt:"OneDrive",width:"24",loading:"lazy"}),o.jsx("span",{children:"OneDrive"})]}),o.jsxs("button",{className:"storage-btn",onClick:()=>{n("Dropbox coming soon!",{icon:"ðŸš§"}),Bs(!1)},children:[o.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Dropbox_Icon.svg",alt:"Dropbox",width:"24",loading:"lazy"}),o.jsx("span",{children:"Dropbox"})]}),o.jsxs("button",{className:"storage-btn",onClick:()=>{n("iCloud coming soon!",{icon:"ðŸš§"}),Bs(!1)},children:[o.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/1/1c/ICloud_logo.svg",alt:"iCloud",width:"24",loading:"lazy"}),o.jsx("span",{children:"iCloud"})]})]})]}),o.jsx("div",{className:"modal-footer",children:o.jsx("p",{children:"Your files will be synced automatically after generation."})})]})}),yn&&o.jsx("div",{className:"modal-overlay",onClick:()=>{bn(null),fn("")},children:o.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),style:{maxWidth:"440px"},children:[o.jsx("button",{className:"modal-close",onClick:()=>{bn(null),fn("")},children:o.jsx(I,{size:20})}),o.jsxs("div",{className:"modal-header",children:[o.jsx("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:o.jsx(q,{size:28,color:"white"})}),o.jsx("h2",{style:{textAlign:"center",marginBottom:"8px"},children:"Save to Hub"}),o.jsxs("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem"},children:["Add ",o.jsxs("strong",{children:['"',yn.title||yn.snippet?.substring(0,30)+"...",'"']})," to a project"]})]}),o.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsxs("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"8px",display:"block"},children:[o.jsx(q,{size:14,style:{verticalAlign:"middle",marginRight:"6px"}}),"Create new project"]}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("input",{type:"text",value:vn,onChange:e=>fn(e.target.value),placeholder:"Project name...",style:{flex:1,padding:"12px 14px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white",fontSize:"0.95rem"}}),o.jsx("button",{onClick:()=>{vn.trim()&&(Dn(vn,yn),bn(null),fn(""),n.success("Project created with asset!"))},disabled:!vn.trim(),className:"cta-button-premium",style:{padding:"12px 20px",opacity:vn.trim()?1:.5},children:"Create"})]})]}),ja.length>0&&o.jsxs("div",{children:[o.jsx("label",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"10px",display:"block"},children:"Or add to existing project"}),o.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},children:ja.slice(0,10).map(e=>o.jsxs("button",{onClick:()=>{Pn(e.id,yn),bn(null),n.success(`Added to "${e.name}"!`)},style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 14px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",borderRadius:"10px",color:"white",cursor:"pointer",textAlign:"left",transition:"all 0.2s ease"},onMouseOver:e=>e.currentTarget.style.borderColor="var(--color-purple)",onMouseOut:e=>e.currentTarget.style.borderColor="var(--border-color)",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(y,{size:18,style:{color:"var(--color-purple)"}}),o.jsx("span",{style:{fontWeight:"500"},children:e.name})]}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[e.assets?.length||0," assets"]})]},e.id))})]}),0===ja.length&&o.jsx("p",{style:{textAlign:"center",color:"var(--text-secondary)",fontSize:"0.9rem",marginTop:"8px"},children:"Create your first project above to organize your work!"})]}),o.jsx("div",{className:"modal-footer",style:{padding:"16px 20px",borderTop:"1px solid var(--border-color)"},children:o.jsx("button",{onClick:()=>{bn(null),fn("")},className:"cta-button-secondary",style:{width:"100%"},children:"Skip for Now"})})]})}),hs&&"object"==typeof hs&&o.jsx(vt,{name:"Preview Modal",children:o.jsx("div",{className:"modal-overlay",onClick:()=>{Ss(null),mn.current=!1,ai(!1),oi(""),ys(null)},children:o.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>{e.stopPropagation()},style:{maxWidth:"800px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column",position:"relative"},children:[o.jsxs("div",{className:"modal-header",style:{flexShrink:0,paddingBottom:"0.5rem",position:"relative"},children:[o.jsx("button",{className:"modal-close",onClick:e=>{e.stopPropagation(),Ss(null),mn.current=!1,ai(!1),oi(""),ys(null)},style:{position:"absolute",top:"-0.5rem",right:"-0.5rem",zIndex:9999,background:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(5px)",border:"1px solid rgba(255, 255, 255, 0.2)"},children:o.jsx(I,{size:20})}),o.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem",background:hs.isExistingAsset?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"linear-gradient(135deg, #10b981, #059669)"},children:o.jsx(Y,{size:24,color:"white"})}),o.jsx("h2",{children:hs.isExistingAsset?"View Asset":"Preview Your Creation"}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:hs.isExistingAsset?"Your saved project asset.":"Review your AI-generated content before saving to your Hub."})]}),o.jsx("div",{className:"modal-body",style:{flex:1,overflow:"auto",padding:"1rem"},children:ii&&!hs.isExistingAsset?o.jsxs("div",{style:{padding:"1rem"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"1px solid var(--border-color)"},children:[o.jsx("button",{onClick:()=>ai(!1),style:{padding:"8px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",cursor:"pointer",color:"var(--text-secondary)"},children:o.jsx(J,{size:18})}),o.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Save to..."})]}),o.jsxs("button",{onClick:()=>mo("hub",null),disabled:ks,style:{width:"100%",padding:"16px",borderRadius:"12px",border:"2px solid var(--border-color)",background:"rgba(16, 185, 129, 0.1)",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px",marginBottom:"1rem",textAlign:"left",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.borderColor="var(--color-green)",onMouseOut:e=>e.currentTarget.style.borderColor="var(--border-color)",children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #10b981, #059669)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(S,{size:20,color:"white"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:"Save to Hub Only"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Quick save without adding to a project"})]})]}),o.jsxs("div",{style:{padding:"16px",borderRadius:"12px",border:"2px solid var(--border-color)",marginBottom:"1rem"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"12px"},children:[o.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(Q,{size:20,color:"white"})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"600",color:"var(--text-primary)"},children:"Create New Project"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Start a new project with this asset"})]})]}),o.jsxs("div",{style:{display:"flex",gap:"8px"},children:[o.jsx("input",{type:"text",value:ni,onChange:e=>oi(e.target.value),placeholder:"Enter project name...",style:{flex:1,padding:"10px 12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"0.9rem"},onKeyPress:e=>{"Enter"===e.key&&ni.trim()&&(mo("hub",`new:${ni.trim()}`),oi(""))}}),o.jsx("button",{onClick:()=>{ni.trim()&&(mo("hub",`new:${ni.trim()}`),oi(""))},disabled:!ni.trim()||ks,className:"cta-button-premium",style:{padding:"10px 16px",opacity:!ni.trim()||ks?.5:1},children:"Create"})]})]}),Array.isArray(ja)&&ja.filter(e=>e&&e.name&&e.id).length>0&&o.jsxs("div",{children:[o.jsx("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"12px",fontWeight:"600"},children:"Or add to existing project:"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",maxHeight:"200px",overflowY:"auto"},children:ja.filter(e=>e&&e.name&&e.id).slice(0,10).map(e=>o.jsxs("button",{onClick:()=>mo("hub",e),disabled:ks,style:{width:"100%",padding:"12px 16px",borderRadius:"10px",border:"1px solid var(--border-color)",background:"var(--bg-secondary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.background="rgba(139, 92, 246, 0.15)",onMouseOut:e=>e.currentTarget.style.background="var(--bg-secondary)",children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx(y,{size:18,style:{color:"var(--color-purple)"}}),o.jsx("span",{style:{fontWeight:"500",color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"180px",display:"inline-block"},children:e.name})]}),o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:[e.assets?.length||0," assets"]})]},e.id))})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",padding:"0.75rem",background:"rgba(0,0,0,0.2)",borderRadius:"12px",border:"1px solid var(--border-color)"},children:[o.jsx("span",{style:{background:"image"===hs.type?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"audio"===hs.type||"vocal"===hs.type?"linear-gradient(135deg, #f59e0b, #d97706)":"video"===hs.type?"linear-gradient(135deg, #ef4444, #dc2626)":"linear-gradient(135deg, #3b82f6, #2563eb)",padding:"0.25rem 0.75rem",borderRadius:"9999px",fontSize:"0.75rem",fontWeight:"600",color:"white",textTransform:"uppercase"},children:hs.type||"Text"}),o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(139, 92, 246, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-purple)"},children:[o.jsx(g,{size:12}),hs.agent||"AI Generated"]}),(hs.model||jn)&&o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(6, 182, 212, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-cyan)"},children:[o.jsx(K,{size:12}),hs.model||jn]}),o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(255, 255, 255, 0.05)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--text-secondary)"},children:[o.jsx(X,{size:12}),hs.createdAt?new Date(hs.createdAt).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Just now"]}),hs.snippet&&"string"==typeof hs.snippet&&o.jsxs(o.Fragment,{children:[o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(16, 185, 129, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-emerald)"},children:[o.jsx(Z,{size:12}),(hs.snippet||"").split(/\s+/).filter(e=>e).length," words"]}),o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(249, 115, 22, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-orange)"},children:[(hs.snippet||"").length," chars"]}),o.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"0.25rem 0.75rem",background:"rgba(236, 72, 153, 0.15)",borderRadius:"9999px",fontSize:"0.75rem",color:"var(--color-pink)"},children:[(hs.snippet||"").split("\n").filter(e=>e.trim()).length," lines"]})]})]}),hs.title&&o.jsxs("div",{style:{marginBottom:"1rem",padding:"0.5rem 0.75rem",background:"rgba(255,255,255,0.03)",borderRadius:"8px",borderLeft:"3px solid var(--color-purple)"},children:[o.jsx("span",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Title"}),o.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",color:"var(--text-primary)"},children:hs.title})]}),o.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border-color)",maxHeight:"65vh",overflow:"auto",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",minHeight:"260px"},children:[li&&!ws&&!ii&&o.jsxs("div",{style:{position:"absolute",inset:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.4)",zIndex:10,borderRadius:"12px"},children:[o.jsx(w,{size:32,className:"animate-spin",color:"var(--color-purple)"}),o.jsx("span",{style:{marginTop:"12px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Loading media..."})]}),"image"===hs.type&&hs.imageUrl?o.jsxs("div",{style:{position:"relative",width:"100%",display:"flex",justifyContent:"center"},children:[o.jsx("img",{src:nt(hs.imageUrl),alt:"Generated",onLoad:()=>di(!1),onClick:e=>{"90vh"===e.target.style.maxHeight?(e.target.style.maxHeight="60vh",e.target.style.cursor="zoom-in"):(e.target.style.maxHeight="90vh",e.target.style.cursor="zoom-out")},style:{maxWidth:"100%",maxHeight:"60vh",width:"auto",height:"auto",borderRadius:"8px",objectFit:"contain",cursor:"zoom-in",transition:"max-height 0.3s ease",opacity:li?0:1},title:"Click to expand",onError:e=>{e.target.style.display="none",di(!1),Ss({type:"image",url:hs.imageUrl})}}),!li&&o.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",background:"rgba(0,0,0,0.6)",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",pointerEvents:"none"},children:"Click to zoom"})]}):"audio"!==hs.type&&"vocal"!==hs.type||!hs.audioUrl?"video"===hs.type&&hs.videoUrl?o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[hs.audioUrl?o.jsxs(o.Fragment,{children:[o.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--color-cyan)",marginBottom:"4px",fontWeight:"bold"},children:["ðŸŽµ Music Video Mode (Synced to: ",hs.audioTitle||"Audio",")"]}),o.jsx("video",{controls:!0,muted:!!hs.audioUrl,src:lt(hs.videoUrl),style:{width:"100%",borderRadius:"8px",background:"#000",opacity:li?0:1},onLoadedData:()=>di(!1),onCanPlay:()=>di(!1),onPlay:e=>{pi(!0);const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.currentTime=e.target.currentTime,t.volume=e.target.volume,t.play().catch(e=>{}))},onPause:e=>{pi(!1);const t=e.target.parentElement.querySelector(".sync-audio");t&&t.pause()},onEnded:()=>pi(!1),onVolumeChange:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.volume=e.target.volume)},onTimeUpdate:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&Math.abs(t.currentTime-e.target.currentTime)>.3&&(t.currentTime=e.target.currentTime)},onSeeking:e=>{const t=e.target.parentElement.querySelector(".sync-audio");t&&(t.currentTime=e.target.currentTime)},onError:e=>{Ss({type:"video",url:hs.videoUrl}),di(!1)}}),o.jsx("audio",{className:"sync-audio",src:ot(hs.audioUrl),style:{display:"none"}})]}):o.jsx("video",{controls:!0,src:lt(hs.videoUrl),style:{width:"100%",borderRadius:"8px",background:"#000",opacity:li?0:1},onLoadedData:()=>di(!1),onCanPlay:()=>di(!1),onPlay:()=>pi(!0),onPause:()=>pi(!1),onEnded:()=>pi(!1),onError:e=>{Ss({type:"video",url:hs.videoUrl}),di(!1)}}),hs.videoUrl?.startsWith("http")&&o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)"},children:"ðŸ”— External video URL (may expire)"})]}):o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[hs.audioUrl&&o.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(236, 72, 153, 0.1))",borderRadius:"12px",padding:"24px",border:"1px solid rgba(139, 92, 246, 0.2)",width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"16px",boxShadow:ci?"0 0 20px rgba(139, 92, 246, 0.2)":"none",transition:"all 0.3s ease"},children:[o.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:ci?"linear-gradient(135deg, #8b5cf6, #ec4899)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",animation:ci?"pulse 2s infinite":"none"},children:o.jsx($,{size:32,color:ci?"white":"var(--text-secondary)"})}),o.jsx("div",{style:{fontSize:"0.85rem",color:ci?"var(--color-pink)":"var(--text-secondary)",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:ci?"Playing AI Vocal...":"AI Vocal Ready"}),o.jsx("audio",{controls:!0,src:hs.audioUrl,style:{width:"100%",height:"40px"},onPlay:()=>pi(!0),onPause:()=>pi(!1),onEnded:()=>pi(!1)})]}),bs&&o.jsxs("div",{style:{display:"flex",gap:"4px",background:"rgba(0,0,0,0.3)",borderRadius:"8px",padding:"4px"},children:[o.jsxs("button",{onClick:()=>js("lyrics"),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",background:"lyrics"===fs?"linear-gradient(135deg, #8b5cf6, #6d28d9)":"transparent",color:"lyrics"===fs?"white":"var(--text-secondary)",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[o.jsx(Z,{size:14})," Lyrics"]}),o.jsxs("button",{onClick:()=>js("prompt"),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"none",background:"prompt"===fs?"linear-gradient(135deg, #3b82f6, #2563eb)":"transparent",color:"prompt"===fs?"white":"var(--text-secondary)",fontSize:"0.8rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},children:[o.jsx(ee,{size:14})," Prompt"]})]}),o.jsx("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.8",color:"var(--text-primary)",background:"lyrics"===fs?"rgba(139, 92, 246, 0.1)":"rgba(59, 130, 246, 0.1)",border:"lyrics"===fs?"1px solid rgba(139, 92, 246, 0.2)":"1px solid rgba(59, 130, 246, 0.2)",padding:"1.25rem",borderRadius:"12px",maxHeight:"50vh",minHeight:"200px",overflow:"auto",transition:"all 0.2s",fontSize:"1rem",fontFamily:"inherit"},children:"lyrics"===fs?hs.snippet||hs.title||"No content generated":bs||"No prompt recorded"})]}):o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1rem",width:"100%"},children:"audio"===ws?.type?o.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",border:"1px solid rgba(239, 68, 68, 0.3)"},children:[o.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"ðŸŽµ"}),o.jsx("h4",{style:{color:"var(--text-primary)",marginBottom:"0.5rem"},children:"Audio Unavailable"}),o.jsx("p",{style:{fontSize:"0.875rem",color:"var(--text-secondary)",marginBottom:"1rem"},children:"This audio file has expired or is no longer available. Replicate URLs are temporary."}),o.jsx("button",{onClick:()=>{Ss(null),ys(null)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.3)",background:"transparent",color:"var(--text-primary)",cursor:"pointer"},children:"Close"})]}):o.jsxs("div",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"20px"},children:[o.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:ci?"linear-gradient(135deg, #f59e0b, #d97706)":"rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"center",animation:ci?"pulse 2s infinite":"none",boxShadow:ci?"0 0 30px rgba(245, 158, 11, 0.3)":"none",transition:"all 0.3s ease"},children:o.jsx(T,{size:40,color:ci?"white":"var(--text-secondary)"})}),o.jsx("audio",{controls:!0,src:ot(hs.audioUrl),style:{width:"100%",opacity:li?0:1},onLoadedData:()=>di(!1),onCanPlay:()=>di(!1),onPlay:()=>pi(!0),onPause:()=>pi(!1),onEnded:()=>pi(!1),onError:e=>{Ss({type:"audio",url:hs.audioUrl}),di(!1)}}),hs.audioUrl?.startsWith("http")&&o.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",textAlign:"center"},children:"ðŸ”— External audio URL (may expire)"})]})})]})]})}),o.jsxs("div",{style:{display:"flex",gap:"0.75rem",padding:"1rem 1.5rem",borderTop:"1px solid var(--border-color)",flexShrink:0,flexWrap:"wrap"},children:[!hs.audioUrl&&!hs.imageUrl&&!hs.videoUrl&&(hs.snippet||hs.content)&&o.jsxs("button",{disabled:br,onClick:()=>{const e="lyrics"===fs?hs.snippet||hs.content||"":bs||"";["rapper","rapper-female","singer","singer-female","cloned","narrator","spoken"].includes(Qs.style)?oo(e,ur?.name||"AI"):window.speechSynthesis.speaking?window.speechSynthesis.cancel():no(e)},title:["rapper","rapper-female","singer","singer-female","cloned","narrator","spoken"].includes(Qs.style)?`Read aloud using AI ${Qs.style} voice (takes 30-60 seconds)`:"Read text aloud using browser TTS",style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(34, 211, 238, 0.3)",background:br?"rgba(34, 211, 238, 0.3)":"rgba(34, 211, 238, 0.1)",color:"var(--color-cyan)",cursor:br?"not-allowed":"pointer",opacity:br?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx(te,{size:16,className:br?"animate-pulse":""}),br?"Creating AI Voice...":"Read Aloud"]}),!hs.audioUrl&&!hs.imageUrl&&!hs.videoUrl&&(hs.snippet||hs.content)&&o.jsxs("button",{onClick:()=>{const e=hs.snippet||hs.content||"";oo(e,ur?.name||"Ghostwriter")},disabled:br,title:"Create AI vocal using rapper voices (Uberduck/Replicate)",style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid rgba(236, 72, 153, 0.3)",background:br?"rgba(236, 72, 153, 0.3)":"rgba(236, 72, 153, 0.1)",color:"var(--color-pink)",cursor:br?"not-allowed":"pointer",opacity:br?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx($,{size:16,className:br?"animate-pulse":""}),br?"Creating...":"Create Vocal"]}),hs.isExistingAsset?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{const e=hs.snippet||hs.content||"";e?(navigator.clipboard.writeText(e),n.success("Copied to clipboard!")):(hs.imageUrl||hs.audioUrl||hs.videoUrl)&&(navigator.clipboard.writeText(hs.imageUrl||hs.audioUrl||hs.videoUrl),n.success("URL copied to clipboard!"))},style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx(re,{size:16})," Copy"]}),o.jsxs("button",{onClick:()=>ys(null),style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, #8b5cf6, #6d28d9)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx(I,{size:16})," Close"]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:()=>{ys(null),vs(""),ai(!1),oi("")},disabled:ks,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-secondary)",cursor:ks?"not-allowed":"pointer",opacity:ks?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx(se,{size:16})," Discard"]}),o.jsxs("button",{onClick:()=>{if(!bs)return void n.error("No prompt to regenerate");ys(null);const e=ba.current||document.querySelector(".studio-textarea");e&&(e.value=bs),uo()},disabled:Ns||ks,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"transparent",color:"var(--text-primary)",cursor:Ns||ks?"not-allowed":"pointer",opacity:Ns||ks?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[o.jsx(ie,{size:16,className:Ns?"animate-spin":""}),Ns?"Generating...":"Regenerate"]}),o.jsx("button",{onClick:()=>mo("project_canvas"),disabled:ks,style:{flex:1,padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:ks?"rgba(139, 92, 246, 0.2)":"rgba(139, 92, 246, 0.1)",color:"var(--color-purple)",cursor:ks?"not-allowed":"pointer",opacity:ks?.7:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:ks?o.jsxs(o.Fragment,{children:[o.jsx(ie,{size:16,className:"animate-spin"})," Syncing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ee,{size:16})," Edit"]})}),o.jsx("button",{onClick:()=>ai(!0),disabled:ks,className:"cta-button-premium",style:{flex:1.5,padding:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:ks?.8:1,cursor:ks?"wait":"pointer"},children:ks?o.jsxs(o.Fragment,{children:[o.jsx(ie,{size:16,className:"animate-spin"}),o.jsx("span",{children:"Syncing to Cloud..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(H,{size:16})," Save to Hub"]})})]})]})]})})}),o.jsx(a.Suspense,{fallback:o.jsx(ft,{}),children:o.jsx(ct,{isOpen:Gr,onClose:()=>qr(!1),authToken:Mt,userPlan:ir,existingProject:hr,onSaveToProject:e=>{Date.now();const t=ja.findIndex(t=>t.id===e.id);if(t>=0){const r=ja[t],s=new Set((r.assets||[]).map(e=>e.id)),i=(e.assets||[]).filter(e=>!s.has(e.id)),a={...r,...e,assets:[...r.assets||[],...i],updatedAt:(new Date).toISOString()},n=[...ja];n[t]=a,wa(n),yr(a),Pt&&Ut&&Ra(Ut?.uid,a)}else{const t={...e,createdAt:e.createdAt||(new Date).toISOString(),updatedAt:(new Date).toISOString()};wa(e=>[t,...e]),yr(t),Pt&&Ut&&Ra(Ut?.uid,t)}},onCreateProject:e=>{Date.now();const t=ja.findIndex(t=>t.id===e.id);let r;if(t>=0){const s=ja[t],i=new Set((s.assets||[]).map(e=>e.id)),a=(e.assets||[]).filter(e=>!i.has(e.id));r={...s,...e,assets:[...s.assets||[],...a],updatedAt:(new Date).toISOString()};const n=[...ja];n[t]=r,wa(n)}else r={...e,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},wa(e=>[r,...e]);yr(r),Pt&&Ut&&Ra(Ut?.uid,r).then(e=>{}).catch(e=>{}),Va(!0),n.success(`Project "${r.name}" saved with ${r.assets?.length||0} assets!`)},onUpdateCreations:(e,t)=>{nn(r=>({...r,[e]:t}))}})}),Gt&&o.jsx("div",{className:"modal-overlay",onClick:()=>{qt(!1),Ds(null),Jt("login"),Kt(""),Zt("")},onTouchEnd:()=>{qt(!1),Ds(null)},children:o.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{maxWidth:"400px"},children:[o.jsx("button",{className:"modal-close",onClick:()=>{qt(!1),Ds(null),Jt("login")},onTouchEnd:e=>{e.preventDefault(),qt(!1),Ds(null)},children:o.jsx(I,{size:20})}),o.jsxs("div",{className:"modal-header",children:[o.jsx("div",{className:"logo-box",style:{width:"48px",height:"48px",margin:"0 auto 1rem"},children:o.jsx(g,{size:24,color:"white"})}),o.jsx("h2",{children:"reset"===Yt?"Reset Password":"signup"===Yt?"Create Account":Ps?"Complete Your Subscription":"Welcome Back"}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem"},children:"reset"===Yt?"Enter your email to receive a reset link.":Ps?`Sign in to activate ${Ps.name} (${Ps.price}${Ps.period||""}).`:"signup"===Yt?"Create an account to save your work.":"Sign in to access your studio."})]}),o.jsxs("div",{className:"modal-body",style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:["reset"!==Yt&&o.jsxs("button",{className:"cta-button-premium",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},onClick:Ln,disabled:er,children:[o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"currentColor",children:[o.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),o.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),o.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),o.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),er?"Signing in...":"Continue with Google"]}),"reset"!==Yt&&o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",margin:"0.5rem 0"},children:[o.jsx("div",{style:{flex:1,height:"1px",background:"var(--border-color)"}}),o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.75rem"},children:"or"}),o.jsx("div",{style:{flex:1,height:"1px",background:"var(--border-color)"}})]}),o.jsxs("form",{onSubmit:On,style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[o.jsx("input",{type:"email",placeholder:"Email address",value:Qt,onChange:e=>Kt(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text-primary)",fontSize:"0.875rem"},required:!0}),"reset"!==Yt&&o.jsx("input",{type:"password",placeholder:"Password",value:Xt,onChange:e=>Zt(e.target.value),style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-card)",color:"var(--text-primary)",fontSize:"0.875rem"},required:!0,minLength:6}),"reset"===Yt?o.jsx("button",{type:"button",className:"cta-button-secondary",style:{width:"100%"},onClick:Mn,disabled:er,children:er?"Sending...":"Send Reset Link"}):o.jsxs("button",{type:"submit",className:"cta-button-secondary",style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},disabled:er,children:[o.jsx(u,{size:16}),er?"Please wait...":"signup"===Yt?"Create Account":"Sign In with Email"]})]}),o.jsxs("div",{style:{textAlign:"center",marginTop:"0.5rem"},children:["login"===Yt&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>Jt("reset"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontSize:"0.8rem"},children:"Forgot password?"}),o.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem",marginTop:"0.5rem"},children:["Don't have an account?"," ",o.jsx("button",{onClick:()=>Jt("signup"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"Sign up"})]})]}),"signup"===Yt&&o.jsxs("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:["Already have an account?"," ",o.jsx("button",{onClick:()=>Jt("login"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"Sign in"})]}),"reset"===Yt&&o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.8rem"},children:o.jsx("button",{onClick:()=>Jt("login"),style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",fontWeight:"600"},children:"â† Back to sign in"})})]})]}),o.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",marginTop:"1rem"},children:o.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-tertiary)",textAlign:"center",lineHeight:"1.4"},children:["By continuing, you agree to our"," ",o.jsx("button",{onClick:()=>{qt(!1),window.location.hash="#/legal"},style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",padding:0,fontSize:"0.75rem",textDecoration:"underline"},children:"Terms of Service"})," ","and"," ",o.jsx("button",{onClick:()=>{qt(!1),window.location.hash="#/legal"},style:{background:"none",border:"none",color:"var(--color-purple)",cursor:"pointer",padding:0,fontSize:"0.75rem",textDecoration:"underline"},children:"Privacy Policy"}),"."]})})]})}),Vn&&o.jsx("div",{className:"modal-overlay",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>{Gn(!1),Qn(null)},onTouchEnd:()=>{Gn(!1),Qn(null)},children:o.jsxs("div",{className:"modal-content animate-fadeInUp",onClick:e=>e.stopPropagation(),onTouchEnd:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 700px)",width:"100%",margin:"1rem auto",display:"flex",flexDirection:"column"},children:[o.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",flexShrink:0},children:[o.jsxs("div",{className:"modal-title-group",children:[o.jsx("div",{className:"agent-mini-icon",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",color:"white"},children:o.jsx(ae,{size:20})}),o.jsx("h2",{style:{margin:0},children:Jn?"Edit Payment Method":"Payment Methods"})]}),o.jsx("button",{className:"modal-close",onClick:()=>{Gn(!1),Qn(null)},onTouchEnd:e=>{e.preventDefault(),Gn(!1),Qn(null)},children:o.jsx(I,{size:20})})]}),o.jsxs("div",{className:"modal-body",style:{padding:"1.5rem",overflow:"visible",flex:1},children:[!Jn&&ta.length>0&&o.jsxs("div",{style:{marginBottom:"1.5rem"},children:[o.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Saved Cards"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:ta.map((e,t)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",transition:"all 0.2s ease"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[o.jsx("div",{style:{width:"48px",height:"32px",background:"visa"===e.brand?"linear-gradient(135deg, #1a1f71, #00579f)":"mastercard"===e.brand?"linear-gradient(135deg, #eb001b, #f79e1b)":"linear-gradient(135deg, #333, #555)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"0.6rem",fontWeight:"bold",textTransform:"uppercase"},children:e.brand||"Card"}),o.jsxs("div",{children:[o.jsxs("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:["â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ â€¢â€¢â€¢â€¢ ",e.last4]}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:["Expires ",e.expiry]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsxs("button",{onClick:()=>{Qn({item:e,type:"card"}),Xn("card")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(ee,{size:14})," Edit"]}),o.jsx("button",{onClick:()=>{ra(t=>t.filter(t=>t.id!==e.id)),n.success("Card removed")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:o.jsx(se,{size:14})})]})]},e.id||t))})]}),!Jn&&sa.length>0&&o.jsxs("div",{style:{marginBottom:"1.5rem"},children:[o.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Bank Accounts"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:sa.map((e,t)=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem 1.25rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",transition:"all 0.2s ease"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[o.jsx("div",{style:{width:"48px",height:"32px",background:"linear-gradient(135deg, #10b981, #059669)",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:o.jsx(ne,{size:16})}),o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:"600",fontSize:"0.95rem"},children:e.bankName}),o.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:[e.type," â€¢â€¢â€¢â€¢ ",e.last4]})]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[o.jsxs("button",{onClick:()=>{Qn({item:e,type:"bank"}),Xn("bank")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid var(--glass-border)",borderRadius:"6px",color:"var(--text-primary)",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(ee,{size:14})," Edit"]}),o.jsx("button",{onClick:()=>{ia(t=>t.filter(t=>t.id!==e.id)),n.success("Bank account removed")},style:{padding:"0.5rem 0.75rem",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"6px",color:"#ef4444",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px"},children:o.jsx(se,{size:14})})]})]},e.id||t))})]}),o.jsxs("div",{children:[!Jn&&o.jsx("h4",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Add New Payment Method"}),o.jsxs("div",{className:"modal-tabs",style:{marginBottom:"1rem"},children:[o.jsxs("button",{className:"modal-tab "+("card"===Kn?"active":""),onClick:()=>Xn("card"),disabled:!!Jn,style:{flex:1},children:[o.jsx(ae,{size:16,style:{marginRight:"6px"}})," Card"]}),o.jsxs("button",{className:"modal-tab "+("bank"===Kn?"active":""),onClick:()=>Xn("bank"),disabled:!!Jn,style:{flex:1},children:[o.jsx(ne,{size:16,style:{marginRight:"6px"}})," Bank"]})]}),"card"===Kn?o.jsxs("form",{className:"payment-form",onSubmit:co,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Cardholder Name"}),o.jsx("input",{type:"text",name:"cardName",placeholder:"Name on card",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Card Number"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(ae,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),o.jsx("input",{type:"text",name:"cardNumber",placeholder:"0000 0000 0000 0000",defaultValue:Jn?`**** **** **** ${Jn.item.last4}`:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.75rem"},children:[o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Expiry"}),o.jsx("input",{type:"text",name:"expiry",placeholder:"MM/YY",defaultValue:Jn?Jn.item.expiry:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"CVC"}),o.jsx("input",{type:"text",name:"cvc",placeholder:"123",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Zip"}),o.jsx("input",{type:"text",name:"zip",placeholder:"10001",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[Jn&&o.jsx("button",{type:"button",className:"cta-button-secondary",style:{flex:1},onClick:()=>Qn(null),children:"Cancel"}),o.jsx("button",{type:"submit",className:"cta-button-premium",style:{flex:1},children:Jn?"Update Card":"Add Card"})]})]}):o.jsxs("form",{className:"payment-form",onSubmit:co,style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Account Holder Name"}),o.jsx("input",{type:"text",name:"accountName",placeholder:"Full Name",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Bank Name"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx(ne,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--text-secondary)"}}),o.jsx("input",{type:"text",name:"bankName",placeholder:"e.g. Chase, Wells Fargo",defaultValue:Jn?Jn.item.bankName:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem 0.75rem 2.5rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:[o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Routing Number"}),o.jsx("input",{type:"text",name:"routingNumber",placeholder:"9 digits",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:0},children:[o.jsx("label",{style:{fontSize:"0.85rem",marginBottom:"0.5rem",display:"block"},children:"Account Number"}),o.jsx("input",{type:"text",name:"accountNumber",placeholder:"Account Number",defaultValue:Jn?`****${Jn.item.last4}`:"",required:!0,style:{width:"100%",padding:"0.75rem 1rem",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"}})]})]}),o.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem"},children:[Jn&&o.jsx("button",{type:"button",className:"cta-button-secondary",style:{flex:1},onClick:()=>Qn(null),children:"Cancel"}),o.jsx("button",{type:"submit",className:"cta-button-premium",style:{flex:1},children:Jn?"Update Account":"Link Account"})]})]})]})]}),o.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--glass-border)",padding:"1rem 1.5rem",flexShrink:0},children:o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",color:"var(--text-secondary)",fontSize:"0.8rem"},children:[o.jsx(oe,{size:14}),o.jsx("span",{children:"256-bit encryption â€¢ Secured by Stripe"})]})})]})}),o.jsxs("nav",{className:"bottom-nav",children:[o.jsxs("div",{className:"bottom-nav-item "+("agents"===lr?"active":""),onClick:()=>{za("agents"),mr(null)},role:"button",tabIndex:0,children:[o.jsx(h,{size:22}),o.jsx("span",{children:"Team"})]}),o.jsxs("div",{className:"bottom-nav-item "+("hub"===lr?"active":""),onClick:()=>{za("hub"),mr(null)},role:"button",tabIndex:0,children:[o.jsx(y,{size:22}),o.jsx("span",{children:"Projects"})]}),o.jsx("div",{className:"bottom-nav-item create-btn",onClick:()=>kn(!0),role:"button",tabIndex:0,children:o.jsx("div",{style:{background:"var(--color-purple)",width:"52px",height:"52px",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 16px rgba(124, 58, 237, 0.5)",marginTop:"-20px",border:"3px solid var(--color-bg-primary)"},children:o.jsx(Q,{size:26,color:"white"})})}),o.jsxs("div",{className:"bottom-nav-item "+("mystudio"===lr?"active":""),onClick:()=>{za("mystudio"),mr(null)},role:"button",tabIndex:0,children:[o.jsx(m,{size:22}),o.jsx("span",{children:"Studio"})]}),o.jsxs("div",{className:"bottom-nav-item "+("more"===lr?"active":""),onClick:()=>{za("more"),mr(null)},role:"button",tabIndex:0,children:[o.jsx(le,{size:22}),o.jsx("span",{children:"More"})]})]})]}),"maintenance"===Hr.status&&!rn&&o.jsx("div",{className:"modal-overlay",style:{zIndex:9999,backdropFilter:"blur(10px)",background:"rgba(0,0,0,0.85)"},children:o.jsxs("div",{className:"modal-content animate-fadeInUp",style:{textAlign:"center",border:"1px solid var(--color-red)",position:"relative"},children:[o.jsx("button",{onClick:()=>sn(!0),style:{position:"absolute",top:"1rem",right:"1rem",background:"transparent",border:"none",cursor:"pointer",color:"var(--text-secondary)",padding:"4px"},"aria-label":"Dismiss maintenance message",children:o.jsx(I,{size:20})}),o.jsx("div",{className:"logo-box",style:{width:"64px",height:"64px",margin:"0 auto 1.5rem",background:"rgba(239, 68, 68, 0.1)"},children:o.jsx(de,{size:32,color:"var(--color-red)"})}),o.jsx("h2",{style:{color:"var(--color-red)",marginBottom:"1rem"},children:"System Maintenance"}),o.jsxs("p",{style:{marginBottom:"1.5rem",color:"var(--text-secondary)"},children:["The Studio is currently undergoing critical updates or experiencing connectivity issues.",o.jsx("br",{}),"Please check back in a few minutes."]}),o.jsxs("div",{style:{padding:"1rem",background:"rgba(0,0,0,0.3)",borderRadius:"8px",fontSize:"0.85rem",fontFamily:"monospace"},children:["Status: ",Hr.details||"Backend Unreachable"]}),o.jsxs("button",{className:"cta-button-secondary",style:{marginTop:"2rem",width:"100%"},onClick:()=>window.location.reload(),children:[o.jsx(ie,{size:16,style:{marginRight:"8px"}})," Retry Connection"]})]})}),qn&&o.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>Yn(!1),children:o.jsxs("div",{className:"modal-content credits-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 560px)",width:"100%",margin:"1rem auto",display:"flex",flexDirection:"column"},children:[o.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--glass-border)",paddingBottom:"1rem",flexShrink:0},children:[o.jsxs("div",{className:"modal-title-group",children:[o.jsx("div",{className:"agent-mini-icon",style:{background:"linear-gradient(135deg, #facc15, #f59e0b)",color:"#000"},children:o.jsx(V,{size:20,fill:"currentColor"})}),o.jsxs("div",{children:[o.jsx("h2",{style:{margin:0},children:"Studio Credits"}),o.jsxs("p",{style:{margin:0,fontSize:"0.85rem",color:"var(--text-secondary)"},children:["Balance: ",o.jsxs("strong",{style:{color:"#facc15"},children:[rr," credits"]})]})]})]}),o.jsx("button",{className:"modal-close",onClick:()=>Yn(!1),children:o.jsx(I,{size:20})})]}),o.jsxs("div",{className:"modal-body",style:{padding:"1.25rem",flex:1},children:[o.jsxs("div",{style:{marginBottom:"1.25rem"},children:[o.jsx("h4",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Quick Add Credits"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"0.5rem"},children:[{amount:10,price:"$0.99",label:"Starter"},{amount:50,price:"$3.99",label:"Power"},{amount:150,price:"$9.99",label:"Studio"},{amount:500,price:"$24.99",label:"Pro"}].map(({amount:e,price:t,label:r})=>o.jsxs("button",{onClick:()=>_n(e),style:{padding:"1rem 0.5rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",transition:"all 0.2s cubic-bezier(0.4, 0, 0.2, 1)",color:"var(--text-primary)",position:"relative",overflow:"hidden"},className:"credit-pack-btn",children:[o.jsx("span",{style:{fontSize:"0.6rem",color:"var(--text-secondary)",textTransform:"uppercase",letterSpacing:"1px"},children:r}),o.jsx("span",{style:{fontWeight:"800",fontSize:"1.25rem",color:"#facc15"},children:e}),o.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"var(--text-primary)"},children:t})]},e))})]}),o.jsxs("div",{style:{marginBottom:"1rem"},children:[o.jsx("h4",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginBottom:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Credit Costs"}),o.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[{action:"Create Project",cost:2,icon:y},{action:"Text Generation",cost:5,icon:Z},{action:"Image Generation",cost:15,icon:B},{action:"Audio Processing",cost:25,icon:T}].map(({action:e,cost:t,icon:r})=>o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.6rem 0.75rem",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"8px"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem"},children:[o.jsx(r,{size:16,style:{color:"var(--text-secondary)"}}),o.jsx("span",{style:{fontSize:"0.9rem"},children:e})]}),o.jsxs("span",{style:{fontWeight:"600",color:"#facc15",fontSize:"0.9rem"},children:[t," credits"]})]},e))})]}),o.jsxs("div",{style:{padding:"0.75rem 1rem",background:"rgba(250, 204, 21, 0.08)",border:"1px solid rgba(250, 204, 21, 0.2)",borderRadius:"10px",display:"flex",alignItems:"flex-start",gap:"0.75rem"},children:[o.jsx(g,{size:18,style:{color:"#facc15",flexShrink:0,marginTop:"2px"}}),o.jsxs("div",{style:{fontSize:"0.85rem",color:"var(--text-secondary)"},children:[o.jsx("strong",{style:{color:"var(--text-primary)"},children:"Pro Tip:"})," Credits are used when you create projects or generate content with any agent."]})]})]}),o.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--glass-border)",padding:"1rem 1.25rem",flexShrink:0,display:"flex",gap:"0.75rem"},children:[o.jsxs("button",{className:"cta-button-secondary",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{Yn(!1),vi("billing"),za("mystudio")},children:[o.jsx(Q,{size:18,style:{marginRight:"6px"}})," Add Credits"]}),o.jsxs("button",{className:"cta-button-premium",style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>{Yn(!1),kn(!0)},children:[o.jsx(ce,{size:18,style:{marginRight:"6px"}})," Create Project"]})]})]})}),zn&&o.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Nn(!1),style:{display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{className:"modal-content project-wizard-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"600px",width:"min(95vw, 600px)",maxHeight:"min(90vh, 1000px)",display:"flex",flexDirection:"column",margin:"0 12px",boxSizing:"border-box",overflow:"hidden"},children:[o.jsxs("div",{className:"modal-header",style:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{className:"modal-title-group",style:{flex:1,minWidth:0,display:"flex",alignItems:"center",gap:"10px",paddingRight:"80px"},children:[o.jsx("div",{className:"agent-mini-icon bg-purple",style:{flexShrink:0},children:o.jsx(ce,{size:20})}),o.jsx("h2",{style:{margin:0,fontSize:"1.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:"Create New Project"})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",position:"relative",zIndex:101},children:[!xr&&o.jsx("button",{className:"btn-text",onClick:()=>(e=>{if(("number"==typeof rr?rr:0)<2)return n.error("Not enough credits. You need 2 credits to create a project."),void Yn(!0);const t={id:String(Date.now()),name:`Untitled Project ${ja.length+1}`,category:"music",description:"Quick start project",agents:[],workflow:"custom",date:(new Date).toLocaleDateString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};n.success("Quick project created! -2 credits",{icon:"âœ¨"}),wa(e=>[t,...e]),yr(t),Ut&&Ra(Ut?.uid,t).catch(e=>{}),Nn(!1),In(1),za(e),An("Quick project created.")})("agents"),style:{fontSize:"0.85rem",color:"var(--text-secondary)",background:"none",border:"none",cursor:"pointer",textDecoration:"underline"},children:"Skip"}),o.jsx("button",{className:"modal-close",onClick:()=>Nn(!1),children:o.jsx(I,{size:20})})]})]}),o.jsxs("div",{className:"modal-body",style:{padding:xr?"16px":"24px",overflowY:"auto",WebkitOverflowScrolling:"touch",flex:1},children:[o.jsx("div",{className:"wizard-progress",style:{display:"flex",gap:"8px",marginBottom:"24px"},children:[1,2,3].map(e=>o.jsx("div",{style:{flex:1,height:"4px",background:e<=Cn?"var(--color-purple)":"var(--color-bg-tertiary)",borderRadius:"2px",transition:"all 0.3s ease"}},e))}),1===Cn&&o.jsxs("div",{className:"wizard-step animate-slideIn",children:[o.jsx("h3",{style:{marginBottom:"16px"},children:"Define Your Vision"}),o.jsxs("div",{className:"form-group",style:{marginBottom:"16px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Project Name"}),o.jsx("input",{type:"text",className:"search-input",placeholder:"e.g. Summer Vibes 2025",value:Tn.name,onChange:e=>Rn({...Tn,name:e.target.value}),autoFocus:!0,style:{width:"100%",padding:"12px",fontSize:"1rem"}})]}),o.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[o.jsxs("div",{style:{flex:1},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Language"}),o.jsx("select",{value:Tn.language,onChange:e=>Rn({...Tn,language:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["English","Spanish","French","German","Japanese","Korean","Portuguese","Italian","Chinese"].map(e=>o.jsx("option",{value:e,children:e},e))})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Style / Genre"}),o.jsx("select",{value:Tn.style,onChange:e=>Rn({...Tn,style:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["Modern Hip-Hop","90s Boom Bap","Trap","R&B / Soul","Pop","Rock","Electronic","Cinematic","Jazz","Lo-Fi"].map(e=>o.jsx("option",{value:e,children:e},e))})]}),o.jsxs("div",{style:{flex:1},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)",fontSize:"0.9rem"},children:"AI Model"}),o.jsx("select",{value:Tn.model,onChange:e=>Rn({...Tn,model:e.target.value}),style:{width:"100%",padding:"12px",borderRadius:"10px",background:"var(--color-bg-tertiary)",border:"1px solid var(--border-color)",color:"white",fontSize:"0.9rem"},children:["Gemini 2.0 Flash","Gemini 2.0 Pro (Exp)","Gemini 1.5 Flash","Gemini 1.5 Pro"].map(e=>o.jsx("option",{value:e,children:e},e))})]})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:"24px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"8px",color:"var(--text-secondary)"},children:"Project Category"}),o.jsx("div",{className:"category-grid",style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px"},children:St.map(e=>o.jsxs("div",{className:"category-card haptic-press "+(Tn.category===e.id?"selected":""),onClick:()=>Rn({...Tn,category:e.id}),style:{padding:"12px",background:Tn.category===e.id?"rgba(168, 85, 247, 0.1)":"var(--color-bg-tertiary)",border:Tn.category===e.id?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"12px"},children:[o.jsx(e.icon,{size:20,style:{color:e.color}}),o.jsx("div",{children:o.jsx("div",{style:{fontWeight:"600",fontSize:"0.9rem"},children:e.label})})]},e.id))})]}),"social"===Tn.category&&o.jsxs("div",{className:"social-inputs animate-fadeIn",style:{marginBottom:"24px",padding:"16px",background:"rgba(6, 182, 212, 0.05)",borderRadius:"12px",border:"1px solid rgba(6, 182, 212, 0.2)"},children:[o.jsxs("h4",{style:{marginBottom:"12px",color:"var(--color-cyan)",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(U,{size:16})," Social Profile Setup"]}),o.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Platform Focus"}),o.jsx("div",{style:{display:"flex",gap:"8px"},children:["instagram","tiktok","youtube","twitter"].map(e=>o.jsx("button",{className:"platform-btn "+(Tn.socialPlatform===e?"active":""),onClick:()=>Rn({...Tn,socialPlatform:e}),style:{flex:1,padding:"8px",borderRadius:"8px",border:Tn.socialPlatform===e?"1px solid var(--color-cyan)":"1px solid var(--border-color)",background:Tn.socialPlatform===e?"rgba(6, 182, 212, 0.1)":"transparent",color:Tn.socialPlatform===e?"var(--color-cyan)":"var(--text-secondary)",textTransform:"capitalize",fontSize:"0.85rem",cursor:"pointer"},children:e},e))})]}),o.jsxs("div",{className:"form-group",style:{marginBottom:"12px"},children:[o.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Handle / Username"}),o.jsx("input",{type:"text",className:"search-input",placeholder:"@yourname",value:Tn.socialHandle,onChange:e=>Rn({...Tn,socialHandle:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"0.9rem"}})]}),o.jsxs("div",{className:"form-group",children:[o.jsx("label",{style:{display:"block",marginBottom:"6px",fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Bio / Vibe"}),o.jsx("textarea",{className:"search-input",placeholder:"Describe your brand voice...",value:Tn.socialBio,onChange:e=>Rn({...Tn,socialBio:e.target.value}),style:{width:"100%",padding:"10px",fontSize:"0.9rem",minHeight:"60px",resize:"vertical"}})]})]})]}),2===Cn&&o.jsxs("div",{className:"wizard-step animate-slideIn",children:[o.jsx("h3",{style:{marginBottom:"16px"},children:"Choose Your Workflow"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"16px",fontSize:"0.9rem"},children:"How do you want to work? Select a preset workflow or build your own team."}),o.jsxs("div",{className:"workflow-presets",style:{display:"grid",gap:"12px",marginBottom:"24px"},children:[o.jsxs("div",{className:"workflow-card haptic-press "+("full_song"===Tn.workflow?"selected":""),onClick:()=>Rn({...Tn,workflow:"full_song",selectedAgents:["ghost","beat","album"]}),style:{padding:"16px",background:"full_song"===Tn.workflow?"rgba(168, 85, 247, 0.15)":"var(--color-bg-tertiary)",border:"full_song"===Tn.workflow?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{background:"var(--color-purple)",padding:"10px",borderRadius:"50%",color:"white"},children:o.jsx(T,{size:20})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Full Song Creation"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Lyrics â†’ Beat â†’ Cover Art"})]}),"full_song"===Tn.workflow&&o.jsx(ge,{size:20,className:"text-purple"})]}),o.jsxs("div",{className:"workflow-card haptic-press "+("social_promo"===Tn.workflow?"selected":""),onClick:()=>Rn({...Tn,workflow:"social_promo",selectedAgents:["video-creator","trend","collab","social"]}),style:{padding:"16px",background:"social_promo"===Tn.workflow?"rgba(6, 182, 212, 0.15)":"var(--color-bg-tertiary)",border:"social_promo"===Tn.workflow?"1px solid var(--color-cyan)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{background:"var(--color-cyan)",padding:"10px",borderRadius:"50%",color:"white"},children:o.jsx(U,{size:20})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Social Promotion"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Video â†’ Trends â†’ Social Pilot"})]}),"social_promo"===Tn.workflow&&o.jsx(ge,{size:20,className:"text-cyan"})]}),o.jsxs("div",{className:"workflow-card haptic-press "+("custom"===Tn.workflow?"selected":""),onClick:()=>Rn({...Tn,workflow:"custom",selectedAgents:[]}),style:{padding:"16px",background:"custom"===Tn.workflow?"rgba(255, 255, 255, 0.1)":"var(--color-bg-tertiary)",border:"custom"===Tn.workflow?"1px solid var(--text-secondary)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"16px"},children:[o.jsx("div",{style:{background:"var(--text-secondary)",padding:"10px",borderRadius:"50%",color:"var(--color-bg-primary)"},children:o.jsx(ue,{size:20})}),o.jsxs("div",{style:{flex:1},children:[o.jsx("div",{style:{fontWeight:"600",marginBottom:"4px"},children:"Custom Team"}),o.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)"},children:"Manually select your agents"})]}),"custom"===Tn.workflow&&o.jsx(ge,{size:20,className:"text-white"})]})]}),"custom"===Tn.workflow&&o.jsx("div",{className:"agents-grid-selection animate-fadeIn",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:"12px"},children:(void 0!==e?e:[]).map(e=>{const t=Tn.selectedAgents?.includes(e.id);return o.jsxs("div",{className:"agent-select-card haptic-press "+(t?"selected":""),onClick:()=>{const t=Tn.selectedAgents||[],r=t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id];Rn({...Tn,selectedAgents:r})},style:{padding:"12px",background:t?"rgba(168, 85, 247, 0.15)":"var(--color-bg-tertiary)",border:t?"1px solid var(--color-purple)":"1px solid transparent",borderRadius:"12px",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",gap:"8px",transition:"all 0.2s ease",position:"relative"},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"50%",background:t?"var(--color-purple)":"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:t?"white":"var(--text-secondary)"},children:"function"==typeof e.icon?o.jsx(e.icon,{size:16}):o.jsx(g,{size:16})}),o.jsx("span",{style:{fontSize:"0.85rem",fontWeight:"500"},children:e.name}),t&&o.jsx(ge,{size:14,className:"text-purple",style:{position:"absolute",top:"8px",right:"8px"}})]},e.id)})})]}),3===Cn&&o.jsxs("div",{className:"wizard-step animate-slideIn",children:[o.jsx("h3",{style:{marginBottom:"16px"},children:"Ready to Launch?"}),o.jsxs("div",{className:"review-card",style:{padding:"24px",background:"var(--color-bg-tertiary)",borderRadius:"16px",textAlign:"center"},children:[o.jsx("div",{style:{width:"64px",height:"64px",background:"var(--color-bg-secondary)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:o.jsx(ce,{size:32,className:"text-purple"})}),o.jsx("h2",{style:{marginBottom:"8px"},children:Tn.name}),o.jsxs("p",{style:{color:"var(--text-secondary)",marginBottom:"16px"},children:[St.find(e=>e.id===Tn.category)?.label," â€¢ ",(new Date).toLocaleDateString()]}),o.jsxs("div",{className:"selected-team-preview",style:{display:"flex",justifyContent:"center",gap:"8px",flexWrap:"wrap",marginBottom:"24px"},children:[(Tn.selectedAgents||[]).map(t=>{const r=void 0!==e&&e?e.find(e=>e.id===t||e.name===t):null;return r?o.jsx("div",{title:r.name,style:{width:"32px",height:"32px",borderRadius:"50%",background:"var(--color-bg-primary)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--color-border)"},children:"function"==typeof r.icon?o.jsx(r.icon,{size:16}):o.jsx(g,{size:16})},t):null}),0===(Tn.selectedAgents||[]).length&&o.jsx("span",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"No specific agents selected"})]}),o.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)"},children:"Your studio environment is being prepared."})]})]})]}),o.jsxs("div",{className:"modal-footer",style:{display:"flex",justifyContent:"space-between"},children:[Cn>1?o.jsx("button",{className:"btn-ghost",onClick:()=>In(e=>e-1),children:"Back"}):o.jsx("div",{}),Cn<3?o.jsx("button",{className:"cta-button-premium",disabled:1===Cn&&(!Tn.name||!Tn.category)||2===Cn&&!Tn.workflow,onClick:()=>In(e=>e+1),children:"Next Step"}):o.jsx("button",{className:"cta-button-premium",onClick:()=>{if(!Tn.name||!Tn.category)return void n.error("Please fill in project name and category");if(("number"==typeof rr?rr:0)<2)return n.error("Not enough credits. You need 2 credits to create a project."),void Yn(!0);const e={id:String(Date.now()),name:Tn.name,category:Tn.category,description:Tn.description||"",language:Tn.language||"English",style:Tn.style||"Modern Hip-Hop",model:Tn.model||"Gemini 2.0 Flash",agents:Tn.selectedAgents||[],workflow:Tn.workflow||"custom",socialHandle:Tn.socialHandle||"",socialBio:Tn.socialBio||"",socialPlatform:Tn.socialPlatform||"instagram",date:(new Date).toLocaleDateString(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};wa(t=>[e,...t]),yr(e),Pt&&Ut&&Ra(Ut?.uid,e).then(e=>{}).catch(e=>{}),n.success("Project created! -2 credits",{icon:"âœ¨"}),Nn(!1),In(1),s.projectCreated(e.category),Rn({name:"",category:"",description:"",selectedAgents:[],workflow:"",socialHandle:"",socialBio:"",socialPlatform:"instagram"}),An(`Project ${e.name} created. Loading your production checklist.`),za("mystudio")},children:"Create Project"})]})]})}),Ga&&o.jsx("div",{className:"modal-overlay animate-fadeIn",style:{zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{className:"modal-content onboarding-modal",style:{maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto",padding:window.innerWidth<768?"24px":"40px",textAlign:"center",position:"relative"},children:[o.jsx("button",{onClick:()=>{localStorage.setItem("studio_onboarding_v3","true"),qa(!1),za("agents")},style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",padding:0},children:o.jsx(I,{size:20})}),o.jsxs("div",{style:{marginBottom:"32px"},children:[o.jsx("div",{style:{fontSize:"3rem",marginBottom:"16px"},children:"ðŸŽ§"}),o.jsx("h2",{style:{fontSize:"1.75rem",marginBottom:"12px"},children:wt[0].title}),o.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-primary)",marginBottom:"8px",lineHeight:"1.6"},children:wt[0].content}),o.jsx("p",{style:{fontSize:"0.95rem",color:"var(--text-secondary)"},children:wt[0].detail})]}),o.jsx("button",{className:"cta-button-premium",onClick:()=>{localStorage.setItem("studio_onboarding_v3","true"),qa(!1),za("agents"),An("Welcome to your studio. Pick an agent to start creating.")},style:{width:"100%",padding:"16px",fontSize:"1.1rem"},children:"Enter Studio â†’"})]})}),Sn&&o.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>kn(!1),style:{zIndex:1e4,display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"550px",width:"90%",padding:"32px"},children:[o.jsx("button",{onClick:()=>kn(!1),style:{position:"absolute",top:"16px",right:"16px",background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",padding:0},children:o.jsx(I,{size:20})}),o.jsxs("div",{style:{textAlign:"center",marginBottom:"28px"},children:[o.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:"Create New Project"}),o.jsx("p",{style:{color:"var(--text-secondary)"},children:"Choose how you want to build your project"})]}),o.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[o.jsxs("button",{onClick:()=>{kn(!1),Nn(!0)},style:{display:"flex",alignItems:"flex-start",gap:"16px",padding:"20px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.3)",borderRadius:"16px",cursor:"pointer",textAlign:"left",color:"inherit",transition:"all 0.2s ease"},className:"haptic-press",children:[o.jsx("div",{style:{background:"var(--color-purple)",padding:"12px",borderRadius:"12px",color:"white",flexShrink:0},children:o.jsx(q,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",color:"var(--text-primary)"},children:"Studio Creation"}),o.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Build your project step by step. Choose name, type, and select agents manually."})]})]}),o.jsxs("button",{onClick:()=>{kn(!1),qr(!0)},style:{display:"flex",alignItems:"flex-start",gap:"16px",padding:"20px",background:"rgba(6, 182, 212, 0.1)",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"16px",cursor:"pointer",textAlign:"left",color:"inherit",transition:"all 0.2s ease"},className:"haptic-press",children:[o.jsx("div",{style:{background:"var(--color-cyan)",padding:"12px",borderRadius:"12px",color:"white",flexShrink:0},children:o.jsx(g,{size:24})}),o.jsxs("div",{children:[o.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px",color:"var(--text-primary)"},children:"AI Production Pipeline"}),o.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-secondary)",margin:0,lineHeight:"1.5"},children:"Let AI orchestrate your creative workflow. Describe your vision and get a complete production plan."})]})]})]})]})}),Xa&&o.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>Za(null),style:{zIndex:1e4},children:o.jsxs("div",{className:"modal-content whitepaper-modal",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[o.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"1rem",flexShrink:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[o.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-primary)"},children:"function"==typeof Xa.icon?o.jsx(Xa.icon,{size:22}):o.jsx(g,{size:22})}),o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:Xa.title}),o.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.9rem"},children:Xa.subtitle})]})]}),o.jsx("button",{className:"modal-close",onClick:()=>Za(null),children:o.jsx(I,{size:20})})]}),o.jsxs("div",{className:"modal-body",style:{padding:"1.25rem",flex:1,overflow:"auto"},children:[o.jsxs("div",{style:{marginBottom:"1.25rem"},children:[o.jsxs("h3",{style:{fontSize:"1rem",marginBottom:"0.75rem",color:"var(--color-purple)",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(g,{size:16})," The Vision"]}),o.jsx("p",{style:{fontSize:"0.95rem",lineHeight:"1.6",color:"var(--text-primary)",margin:0},children:Xa.description})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[o.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px"},children:[o.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px",fontSize:"0.9rem"},children:[o.jsx(me,{size:16,className:"text-cyan"})," Who It's For"]}),o.jsx("p",{style:{fontSize:"0.85rem",lineHeight:"1.5",color:"var(--text-secondary)",margin:0},children:Xa.whoFor})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",padding:"1rem",borderRadius:"10px"},children:[o.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"6px",marginBottom:"8px",fontSize:"0.9rem"},children:[o.jsx(V,{size:18,className:"text-orange"})," How It Works"]}),o.jsx("p",{style:{fontSize:"0.85rem",lineHeight:"1.5",color:"var(--text-secondary)",margin:0},children:Xa.howTo})]})]}),an[Xa.key]&&Object.values(an[Xa.key]).some(e=>e)&&o.jsxs("div",{style:{marginBottom:"1.5rem",paddingTop:"1rem",borderTop:"1px solid var(--glass-border)"},children:[o.jsxs("h4",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"1rem",fontSize:"0.95rem",color:"var(--color-purple)"},children:[o.jsx(Y,{size:16})," Generated Creations"]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[an[Xa.key].video&&o.jsxs("div",{style:{background:"rgba(236, 72, 153, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(236, 72, 153, 0.3)"},children:[o.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(236, 72, 153, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽ¬ Video"}),o.jsx("video",{src:an[Xa.key].video,controls:!0,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px",background:"#000"},controlsList:"nodownload"}),o.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e={id:String(Date.now()),title:`${Xa.title} Video`,type:"Video",agent:Xa.title,date:"Just now",color:"agent-pink",snippet:"Generated Video",videoUrl:an[Xa.key].video};hr?(Pn(hr.id,e),n.success(`Saved to ${hr.name}`)):Dn(`New ${Xa.title} Project`,e)},children:[o.jsx(q,{size:14})," Save"]})]}),an[Xa.key].image&&"string"==typeof an[Xa.key].image&&o.jsxs("div",{style:{background:"rgba(168, 85, 247, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(168, 85, 247, 0.3)"},children:[o.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(168, 85, 247, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽ¨ Image"}),o.jsx("img",{src:an[Xa.key].image.startsWith?.("data:")||an[Xa.key].image.startsWith?.("http")?an[Xa.key].image:`data:image/png;base64,${an[Xa.key].image}`,alt:"Generated",style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"8px"},onError:e=>{e.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="200" height="120" viewBox="0 0 200 120"%3E%3Crect fill="%231a1a2e" width="200" height="120"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%23666" font-size="12" font-family="sans-serif"%3EImage unavailable%3C/text%3E%3C/svg%3E'}}),o.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e=an[Xa.key]?.image;if(!e||"string"!=typeof e)return;const t=e.startsWith?.("data:")||e.startsWith?.("http")?e:`data:image/png;base64,${e}`,r={id:String(Date.now()),title:`${Xa.title} Image`,type:"Image",agent:Xa.title,date:"Just now",color:"agent-purple",snippet:"Generated Image",imageUrl:t};hr?(Pn(hr.id,r),n.success(`Saved to ${hr.name}`)):Dn(`New ${Xa.title} Project`,r)},children:[o.jsx(q,{size:14})," Save"]})]}),an[Xa.key].audio&&o.jsxs("div",{style:{background:"rgba(6, 182, 212, 0.1)",padding:"12px",borderRadius:"12px",border:"1px solid rgba(6, 182, 212, 0.3)",gridColumn:"span 1"},children:[o.jsx("p",{style:{fontSize:"0.8rem",color:"rgba(6, 182, 212, 1)",marginBottom:"8px",fontWeight:"600"},children:"ðŸŽµ Audio"}),o.jsx("audio",{src:an[Xa.key].audio,controls:!0,style:{width:"100%",height:"32px"},controlsList:"nodownload"}),o.jsxs("button",{className:"btn-pill primary",style:{width:"100%",marginTop:"8px",fontSize:"0.75rem",justifyContent:"center"},onClick:()=>{const e={id:String(Date.now()),title:`${Xa.title} Audio`,type:"Audio",agent:Xa.title,date:"Just now",color:"agent-cyan",snippet:"Generated Audio",audioUrl:an[Xa.key].audio};hr?(Pn(hr.id,e),n.success(`Saved to ${hr.name}`)):Dn(`New ${Xa.title} Project`,e)},children:[o.jsx(q,{size:14})," Save"]})]})]})]})]}),o.jsx("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",display:"flex",justifyContent:"flex-end",flexShrink:0},children:o.jsx("button",{className:"cta-button-premium",onClick:()=>{const t=void 0!==e&&e?e.find(e=>e.id===Xa.key):null;t&&(mr(t),Za(null),za("agents"))},children:"Launch Agent"})})]})}),en&&o.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>tn(null),style:{zIndex:1e4},children:o.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"800px",width:"95%",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},children:[o.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid var(--border-color)",paddingBottom:"1rem",flexShrink:0},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"14px"},children:[o.jsx("div",{style:{width:"44px",height:"44px",borderRadius:"12px",background:"var(--color-bg-secondary)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--color-purple)"},children:"function"==typeof en.icon?o.jsx(en.icon,{size:22}):o.jsx(g,{size:22})}),o.jsxs("div",{children:[o.jsx("h2",{style:{fontSize:"1.25rem",margin:0},children:en.title}),o.jsx("p",{style:{color:"var(--text-secondary)",margin:0,fontSize:"0.9rem"},children:en.type})]})]}),o.jsx("button",{className:"modal-close",onClick:()=>tn(null),children:o.jsx(I,{size:20})})]}),o.jsx("div",{className:"modal-body",style:{padding:"1.5rem",flex:1,overflowY:"auto"},children:o.jsx("div",{style:{whiteSpace:"pre-wrap",fontFamily:"inherit",fontSize:"0.95rem",lineHeight:"1.7",color:"var(--text-primary)"},dangerouslySetInnerHTML:{__html:en.content.replace(/^# (.*$)/gm,'<h1 style="font-size: 1.5rem; margin: 1.5rem 0 1rem; color: var(--text-primary);">$1</h1>').replace(/^## (.*$)/gm,'<h2 style="font-size: 1.2rem; margin: 1.25rem 0 0.75rem; color: var(--color-cyan);">$1</h2>').replace(/^### (.*$)/gm,'<h3 style="font-size: 1rem; margin: 1rem 0 0.5rem; color: var(--color-purple);">$1</h3>').replace(/^\*\*(.*?)\*\*/gm,"<strong>$1</strong>").replace(/^- (.*$)/gm,'<li style="margin-left: 1.5rem; margin-bottom: 0.25rem;">$1</li>').replace(/^\d+\. (.*$)/gm,'<li style="margin-left: 1.5rem; margin-bottom: 0.25rem;">$1</li>').replace(/\n\n/g,"<br/><br/>")}})}),o.jsxs("div",{className:"modal-footer",style:{borderTop:"1px solid var(--border-color)",paddingTop:"1rem",display:"flex",justifyContent:"flex-end",gap:"12px",flexShrink:0},children:[o.jsx("button",{className:"btn-secondary",onClick:()=>{navigator.clipboard.writeText(en.content),n.success("Copied to clipboard!")},children:"Copy Text"}),o.jsx("button",{className:"cta-button-premium",onClick:()=>tn(null),children:"Done"})]})]})}),Xs&&o.jsxs("div",{className:"modal-overlay animate-fadeIn",onClick:()=>{va.current&&(va.current.pause(),va.current.src=""),Zs(null),ti(!1)},style:{zIndex:1e4,position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",padding:ei?"0":"20px"},children:[ln.length>1&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:e=>{if(e.stopPropagation(),0===ln.length||mn.current)return;mn.current=!0;const t=cn>0?cn-1:ln.length-1;if(t<0||t>=ln.length)return void(mn.current=!1);const r=ln[t];r?(Zs({type:pn(r),url:r.audioUrl||r.videoUrl||r.imageUrl||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:ln,currentIndex:t}),setTimeout(()=>{mn.current=!1},300)):mn.current=!1},style:{position:"fixed",left:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",backdropFilter:"blur(8px)",zIndex:2001,transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.4)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",children:o.jsx(he,{size:24})}),o.jsx("button",{onClick:e=>{if(e.stopPropagation(),0===ln.length||mn.current)return;mn.current=!0;const t=cn<ln.length-1?cn+1:0;if(t<0||t>=ln.length)return void(mn.current=!1);const r=ln[t];r?(Zs({type:pn(r),url:r.audioUrl||r.videoUrl||r.imageUrl||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:ln,currentIndex:t}),setTimeout(()=>{mn.current=!1},300)):mn.current=!1},style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white",backdropFilter:"blur(8px)",zIndex:2001,transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.4)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",children:o.jsx(ye,{size:24})})]}),o.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:ei?"98vw":"image"===on.type?"90vw":"85vw",maxHeight:ei?"98vh":"85vh",width:ei?"98vw":"image"===on.type?"auto":"100%",height:ei?"98vh":"auto",overflow:"hidden",display:"flex",flexDirection:"column",background:"rgba(10,10,15,0.99)",borderRadius:ei?"8px":"16px",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)",transition:"all 0.3s ease"},children:[o.jsxs("div",{className:"modal-header",style:{borderBottom:"1px solid rgba(255,255,255,0.1)",padding:"1rem 1.5rem",flexShrink:0,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[o.jsxs("div",{style:{width:"36px",height:"36px",borderRadius:"10px",background:"image"===on.type?"rgba(236, 72, 153, 0.2)":"video"===on.type?"rgba(6, 182, 212, 0.2)":"audio"===on.type?"rgba(168, 85, 247, 0.2)":"rgba(34, 197, 94, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"},children:["image"===on.type&&o.jsx(B,{size:18,style:{color:"var(--color-pink)"}}),"video"===on.type&&o.jsx(E,{size:18,style:{color:"var(--color-cyan)"}}),"audio"===on.type&&o.jsx(T,{size:18,style:{color:"var(--color-purple)"}}),("text"===on.type||"lyrics"===on.type||"hook"===on.type||"verse"===on.type||"concept"===on.type)&&o.jsx(Z,{size:18,style:{color:"var(--color-green)"}})]}),o.jsxs("div",{style:{minWidth:0,flex:1},children:[o.jsx("h2",{style:{fontSize:"1rem",margin:0,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:on.title||"Preview"}),ln.length>1&&o.jsxs("p",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",margin:"2px 0 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[cn+1," of ",ln.length," assets"]})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx("button",{onClick:e=>{e.stopPropagation(),ti(e=>!e)},style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(168, 85, 247, 0.3)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255,255,255,0.1)",title:ei?"Minimize":"Maximize",children:ei?o.jsx(be,{size:18}):o.jsx(ve,{size:18})}),on.asset&&o.jsxs("button",{onClick:()=>{const e=on.asset,t=e.audioUrl?"audio":e.videoUrl||e.imageUrl?"visual":null;if(t&&hr){const r={...hr.sessionState||{},[t]:e};yr({...hr,sessionState:r}),wa(e=>e.map(e=>e.id===hr.id?{...e,sessionState:r}:e)),Zs(null),ti(!1),qr(!0),n.success(`âœ¨ Added "${e.title}" to Studio Orchestrator`)}},className:"btn-pill primary",style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"0.85rem",padding:"8px 16px"},children:[o.jsx(V,{size:16}),"Use in Orchestrator"]}),o.jsx("button",{className:"modal-close",onClick:()=>{va.current&&(va.current.pause(),va.current.src=""),mn.current=!1,Zs(null),ti(!1)},style:{color:"#fff",background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"8px",padding:"8px",cursor:"pointer"},children:o.jsx(I,{size:20})})]})]}),o.jsxs("div",{className:"modal-body",style:{padding:ei?"2rem":"1.5rem",flex:1,overflow:"auto",display:"flex",alignItems:"center",justifyContent:"center",background:"image"===on.type?"transparent":"rgba(0,0,0,0.3)"},children:["audio"===on.type&&on.url&&o.jsxs("div",{style:{width:"100%",maxWidth:ei?"700px":"500px",textAlign:"center"},children:[o.jsx("div",{style:{width:ei?"150px":"120px",height:ei?"150px":"120px",borderRadius:"50%",background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"0 0 40px rgba(168, 85, 247, 0.4)",transition:"all 0.3s ease"},children:o.jsx(T,{size:ei?60:48,style:{color:"white"}})}),o.jsx("audio",{ref:va,src:on.url,controls:!0,style:{width:"100%"},autoPlay:!0,controlsList:"nodownload",onError:e=>{const t=e.target.parentElement;if(t&&!t.querySelector(".audio-error-msg")){const e=document.createElement("div");e.className="audio-error-msg",e.style.cssText="color: var(--color-red); font-size: 0.85rem; margin-top: 12px;",e.textContent="âš ï¸ Audio failed to load. Try downloading instead.",t.appendChild(e)}},onCanPlay:()=>{},onLoadedData:()=>{},onPlay:()=>{},onPause:e=>{},onEnded:()=>{},onStalled:()=>{},onWaiting:()=>{}},on.asset?.id||on.url||"audio-preview"),o.jsx("p",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"12px",opacity:.6},children:on.url?.startsWith("data:")?"Base64 Audio":on.url?.startsWith("http")?"Remote Audio":"Unknown Format"})]}),"image"===on.type&&on.url&&o.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[o.jsxs("div",{className:"image-loading-placeholder",style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--text-secondary)"},children:[o.jsx("div",{className:"spinner",style:{width:"40px",height:"40px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-purple)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.jsx("span",{style:{fontSize:"0.85rem"},children:"Loading image..."})]}),o.jsx("img",{src:on.url,alt:on.title||"Image preview",onLoad:e=>{const t=e.target.previousElementSibling;t&&(t.style.display="none"),e.target.style.opacity=1},onError:e=>{const t=e.target.previousElementSibling;t&&(t.innerHTML='<div style="text-align:center;color:var(--color-red)"><svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg><p style="margin-top:8px">Failed to load image</p></div>')},style:{maxWidth:"100%",maxHeight:ei?"90vh":"80vh",objectFit:"contain",borderRadius:"8px",boxShadow:"0 8px 40px rgba(0,0,0,0.5)",opacity:0,transition:"all 0.3s ease"}})]}),"video"===on.type&&on.url&&o.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"100%"},children:[o.jsxs("div",{className:"video-loading-placeholder",style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",color:"var(--text-secondary)",background:"rgba(0,0,0,0.5)",borderRadius:"8px",zIndex:1},children:[o.jsx("div",{className:"spinner",style:{width:"50px",height:"50px",border:"3px solid rgba(255,255,255,0.1)",borderTopColor:"var(--color-cyan)",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.jsx("span",{style:{fontSize:"0.85rem"},children:"Loading video..."})]}),o.jsx("video",{src:on.url,controls:!0,autoPlay:!0,playsInline:!0,loop:!0,onCanPlay:e=>{const t=e.target.previousElementSibling;t&&(t.style.display="none")},onError:e=>{const t=e.target.previousElementSibling;t&&(t.innerHTML='<div style="text-align:center;color:var(--color-red)"><svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg><p style="margin-top:12px;font-size:0.9rem">Failed to load video</p><p style="font-size:0.75rem;opacity:0.7;margin-top:4px">Try downloading instead</p></div>')},style:{width:"100%",maxWidth:"100%",maxHeight:ei?"90vh":"80vh",objectFit:"contain",borderRadius:"8px",background:"black"}})]}),("text"===on.type||"lyrics"===on.type||"hook"===on.type||"verse"===on.type||"concept"===on.type)&&o.jsx("div",{style:{width:"100%",maxWidth:ei?"800px":"600px",maxHeight:ei?"85vh":"70vh",overflow:"auto",padding:"2rem",background:"rgba(20, 20, 30, 0.8)",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.1)"},children:o.jsx("div",{style:{fontSize:ei?"1.1rem":"1rem",lineHeight:"1.8",color:"var(--text-primary)",whiteSpace:"pre-wrap",fontFamily:"inherit"},children:(()=>{const e=on.content||xn(on.asset);return e||o.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[o.jsx("p",{style:{color:"var(--text-secondary)",fontStyle:"italic",marginBottom:"1rem"},children:"No text content available"}),o.jsx("p",{style:{color:"var(--text-tertiary)",fontSize:"0.85rem"},children:"This asset may be audio, video, or image-only."})]})})()})})]}),ln.length>1&&o.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"12px 16px",display:"flex",gap:"8px",overflowX:"auto",justifyContent:"center",background:"rgba(0,0,0,0.3)"},children:ln.map((e,t)=>e?o.jsxs("button",{onClick:e=>{if(e.stopPropagation(),mn.current)return;if(t<0||t>=ln.length)return;const r=ln[t];if(r){mn.current=!0;try{Zs({type:pn(r),url:ot(r.audioUrl)||lt(r.videoUrl)||nt(r.imageUrl)||null,content:r.content||r.snippet||r.output||null,title:r.title||"Untitled",asset:r,assets:ln,currentIndex:t})}catch(s){}setTimeout(()=>{mn.current=!1},300)}},style:{width:"60px",height:"60px",borderRadius:"8px",border:t===cn?"2px solid var(--color-purple)":"2px solid transparent",background:e.imageUrl?`url(${nt(e.imageUrl)}) center/cover`:"rgba(255,255,255,0.1)",cursor:"pointer",flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:t===cn?1:.6,transition:"all 0.2s ease",overflow:"hidden",position:"relative"},children:[e.videoUrl&&!e.imageUrl&&o.jsx("video",{src:lt(e.videoUrl),style:{width:"100%",height:"100%",objectFit:"cover"},muted:!0,preload:"metadata",onLoadedData:e=>{0===e.target.currentTime&&(e.target.currentTime=1)}}),e.audioUrl&&!e.imageUrl&&o.jsx(T,{size:20,style:{color:"var(--color-purple)"}}),!e.imageUrl&&!e.videoUrl&&!e.audioUrl&&o.jsx(Z,{size:20,style:{color:"var(--text-secondary)"}})]},e?.id||t):null)}),o.jsxs("div",{style:{borderTop:"1px solid rgba(255,255,255,0.1)",padding:"12px 16px",display:"flex",gap:"10px",justifyContent:"center",flexWrap:"wrap",background:"rgba(0,0,0,0.4)"},children:[on.asset?.agent&&"User Upload"!==on.asset.agent&&o.jsxs("button",{onClick:t=>{t.stopPropagation();const r=void 0!==e&&e?e.find(e=>e.name===on.asset?.agent):null;r&&(mr(r),io(on.asset?.snippet||on.title||""),za("agents"),Zs(null),ti(!1),n.success(`Opened ${r.name} - edit prompt and regenerate!`))},style:{padding:"10px 20px",borderRadius:"8px",border:"none",background:"linear-gradient(135deg, var(--color-cyan), var(--color-purple))",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"0.85rem"},children:[o.jsx(ie,{size:16})," Re-run with ",on.asset?.agent]}),o.jsxs("button",{onClick:e=>{if(e.stopPropagation(),hr){const e=on.asset,t={...hr,sessionState:{...hr.sessionState,...e?.audioUrl&&{audio:{audioUrl:e.audioUrl,title:e.title}},...e?.imageUrl&&{visual:{...hr.sessionState?.visual,imageUrl:e.imageUrl,title:e.title}},...e?.videoUrl&&{visual:{...hr.sessionState?.visual,videoUrl:e.videoUrl,title:e.title}}}};yr(t),wa(e=>Array.isArray(e)?e.map(e=>e.id===t.id?t:e):[t])}Zs(null),ti(!1),qr(!0),n.success("Asset loaded into Orchestrator!")},style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid rgba(168, 85, 247, 0.5)",background:"rgba(168, 85, 247, 0.2)",color:"var(--color-purple)",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontWeight:"600",fontSize:"0.85rem"},children:[o.jsx(g,{size:16})," Use in Orchestrator"]}),on.url&&o.jsxs("button",{onClick:e=>{e.stopPropagation();try{const e=document.createElement("a");e.href=on.url,e.download=on.title||"download",document.body.appendChild(e),e.click(),document.body.removeChild(e),n.success("Download started!")}catch(t){n.error("Download failed. Try right-click and save.")}},style:{padding:"10px 20px",borderRadius:"8px",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.1)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem"},children:[o.jsx(R,{size:16})," Download"]})]})]})]}),Wa&&o.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>$a(null),children:o.jsxs("div",{className:"modal-content agent-help-modal",onClick:e=>e.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",position:"relative"},children:[o.jsxs("div",{className:"modal-title-group",style:{display:"flex",alignItems:"center",gap:"12px",minWidth:0,flex:1,paddingRight:"40px"},children:[o.jsx("div",{className:`agent-mini-icon ${Wa.colorClass}`,style:{flexShrink:0},children:"function"==typeof Wa.icon?o.jsx(Wa.icon,{size:20}):o.jsx(g,{size:20})}),o.jsxs("h2",{style:{margin:0,fontSize:"1.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",minWidth:0,flex:1},children:[Wa.name," Guide"]})]}),o.jsx("button",{className:"modal-close",onClick:()=>$a(null),style:{flexShrink:0},children:o.jsx(I,{size:20})})]}),o.jsxs("div",{className:"modal-body help-modal-body",children:[o.jsxs("div",{className:"help-section",children:[o.jsx("p",{style:{fontSize:"1.1rem",color:"var(--text-primary)",marginBottom:"16px",lineHeight:"1.6"},children:Wa.description}),o.jsxs("div",{style:{padding:"16px",background:"rgba(6, 182, 212, 0.05)",borderRadius:"12px",borderLeft:"4px solid var(--color-cyan)"},children:[o.jsxs("h3",{style:{marginTop:0,fontSize:"0.9rem"},children:[o.jsx(V,{size:16,className:"text-cyan"})," How to Use"]}),o.jsx("p",{style:{margin:0,fontSize:"0.9rem"},children:Wa.howToUse})]})]}),Wa.capabilities&&o.jsxs("div",{className:"help-section",children:[o.jsxs("h3",{children:[o.jsx(fe,{size:16,className:"text-purple"})," Expertise & Capabilities"]}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Wa.capabilities.map((e,t)=>o.jsx("span",{style:{padding:"6px 12px",background:"rgba(168, 85, 247, 0.1)",border:"1px solid rgba(168, 85, 247, 0.2)",borderRadius:"20px",fontSize:"0.75rem",color:"var(--color-purple)"},children:e},t))})]}),Wa.onboarding&&o.jsxs("div",{className:"help-section",children:[o.jsxs("h3",{children:[o.jsx(ce,{size:16,className:"text-cyan"})," Quick Start Steps"]}),o.jsx("div",{className:"onboarding-steps-list",children:Wa.onboarding.map((e,t)=>o.jsxs("div",{className:"onboarding-step-item",style:{background:"rgba(255,255,255,0.02)",border:"1px solid rgba(255,255,255,0.05)"},children:[o.jsx("span",{className:"step-number",style:{background:"var(--color-purple)",color:"white",borderColor:"transparent"},children:t+1}),o.jsx("p",{style:{fontSize:"0.85rem",textAlign:"left",margin:0},children:e})]},t))})]}),Wa.explanation&&o.jsxs("div",{className:"help-section",style:{padding:"16px",background:"rgba(255,255,255,0.02)",borderRadius:"12px",fontSize:"0.8rem",color:"var(--text-secondary)"},children:[o.jsxs("h4",{style:{margin:"0 0 8px 0",fontSize:"0.8rem",color:"var(--text-primary)",display:"flex",alignItems:"center",gap:"6px"},children:[o.jsx(K,{size:14})," Technical Architecture"]}),o.jsx("p",{style:{margin:0,lineHeight:"1.5"},children:Wa.explanation})]}),Wa.examples&&o.jsxs("div",{className:"help-section",children:[o.jsxs("h3",{children:[o.jsx(g,{size:16,className:"text-orange"})," Example Prompts"]}),o.jsx("div",{className:"example-chips",children:Wa.examples.map((e,t)=>o.jsxs("button",{className:"example-chip",onClick:()=>{navigator.clipboard.writeText(e),n.success("Example copied to clipboard!")},style:{textAlign:"left",width:"100%",marginBottom:"4px"},children:['"',e,'"']},t))}),o.jsx("p",{className:"tiny-hint",children:"Click an example to copy and use"})]}),Wa.helpTips&&o.jsxs("div",{className:"help-section pro-tip-box",style:{background:"linear-gradient(135deg, rgba(234, 179, 8, 0.1), transparent)",border:"1px solid rgba(234, 179, 8, 0.2)"},children:[o.jsxs("h3",{style:{color:"#eab308"},children:[o.jsx(pe,{size:16})," Pro Tip"]}),o.jsx("p",{style:{color:"var(--text-primary)",fontSize:"0.9rem"},children:Wa.helpTips})]})]}),o.jsx("div",{className:"modal-footer",children:o.jsxs("button",{className:"cta-button-premium",onClick:()=>{mr(Wa),$a(null)},children:["Launch ",Wa.name]})})]})}),La&&o.jsx(a.Suspense,{fallback:o.jsx(ft,{}),children:o.jsx(pt,{agent:La,onClose:()=>Oa(null),projects:ja,onSaveToProject:Pn,onCreateProject:Dn,user:Ut,userCredits:rr,setUserCredits:sr,isAdmin:Ht})}),Ea&&o.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"center",padding:"1rem"},onClick:()=>_a(!1),children:o.jsxs("div",{className:"modal-content",style:{maxWidth:"min(92vw, 700px)",width:"100%",margin:"auto"},onClick:e=>e.stopPropagation(),children:[o.jsxs("div",{className:"modal-header",style:{position:"relative"},children:[o.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px",margin:0,fontSize:"1.25rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",paddingRight:"40px"},children:[o.jsx(me,{size:20,className:"text-purple",style:{flexShrink:0}}),"Add Agent to Project"]}),o.jsx("button",{className:"modal-close",onClick:()=>_a(!1),children:o.jsx(I,{size:20})})]}),o.jsxs("div",{className:"modal-body",style:{padding:"20px"},children:[o.jsxs("div",{style:{marginBottom:"24px"},children:[o.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:"600",marginBottom:"12px",color:"var(--text-secondary)"},children:["Your Agents (",Pa().length,")"]}),o.jsx("div",{className:"agents-studio-grid",style:{maxWidth:"100%",margin:0},children:Pa().map((e,t)=>{const r=e.icon,s=hr?.agents?.some(t=>t.id===e.id);return o.jsxs("div",{className:`agent-studio-card ${e.colorClass} ${s?"opacity-50":""}`,style:{animationDelay:.05*t+"s",position:"relative",cursor:s?"not-allowed":"pointer"},onClick:()=>!s&&(e=>{if(!hr||!e)return;const t=Array.isArray(hr.agents)?hr.agents:[];let r=Ht?999:3;if(Ht||("Creator"===ir&&(r=5),"Studio Pro"!==ir&&"Lifetime Access"!==ir||(r=16)),t.length>=r)return void n.error(`Agent limit reached for ${ir} plan. Please upgrade.`);if(t.some(t=>t.id===e.id))return void An(`${e.name} is already in this project.`);const s={...hr,agents:[...t,e]};yr(s),wa(e=>e.map(e=>e.id===s.id?s:e)),_a(!1),An(`${e.name} added to project.`)})(e),children:[s&&o.jsx("div",{style:{position:"absolute",top:"8px",right:"8px",background:"var(--color-purple)",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center"},children:o.jsx(je,{size:12,color:"white"})}),o.jsx("div",{className:"agent-studio-icon",children:o.jsx(r,{size:24})}),o.jsxs("div",{className:"agent-studio-info",children:[o.jsx("h3",{children:e.name}),o.jsx("p",{children:e.category})]}),o.jsx("button",{className:"agent-launch-btn",disabled:s,style:{opacity:s?.5:1,pointerEvents:s?"none":"auto"},children:s?"Added":"Add to Project"})]},e.id)})})]}),Da().length>0&&o.jsxs("div",{children:[o.jsxs("h3",{style:{fontSize:"0.9rem",fontWeight:"600",marginBottom:"12px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"8px"},children:[o.jsx(oe,{size:14}),"Upgrade to Unlock (",Da().length,")"]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:Da().map(e=>{const t=e.icon,r="monthly"===e.tier?"Monthly":"Pro",s="monthly"===e.tier?"var(--color-cyan)":"var(--color-purple)";return o.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.02)",border:"1px solid rgba(255, 255, 255, 0.06)",borderRadius:"12px",padding:"12px",display:"flex",alignItems:"center",gap:"10px",opacity:.6,cursor:"pointer"},onClick:()=>{_a(!1),Pt?(vi("subscription"),za("mystudio")):qt(!0)},children:[o.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:o.jsx(t,{size:16,style:{opacity:.5}})}),o.jsxs("div",{style:{flex:1,minWidth:0},children:[o.jsx("div",{style:{fontWeight:"600",fontSize:"0.85rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name}),o.jsx("div",{style:{fontSize:"0.65rem",color:s,fontWeight:"600",textTransform:"uppercase"},children:r})]}),o.jsx(oe,{size:12,style:{color:"var(--text-secondary)",flexShrink:0}})]},e.id)})})]})]})]})}),Hs&&o.jsx("div",{className:"modal-overlay animate-fadeIn",style:{overflowY:"auto",WebkitOverflowScrolling:"touch",alignItems:"flex-start",padding:"1rem"},onClick:()=>Vs(!1),children:o.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(92vw, 520px)",width:"100%",margin:"1rem auto"},children:[o.jsxs("div",{className:"modal-header",children:[o.jsxs("h2",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[o.jsx($,{size:20,className:"text-purple"}),"Voice Commands"]}),o.jsx("button",{className:"modal-close",onClick:()=>Vs(!1),children:o.jsx(I,{size:20})})]}),o.jsxs("div",{className:"modal-body",style:{textAlign:"left",padding:"16px 24px"},children:[o.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",marginBottom:"16px"},children:"Click the mic button and say any of these commands:"}),["Navigation","Actions","Settings","Voice"].map(e=>o.jsxs("div",{style:{marginBottom:"16px"},children:[o.jsx("h4",{style:{fontSize:"0.7rem",textTransform:"uppercase",letterSpacing:"1px",color:"var(--color-purple)",marginBottom:"8px"},children:e}),kt.filter(t=>t.category===e).map((e,t)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 12px",background:"rgba(255,255,255,0.03)",borderRadius:"8px",marginBottom:"6px",fontSize:"0.85rem"},children:[o.jsxs("div",{children:[o.jsx("span",{style:{fontWeight:"600",color:"white"},children:e.command}),o.jsx("span",{style:{color:"var(--text-secondary)",marginLeft:"8px",fontSize:"0.75rem"},children:e.description})]}),o.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-cyan)",fontStyle:"italic"},children:e.example})]},t))]},e)),o.jsx("div",{style:{marginTop:"16px",padding:"12px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.1))",borderRadius:"12px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:o.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",margin:0},children:["ðŸ’¡ ",o.jsx("strong",{style:{color:"white"},children:"Pro Tip:"})," Say anything else and it will be added to your prompt as dictation."]})})]}),o.jsx("div",{className:"modal-footer",style:{padding:"16px 24px"},children:o.jsxs("button",{className:"cta-button-premium "+(Ws?"listening":""),onClick:()=>{Vs(!1),ao()},style:{width:"100%"},children:[o.jsx($,{size:18}),Ws?"Stop Listening":"Start Listening"]})})]})}),Ws&&o.jsxs("div",{style:{position:"fixed",bottom:"100px",left:"50%",transform:"translateX(-50%)",zIndex:9999,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",animation:"fadeInUp 0.3s ease"},children:[Gs&&o.jsx("div",{style:{background:"rgba(0,0,0,0.9)",padding:"12px 20px",borderRadius:"12px",color:"white",fontSize:"0.9rem",maxWidth:"300px",textAlign:"center",border:"1px solid rgba(139, 92, 246, 0.3)"},children:o.jsxs("span",{style:{color:"var(--color-cyan)"},children:['"',Gs,'"']})}),o.jsxs("div",{style:{background:"linear-gradient(135deg, var(--color-purple), var(--color-pink))",padding:"16px 24px",borderRadius:"50px",display:"flex",alignItems:"center",gap:"12px",boxShadow:"0 4px 20px rgba(139, 92, 246, 0.4)",cursor:"pointer"},onClick:ao,children:[o.jsxs("div",{style:{position:"relative",width:"24px",height:"24px"},children:[o.jsx("div",{style:{position:"absolute",inset:0,borderRadius:"50%",background:"white",animation:"pulse 1.5s ease-in-out infinite"}}),o.jsx($,{size:24,style:{position:"relative",zIndex:1,color:"var(--color-purple)"}})]}),o.jsx("span",{style:{color:"white",fontWeight:"600",fontSize:"0.9rem"},children:"Listening..."}),o.jsx("button",{style:{background:"rgba(255,255,255,0.2)",border:"none",borderRadius:"50%",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},onClick:e=>{e.stopPropagation(),ao()},children:o.jsx(I,{size:16})})]}),Ys&&o.jsxs("div",{style:{fontSize:"0.7rem",color:"var(--text-secondary)",marginTop:"4px"},children:['Last: "',Ys.text.substring(0,25),Ys.text.length>25?"...":"",'"']})]}),xi&&o.jsx("div",{className:"modal-overlay animate-fadeIn",onClick:()=>gi(null),children:o.jsxs("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{maxWidth:"min(95vw, 500px)",width:"100%",margin:"2rem auto"},children:[o.jsx("button",{className:"modal-close",onClick:()=>gi(null),children:o.jsx(I,{size:20})}),o.jsxs("div",{style:{padding:"24px"},children:[o.jsxs("h2",{style:{fontSize:"1.4rem",fontWeight:"700",marginBottom:"8px",display:"flex",alignItems:"center",gap:"10px",color:"white"},children:[o.jsx(te,{className:"text-cyan",size:24}),"Export for Distribution"]}),o.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.85rem",marginBottom:"24px"},children:"Prepare your audio for streaming platforms and digital distribution."}),o.jsxs("div",{style:{marginBottom:"20px"},children:[o.jsx("label",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",display:"block",marginBottom:"8px"},children:"EXPORT PRESET"}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[{id:"streaming",label:"Streaming",desc:"Spotify, Apple Music",specs:"44.1kHz / 16-bit / -14 LUFS"},{id:"youtube",label:"YouTube",desc:"Video platforms",specs:"48kHz / 16-bit / -14 LUFS"},{id:"cd",label:"CD Quality",desc:"Physical release",specs:"44.1kHz / 16-bit / -9 LUFS"},{id:"hires",label:"Hi-Res",desc:"Audiophile",specs:"96kHz / 24-bit / -14 LUFS"},{id:"podcast",label:"Podcast",desc:"Spoken word",specs:"44.1kHz / 16-bit / -16 LUFS"}].map(e=>o.jsxs("button",{onClick:()=>yi(e.id),style:{padding:"12px",background:hi===e.id?"linear-gradient(135deg, var(--color-purple), var(--color-cyan))":"rgba(255,255,255,0.05)",border:hi===e.id?"1px solid var(--color-purple)":"1px solid rgba(255,255,255,0.1)",borderRadius:"10px",cursor:"pointer",textAlign:"left"},children:[o.jsx("div",{style:{fontWeight:"600",color:"white",fontSize:"0.9rem"},children:e.label}),o.jsx("div",{style:{fontSize:"0.7rem",color:hi===e.id?"rgba(255,255,255,0.8)":"var(--text-secondary)"},children:e.desc}),o.jsx("div",{style:{fontSize:"0.65rem",color:"var(--color-cyan)",marginTop:"4px"},children:e.specs})]},e.id))})]}),o.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"10px",padding:"16px",marginBottom:"20px"},children:[o.jsx("div",{style:{fontSize:"0.75rem",color:"var(--text-secondary)",marginBottom:"10px"},children:"PLATFORM COMPATIBILITY"}),o.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:["Apple Music","Spotify","YouTube Music","Amazon Music","Tidal","Deezer"].map(e=>o.jsxs("span",{style:{padding:"4px 10px",background:"rgba(16, 185, 129, 0.2)",borderRadius:"12px",fontSize:"0.7rem",color:"#10b981",display:"flex",alignItems:"center",gap:"4px"},children:[o.jsx(je,{size:12})," ",e]},e))})]}),o.jsx("button",{onClick:async()=>{if(!xi?.audioUrl)return void n.error("No audio to export");mi(!0);const e=n.loading("Mastering audio...");try{const r=xi.audioUrl.split(",")[1],s=await fetch(`${t}/api/master-audio`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audioBase64:r,preset:hi})}),i=await s.json();if(!i.audioUrl)throw new Error(i.error||"Export failed - no audio URL returned");{const t=document.createElement("a");t.href=i.audioUrl,t.download=`${xi.title||"audio"}-mastered-${hi}.wav`,t.click(),n.success(`Exported for ${hi}!`,{id:e}),gi(null)}}catch(r){n.error("Export failed: "+(r.message||"Check your connection"),{id:e})}finally{mi(!1)}},disabled:ui,style:{width:"100%",padding:"14px",background:ui?"rgba(255,255,255,0.1)":"linear-gradient(135deg, var(--color-purple), var(--color-cyan))",border:"none",borderRadius:"10px",color:"white",fontWeight:"600",fontSize:"0.95rem",cursor:ui?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:ui?o.jsxs(o.Fragment,{children:[o.jsx(ie,{size:16,className:"spin"}),"Mastering..."]}):o.jsxs(o.Fragment,{children:[o.jsx(R,{size:16}),"Export & Download"]})})]})]})})]}):o.jsx("div",{className:`studio-container ${cr}-theme`,style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-primary)"},children:o.jsxs("div",{style:{textAlign:"center",maxWidth:"420px",padding:"40px",background:"var(--bg-secondary)",borderRadius:"16px",border:"1px solid rgba(139, 92, 246, 0.2)"},children:[o.jsx(g,{size:48,style:{color:"#a855f7",marginBottom:"16px"}}),o.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"8px",color:"var(--text-primary)"},children:"Welcome to Studio Agents"}),o.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"24px"},children:"Sign in to access your AI-powered creative studio"}),o.jsxs("form",{onSubmit:On,style:{marginBottom:"20px"},children:[o.jsx("input",{type:"email",placeholder:"Email address",value:Qt,onChange:e=>Kt(e.target.value),required:!0,style:{width:"100%",padding:"12px 16px",marginBottom:"12px",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.3)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"1rem",outline:"none",boxSizing:"border-box"}}),o.jsx("input",{type:"password",placeholder:"Password",value:Xt,onChange:e=>Zt(e.target.value),required:!0,minLength:6,style:{width:"100%",padding:"12px 16px",marginBottom:"12px",borderRadius:"8px",border:"1px solid rgba(139, 92, 246, 0.3)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"1rem",outline:"none",boxSizing:"border-box"}}),o.jsxs("button",{type:"submit",disabled:er,className:"btn-pill primary",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"8px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[o.jsx(u,{size:18}),er?"Please wait...":"signup"===Yt?"Create Account":"Sign In with Email"]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"16px"},children:[o.jsx("button",{type:"button",onClick:()=>Jt("signup"===Yt?"login":"signup"),style:{background:"transparent",border:"none",color:"#a855f7",cursor:"pointer",fontSize:"0.85rem"},children:"signup"===Yt?"Already have an account? Sign in":"Need an account? Sign up"}),"login"===Yt&&o.jsx("button",{type:"button",onClick:Mn,style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.85rem"},children:"Forgot password?"})]})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",margin:"16px 0",gap:"12px"},children:[o.jsx("div",{style:{flex:1,height:"1px",background:"rgba(139, 92, 246, 0.2)"}}),o.jsx("span",{style:{color:"var(--text-secondary)",fontSize:"0.85rem"},children:"or"}),o.jsx("div",{style:{flex:1,height:"1px",background:"rgba(139, 92, 246, 0.2)"}})]}),o.jsxs("button",{onClick:Ln,disabled:er,className:"btn-pill",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",background:"transparent",border:"1px solid rgba(139, 92, 246, 0.3)",color:"var(--text-primary)"},children:[o.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),er?"Signing in...":"Continue with Google"]}),o.jsx("button",{onClick:ho,className:"btn-pill",style:{padding:"12px 32px",fontSize:"1rem",width:"100%",marginBottom:"16px",background:"transparent",border:"1px solid rgba(139, 92, 246, 0.15)",color:"var(--text-secondary)"},children:"Continue as Guest (Limited Features)"}),o.jsx("button",{onClick:i,style:{background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:"0.9rem"},children:"â† Back to Home"})]})}):o.jsx("div",{className:`studio-container ${cr}-theme`,style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",background:"var(--bg-primary)"},children:o.jsxs("div",{style:{textAlign:"center"},children:[o.jsx("div",{style:{width:"40px",height:"40px",border:"3px solid rgba(168, 85, 247, 0.2)",borderTopColor:"#a855f7",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 16px"}}),o.jsx("p",{style:{color:"var(--text-secondary)"},children:"Loading Studio..."})]})})}},Symbol.toStringTag,{value:"Module"}));export{Rt as S,nt as a,lt as b,ot as f};
