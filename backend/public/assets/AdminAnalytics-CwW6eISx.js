import{r as e,j as t,z as i}from"./react-vendor-IsfVT3T0.js";import{aT as r,ai as s,U as n,Z as o,D as a,l,M as d,f as p,j as c,aU as x}from"./icons-CvE9mhwa.js";import"./vendor-hWrmgIvi.js";const g=({BACKEND_URL:g,auth:h})=>{const[m,b]=e.useState({totalUsers:1420,activeDAU:342,totalGenerations:12543,totalMRR:8420,conversionRate:4.2,churnRate:1.2,creditsUsed:42500,topAgents:[{name:"Ghostwriter",count:4231,growth:12},{name:"Beat Lab",count:3822,growth:8},{name:"Album Artist",count:2104,growth:15},{name:"Video Creator",count:1845,growth:22}],recentRegistrations:[{email:"user***@gmail.com",time:"2m ago",plan:"Pro"},{email:"artist***@yahoo.com",time:"15m ago",plan:"Creator"},{email:"prod***@studio.io",time:"42m ago",plan:"Pro"},{email:"vibe***@icloud.com",time:"1h ago",plan:"Free"}]}),[f,u]=e.useState(!1);e.useEffect(()=>{(async()=>{u(!0);try{const e=await(h?.currentUser?.getIdToken()),t=await fetch(`${g}/api/admin/stats`,{headers:{Authorization:`Bearer ${e}`}});if(t.ok){const e=await t.json();b(t=>({...t,...e}))}}catch(e){}finally{u(!1)}})()},[g,h]);const y=({title:e,value:i,icon:r,color:s,trend:n,unit:o=""})=>t.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"16px",padding:"24px",border:"1px solid rgba(255,255,255,0.06)",display:"flex",flexDirection:"column",gap:"12px",position:"relative",overflow:"hidden"},children:[t.jsx("div",{style:{position:"absolute",top:"-10%",right:"-10%",width:"80px",height:"80px",background:`${s}10`,borderRadius:"50%",filter:"blur(30px)",zIndex:0}}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",position:"relative",zIndex:1},children:[t.jsx("div",{style:{width:"42px",height:"42px",borderRadius:"12px",background:`${s}15`,display:"flex",alignItems:"center",justifyContent:"center",color:s},children:t.jsx(r,{size:20})}),n&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:n>0?"#10b981":"#ef4444",fontSize:"0.8rem",fontWeight:"700",background:n>0?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",padding:"4px 8px",borderRadius:"20px"},children:[t.jsx(c,{size:12,style:{transform:n<0?"rotate(180deg)":"none"}}),Math.abs(n),"%"]})]}),t.jsxs("div",{style:{position:"relative",zIndex:1},children:[t.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"rgba(255,255,255,0.5)",fontWeight:"500"},children:e}),t.jsxs("h2",{style:{margin:"4px 0 0",fontSize:"1.75rem",fontWeight:"800",color:"white"},children:[o,"number"==typeof i?i.toLocaleString():i]})]})]});return t.jsxs("div",{style:{padding:"24px",maxWidth:"1200px",margin:"0 auto",color:"white"},children:[t.jsxs("div",{style:{marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[t.jsxs("div",{children:[t.jsxs("h1",{style:{margin:0,fontSize:"2rem",fontWeight:"900",letterSpacing:"-0.02em",display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx(r,{size:32,color:"#8b5cf6"}),"Command Center"]}),t.jsx("p",{style:{margin:"4px 0 0",color:"rgba(255,255,255,0.5)"},children:"Real-time platform metrics & unit economics"})]}),t.jsxs("div",{style:{display:"flex",gap:"12px"},children:[t.jsxs("button",{onClick:()=>i.success("Analytics Updated"),style:{padding:"10px 16px",borderRadius:"10px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[t.jsx(s,{size:16})," Refresh"]}),t.jsx("button",{style:{padding:"10px 16px",borderRadius:"10px",background:"linear-gradient(135deg, #8b5cf6, #06b6d4)",border:"none",color:"white",fontSize:"0.85rem",fontWeight:"700",cursor:"pointer",boxShadow:"0 4px 15px rgba(139, 92, 246, 0.3)"},children:"Export Report"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"20px",marginBottom:"32px"},children:[t.jsx(y,{title:"Total Creators",value:m.totalUsers,icon:n,color:"#8b5cf6",trend:12}),t.jsx(y,{title:"AI Generations",value:m.totalGenerations,icon:o,color:"#06b6d4",trend:28}),t.jsx(y,{title:"Monthly Revenue",value:m.totalMRR,icon:a,color:"#10b981",trend:18,unit:"$"}),t.jsx(y,{title:"Conversion (LTV:CAC)",value:`${m.conversionRate}%`,icon:l,color:"#f59e0b",trend:5})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"24px"},children:[t.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"20px",padding:"24px",border:"1px solid rgba(255,255,255,0.06)"},children:[t.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:[t.jsx(d,{size:18,color:"#06b6d4"}),"Agent Performance (Usage)"]}),t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{color:"rgba(255,255,255,0.4)",fontSize:"0.75rem",textTransform:"uppercase",textAlign:"left",borderBottom:"1px solid rgba(255,255,255,0.06)"},children:[t.jsx("th",{style:{padding:"12px 0"},children:"Agent"}),t.jsx("th",{style:{padding:"12px 0"},children:"Total Calls"}),t.jsx("th",{style:{padding:"12px 0"},children:"Growth"}),t.jsx("th",{style:{padding:"12px 0"},children:"Status"})]})}),t.jsx("tbody",{children:m.topAgents.map((e,i)=>t.jsxs("tr",{style:{borderBottom:i===m.topAgents.length-1?"none":"1px solid rgba(255,255,255,0.03)"},children:[t.jsx("td",{style:{padding:"16px 0",fontWeight:"600"},children:e.name}),t.jsx("td",{style:{padding:"16px 0",color:"rgba(255,255,255,0.8)"},children:e.count.toLocaleString()}),t.jsxs("td",{style:{padding:"16px 0",color:"#10b981"},children:["+",e.growth,"%"]}),t.jsx("td",{style:{padding:"16px 0"},children:t.jsx("span",{style:{padding:"4px 8px",borderRadius:"6px",background:"rgba(16, 185, 129, 0.1)",color:"#10b981",fontSize:"0.7rem",fontWeight:"700"},children:"ACTIVE"})})]},i))})]})]}),t.jsxs("div",{style:{background:"rgba(255,255,255,0.03)",borderRadius:"20px",padding:"24px",border:"1px solid rgba(255,255,255,0.06)"},children:[t.jsxs("h3",{style:{margin:"0 0 20px",fontSize:"1.1rem",fontWeight:"700",display:"flex",alignItems:"center",gap:"10px"},children:[t.jsx(p,{size:18,color:"#8b5cf6"}),"Live Feed"]}),t.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:m.recentRegistrations.map((e,i)=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.85rem",fontWeight:"600"},children:e.email}),t.jsxs("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)"},children:["Joined ",e.time]})]}),t.jsx("div",{style:{fontSize:"0.7rem",fontWeight:"800",color:"Pro"===e.plan?"#a855f7":"Creator"===e.plan?"#06b6d4":"rgba(255,255,255,0.4)",padding:"4px 8px",borderRadius:"6px",background:"rgba(255,255,255,0.03)",border:"1px solid rgba(255,255,255,0.06)"},children:e.plan.toUpperCase()})]},i))}),t.jsx("button",{style:{width:"100%",marginTop:"24px",padding:"12px",borderRadius:"12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",color:"white",fontSize:"0.85rem",fontWeight:"600",cursor:"pointer"},children:"View All Users"})]})]}),t.jsxs("div",{style:{marginTop:"32px",padding:"24px",borderRadius:"20px",background:"linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(6, 182, 212, 0.05))",border:"1px solid rgba(168, 85, 247, 0.1)"},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[t.jsxs("div",{children:[t.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"800"},children:"Unit Economics Audit"}),t.jsx("p",{style:{margin:"4px 0 0",fontSize:"0.85rem",color:"rgba(255,255,255,0.5)"},children:"Calculated against current API costs (Gemini/Stability/Replicate)"})]}),t.jsxs("div",{style:{textAlign:"right"},children:[t.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.4)",textTransform:"uppercase"},children:"Healthy LTV:CAC"}),t.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"900",color:"#10b981"},children:"12.4x"})]})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:[{label:"Avg Cost / Gen",value:"$0.042",icon:s},{label:"Avg Monthly Spend / User",value:"$2.15",icon:c},{label:"Gross Margin",value:"88.4%",icon:x},{label:"Customer Payback Period",icon:p,value:"1.4 Months"}].map((e,i)=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[t.jsx("div",{style:{color:"rgba(255,255,255,0.3)"},children:t.jsx(e.icon,{size:20})}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255,255,255,0.5)"},children:e.label}),t.jsx("div",{style:{fontSize:"1rem",fontWeight:"700"},children:e.value})]})]},i))})]})]})};export{g as default};
